/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */
/*
 * Includes TraceKit
 * https://github.com/getsentry/TraceKit
 * MIT License
 *
 * Copyright 2014 Matt Robenolt and other contributors
 * Released under the BSD license
 * https://github.com/getsentry/raven-js/blob/master/LICENSE
 *
Copyright (c) 2014 Matt Robenolt and other contributors
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice,
  this list of conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation and/or other materials
  provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/*------------------------------
https://github.com/caolan/async
MIT License
Copyright (c) 2010 Caolan McMahon
*/

/*------------------------------
http://backbonejs.org/
MIT License
Copyright (c) 2010-2012 Jeremy Ashkenas, DocumentCloud
*/

/*------------------------------
http://underscorejs.org/
MIT License
Copyright (c) 2009-2012 Jeremy Ashkenas, DocumentCloud
*/

/*------------------------------
http://handlebarsjs.com/
MIT License
Copyright (C) 2011 by Yehuda Katz
*/

/*------------------------------
https://github.com/marcuswestin/store.js/

Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

The MIT License (MIT)
Copyright (c) 2010-2013 Marcus Westin
*/

/*------------------------------
Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

http://zeptojs.com
MIT License
Copyright (c) 2010-2012 Thomas Fuchs
*/

/*------------------------------
fastclick
Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software.
 
MIT License
The Financial Times Limited [All Rights Reserved]
*/

/*------------------------------
sugarapi.js
pull-to-refresh.js
(c) SugarCRM Inc.
*/

/*------------------------------
MIT License
Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/

/**
 * ScrollFix v0.1
 * http://www.joelambert.co.uk
 *
 * Copyright 2011, Joe Lambert.
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */

/*------------------------------
https://code.google.com/p/jsjpegmeta/
MIT License
Copyright (c) 2009 Ben Leslie
*/

/*------------------------------
https://github.com/stomita/ios-imagefile-megapixel
MIT License
Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>
*/

/*********************************************************************************
Zynga Scroller
https://github.com/zynga/scroller

Copyright (c) 2011 Zynga Inc., http://zynga.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
********************************************************************************/

/*------------------------------
 moment.js
 Copyright (c) 2011-2013 Tim Wood, Iskren Chernev, Moment.js contributors
 MIT License
*/

/* https://github.com/jasny/jquery.smartbanner

Modifications made by SugarCRM Inc. (c) 2014. These modifications are subject to the same terms as the MIT.
For information on the full license terms or related notices, go to http://www.sugarcrm.com/third-party-software. 

Copyright (c) Arnold Daniels <arnold@jasny.net>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is furnished
to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/


/*
##nvd3.js License

Copyright (c) 2011, 2012 [Novus Partners, Inc.][novus]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

[novus]: https://www.novus.com/



##d3.js License

Copyright (c) 2012, Michael Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* The name Michael Bostock may not be used to endorse or promote products
  derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*------------------------------
http://www.idangero.us/swiper
MIT License
Copyright (c) 2014 Vladimir Kharlampidi
*/

/*
 * Your installation or use of this SugarCRM file is subject to the applicable
 * terms available at
 * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.
 * If you do not agree to all of the applicable terms or do not have the
 * authority to bind the entity as an authorized representative, then do not
 * install or use this SugarCRM file.
 *
 * Copyright (C) SugarCRM Inc. All rights reserved.
 */

/*Copyright (c) 2008, ZETETIC LLC
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of the ZETETIC LLC nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY ZETETIC LLC ''AS IS'' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL ZETETIC LLC BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

(function(e){var t={};function n(i){if(t[i]){return t[i].exports}var a=t[i]={i:i,l:false,exports:{}};e[i].call(a.exports,a,a.exports,n);a.l=true;return a.exports}n.m=e;n.c=t;n.i=function(e){return e};n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:i})}};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=607)})([function(e,t){e.exports=Handlebars},function(e,t,n){(function(e){var t;(function(t,n){true?e.exports=n():typeof define==="function"&&define.amd?define(n):t.moment=n()})(this,function(){"use strict";var i;function a(){return i.apply(null,arguments)}function r(e){i=e}function s(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function o(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function l(e){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(e).length===0}else{var t;for(t in e){if(e.hasOwnProperty(t)){return false}}return true}}function u(e){return e===void 0}function c(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function d(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function f(e,t){var n=[],i;for(i=0;i<e.length;++i){n.push(t(e[i],i))}return n}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var n in t){if(h(t,n)){e[n]=t[n]}}if(h(t,"toString")){e.toString=t.toString}if(h(t,"valueOf")){e.valueOf=t.valueOf}return e}function m(e,t,n,i){return Wn(e,t,n,i,true).utc()}function _(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function g(e){if(e._pf==null){e._pf=_()}return e._pf}var v;if(Array.prototype.some){v=Array.prototype.some}else{v=function(e){var t=Object(this);var n=t.length>>>0;for(var i=0;i<n;i++){if(i in t&&e.call(this,t[i],i,t)){return true}}return false}}function b(e){if(e._isValid==null){var t=g(e);var n=v.call(t.parsedDateParts,function(e){return e!=null});var i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict){i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=i}else{return i}}return e._isValid}function y(e){var t=m(NaN);if(e!=null){p(g(t),e)}else{g(t).userInvalidated=true}return t}var x=a.momentProperties=[];function S(e,t){var n,i,a;if(!u(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!u(t._i)){e._i=t._i}if(!u(t._f)){e._f=t._f}if(!u(t._l)){e._l=t._l}if(!u(t._strict)){e._strict=t._strict}if(!u(t._tzm)){e._tzm=t._tzm}if(!u(t._isUTC)){e._isUTC=t._isUTC}if(!u(t._offset)){e._offset=t._offset}if(!u(t._pf)){e._pf=g(t)}if(!u(t._locale)){e._locale=t._locale}if(x.length>0){for(n=0;n<x.length;n++){i=x[n];a=t[i];if(!u(a)){e[i]=a}}}return e}var w=false;function L(e){S(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(w===false){w=true;a.updateOffset(this);w=false}}function E(e){return e instanceof L||e!=null&&e._isAMomentObject!=null}function M(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function k(e){var t=+e,n=0;if(t!==0&&isFinite(t)){n=M(t)}return n}function A(e,t,n){var i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),r=0,s;for(s=0;s<i;s++){if(n&&e[s]!==t[s]||!n&&k(e[s])!==k(t[s])){r++}}return r+a}function T(e){if(a.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function C(e,t){var n=true;return p(function(){if(a.deprecationHandler!=null){a.deprecationHandler(null,e)}if(n){var i=[];var r;for(var s=0;s<arguments.length;s++){r="";if(typeof arguments[s]==="object"){r+="\n["+s+"] ";for(var o in arguments[0]){r+=o+": "+arguments[0][o]+", "}r=r.slice(0,-2)}else{r=arguments[s]}i.push(r)}T(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack);n=false}return t.apply(this,arguments)},t)}var D={};function R(e,t){if(a.deprecationHandler!=null){a.deprecationHandler(e,t)}if(!D[e]){T(t);D[e]=true}}a.suppressDeprecationWarnings=false;a.deprecationHandler=null;function O(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function I(e){var t,n;for(n in e){t=e[n];if(O(t)){this[n]=t}else{this["_"+n]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function F(e,t){var n=p({},e),i;for(i in t){if(h(t,i)){if(o(e[i])&&o(t[i])){n[i]={};p(n[i],e[i]);p(n[i],t[i])}else if(t[i]!=null){n[i]=t[i]}else{delete n[i]}}}for(i in e){if(h(e,i)&&!h(t,i)&&o(e[i])){n[i]=p({},n[i])}}return n}function N(e){if(e!=null){this.set(e)}}var B;if(Object.keys){B=Object.keys}else{B=function(e){var t,n=[];for(t in e){if(h(e,t)){n.push(t)}}return n}}var U={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var i=this._calendar[e]||this._calendar["sameElse"];return O(i)?i.call(t,n):i}var Y={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];if(t||!n){return t}this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var G="Invalid date";function V(){return this._invalidDate}var j="%d";var z=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function W(e,t,n,i){var a=this._relativeTime[n];return O(a)?a(e,t,n,i):a.replace(/%d/i,e)}function K(e,t){var n=this._relativeTime[e>0?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)}var J={};function X(e,t){var n=e.toLowerCase();J[n]=J[n+"s"]=J[t]=e}function Z(e){return typeof e==="string"?J[e]||J[e.toLowerCase()]:undefined}function Q(e){var t={},n,i;for(i in e){if(h(e,i)){n=Z(i);if(n){t[n]=e[i]}}}return t}var ee={};function te(e,t){ee[e]=t}function ne(e){var t=[];for(var n in e){t.push({unit:n,priority:ee[n]})}t.sort(function(e,t){return e.priority-t.priority});return t}function ie(e,t,n){var i=""+Math.abs(e),a=t-i.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var ae=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var se={};var oe={};function le(e,t,n,i){var a=i;if(typeof i==="string"){a=function(){return this[i]()}}if(e){oe[e]=a}if(t){oe[t[0]]=function(){return ie(a.apply(this,arguments),t[1],t[2])}}if(n){oe[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)}}}function ue(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function ce(e){var t=e.match(ae),n,i;for(n=0,i=t.length;n<i;n++){if(oe[t[n]]){t[n]=oe[t[n]]}else{t[n]=ue(t[n])}}return function(n){var a="",r;for(r=0;r<i;r++){a+=O(t[r])?t[r].call(n,e):t[r]}return a}}function de(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=fe(t,e.localeData());se[t]=se[t]||ce(t);return se[t](e)}function fe(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}re.lastIndex=0;while(n>=0&&re.test(e)){e=e.replace(re,i);re.lastIndex=0;n-=1}return e}var he=/\d/;var pe=/\d\d/;var me=/\d{3}/;var _e=/\d{4}/;var ge=/[+-]?\d{6}/;var ve=/\d\d?/;var be=/\d\d\d\d?/;var ye=/\d\d\d\d\d\d?/;var xe=/\d{1,3}/;var Se=/\d{1,4}/;var we=/[+-]?\d{1,6}/;var Le=/\d+/;var Ee=/[+-]?\d+/;var Me=/Z|[+-]\d\d:?\d\d/gi;var ke=/Z|[+-]\d\d(?::?\d\d)?/gi;var Ae=/[+-]?\d+(\.\d{1,3})?/;var Te=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Ce={};function De(e,t,n){Ce[e]=O(t)?t:function(e,i){return e&&n?n:t}}function Re(e,t){if(!h(Ce,e)){return new RegExp(Oe(e))}return Ce[e](t._strict,t._locale)}function Oe(e){return Ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function Ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Fe={};function Ne(e,t){var n,i=t;if(typeof e==="string"){e=[e]}if(c(t)){i=function(e,n){n[t]=k(e)}}for(n=0;n<e.length;n++){Fe[e[n]]=i}}function Be(e,t){Ne(e,function(e,n,i,a){i._w=i._w||{};t(e,i._w,i,a)})}function Ue(e,t,n){if(t!=null&&h(Fe,e)){Fe[e](t,n._a,n,e)}}var Pe=0;var Ye=1;var He=2;var Ge=3;var Ve=4;var je=5;var ze=6;var $e=7;var qe=8;le("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e});le(0,["YY",2],0,function(){return this.year()%100});le(0,["YYYY",4],0,"year");le(0,["YYYYY",5],0,"year");le(0,["YYYYYY",6,true],0,"year");X("year","y");te("year",1);De("Y",Ee);De("YY",ve,pe);De("YYYY",Se,_e);De("YYYYY",we,ge);De("YYYYYY",we,ge);Ne(["YYYYY","YYYYYY"],Pe);Ne("YYYY",function(e,t){t[Pe]=e.length===2?a.parseTwoDigitYear(e):k(e)});Ne("YY",function(e,t){t[Pe]=a.parseTwoDigitYear(e)});Ne("Y",function(e,t){t[Pe]=parseInt(e,10)});function We(e){return Ke(e)?366:365}function Ke(e){return e%4===0&&e%100!==0||e%400===0}a.parseTwoDigitYear=function(e){return k(e)+(k(e)>68?1900:2e3)};var Je=Ze("FullYear",true);function Xe(){return Ke(this.year())}function Ze(e,t){return function(n){if(n!=null){et(this,e,n);a.updateOffset(this,t);return this}else{return Qe(this,e)}}}function Qe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function et(e,t,n){if(e.isValid()&&!isNaN(n)){if(t==="FullYear"&&Ke(e.year())&&e.month()===1&&e.date()===29){e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),rt(n,e.month()))}else{e._d["set"+(e._isUTC?"UTC":"")+t](n)}}}function tt(e){e=Z(e);if(O(this[e])){return this[e]()}return this}function nt(e,t){if(typeof e==="object"){e=Q(e);var n=ne(e);for(var i=0;i<n.length;i++){this[n[i].unit](e[n[i].unit])}}else{e=Z(e);if(O(this[e])){return this[e](t)}}return this}function it(e,t){return(e%t+t)%t}var at;if(Array.prototype.indexOf){at=Array.prototype.indexOf}else{at=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}function rt(e,t){if(isNaN(e)||isNaN(t)){return NaN}var n=it(t,12);e+=(t-n)/12;return n===1?Ke(e)?29:28:31-n%7%2}le("M",["MM",2],"Mo",function(){return this.month()+1});le("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});le("MMMM",0,0,function(e){return this.localeData().months(this,e)});X("month","M");te("month",8);De("M",ve);De("MM",ve,pe);De("MMM",function(e,t){return t.monthsShortRegex(e)});De("MMMM",function(e,t){return t.monthsRegex(e)});Ne(["M","MM"],function(e,t){t[Ye]=k(e)-1});Ne(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);if(a!=null){t[Ye]=a}else{g(n).invalidMonth=e}});var st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function lt(e,t){if(!e){return s(this._months)?this._months:this._months["standalone"]}return s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]}var ut="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function ct(e,t){if(!e){return s(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]}function dt(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(i=0;i<12;++i){r=m([2e3,i]);this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase();this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase()}}if(n){if(t==="MMM"){a=at.call(this._shortMonthsParse,s);return a!==-1?a:null}else{a=at.call(this._longMonthsParse,s);return a!==-1?a:null}}else{if(t==="MMM"){a=at.call(this._shortMonthsParse,s);if(a!==-1){return a}a=at.call(this._longMonthsParse,s);return a!==-1?a:null}else{a=at.call(this._longMonthsParse,s);if(a!==-1){return a}a=at.call(this._shortMonthsParse,s);return a!==-1?a:null}}}function ft(e,t,n){var i,a,r;if(this._monthsParseExact){return dt.call(this,e,t,n)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){a=m([2e3,i]);if(n&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i");this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")}if(!n&&!this._monthsParse[i]){r="^"+this.months(a,"")+"|^"+this.monthsShort(a,"");this._monthsParse[i]=new RegExp(r.replace(".",""),"i")}if(n&&t==="MMMM"&&this._longMonthsParse[i].test(e)){return i}else if(n&&t==="MMM"&&this._shortMonthsParse[i].test(e)){return i}else if(!n&&this._monthsParse[i].test(e)){return i}}}function ht(e,t){var n;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=k(t)}else{t=e.localeData().monthsParse(t);if(!c(t)){return e}}}n=Math.min(e.date(),rt(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n);return e}function pt(e){if(e!=null){ht(this,e);a.updateOffset(this,true);return this}else{return Qe(this,"Month")}}function mt(){return rt(this.year(),this.month())}var _t=Te;function gt(e){if(this._monthsParseExact){if(!h(this,"_monthsRegex")){yt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!h(this,"_monthsShortRegex")){this._monthsShortRegex=_t}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var vt=Te;function bt(e){if(this._monthsParseExact){if(!h(this,"_monthsRegex")){yt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!h(this,"_monthsRegex")){this._monthsRegex=vt}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function yt(){function e(e,t){return t.length-e.length}var t=[],n=[],i=[],a,r;for(a=0;a<12;a++){r=m([2e3,a]);t.push(this.monthsShort(r,""));n.push(this.months(r,""));i.push(this.months(r,""));i.push(this.monthsShort(r,""))}t.sort(e);n.sort(e);i.sort(e);for(a=0;a<12;a++){t[a]=Ie(t[a]);n[a]=Ie(n[a])}for(a=0;a<24;a++){i[a]=Ie(i[a])}this._monthsRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function xt(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);if(e<100&&e>=0&&isFinite(o.getFullYear())){o.setFullYear(e)}return o}function St(e){var t=new Date(Date.UTC.apply(null,arguments));if(e<100&&e>=0&&isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}return t}function wt(e,t,n){var i=7+t-n,a=(7+St(e,0,i).getUTCDay()-t)%7;return-a+i-1}function Lt(e,t,n,i,a){var r=(7+n-i)%7,s=wt(e,i,a),o=1+7*(t-1)+r+s,l,u;if(o<=0){l=e-1;u=We(l)+o}else if(o>We(e)){l=e+1;u=o-We(e)}else{l=e;u=o}return{year:l,dayOfYear:u}}function Et(e,t,n){var i=wt(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1,r,s;if(a<1){s=e.year()-1;r=a+Mt(s,t,n)}else if(a>Mt(e.year(),t,n)){r=a-Mt(e.year(),t,n);s=e.year()+1}else{s=e.year();r=a}return{week:r,year:s}}function Mt(e,t,n){var i=wt(e,t,n),a=wt(e+1,t,n);return(We(e)-i+a)/7}le("w",["ww",2],"wo","week");le("W",["WW",2],"Wo","isoWeek");X("week","w");X("isoWeek","W");te("week",5);te("isoWeek",5);De("w",ve);De("ww",ve,pe);De("W",ve);De("WW",ve,pe);Be(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=k(e)});function kt(e){return Et(e,this._week.dow,this._week.doy).week}var At={dow:0,doy:6};function Tt(){return this._week.dow}function Ct(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Rt(e){var t=Et(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}le("d",0,"do","day");le("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});le("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});le("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});le("e",0,0,"weekday");le("E",0,0,"isoWeekday");X("day","d");X("weekday","e");X("isoWeekday","E");te("day",11);te("weekday",11);te("isoWeekday",11);De("d",ve);De("e",ve);De("E",ve);De("dd",function(e,t){return t.weekdaysMinRegex(e)});De("ddd",function(e,t){return t.weekdaysShortRegex(e)});De("dddd",function(e,t){return t.weekdaysRegex(e)});Be(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);if(a!=null){t.d=a}else{g(n).invalidWeekday=e}});Be(["d","e","E"],function(e,t,n,i){t[i]=k(e)});function Ot(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function It(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}var Ft="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Nt(e,t){if(!e){return s(this._weekdays)?this._weekdays:this._weekdays["standalone"]}return s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}var Bt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Ut(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}var Pt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Yt(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ht(e,t,n){var i,a,r,s=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(i=0;i<7;++i){r=m([2e3,1]).day(i);this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase();this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase();this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase()}}if(n){if(t==="dddd"){a=at.call(this._weekdaysParse,s);return a!==-1?a:null}else if(t==="ddd"){a=at.call(this._shortWeekdaysParse,s);return a!==-1?a:null}else{a=at.call(this._minWeekdaysParse,s);return a!==-1?a:null}}else{if(t==="dddd"){a=at.call(this._weekdaysParse,s);if(a!==-1){return a}a=at.call(this._shortWeekdaysParse,s);if(a!==-1){return a}a=at.call(this._minWeekdaysParse,s);return a!==-1?a:null}else if(t==="ddd"){a=at.call(this._shortWeekdaysParse,s);if(a!==-1){return a}a=at.call(this._weekdaysParse,s);if(a!==-1){return a}a=at.call(this._minWeekdaysParse,s);return a!==-1?a:null}else{a=at.call(this._minWeekdaysParse,s);if(a!==-1){return a}a=at.call(this._weekdaysParse,s);if(a!==-1){return a}a=at.call(this._shortWeekdaysParse,s);return a!==-1?a:null}}}function Gt(e,t,n){var i,a,r;if(this._weekdaysParseExact){return Ht.call(this,e,t,n)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(i=0;i<7;i++){a=m([2e3,1]).day(i);if(n&&!this._fullWeekdaysParse[i]){this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i");this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[i]){r="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,"");this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")}if(n&&t==="dddd"&&this._fullWeekdaysParse[i].test(e)){return i}else if(n&&t==="ddd"&&this._shortWeekdaysParse[i].test(e)){return i}else if(n&&t==="dd"&&this._minWeekdaysParse[i].test(e)){return i}else if(!n&&this._weekdaysParse[i].test(e)){return i}}}function Vt(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=Ot(e,this.localeData());return this.add(e-t,"d")}else{return t}}function jt(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function zt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var $t=Te;function qt(e){if(this._weekdaysParseExact){if(!h(this,"_weekdaysRegex")){Zt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!h(this,"_weekdaysRegex")){this._weekdaysRegex=$t}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var Wt=Te;function Kt(e){if(this._weekdaysParseExact){if(!h(this,"_weekdaysRegex")){Zt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!h(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=Wt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var Jt=Te;function Xt(e){if(this._weekdaysParseExact){if(!h(this,"_weekdaysRegex")){Zt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!h(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=Jt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Zt(){function e(e,t){return t.length-e.length}var t=[],n=[],i=[],a=[],r,s,o,l,u;for(r=0;r<7;r++){s=m([2e3,1]).day(r);o=this.weekdaysMin(s,"");l=this.weekdaysShort(s,"");u=this.weekdays(s,"");t.push(o);n.push(l);i.push(u);a.push(o);a.push(l);a.push(u)}t.sort(e);n.sort(e);i.sort(e);a.sort(e);for(r=0;r<7;r++){n[r]=Ie(n[r]);i[r]=Ie(i[r]);a[r]=Ie(a[r])}this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Qt(){return this.hours()%12||12}function en(){return this.hours()||24}le("H",["HH",2],0,"hour");le("h",["hh",2],0,Qt);le("k",["kk",2],0,en);le("hmm",0,0,function(){return""+Qt.apply(this)+ie(this.minutes(),2)});le("hmmss",0,0,function(){return""+Qt.apply(this)+ie(this.minutes(),2)+ie(this.seconds(),2)});le("Hmm",0,0,function(){return""+this.hours()+ie(this.minutes(),2)});le("Hmmss",0,0,function(){return""+this.hours()+ie(this.minutes(),2)+ie(this.seconds(),2)});function tn(e,t){le(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}tn("a",true);tn("A",false);X("hour","h");te("hour",13);function nn(e,t){return t._meridiemParse}De("a",nn);De("A",nn);De("H",ve);De("h",ve);De("k",ve);De("HH",ve,pe);De("hh",ve,pe);De("kk",ve,pe);De("hmm",be);De("hmmss",ye);De("Hmm",be);De("Hmmss",ye);Ne(["H","HH"],Ge);Ne(["k","kk"],function(e,t,n){var i=k(e);t[Ge]=i===24?0:i});Ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e);n._meridiem=e});Ne(["h","hh"],function(e,t,n){t[Ge]=k(e);g(n).bigHour=true});Ne("hmm",function(e,t,n){var i=e.length-2;t[Ge]=k(e.substr(0,i));t[Ve]=k(e.substr(i));g(n).bigHour=true});Ne("hmmss",function(e,t,n){var i=e.length-4;var a=e.length-2;t[Ge]=k(e.substr(0,i));t[Ve]=k(e.substr(i,2));t[je]=k(e.substr(a));g(n).bigHour=true});Ne("Hmm",function(e,t,n){var i=e.length-2;t[Ge]=k(e.substr(0,i));t[Ve]=k(e.substr(i))});Ne("Hmmss",function(e,t,n){var i=e.length-4;var a=e.length-2;t[Ge]=k(e.substr(0,i));t[Ve]=k(e.substr(i,2));t[je]=k(e.substr(a))});function an(e){return(e+"").toLowerCase().charAt(0)==="p"}var rn=/[ap]\.?m?\.?/i;function sn(e,t,n){if(e>11){return n?"pm":"PM"}else{return n?"am":"AM"}}var on=Ze("Hours",true);var ln={calendar:U,longDateFormat:Y,invalidDate:G,ordinal:j,dayOfMonthOrdinalParse:z,relativeTime:q,months:ot,monthsShort:ut,week:At,weekdays:Ft,weekdaysMin:Pt,weekdaysShort:Bt,meridiemParse:rn};var un={};var cn={};var dn;function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){var t=0,n,i,a,r;while(t<e.length){r=fn(e[t]).split("-");n=r.length;i=fn(e[t+1]);i=i?i.split("-"):null;while(n>0){a=pn(r.slice(0,n).join("-"));if(a){return a}if(i&&i.length>=n&&A(r,i,true)>=n-1){break}n--}t++}return null}function pn(i){var a=null;if(!un[i]&&typeof e!=="undefined"&&e&&e.exports){try{a=dn._abbr;var r=t;n(590)("./"+i);mn(a)}catch(e){}}return un[i]}function mn(e,t){var n;if(e){if(u(t)){n=vn(e)}else{n=_n(e,t)}if(n){dn=n}}return dn._abbr}function _n(e,t){if(t!==null){var n=ln;t.abbr=e;if(un[e]!=null){R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");n=un[e]._config}else if(t.parentLocale!=null){if(un[t.parentLocale]!=null){n=un[t.parentLocale]._config}else{if(!cn[t.parentLocale]){cn[t.parentLocale]=[]}cn[t.parentLocale].push({name:e,config:t});return null}}un[e]=new N(F(n,t));if(cn[e]){cn[e].forEach(function(e){_n(e.name,e.config)})}mn(e);return un[e]}else{delete un[e];return null}}function gn(e,t){if(t!=null){var n,i,a=ln;i=pn(e);if(i!=null){a=i._config}t=F(a,t);n=new N(t);n.parentLocale=un[e];un[e]=n;mn(e)}else{if(un[e]!=null){if(un[e].parentLocale!=null){un[e]=un[e].parentLocale}else if(un[e]!=null){delete un[e]}}}return un[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return dn}if(!s(e)){t=pn(e);if(t){return t}e=[e]}return hn(e)}function bn(){return B(un)}function yn(e){var t;var n=e._a;if(n&&g(e).overflow===-2){t=n[Ye]<0||n[Ye]>11?Ye:n[He]<1||n[He]>rt(n[Pe],n[Ye])?He:n[Ge]<0||n[Ge]>24||n[Ge]===24&&(n[Ve]!==0||n[je]!==0||n[ze]!==0)?Ge:n[Ve]<0||n[Ve]>59?Ve:n[je]<0||n[je]>59?je:n[ze]<0||n[ze]>999?ze:-1;if(g(e)._overflowDayOfYear&&(t<Pe||t>He)){t=He}if(g(e)._overflowWeeks&&t===-1){t=$e}if(g(e)._overflowWeekday&&t===-1){t=qe}g(e).overflow=t}return e}function xn(e,t,n){if(e!=null){return e}if(t!=null){return t}return n}function Sn(e){var t=new Date(a.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function wn(e){var t,n,i=[],a,r;if(e._d){return}a=Sn(e);if(e._w&&e._a[He]==null&&e._a[Ye]==null){Ln(e)}if(e._dayOfYear!=null){r=xn(e._a[Pe],a[Pe]);if(e._dayOfYear>We(r)||e._dayOfYear===0){g(e)._overflowDayOfYear=true}n=St(r,0,e._dayOfYear);e._a[Ye]=n.getUTCMonth();e._a[He]=n.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=i[t]=a[t]}for(;t<7;t++){e._a[t]=i[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[Ge]===24&&e._a[Ve]===0&&e._a[je]===0&&e._a[ze]===0){e._nextDay=true;e._a[Ge]=0}e._d=(e._useUTC?St:xt).apply(null,i);if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[Ge]=24}if(e._w&&typeof e._w.d!=="undefined"&&e._w.d!==e._d.getDay()){g(e).weekdayMismatch=true}}function Ln(e){var t,n,i,a,r,s,o,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){r=1;s=4;n=xn(t.GG,e._a[Pe],Et(Kn(),1,4).year);i=xn(t.W,1);a=xn(t.E,1);if(a<1||a>7){l=true}}else{r=e._locale._week.dow;s=e._locale._week.doy;var u=Et(Kn(),r,s);n=xn(t.gg,e._a[Pe],u.year);i=xn(t.w,u.week);if(t.d!=null){a=t.d;if(a<0||a>6){l=true}}else if(t.e!=null){a=t.e+r;if(t.e<0||t.e>6){l=true}}else{a=r}}if(i<1||i>Mt(n,r,s)){g(e)._overflowWeeks=true}else if(l!=null){g(e)._overflowWeekday=true}else{o=Lt(n,i,a,r,s);e._a[Pe]=o.year;e._dayOfYear=o.dayOfYear}}var En=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var Mn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var kn=/Z|[+-]\d\d(?::?\d\d)?/;var An=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var Tn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Cn=/^\/?Date\((\-?\d+)/i;function Dn(e){var t,n,i=e._i,a=En.exec(i)||Mn.exec(i),r,s,o,l;if(a){g(e).iso=true;for(t=0,n=An.length;t<n;t++){if(An[t][1].exec(a[1])){s=An[t][0];r=An[t][2]!==false;break}}if(s==null){e._isValid=false;return}if(a[3]){for(t=0,n=Tn.length;t<n;t++){if(Tn[t][1].exec(a[3])){o=(a[2]||" ")+Tn[t][0];break}}if(o==null){e._isValid=false;return}}if(!r&&o!=null){e._isValid=false;return}if(a[4]){if(kn.exec(a[4])){l="Z"}else{e._isValid=false;return}}e._f=s+(o||"")+(l||"");Hn(e)}else{e._isValid=false}}var Rn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function On(e,t,n,i,a,r){var s=[In(e),ut.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(a,10)];if(r){s.push(parseInt(r,10))}return s}function In(e){var t=parseInt(e,10);if(t<=49){return 2e3+t}else if(t<=999){return 1900+t}return t}function Fn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Nn(e,t,n){if(e){var i=Bt.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(i!==a){g(n).weekdayMismatch=true;n._isValid=false;return false}}return true}var Bn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Un(e,t,n){if(e){return Bn[e]}else if(t){return 0}else{var i=parseInt(n,10);var a=i%100,r=(i-a)/100;return r*60+a}}function Pn(e){var t=Rn.exec(Fn(e._i));if(t){var n=On(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Nn(t[1],n,e)){return}e._a=n;e._tzm=Un(t[8],t[9],t[10]);e._d=St.apply(null,e._a);e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm);g(e).rfc2822=true}else{e._isValid=false}}function Yn(e){var t=Cn.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}Dn(e);if(e._isValid===false){delete e._isValid}else{return}Pn(e);if(e._isValid===false){delete e._isValid}else{return}a.createFromInputFallback(e)}a.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});a.ISO_8601=function(){};a.RFC_2822=function(){};function Hn(e){if(e._f===a.ISO_8601){Dn(e);return}if(e._f===a.RFC_2822){Pn(e);return}e._a=[];g(e).empty=true;var t=""+e._i,n,i,r,s,o,l=t.length,u=0;r=fe(e._f,e._locale).match(ae)||[];for(n=0;n<r.length;n++){s=r[n];i=(t.match(Re(s,e))||[])[0];if(i){o=t.substr(0,t.indexOf(i));if(o.length>0){g(e).unusedInput.push(o)}t=t.slice(t.indexOf(i)+i.length);u+=i.length}if(oe[s]){if(i){g(e).empty=false}else{g(e).unusedTokens.push(s)}Ue(s,i,e)}else if(e._strict&&!i){g(e).unusedTokens.push(s)}}g(e).charsLeftOver=l-u;if(t.length>0){g(e).unusedInput.push(t)}if(e._a[Ge]<=12&&g(e).bigHour===true&&e._a[Ge]>0){g(e).bigHour=undefined}g(e).parsedDateParts=e._a.slice(0);g(e).meridiem=e._meridiem;e._a[Ge]=Gn(e._locale,e._a[Ge],e._meridiem);wn(e);yn(e)}function Gn(e,t,n){var i;if(n==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,n)}else if(e.isPM!=null){i=e.isPM(n);if(i&&t<12){t+=12}if(!i&&t===12){t=0}return t}else{return t}}function Vn(e){var t,n,i,a,r;if(e._f.length===0){g(e).invalidFormat=true;e._d=new Date(NaN);return}for(a=0;a<e._f.length;a++){r=0;t=S({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[a];Hn(t);if(!b(t)){continue}r+=g(t).charsLeftOver;r+=g(t).unusedTokens.length*10;g(t).score=r;if(i==null||r<i){i=r;n=t}}p(e,n||t)}function jn(e){if(e._d){return}var t=Q(e._i);e._a=f([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});wn(e)}function zn(e){var t=new L(yn($n(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function $n(e){var t=e._i,n=e._f;e._locale=e._locale||vn(e._l);if(t===null||n===undefined&&t===""){return y({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(E(t)){return new L(yn(t))}else if(d(t)){e._d=t}else if(s(n)){Vn(e)}else if(n){Hn(e)}else{qn(e)}if(!b(e)){e._d=null}return e}function qn(e){var t=e._i;if(u(t)){e._d=new Date(a.now())}else if(d(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){Yn(e)}else if(s(t)){e._a=f(t.slice(0),function(e){return parseInt(e,10)});wn(e)}else if(o(t)){jn(e)}else if(c(t)){e._d=new Date(t)}else{a.createFromInputFallback(e)}}function Wn(e,t,n,i,a){var r={};if(n===true||n===false){i=n;n=undefined}if(o(e)&&l(e)||s(e)&&e.length===0){e=undefined}r._isAMomentObject=true;r._useUTC=r._isUTC=a;r._l=n;r._i=e;r._f=t;r._strict=i;return zn(r)}function Kn(e,t,n,i){return Wn(e,t,n,i,false)}var Jn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return y()}});var Xn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return y()}});function Zn(e,t){var n,i;if(t.length===1&&s(t[0])){t=t[0]}if(!t.length){return Kn()}n=t[0];for(i=1;i<t.length;++i){if(!t[i].isValid()||t[i][e](n)){n=t[i]}}return n}function Qn(){var e=[].slice.call(arguments,0);return Zn("isBefore",e)}function ei(){var e=[].slice.call(arguments,0);return Zn("isAfter",e)}var ti=function(){return Date.now?Date.now():+new Date};var ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){for(var t in e){if(!(at.call(ni,t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var n=false;for(var i=0;i<ni.length;++i){if(e[ni[i]]){if(n){return false}if(parseFloat(e[ni[i]])!==k(e[ni[i]])){n=true}}}return true}function ai(){return this._isValid}function ri(){return ki(NaN)}function si(e){var t=Q(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=ii(t);this._milliseconds=+c+u*1e3+l*6e4+o*1e3*60*60;this._days=+s+r*7;this._months=+a+i*3+n*12;this._data={};this._locale=vn();this._bubble()}function oi(e){return e instanceof si}function li(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function ui(e,t){le(e,0,0,function(){var e=this.utcOffset();var n="+";if(e<0){e=-e;n="-"}return n+ie(~~(e/60),2)+t+ie(~~e%60,2)})}ui("Z",":");ui("ZZ","");De("Z",ke);De("ZZ",ke);Ne(["Z","ZZ"],function(e,t,n){n._useUTC=true;n._tzm=di(ke,e)});var ci=/([\+\-]|\d\d)/gi;function di(e,t){var n=(t||"").match(e);if(n===null){return null}var i=n[n.length-1]||[];var a=(i+"").match(ci)||["-",0,0];var r=+(a[1]*60)+k(a[2]);return r===0?0:a[0]==="+"?r:-r}function fi(e,t){var n,i;if(t._isUTC){n=t.clone();i=(E(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf();n._d.setTime(n._d.valueOf()+i);a.updateOffset(n,false);return n}else{return Kn(e).local()}}function hi(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}a.updateOffset=function(){};function pi(e,t,n){var i=this._offset||0,r;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=di(ke,e);if(e===null){return this}}else if(Math.abs(e)<16&&!n){e=e*60}if(!this._isUTC&&t){r=hi(this)}this._offset=e;this._isUTC=true;if(r!=null){this.add(r,"m")}if(i!==e){if(!t||this._changeInProgress){Ri(this,ki(e-i,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;a.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?i:hi(this)}}function mi(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function _i(e){return this.utcOffset(0,e)}function gi(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(hi(this),"m")}}return this}function vi(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=di(Me,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function bi(e){if(!this.isValid()){return false}e=e?Kn(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function yi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xi(){if(!u(this._isDSTShifted)){return this._isDSTShifted}var e={};S(e,this);e=$n(e);if(e._a){var t=e._isUTC?m(e._a):Kn(e._a);this._isDSTShifted=this.isValid()&&A(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function Si(){return this.isValid()?!this._isUTC:false}function wi(){return this.isValid()?this._isUTC:false}function Li(){return this.isValid()?this._isUTC&&this._offset===0:false}var Ei=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var Mi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ki(e,t){var n=e,i=null,a,r,s;if(oi(e)){n={ms:e._milliseconds,d:e._days,M:e._months}}else if(c(e)){n={};if(t){n[t]=e}else{n.milliseconds=e}}else if(!!(i=Ei.exec(e))){a=i[1]==="-"?-1:1;n={y:0,d:k(i[He])*a,h:k(i[Ge])*a,m:k(i[Ve])*a,s:k(i[je])*a,ms:k(li(i[ze]*1e3))*a}}else if(!!(i=Mi.exec(e))){a=i[1]==="-"?-1:i[1]==="+"?1:1;n={y:Ai(i[2],a),M:Ai(i[3],a),w:Ai(i[4],a),d:Ai(i[5],a),h:Ai(i[6],a),m:Ai(i[7],a),s:Ai(i[8],a)}}else if(n==null){n={}}else if(typeof n==="object"&&("from"in n||"to"in n)){s=Ci(Kn(n.from),Kn(n.to));n={};n.ms=s.milliseconds;n.M=s.months}r=new si(n);if(oi(e)&&h(e,"_locale")){r._locale=e._locale}return r}ki.fn=si.prototype;ki.invalid=ri;function Ai(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ti(e,t){var n={milliseconds:0,months:0};n.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(n.months,"M").isAfter(t)){--n.months}n.milliseconds=+t-+e.clone().add(n.months,"M");return n}function Ci(e,t){var n;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=fi(t,e);if(e.isBefore(t)){n=Ti(e,t)}else{n=Ti(t,e);n.milliseconds=-n.milliseconds;n.months=-n.months}return n}function Di(e,t){return function(n,i){var a,r;if(i!==null&&!isNaN(+i)){R(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");r=n;n=i;i=r}n=typeof n==="string"?+n:n;a=ki(n,i);Ri(this,a,e);return this}}function Ri(e,t,n,i){var r=t._milliseconds,s=li(t._days),o=li(t._months);if(!e.isValid()){return}i=i==null?true:i;if(o){ht(e,Qe(e,"Month")+o*n)}if(s){et(e,"Date",Qe(e,"Date")+s*n)}if(r){e._d.setTime(e._d.valueOf()+r*n)}if(i){a.updateOffset(e,s||o)}}var Oi=Di(1,"add");var Ii=Di(-1,"subtract");function Fi(e,t){var n=e.diff(t,"days",true);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ni(e,t){var n=e||Kn(),i=fi(n,this).startOf("day"),r=a.calendarFormat(this,i)||"sameElse";var s=t&&(O(t[r])?t[r].call(this,n):t[r]);return this.format(s||this.localeData().calendar(r,this,Kn(n)))}function Bi(){return new L(this)}function Ui(e,t){var n=E(e)?e:Kn(e);if(!(this.isValid()&&n.isValid())){return false}t=Z(!u(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()>n.valueOf()}else{return n.valueOf()<this.clone().startOf(t).valueOf()}}function Pi(e,t){var n=E(e)?e:Kn(e);if(!(this.isValid()&&n.isValid())){return false}t=Z(!u(t)?t:"millisecond");if(t==="millisecond"){return this.valueOf()<n.valueOf()}else{return this.clone().endOf(t).valueOf()<n.valueOf()}}function Yi(e,t,n,i){i=i||"()";return(i[0]==="("?this.isAfter(e,n):!this.isBefore(e,n))&&(i[1]===")"?this.isBefore(t,n):!this.isAfter(t,n))}function Hi(e,t){var n=E(e)?e:Kn(e),i;if(!(this.isValid()&&n.isValid())){return false}t=Z(t||"millisecond");if(t==="millisecond"){return this.valueOf()===n.valueOf()}else{i=n.valueOf();return this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()}}function Gi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Vi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ji(e,t,n){var i,a,r,s;if(!this.isValid()){return NaN}i=fi(e,this);if(!i.isValid()){return NaN}a=(i.utcOffset()-this.utcOffset())*6e4;t=Z(t);switch(t){case"year":s=zi(this,i)/12;break;case"month":s=zi(this,i);break;case"quarter":s=zi(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-a)/864e5;break;case"week":s=(this-i-a)/6048e5;break;default:s=this-i}return n?s:M(s)}function zi(e,t){var n=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(n,"months"),a,r;if(t-i<0){a=e.clone().add(n-1,"months");r=(t-i)/(i-a)}else{a=e.clone().add(n+1,"months");r=(t-i)/(a-i)}return-(n+r)||0}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $i(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function qi(){if(!this.isValid()){return null}var e=this.clone().utc();if(e.year()<0||e.year()>9999){return de(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(O(Date.prototype.toISOString)){return this.toDate().toISOString()}return de(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function Wi(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var n="["+e+'("]';var i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var a="-MM-DD[T]HH:mm:ss.SSS";var r=t+'[")]';return this.format(n+i+a+r)}function Ki(e){if(!e){e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat}var t=de(this,e);return this.localeData().postformat(t)}function Ji(e,t){if(this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())){return ki({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Xi(e){return this.from(Kn(),e)}function Zi(e,t){if(this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())){return ki({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function Qi(e){return this.to(Kn(),e)}function ea(e){var t;if(e===undefined){return this._locale._abbr}else{t=vn(e);if(t!=null){this._locale=t}return this}}var ta=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function na(){return this._locale}function ia(e){e=Z(e);switch(e){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e==="week"){this.weekday(0)}if(e==="isoWeek"){this.isoWeekday(1)}if(e==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function aa(e){e=Z(e);if(e===undefined||e==="millisecond"){return this}if(e==="date"){e="day"}return this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")}function ra(){return this._d.valueOf()-(this._offset||0)*6e4}function sa(){return Math.floor(this.valueOf()/1e3)}function oa(){return new Date(this.valueOf())}function la(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ua(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ca(){return this.isValid()?this.toISOString():null}function da(){return b(this)}function fa(){return p({},g(this))}function ha(){return g(this).overflow}function pa(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}le(0,["gg",2],0,function(){return this.weekYear()%100});le(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ma(e,t){le(0,[e,e.length],0,t)}ma("gggg","weekYear");ma("ggggg","weekYear");ma("GGGG","isoWeekYear");ma("GGGGG","isoWeekYear");X("weekYear","gg");X("isoWeekYear","GG");te("weekYear",1);te("isoWeekYear",1);De("G",Ee);De("g",Ee);De("GG",ve,pe);De("gg",ve,pe);De("GGGG",Se,_e);De("gggg",Se,_e);De("GGGGG",we,ge);De("ggggg",we,ge);Be(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=k(e)});Be(["gg","GG"],function(e,t,n,i){t[i]=a.parseTwoDigitYear(e)});function _a(e){return ya.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ga(e){return ya.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function va(){return Mt(this.year(),1,4)}function ba(){var e=this.localeData()._week;return Mt(this.year(),e.dow,e.doy)}function ya(e,t,n,i,a){var r;if(e==null){return Et(this,i,a).year}else{r=Mt(e,i,a);if(t>r){t=r}return xa.call(this,e,t,n,i,a)}}function xa(e,t,n,i,a){var r=Lt(e,t,n,i,a),s=St(r.year,0,r.dayOfYear);this.year(s.getUTCFullYear());this.month(s.getUTCMonth());this.date(s.getUTCDate());return this}le("Q",0,"Qo","quarter");X("quarter","Q");te("quarter",7);De("Q",he);Ne("Q",function(e,t){t[Ye]=(k(e)-1)*3});function Sa(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}le("D",["DD",2],"Do","date");X("date","D");te("date",9);De("D",ve);De("DD",ve,pe);De("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ne(["D","DD"],He);Ne("Do",function(e,t){t[He]=k(e.match(ve)[0],10)});var wa=Ze("Date",true);le("DDD",["DDDD",3],"DDDo","dayOfYear");X("dayOfYear","DDD");te("dayOfYear",4);De("DDD",xe);De("DDDD",me);Ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=k(e)});function La(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}le("m",["mm",2],0,"minute");X("minute","m");te("minute",14);De("m",ve);De("mm",ve,pe);Ne(["m","mm"],Ve);var Ea=Ze("Minutes",false);le("s",["ss",2],0,"second");X("second","s");te("second",15);De("s",ve);De("ss",ve,pe);Ne(["s","ss"],je);var Ma=Ze("Seconds",false);le("S",0,0,function(){return~~(this.millisecond()/100)});le(0,["SS",2],0,function(){return~~(this.millisecond()/10)});le(0,["SSS",3],0,"millisecond");le(0,["SSSS",4],0,function(){return this.millisecond()*10});le(0,["SSSSS",5],0,function(){return this.millisecond()*100});le(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});le(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});le(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});le(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});X("millisecond","ms");te("millisecond",16);De("S",xe,he);De("SS",xe,pe);De("SSS",xe,me);var ka;for(ka="SSSS";ka.length<=9;ka+="S"){De(ka,Le)}function Aa(e,t){t[ze]=k(("0."+e)*1e3)}for(ka="S";ka.length<=9;ka+="S"){Ne(ka,Aa)}var Ta=Ze("Milliseconds",false);le("z",0,0,"zoneAbbr");le("zz",0,0,"zoneName");function Ca(){return this._isUTC?"UTC":""}function Da(){return this._isUTC?"Coordinated Universal Time":""}var Ra=L.prototype;Ra.add=Oi;Ra.calendar=Ni;Ra.clone=Bi;Ra.diff=ji;Ra.endOf=aa;Ra.format=Ki;Ra.from=Ji;Ra.fromNow=Xi;Ra.to=Zi;Ra.toNow=Qi;Ra.get=tt;Ra.invalidAt=ha;Ra.isAfter=Ui;Ra.isBefore=Pi;Ra.isBetween=Yi;Ra.isSame=Hi;Ra.isSameOrAfter=Gi;Ra.isSameOrBefore=Vi;Ra.isValid=da;Ra.lang=ta;Ra.locale=ea;Ra.localeData=na;Ra.max=Xn;Ra.min=Jn;Ra.parsingFlags=fa;Ra.set=nt;Ra.startOf=ia;Ra.subtract=Ii;Ra.toArray=la;Ra.toObject=ua;Ra.toDate=oa;Ra.toISOString=qi;Ra.inspect=Wi;Ra.toJSON=ca;Ra.toString=$i;Ra.unix=sa;Ra.valueOf=ra;Ra.creationData=pa;Ra.year=Je;Ra.isLeapYear=Xe;Ra.weekYear=_a;Ra.isoWeekYear=ga;Ra.quarter=Ra.quarters=Sa;Ra.month=pt;Ra.daysInMonth=mt;Ra.week=Ra.weeks=Dt;Ra.isoWeek=Ra.isoWeeks=Rt;Ra.weeksInYear=ba;Ra.isoWeeksInYear=va;Ra.date=wa;Ra.day=Ra.days=Vt;Ra.weekday=jt;Ra.isoWeekday=zt;Ra.dayOfYear=La;Ra.hour=Ra.hours=on;Ra.minute=Ra.minutes=Ea;Ra.second=Ra.seconds=Ma;Ra.millisecond=Ra.milliseconds=Ta;Ra.utcOffset=pi;Ra.utc=_i;Ra.local=gi;Ra.parseZone=vi;Ra.hasAlignedHourOffset=bi;Ra.isDST=yi;Ra.isLocal=Si;Ra.isUtcOffset=wi;Ra.isUtc=Li;Ra.isUTC=Li;Ra.zoneAbbr=Ca;Ra.zoneName=Da;Ra.dates=C("dates accessor is deprecated. Use date instead.",wa);Ra.months=C("months accessor is deprecated. Use month instead",pt);Ra.years=C("years accessor is deprecated. Use year instead",Je);Ra.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mi);Ra.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xi);function Oa(e){return Kn(e*1e3)}function Ia(){return Kn.apply(null,arguments).parseZone()}function Fa(e){return e}var Na=N.prototype;Na.calendar=P;Na.longDateFormat=H;Na.invalidDate=V;Na.ordinal=$;Na.preparse=Fa;Na.postformat=Fa;Na.relativeTime=W;Na.pastFuture=K;Na.set=I;Na.months=lt;Na.monthsShort=ct;Na.monthsParse=ft;Na.monthsRegex=bt;Na.monthsShortRegex=gt;Na.week=kt;Na.firstDayOfYear=Ct;Na.firstDayOfWeek=Tt;Na.weekdays=Nt;Na.weekdaysMin=Yt;Na.weekdaysShort=Ut;Na.weekdaysParse=Gt;Na.weekdaysRegex=qt;Na.weekdaysShortRegex=Kt;Na.weekdaysMinRegex=Xt;Na.isPM=an;Na.meridiem=sn;function Ba(e,t,n,i){var a=vn();var r=m().set(i,t);return a[n](r,e)}function Ua(e,t,n){if(c(e)){t=e;e=undefined}e=e||"";if(t!=null){return Ba(e,t,n,"month")}var i;var a=[];for(i=0;i<12;i++){a[i]=Ba(e,i,n,"month")}return a}function Pa(e,t,n,i){if(typeof e==="boolean"){if(c(t)){n=t;t=undefined}t=t||""}else{t=e;n=t;e=false;if(c(t)){n=t;t=undefined}t=t||""}var a=vn(),r=e?a._week.dow:0;if(n!=null){return Ba(t,(n+r)%7,i,"day")}var s;var o=[];for(s=0;s<7;s++){o[s]=Ba(t,(s+r)%7,i,"day")}return o}function Ya(e,t){return Ua(e,t,"months")}function Ha(e,t){return Ua(e,t,"monthsShort")}function Ga(e,t,n){return Pa(e,t,n,"weekdays")}function Va(e,t,n){return Pa(e,t,n,"weekdaysShort")}function ja(e,t,n){return Pa(e,t,n,"weekdaysMin")}mn("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=k(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});a.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn);a.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vn);var za=Math.abs;function $a(){var e=this._data;this._milliseconds=za(this._milliseconds);this._days=za(this._days);this._months=za(this._months);e.milliseconds=za(e.milliseconds);e.seconds=za(e.seconds);e.minutes=za(e.minutes);e.hours=za(e.hours);e.months=za(e.months);e.years=za(e.years);return this}function qa(e,t,n,i){var a=ki(t,n);e._milliseconds+=i*a._milliseconds;e._days+=i*a._days;e._months+=i*a._months;return e._bubble()}function Wa(e,t){return qa(this,e,t,1)}function Ka(e,t){return qa(this,e,t,-1)}function Ja(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function Xa(){var e=this._milliseconds;var t=this._days;var n=this._months;var i=this._data;var a,r,s,o,l;if(!(e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0)){e+=Ja(Qa(n)+t)*864e5;t=0;n=0}i.milliseconds=e%1e3;a=M(e/1e3);i.seconds=a%60;r=M(a/60);i.minutes=r%60;s=M(r/60);i.hours=s%24;t+=M(s/24);l=M(Za(t));n+=l;t-=Ja(Qa(l));o=M(n/12);n%=12;i.days=t;i.months=n;i.years=o;return this}function Za(e){return e*4800/146097}function Qa(e){return e*146097/4800}function er(e){if(!this.isValid()){return NaN}var t;var n;var i=this._milliseconds;e=Z(e);if(e==="month"||e==="year"){t=this._days+i/864e5;n=this._months+Za(t);return e==="month"?n:n/12}else{t=this._days+Math.round(Qa(this._months));switch(e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+e)}}}function tr(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+k(this._months/12)*31536e6}function nr(e){return function(){return this.as(e)}}var ir=nr("ms");var ar=nr("s");var rr=nr("m");var sr=nr("h");var or=nr("d");var lr=nr("w");var ur=nr("M");var cr=nr("y");function dr(){return ki(this)}function fr(e){e=Z(e);return this.isValid()?this[e+"s"]():NaN}function hr(e){return function(){return this.isValid()?this._data[e]:NaN}}var pr=hr("milliseconds");var mr=hr("seconds");var _r=hr("minutes");var gr=hr("hours");var vr=hr("days");var br=hr("months");var yr=hr("years");function xr(){return M(this.days()/7)}var Sr=Math.round;var wr={ss:44,s:45,m:45,h:22,d:26,M:11};function Lr(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function Er(e,t,n){var i=ki(e).abs();var a=Sr(i.as("s"));var r=Sr(i.as("m"));var s=Sr(i.as("h"));var o=Sr(i.as("d"));var l=Sr(i.as("M"));var u=Sr(i.as("y"));var c=a<=wr.ss&&["s",a]||a<wr.s&&["ss",a]||r<=1&&["m"]||r<wr.m&&["mm",r]||s<=1&&["h"]||s<wr.h&&["hh",s]||o<=1&&["d"]||o<wr.d&&["dd",o]||l<=1&&["M"]||l<wr.M&&["MM",l]||u<=1&&["y"]||["yy",u];c[2]=t;c[3]=+e>0;c[4]=n;return Lr.apply(null,c)}function Mr(e){if(e===undefined){return Sr}if(typeof e==="function"){Sr=e;return true}return false}function kr(e,t){if(wr[e]===undefined){return false}if(t===undefined){return wr[e]}wr[e]=t;if(e==="s"){wr.ss=t-1}return true}function Ar(e){if(!this.isValid()){return this.localeData().invalidDate()}var t=this.localeData();var n=Er(this,!e,t);if(e){n=t.pastFuture(+this,n)}return t.postformat(n)}var Tr=Math.abs;function Cr(e){return(e>0)-(e<0)||+e}function Dr(){if(!this.isValid()){return this.localeData().invalidDate()}var e=Tr(this._milliseconds)/1e3;var t=Tr(this._days);var n=Tr(this._months);var i,a,r;i=M(e/60);a=M(i/60);e%=60;i%=60;r=M(n/12);n%=12;var s=r;var o=n;var l=t;var u=a;var c=i;var d=e?e.toFixed(3).replace(/\.?0+$/,""):"";var f=this.asSeconds();if(!f){return"P0D"}var h=f<0?"-":"";var p=Cr(this._months)!==Cr(f)?"-":"";var m=Cr(this._days)!==Cr(f)?"-":"";var _=Cr(this._milliseconds)!==Cr(f)?"-":"";return h+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(l?m+l+"D":"")+(u||c||d?"T":"")+(u?_+u+"H":"")+(c?_+c+"M":"")+(d?_+d+"S":"")}var Rr=si.prototype;Rr.isValid=ai;Rr.abs=$a;Rr.add=Wa;Rr.subtract=Ka;Rr.as=er;Rr.asMilliseconds=ir;Rr.asSeconds=ar;Rr.asMinutes=rr;Rr.asHours=sr;Rr.asDays=or;Rr.asWeeks=lr;Rr.asMonths=ur;Rr.asYears=cr;Rr.valueOf=tr;Rr._bubble=Xa;Rr.clone=dr;Rr.get=fr;Rr.milliseconds=pr;Rr.seconds=mr;Rr.minutes=_r;Rr.hours=gr;Rr.days=vr;Rr.weeks=xr;Rr.months=br;Rr.years=yr;Rr.humanize=Ar;Rr.toISOString=Dr;Rr.toString=Dr;Rr.toJSON=Dr;Rr.locale=ea;Rr.localeData=na;Rr.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dr);Rr.lang=ta;le("X",0,0,"unix");le("x",0,0,"valueOf");De("x",Ee);De("X",Ae);Ne("X",function(e,t,n){n._d=new Date(parseFloat(e,10)*1e3)});Ne("x",function(e,t,n){n._d=new Date(k(e))});a.version="2.19.2";r(Kn);a.fn=Ra;a.min=Qn;a.max=ei;a.now=ti;a.utc=m;a.unix=Oa;a.months=Ya;a.isDate=d;a.locale=mn;a.invalid=y;a.duration=ki;a.isMoment=E;a.weekdays=Ga;a.parseZone=Ia;a.localeData=vn;a.isDuration=oi;a.monthsShort=Ha;a.weekdaysMin=ja;a.defineLocale=_n;a.updateLocale=gn;a.locales=bn;a.weekdaysShort=Va;a.normalizeUnits=Z;a.relativeTimeRounding=Mr;a.relativeTimeThreshold=kr;a.calendarFormat=Fi;a.prototype=Ra;return a})}).call(t,n(597)(e))},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[];var i=true;var a=false;var r=undefined;try{for(var s=e[Symbol.iterator](),o;!(i=(o=s.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;r=e}finally{try{if(!i&&s["return"])s["return"]()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var a=SUGAR.App;var r=n(3),s=r.isComponentChildOf;var o={field:{},view:{}};var l=function e(t,n,a){return function e(){var r=this._super;this._super=function e(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}var o=r,l=i(o,1),u=l[0];if(u===n){r=r[1]}return t.prototype[n].apply(this,r)}.bind(this);for(var s=arguments.length,o=Array(s),l=0;l<s;l++){o[l]=arguments[l]}var u=a.apply(this,o);this._super=r;r=null;return u}};var u={getViewClass:function e(t){return this.getCmpClass("view",t)},getFieldClass:function e(t){return this.getCmpClass("field",t)},getCmpClass:function e(t,i){var r=i.baseType;var s=this._extractRegOptions(i);var l=o[t];var u=l[r];var c=void 0;if(u){c=u.base;if(!_.isEmpty(s)){var d=_.find(u.custom,function(e){return _.isEqual(e.filter,s)});if(d){c=d.view}}}if(!c&&i.shouldReturnDefault){c=i.cmpType==="view"?n(8):a.view.NomadField}return c},extendComponent:function e(t,n,i){if(_.isFunction(t)){t={parent:t}}var a=t,r=a.parent;_.each(n,function(e,t){if(_.isFunction(e)&&_.isFunction(r.prototype[t])){n[t]=l(r,t,e)}});var s=r.extend(n,i);s.config=t;s.parentClass=r;return s},registerComponent:function e(t){var n=this;var i=t.cmp;var r=i===a.view.Field||s(a.view.Field,i)?"field":"view";var l=o[r];var u=this._extractRegOptions(t);var c=_.isEmpty(u);var d=t.baseType;if(d){if(c){this._cacheBase(r,d,i)}else{this._cacheCustom(r,d,i,u)}}else{var f=i;var h=[];var p=false;var m=function e(t,a){if(f===t.base){if(c){n._cacheBase(r,a,i);p=true}else{h.push(a)}}else{t.custom.forEach(function(e){if(e.view===f){if(c){e.view=i;p=true}else{h.push(a)}}})}};while(f){p=false;_.each(l,m);if(_.isEmpty(h)&&!p){f=f.parentClass}else{f=null}}if(!_.isEmpty(h)){h.forEach(function(e){return n._cacheCustom(r,e,i,u)})}}},_cacheBase:function e(t,n,i){var a=o[t];if(!a[n]){a[n]={base:null,custom:[]}}a[n].base=i},_cacheCustom:function e(t,n,i,a){var r=o[t];if(!r[n]){this._cacheBase(t,n,null)}var s=_.find(r[n].custom,function(e){return _.isEqual(e.filter,a)});if(s){s.view=i}else{r[n].custom.push({view:i,filter:a})}},_extractRegOptions:function e(t){var n={};if(t.module){n.module=t.module}return n},_getComponentViewCache:function e(){return o.view}};e.exports=u},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var r=SUGAR.App;var s=/(?:(?:(?:(?:(?:(?:https?)|ftp|itms|itms-apps):\/\/)|skype:)[a-z0-9-\._~\:/?#[\]@!$&'()*+,;=%]+)|(?:[a-z0-9]{1}(?:[a-z0-9-]+\.)+(?:com|net|gov|edu|us)(?:(?:\?|\/)[a-z0-9-\._~\:/?#[\]@!$&'()*+,;=%]+)?))/gi;var o=/[.?,!]+$/;var l={"<":"&lt;",">":"&gt;","'":"&#x27;","/":"&#x2F;","\n":"<br>"};var u=_.extend({},l,{"&":"&amp;",'"':"&quot;"});$.merge=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}return _.union.apply(this,n)};_.extend(asyncLib,{retry:function e(t,n,i){var a=5;var r=[];if(typeof t==="function"){i=n;n=t;t=a}t=parseInt(t,10)||a;var s=function e(a,s){var o=function e(t,n){return function e(i){t(function(e,t){i(!e||n,{err:e,result:t})},s)}};while(t){r.push(o(n,!(t-=1)))}asyncLib.series(r,function(e,t){t=t[t.length-1];(a||i)(t.err,t.result)})};return i?s():s}});_.extend(moment,{phpStrToTime:function e(t,n){var i=void 0,a=void 0,r=void 0,s=void 0,o=void 0,l=void 0;var u=false;if(!t){return u}t=t.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();a=t.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/);if(a&&a[2]===a[4]){if(a[1]>1901){switch(a[2]){case"-":{if(a[3]>12||a[5]>31){return u}return new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}case".":{return u}case"/":{if(a[3]>12||a[5]>31){return u}return new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}}}else if(a[5]>1901){switch(a[2]){case"-":{if(a[3]>12||a[1]>31){return u}return new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}case".":{if(a[3]>12||a[1]>31){return u}return new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}case"/":{if(a[1]>12||a[3]>31){return u}return new Date(a[5],parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}}}else{switch(a[2]){case"-":{if(a[3]>12||a[5]>31||a[1]<70&&a[1]>38){return u}s=a[1]>=0&&a[1]<=38?Number(a[1])+2e3:a[1];return new Date(s,parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}case".":{if(a[5]>=70){if(a[3]>12||a[1]>31){return u}return new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}if(a[5]<60&&!a[6]){if(a[1]>23||a[3]>59){return u}r=new Date;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),a[1]||0,a[3]||0,a[5]||0,a[9]||0)/1e3}return u}case"/":{if(a[1]>12||a[3]>31||a[5]<70&&a[5]>38){return u}s=a[5]>=0&&a[5]<=38?Number(a[5])+2e3:a[5];return new Date(s,parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}case":":{if(a[1]>23||a[3]>59||a[5]>59){return u}r=new Date;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),a[1]||0,a[3]||0,a[5]||0)/1e3}}}}if(t==="now"){return n===null||isNaN(n)?(new Date).getTime()/1e3|0:n|0}if(!isNaN(i=Date.parse(t))){return i/1e3|0}a=t.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/);if(a){if(a[4]=="z"){a[4]="Z"}else if(a[4].match(/^([\+-][0-9]{2})$/)){a[4]+=":00"}if(!isNaN(i=Date.parse(a[1]+"T"+a[2]+a[4]))){return i/1e3|0}}var c=n?new Date(n*1e3):new Date;var d={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};var f={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};function h(e,t,n){var i=void 0;var a=d[t];if(typeof a!=="undefined"){i=a-c.getDay();if(i===0){i=7*n}else if(i>0&&e==="last"){i-=7}else if(i<0&&e==="next"){i+=7}c.setDate(c.getDate()+i)}}function p(e){var t=e.split(" ");var n=t[0];var i=t[1].substring(0,3);var a=/\d+/.test(n);var r=t[2]==="ago";var s=(n==="last"?-1:1)*(r?-1:1);if(a){s*=parseInt(n,10)}if(Object.prototype.hasOwnProperty.call(f,i)&&!t[1].match(/^mon(day|\.)?$/i)){return c["set"+f[i]](c["get"+f[i]]()+s)}if(i==="wee"){return c.setDate(c.getDate()+s*7)}if(n==="next"||n==="last"){h(n,i,s)}else if(!a){return false}return true}var m="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec"+"|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?"+"|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)";var _="([+-]?\\d+\\s"+m+"|"+("(last|next)\\s"+m+")(\\sago)?");a=t.match(new RegExp(_,"gi"));if(!a){return u}for(l=0,o=a.length;l<o;l++){if(!p(a[l])){return u}}return c.getTime()/1e3}});var c={urlHasProtocolRegExp:/^(?!javascript)[a-z-]+:/i,augmentZeptoDetect:function e(t){var n=$,i=n.os,a=n.browser;i.desktop=!t&&(a.chrome||a.safari)&&!(i.phone||i.tablet||i.ipod||i.silk||i.kindle||i.rimtabletos||i.wp||i.blackberry||i.bb10||i.playbook||i.touchpad);a.chromeMobile=a.chrome&&!t&&!i.desktop&&(i.ios||i.android&&i.phone);a.chromeWeb=a.chrome&&!t},execRegex:function e(t,n,i){var a=void 0;while((a=n.exec(t))!==null){if(a.index===n.lastIndex){n.lastIndex++}i(a)}},stripLastEmptyStrings:function e(t){var n=t.split("\n");while(n.length>0){if(_.isEmpty(_.last(n))){n.pop()}else{break}}return n.join("\n")},minutesToQuarterHours:function e(t){t=parseInt(t,10);if(t===0){return t}if(t<8){return 15}var n=Math.floor(t/15);var i=t%15;if(i>7){n+=1}return n*15},pad:function e(t,n,i){i=i||"0";t=String(t);return t.length>=n?t:new Array(n-t.length+1).join(i)+t},getPrimaryEmail:function e(t,n){var i=_.find(t,this.isPrimaryEmail);if(n&&i){return i.email_address}return i},replaceGuid:function e(t,n){var i=/([\w\d]{8}\-[\w\d]{4}-[\w\d]{4}-[\w\d]{4}-[\w\d]{12})/;return t.replace(i,n)},extractAndSortEmails:function e(t){var n=_.flatten(_.map(t,_.values));n=_.reject(n,function(e){return Number(e.invalid_email)||Number(e.opt_out)});n=_.sortBy(n,function(e){return Number(e.primary_address)?0:1});n=_.pluck(n,"email_address");return n},isPrimaryEmail:function e(t){var n=t.primary_address;if(!_.isBoolean(n)){n=Boolean(parseInt(t.primary_address,10))}return n},nl2br:function e(t){var n=t||"";n=String(n);return n.replace(/\n|\r|\r\n/g,"<br />")},iso2sugar:function e(t,n){if($.os.android&&(r.isNative||n.nativeSupport)){return t}return t.replace(/\.?\d+?Z/,"+00:00")},getTimeZoneOffsetString:function e(t){var n=t||(new Date).getTimezoneOffset();var i=n>=0?"+":"-";n=Math.abs(n);var a=Math.floor(n/60);var r=n%60;return i+this.pad(a,2)+":"+this.pad(r,2)},getHash:function e(){var t=window.location.hash;if(t){t=t.split("~")[0]}return t||"#"},resolveUrl:function e(t,n){var i=document;var a=i.getElementsByTagName("base")[0];var r=a&&a.href;var s=i.head||i.getElementsByTagName("head")[0];var o=a||s.appendChild(i.createElement("base"));var l=i.createElement("a");o.href=n;l.href=t;var u=l.href;if(a){a.href=r}else{s.removeChild(o)}return u},merge:function e(){var t=function e(t,n){return n};return function e(n,i,r){var s=void 0;if(_.isUndefined(n)){s=i}else if(_.isUndefined(i)){s=n}else{var o;var l=_.first([n,i],2);var u=_.map(l,_.keys);var c=(o=_).intersection.apply(o,a(u));var d={};_.each(l,function(e,t){_.each(u[t],function(t){d[t]=e[t]})});if(_.isUndefined(r)){r=t}_.each(c,function(e){d[e]=r(n[e],i[e])});return d}return _.clone(s)}}(),deepClone:function e(t){var n={};_.each(t,function(t,i){n[i]=_.isObject(t)?e(t):t});return n},getOfflineStatusClass:function e(){var t=r.offline.status;if(t){if(t.state===r.offline.State.ERROR){return"status-error"}else if(t.state===r.offline.State.WARNING){return"status-warning"}}return"status-success"},humanFileSize:function e(){var t=" K M G T P E Z Y".split(" ").map(function(e){return e+"B"});var n=function e(n,i){var a=0;var r=1024;var s=i?0:1;while(n>r/10&&++a<t.length-1){n/=r}this.value=(n+.05).toFixed(s);this.units=t[a]};n.prototype._i18nUnits=function e(){var t="LBL_FILE_SIZE_UNITS_"+this.units;var n=r.lang.get(t);return n===t?null:n};n.prototype.toString=function e(t){var n=t&&this._i18nUnits()||this.units;return this.value+" "+n};return function e(t,i){return t===-1?null:new n(t,i)}}(),isErrorEmulationEnabled:function e(){return r.config.errorEmulation.enabled&&r.user.get("user_name")===r.config.errorEmulation.user.toLowerCase()},parseQueryString:function e(t){var n=function e(t,n){var i=void 0,a=void 0,r=void 0,s=void 0,o=void 0,l=void 0,u=void 0,c=void 0,d=void 0,f=void 0,h=void 0,p=void 0,m=void 0,_=void 0,g=void 0;var v=String(t).replace(/^&/,"").replace(/&$/,"").split("&");var b=v.length;var y=function e(t){return decodeURIComponent(t.replace(/\+/g,"%20"))};if(!n){n=this.window}for(i=0;i<b;i++){f=v[i].split("=");h=y(f[0]);p=f.length<2?"":y(f[1]);while(h.charAt(0)===" "){h=h.slice(1)}if(h.indexOf("\0")>-1){h=h.slice(0,h.indexOf("\0"))}if(h&&h.charAt(0)!=="["){_=[];m=0;for(a=0;a<h.length;a++){if(h.charAt(a)==="["&&!m){m=a+1}else if(h.charAt(a)==="]"){if(m){if(!_.length){_.push(h.slice(0,m-1))}_.push(h.substr(m,a-m));m=0;if(h.charAt(a+1)!=="["){break}}}}if(!_.length){_=[h]}for(a=0;a<_[0].length;a++){d=_[0].charAt(a);if(d===" "||d==="."||d==="["){_[0]=_[0].substr(0,a)+"_"+_[0].substr(a+1)}if(d==="["){break}}l=n;for(a=0,g=_.length;a<g;a++){h=_[a].replace(/^['"]/,"").replace(/['"]$/,"");u=a!==_.length-1;o=l;if(h!==""&&h!==" "||a===0){if(l[h]===c){l[h]={}}l=l[h]}else{r=-1;for(s in l){if(Object.prototype.hasOwnProperty.call(l,s)){if(Number(s)>r&&s.match(/^\d+$/g)){r=Number(s)}}}h=r+1}}o[h]=p}}};var i={};n(t,i);return i},docIsAvailable:function e(t){return!_.isEmpty(t)&&(!r.offline||r.offline.isOnline())},isValidDate:function e(t){return _.isDate(t)&&!isNaN(t.getTime())},isModelSynchronized:function e(t,n){var i=["_last_fetched","_client_date_modified"];if(t.get("date_modified")!==n.date_modified){return false}var a=_.omit(n,i);var s=_.omit(t.toJSON(),i);return _.isEmpty(r.utils.getChangedProps(s,a,false))},getObjectPrimitives:function e(t){var n={};var i=function e(t){return!_.isObject(t)&&!_.isFunction(t)};_.each(t,function(e,t){if(i(e)){n[t]=e}});return n},waitFor:function e(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2e3;var a=false;var r=new Date-0;var s=false;var o=function e(){s=new Date-0-r>i;a=t();if(!a&&!s){window.setTimeout(e,200)}else{n(s?{message:"Max wait timeout"}:null)}};window.setTimeout(o,200)},deepExtend:function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++){n[a]=arguments[a]}var r=this;if(n.length<1||i(n[0])!=="object"){return false}if(n.length<2){return n[0]}var s=n[0];n=n.slice(1);var o=void 0;var l=void 0;var u=void 0;n.forEach(function(e){if((typeof e==="undefined"?"undefined":i(e))!=="object"){return}for(var t in e){if(e[t]!==undefined){l=s[t];o=e[t];if(o===s){continue}if((typeof o==="undefined"?"undefined":i(o))!=="object"||o===null){s[t]=o;continue}if((typeof l==="undefined"?"undefined":i(l))!=="object"){u=Array.isArray(o)?[]:{};s[t]=r.deepExtend(u,o);continue}if(Array.isArray(o)){u=Array.isArray(l)?l:[]}else{u=Array.isArray(l)?{}:l}s[t]=r.deepExtend(u,o)}}});return s},isTabletLandscapeMode:function e(){return r.isTablet&&r.nomad.getOrientation()==="landscape"},isForecastConfigValid:function e(){var t=true;var n=r.metadata.getModule("Forecasts","config");var i=n.sales_stage_won;var s=n.sales_stage_lost;var o=[n.sales_stage_won].concat(a(n.sales_stage_lost));var l=r.lang.getAppListStrings("sales_stage_dom");if(i.length===0||s.length===0||_.isEmpty(l)){t=false}else{t=_.every(o,function(e){return e!==""&&_.has(l,e)},this)}return t},getForecastNotSetUpMessage:function e(t){var n=t?"LBL_DASHLET_FORECAST_NOT_SETUP_ADMIN":"LBL_DASHLET_FORECAST_NOT_SETUP";var i=r.lang.get(n,"Forecasts");var a=r.config.siteUrl.indexOf("?")===-1?"?":"&";if(t){var s=r.lang.get("LBL_DASHLET_FORECAST_CONFIG_LINK_TEXT","Forecasts");i+='  <a class="lnk-non-forecast" href="'+r.config.siteUrl+a+'mobile=0#Forecasts/config">'+s+"</a>"}return i},wrapAsyncCallback:function e(t){return{success:function e(n){t(null,n)},error:t}},isAccessibleModule:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"list";return!_.contains(r.config.modules.unsupportedModules,t)&&_.contains(r.metadata.getModuleNames({filter:"visible",access:n}),t)},getClosedStatusValue:function e(t){var n={Calls:"Held",Tasks:"Completed",Meetings:"Held"};return n[t]},isModuleVisible:function e(t){var n=r.metadata.get().modules_info[t];return n&&n.visible},getForecastModule:function e(){return r.metadata.getModule("Forecasts","config").forecast_by||(this.isModuleVisible("RevenueLineItems")?"RevenueLineItems":"Opportunities")},getHashCode:function e(t){var n=0;var i=void 0;var a=void 0;var r=void 0;if(t.length===0){return n}for(i=0,r=t.length;i<r;i++){a=t.charCodeAt(i);n=(n<<5)-n+a;n|=0}return n},charToHtmlEntity:function e(t,n){var i=n?l:u;return i[t]||t},stringToHtmlEntities:function e(t){var n=t.stringToTransform,i=t.allowUrlChars;var a="";_.each(n,function(e){a+=c.charToHtmlEntity(e,i)},this);return a},htmlEntitiesToString:function e(t){var n=t.stringToTransform,i=t.allowUrlChars;var a=i?l:u;var r=n;_.each(a,function(e,t){r=r.replace(new RegExp(e,"g"),t)});return r},escapeRegExp:function e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},migrateKeyValueStore:function e(t,n){var i=r.config.env+":"+r.config.appId+":";if(t.get(i+"store:version")!==t.version){_.chain(window.localStorage).keys().filter(function(e){return e.indexOf(i)===0}).each(function(e){t.set(e,r.cache.get(e));window.localStorage.removeItem(e)}).value();t.set(i+"store:version",t.version)}var a=n.getAll();if(!_.isEmpty(a)){_.each(a,function(e,n){t.set(n,e)});n.cutAll()}},formatLinks:function e(t){var n="";if(t&&t.length>0){n=t.replace(s,function(e){var t=e.match(o)||"";if(t){e=e.replace(o,"")}var n=c.urlHasProtocolRegExp.test(e)?e:"http://"+e;return'<a href="'+n+'">'+e+"</a>"+t})}return n},isElVisible:function e(t){return t&&t.get(0)&&t.get(0).offsetParent!==null},isDirectionLTR:function e(){return r.lang.direction!==r.lang.DIRECTION_RTL},_normalizeUrl:function e(t,n){if(n){t=encodeURI(t)}if(c.urlHasProtocolRegExp.test(t)){return t}if(/^\.\.\//.test(t)){var i=window.location.href.split("#")[0].split("index.html")[0];return i+t}return"http://"+t},buildActionHandlerName:function e(t){return _.reduce(t.split(":"),function(e,t){return e+r.utils.capitalize(t)},"on")},isComponentChildOf:function e(t,n){var i=n.parentClass;var a=false;while(i){a=i===t;i=!a&&i.parentClass}return a},getRange:function e(t,n){return(Math.floor(t/n)+1)*n},buildRoute:function e(t,n){var i=void 0;var a=r.controller.getScreenContextRoot();var s=n.hash,o=s.action,l=s.link;if(l){i=r.router.buildLinkRoute(t.link.bean.module,t.link.bean.id,l,t.id,o)}else{i=r.router.buildRoute(t.module,t.id,o)}if(n.hash.appendRoot&&a){i=a+"/"+i}return new Handlebars.SafeString(i)},sanitizeFileName:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return t.replace(/[^a-z0-9_\-.\s]/gi,"_")},isEmptyValue:function e(t){return _.isNull(t)||_.isUndefined(t)||!_.isNumber(t)&&_.isEmpty(t)||_.isNumber(t)&&!_.isFinite(t)},isOnline:function e(){return true?r.config.offline.debug.online&&window.navigator.onLine:navigator.connection.type!==Connection.UNKNOWN&&navigator.connection.type!==Connection.NONE},supportsFavorite:function e(t){var n=r.metadata.getModule(t.module);var i=n&&!_.isUndefined(n.favoritesEnabled)&&!n.favoritesEnabled;return r.acl.hasAccessToModel("view",t,"my_favorite")&&!i},supportsMyItems:function e(t){var n=r.metadata.getModule(t);return n?!_.isUndefined(n.fields.assigned_user_id):false},supportsFollowing:function e(t){var n=t.module;var i=r.metadata.getModule(n);var a=i&&!_.isUndefined(i.followingEnabled)&&!i.followingEnabled;return r.serverInfo.isSevenUp&&_.contains(r.config.modules.followableModules,n)&&r.acl.hasAccessToModel("view",t,"following")&&!a},isStandardModule:function e(t){return _.contains(r.config.modules.knownModules,t)},getFullnameFieldComponents:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:r.user.getPreference("default_locale_name_format");var i=[];var a=t.fields.name;if(!a){return i}if(a.type==="fullname"){var s=r.metadata.getModule(t.module);var o=s.nameFormat;if(!_.isEmpty(o)){_.each(n.split(""),function(e){if(o[e]){i.push(o[e])}});return i}}else if(a.fields){return a.fields}return["name"]},isNameErased:function e(t){var n=t.get("_erased_fields");if(_.isEmpty(n)){return false}var i=c.getFullnameFieldComponents(t);var r=_.some(i,function(e){return _.contains(n,e)});return r&&_.every([].concat(a(i),["name"]),function(e){return!t.get(e)})}};e.exports=c},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3);var r=n(2);var s=r.extendComponent(i.view.Field,{events:{"focusin.base-field input":"_onFocus","touchstart.base-field select":"_onFocus"},viewFallbackMap:{view:"disabled",edit:"disabled",about:"disabled",settings:"edit"},initialize:function e(t){this._super(t);if(t.view.name==="edit"&&(Boolean(this.def.calculated)&&Boolean(this.def.enforced)||Boolean(this.def.readonly))){this.action="disabled"}},_updateFieldErased:function e(){var t=this.action==="edit";this.isErased=this.getErasedState();this.updatePlaceholder();if(_.isUndefined(this._viewNameBackup)){this._viewNameBackup=this.options.viewName||""}if(this.isErased&&!t){var n=this.action||this.view.action;if(n==="dupecheck-list"){n="list"}if(/-erased/.test(this.action)){this.options.viewName=this.action}else{this.options.viewName=n+"-erased"}}else{this.options.viewName=this._viewNameBackup}},getErasedState:function e(){return this.type==="fullname"?a.isNameErased(this.model):_.contains(this.model.get("_erased_fields"),this.name)},updatePlaceholder:function e(){this.inputHint=this.getPlaceholderText();this.syncPlaceholderVisible()},syncPlaceholderVisible:function e(){this.showPlaceholder=this.inputHint&&this.isValueEmpty();return this.showPlaceholder},getPlaceholderText:function e(){var t="";if(this.isErased){t="LBL_VALUE_ERASED"}else if(this.def.required){t="LBL_REQUIRED"}return i.lang.get(t,this.module)},isValueEmpty:function e(){return _.isEmpty(this.model.get(this.name))},_onFocus:function e(){var t={animate:false};i.alert.dismissAll(false,t)},delegateEvents:function e(t){if(_.isFunction(t||this.events)){Backbone.View.prototype.delegateEvents.call(this,t)}else{this._super(t)}},handleValidationError:function e(t){this._displayValidationMessage(t)},_displayValidationMessage:function e(t){var n=void 0;var a=[];var r=this.$(".field");r.children(".field__error-message").remove();r.removeClass("error");if(t){this.$(".field").addClass("error");_.each(t,function(e,t){a.push(i.error.getErrorString(t,e))});n=i.template.get("edit-field-error");r.append(n(a))}i.analytics.trackEvent({category:"validation",action:this.name})},_render:function e(){this.onBeforeRender();i.view.Field.prototype._render.call(this);this.onAfterRender();this.hasAccess=this.getAccess();return this},_getFallbackTemplate:function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++){n[a]=arguments[a]}var r=n[0];if(r==="disabled"){return"readonly"}var s=this.action||this.view.action;if(this.isErased&&s!=="edit"){return s+"-erased"}return i.view.Field.prototype._getFallbackTemplate.apply(this,n)},getAccess:function e(){var t=this.options.def.view||this.options.viewName||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name);var n=t===this.view.action?t:this.view.action;return i.acl.hasAccessToModel(n,this.model,this.name)},onBeforeRender:function e(){if(this.view.name==="edit"&&this.getAccess()&&!this.isDisabled()){this.action="edit"}this._updateFieldErased()},onAfterRender:function e(){},format:function e(t){return this._super(t)},unformat:function e(t){return _.isString(t)?t.trim():t},bindDomChange:function e(){if(!(this.model instanceof Backbone.Model)){return}var t=this.$el.find(this.fieldTag);t.on("change",_.bind(this.onFieldChange,this));this._$fieldEl=t},onFieldChange:function e(){this.model.set(this.name,this.unformat(this._$fieldEl.val()));this.updatePlaceholder()},bindDataChange:function e(){if(this.model){this.model.on("change:"+this.name,function e(t,n,i){if(i&&i.disableRenderForContext===this.view){return false}this.render()},this)}},setRequired:function e(t){this.def=i.utils.deepCopy(this.def);this.def.required=t;this.render()},isRequired:function e(){return this.def.required}});i.view.NomadField=s;e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a={showAlert:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=n.title,r=a===undefined?i.lang.get("LBL_WARNING"):a,s=n.buttonLabels,o=s===undefined?i.lang.get("LBL_OK"):s,l=n.callback;this._showAlert(t,l,r,o)},showConfirm:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=n.title,r=a===undefined?i.lang.get("LBL_CONFIRM"):a,s=n.buttonLabels,o=s===undefined?[i.lang.get("LBL_NO"),i.lang.get("LBL_YES")]:s,l=n.callback;this._showConfirm(t,l,r,o)},showActionSheet:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_.defaults(n,{title:""});this._showActionSheet(t,n)},_showGATrackedActionSheet:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=_.pluck(t,"googleAnalyticsName");var r=_.pluck(t,"name");var s=n.gaParams||{category:"click",value:0};n.onSelectCb=_.wrap(n.onSelectCb,function(e,t){i.analytics.trackEvent(_.extend({},s,{action:a[t]}));return e(t)});this.showActionSheet(r,_.omit(n,"gaParams"))},showPrompt:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_.defaults(n,{title:i.lang.get("LBL_CONFIRM"),defaultText:"",inputStyle:1,buttonLabels:[i.lang.get("LBL_CANCEL_BUTTON_LABEL"),i.lang.get("LBL_OK")],callback:function e(){}});this._showPrompt(t,n)}};if(true){_.extend(a,n(391))}else{_.extend(a,require("%app.js%/native/dialog"))}e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(5);var r=n(3);var s={scanBarcode:function e(t,n,i){window.cordova.plugins.barcodeScanner.scan(t,n,i)},encodeBarcode:function e(t,n,i,a){window.cordova.plugins.barcodeScanner.encode(t.toUpperCase()+"_TYPE",n,i,a)},sendEmail:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},s=r.subject,o=s===undefined?"":s,l=r.body,u=l===undefined?"":l;if(t.length>1){a.showActionSheet(t,{title:i.lang.get("LBL_MOBILE_CHOOSE_RECIPIENT"),onSelectCb:function e(i){return n._showEmailComposer(t[i],o,u)}})}else{this._showEmailComposer(t[0],o,u)}},sendConsoleLog:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},a=n.email,r=a===undefined?i.config.about.supportEmail:a,s=n.subject,o=s===undefined?"":s,l=n.body,u=l===undefined?"":l;this._getConsoleLogFilename(function(e){t._showEmailComposer(r,o,u,e)})},shareRecord:function e(t){var n=r.resolveUrl(i.config.siteUrl,window.location.href)+"#"+i.router.buildRoute(t.get("_module"),t.get("id"));var a={url:n,appId:i.config.brandName,module:i.lang.getModuleName(t.module),name:t.get("name")};a.subject=i.lang.get("TPL_RECORD_SHARE_SUBJECT",null,a);a.body=i.lang.get("TPL_RECORD_SHARE_BODY",null,a);this._share(a)},shareUrl:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n.url=t;n.shareLabel=i.lang.get("LBL_RECORD_SHARE_BUTTON");this._share(n)},sendSms:function e(t,n){var r=this;if(_.isArray(t)&&t.length>1){var s=i.lang.get("LBL_MOBILE_CHOOSE_PHONE");var o=this._buildNamedList(t);a.showActionSheet(o,{title:s,onSelectCb:function e(i){return r._showSmsComposer(r._extractValue(t,i),n)}})}else{this._showSmsComposer(this._extractValue(t),n)}},callPhone:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(r.model){_.extend(r,{module:r.model.module,recordId:r.model.id,recordName:r.model.get("name")})}if(_.isArray(t)&&t.length>1){var s=this._buildNamedList(t);a.showActionSheet(s,{title:i.lang.get("LBL_MOBILE_CHOOSE_PHONE"),onSelectCb:function e(a){i.telephony.callPhone(n._extractValue(t,a),r)}})}else{i.telephony.callPhone(this._extractValue(t),r)}},openUrl:function e(t){var n=this;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},o=s.encode,l=o===undefined?false:o;if(_.isArray(t)&&t.length>1){var u=_.map(t,function(e){return _.keys(e)[0]});a.showActionSheet(u,{title:i.lang.get("LBL_MOBILE_CHOOSE_URL"),onSelectCb:function e(i){return n._browseUrl(r._normalizeUrl(n._extractValue(t,i),l))}})}else{this._browseUrl(r._normalizeUrl(this._extractValue(t),l))}},openWebPage:function e(t){this._browseWebPage(t)},showDateTimePicker:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=n.mode,a=i===undefined?"showDatePicker":i,r=n.callback;this._showDateTimePicker(t,a,r)},openDoc:function e(t){var n=this;if(_.isArray(t)&&t.length>1){var s=_.map(t,function(e,t,n){return r.replaceGuid(_.keys(e)[0],i.lang.get("LBL_MOBILE_DOC")+" "+(t+1))});a.showActionSheet(s,{title:i.lang.get("LBL_MOBILE_CHOOSE_DOC"),onSelectCb:function e(i){return n._openDocWorker(t,i)}})}else{this._openDocWorker(t)}},removeCachedDoc:function e(t){this._removeCachedDoc(t)},openAddress:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=i.clientInfo.device;var s=!r.ios||r.ios&&!i.isNative?"g":"a";var o=n.showDirections;if(n.addresses){if(_.isArray(n.addresses)&&n.addresses.length>1){var l=_.map(n.addresses,function(e){return _.keys(e)[0]});a.showActionSheet(l,{title:i.lang.get("LBL_MOBILE_CHOOSE_LOCATION"),onSelectCb:function e(i){t._openMap(t._extractValue(n.addresses,i),s)}})}else{this._openMap(this._extractValue(n.addresses),s,o)}}else{this._openMapWithGeoLocation(n.location,s,o)}},registerForPushNotifications:function e(){this._registerForPushNotifications()},sendLocalNotification:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.title=t.title||i.config.brandName;this._sendLocalNotification(t)},startMobileDeviceManagement:function e(t){this._startMobileDeviceManagement(t)},getManagedConfig:function e(t){this._getManagedConfig(t)},getImportedFileInfo:function e(t){this._getImportedFileInfo(t)},_getNativeParam:function e(t,n){return window.plugins.deviceInfo.getNativeParam(t,n)},_openDocWorker:function e(t,n){var a=_.clone(this._extractValue(t,n));var s=r._normalizeUrl(a.url);a.url=s.replace("{download_token}",i.api.getDownloadToken()).replace("{oauth_token}",i.api.getOAuthToken());this._flushCacheUrl(a);if(a.openExternally){this._browseUrl(a.url)}else{this._browseDoc(a)}},_flushCacheUrl:function e(t){if(_.has(t,"noCache")&&!t.noCache){return}var n=t.url.split("#")[0];var i=[n,n.indexOf("?")===-1?"?":"&","__ts=",Number(new Date)];t.noCache=false;t.url=i.join("")},_openMap:function e(t,n,a){var r="";var s=n==="a"?"maps.apple.com":"maps.google.com";if(!t){t=""}else{var o="";if(t.country&&_.isString(t.country)){o=t.country.replace(/\s?,\s?/g,",");if(/ of$/.test(o)||/ of the$/.test(o)){var l=o.split(",");o=l[l.length-1];for(var u=0;u<l.length-1;u++){o=o.concat(" "+l[u])}}else{o=t.country.replace(/,/g,"")}}t=_.compact([t.street,t.city,t.state,t.postalcode,o]).join(",")}if(a){r="http://"+s+"/?saddr="+encodeURI("Current Location")+"&daddr="+encodeURI(t)}else{r="http://"+s+"/maps?q="+encodeURI(t)}i.logger.debug("Opening map: "+r);this._browseUrl(r)},_openMapWithGeoLocation:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var s="";var o=n==="a"?"maps.apple.com":"maps.google.com";var l=new RegExp("^[-+]?([1-8]?\\d(.\\d+)?|90(\\.0+)?)$");var u=new RegExp("^[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)$");if(!l.test(t.latitude)||!u.test(t.longitude)){a.showAlert(i.lang.get("ERR_GEOLOCATION_INVALID_COORDINATES_MSG"));return}t=_.compact([t.latitude,t.longitude]).join(",");if(r){s="http://"+o+"/?saddr="+encodeURI("Current Location")+"&daddr="+encodeURI(t)}else{s="http://"+o+"/maps?q="+encodeURI(t)}i.logger.debug("Opening map: "+s);this._browseUrl(s)},_extractValue:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return _.isString(t)?t:_.values(t[n])[0]||t[n].value||t[n]},_buildNamedList:function e(t){return _.map(t,function(e){return _.keys(e)[0]+" - "+_.values(e)[0]})},redirectToNativeApp:function e(){s._redirectToNativeApp()}};if(true){_.extend(s,n(390))}else{_.extend(s,require("%app.js%/native/device"))}e.exports=s},function(e,t,n){"use strict";var i=n(44);var a=n(53);var r=n(54);function s(){return(this.get("fetch")===void 0||this.get("fetch"))&&!this.isDataFetched()&&!this.get("create")}var o=Backbone.Model.extend({initialize:function e(t){Backbone.Model.prototype.initialize.call(this,t);this.id=this.cid;this.parent=null;this.children=[];this._fetchCalled=false},clear:function e(t){var n=this.get("collection");if(n){n.abortFetchRequest()}_.each(this.children,function(e){e.clear(t)});this.children=[];this.parent=null;_.each(this.attributes,function(e){if(e&&e.off===Backbone.Events.off){e.off();e.stopListening();if(_.isFunction(e.dispose)){e.dispose()}}},this);this.off();Backbone.Model.prototype.clear.call(this,t);this.resetLoadFlag()},resetLoadFlag:function e(t){t=t||{};var n=_.isUndefined(t.recursive)?true:t.recursive;var i=_.isUndefined(t.resetModel)?true:t.resetModel;var a=_.isUndefined(t.resetCollection)?true:t.resetCollection;this._fetchCalled=false;if(this.get("model")&&i){this.get("model").dataFetched=false}if(this.get("collection")&&a){this.get("collection").dataFetched=false}if(n){_.each(this.children,function(e){e.resetLoadFlag()})}},isCreate:function e(){return this.get("create")===true},getChildContext:function e(t){t=t||{};var n;var i=t.forceNew||false;delete t.forceNew;var a=t.cid||t.name||t.link||t.module;if(a&&!i){n=_.find(this.children,function(e){return e.cid==a||e.get("link")==a||e.get("module")==a})}if(!n){t=_.extend({fetch:this.get("fetch")},t);n=new o(t);this.children.push(n);n.parent=this}if(t.link){var r=this.get("model");n.set({parentModel:r,parentModule:r?r.module:null})}else if(!t.module){n.set({module:this.get("module")})}this.trigger("context:child:add",n);return n},prepare:function e(t,n){var i;if(t||!this.get("model")&&!this.get("collection")){var a=this.get("modelId");var r=this.get("create");i=this.get("link");this.set(i?this._prepareRelated(i,a,r):this._prepare(a,r))}if((t||!this._relatedCollectionsPopulated)&&(!i||n)){this._populateRelatedContexts()}return this},setFetch:function e(t,n){n=n||{};this.set("fetch",t);var i=n.recursive===void 0?true:n.recursive;if(i){_.each(this.children,function(e){e.setFetch(t)})}},_prepare:function e(t,n){var i,a,s=this.get("module"),o=this.get("mixed"),l;if(t){i=r.createBean(s,{id:t});l=[i]}else if(n===true){i=r.createBean(s);l=[i]}else{i=r.createBean(s)}a=o===true?r.createMixedBeanCollection(l):r.createBeanCollection(s,l);return{collection:a,model:i}},_prepareRelated:function e(t,n,i){var a,s,o=this.get("parentModel");o=o||r.createBean(this.get("parentModule"),{id:this.get("parentModelId")});if(n){a=r.createRelatedBean(o,n,t);s=r.createRelatedCollection(o,t,[a])}else if(i===true){a=r.createRelatedBean(o,null,t);s=r.createRelatedCollection(o,t,[a])}else{a=r.createRelatedBean(o,null,t);s=r.createRelatedCollection(o,t)}if(!this.has("parentModule")){this.set({parentModule:o.module},{silent:true})}if(!this.has("module")){this.set({module:a.module},{silent:true})}return{parentModel:o,collection:s,model:a}},addFields:function e(t){if(!t){return}var n=_.union(t,this.get("fields")||[]);return this.set("fields",n)},loadData:function e(t){t=t||{};if(!t.forceFetch&&!s.call(this)){return}delete t.forceFetch;var n,r=this.get("modelId"),o=this.get("module"),l=SUGAR.App.config.orderByDefaults&&o?SUGAR.App.config.orderByDefaults[o]:null;n=r?this.get("model"):this.get("collection");if(l&&n instanceof a&&!n.orderBy){n.orderBy=l}if(n&&(n instanceof i||n instanceof a)){if(this.get("dataView")&&_.isString(this.get("dataView"))){n.setOption("view",this.get("dataView"))}if(this.get("fields")){n.setOption("fields",this.get("fields"))}if(this.get("limit")){n.setOption("limit",this.get("limit"))}if(this.get("module_list")){n.setOption("module_list",this.get("module_list"))}if(this.get("viewed")){n.setOption("viewed",this.get("viewed"))}t.context=this;if(this.get("skipFetch")!==true){n.fetch(t)}this._fetchCalled=true}else{SUGAR.App.logger.warn("Skipping fetch because model is not Bean, Bean Collection, or it is not defined, module: "+this.get("module"))}},_populateRelatedContexts:function e(){if(!this.get("collection")){return}this.get("collection").each(function(e){var t=e.fieldsOfType("collection");if(!_.isEmpty(t)){_.each(t,function(e){var t=e.links;if(_.isString(t)){t=[t]}var n={};_.each(t,function(e){var t=this.getChildContext({link:e});t.prepare()},this)},this)}},this);this._relatedCollectionsPopulated=true},_shouldFetch:function e(){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Context#_shouldFetch is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Context#_shouldFetch is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s.call(this)},reloadData:function e(t){t=t||{};this.resetLoadFlag(t);this.loadData(t);this.trigger("reload",this,t)},isDataFetched:function e(){var t=this.get("modelId")?this.get("model"):this.get("collection");return this._fetchCalled||t&&!!t.dataFetched}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(17);var s=n(78);var o=a.extendComponent(s,{_globalEventsBound:false,_stringType:"base",ACTION_NAME:"component:action",events:function e(t){var n={};if(_.isObject(t)){_.extend(n,t)}return n},constructor:function e(t){var n=t.def&&t.def.data;if(!_.isUndefined(n)&&_.isUndefined(t.data)){t.data=n}if(_.isFunction(t.name)){t.name=this._stringType;t.type=this._stringType;if(t.def){t.def.view={name:this._stringType}}t.meta=t.meta||i.metadata.getView(t.module,this._stringType)}return this._super(t)},initialize:function e(t){t=t||{};var n=_.isUndefined(t.sugarLogicEnabled)||t.sugarLogicEnabled;if(!n){this.plugins=_.without(this.plugins,"SugarLogic")}if(t.globalEvents){this.globalEvents=t.globalEvents}this.config=i.config;var a=t.template||this.template;if(a){a=_.isString(a)?i.template.get(a):a;t.template=a}this._super(t);if(t.onPullDownToRefresh){this.onPullDownToRefresh=function(){return t.onPullDownToRefresh()}}this.displayFields=this.getDisplayFields()},getDisplayFields:function e(){var t=_.getNested(this,"meta.panels.0.fields")||[];var e=this.options.getDisplayFields;if(_.isFunction(e)){t=e(t)}return t},onHeaderClick:function e(){},onAppPause:function e(){},onAppResume:function e(){},delegateEvents:function e(t){if(!t){t=_.result(this,"events")}if(!t){return}_.extend(t,{"click a[href]":"handleLinkClick"});this._super(t)},loadData:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new r(function(e,a){n.success=_.wrap(n.success,function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}e(i);if(t){t.apply(undefined,i)}});n.error=_.wrap(n.error,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}var r=n[1]?n[1].message:"";var s=new Error(r);a(s);if(e){e.apply(undefined,n)}});i.view.View.prototype.loadData.call(t,n)})},_render:function e(){this.onBeforeRender();this._super();this.onAfterRender();this._rendered=true;this.trigger("view:after:render");return this},bindGlobalEvents:function e(){if(this._globalEventsBound){return}var t=this._populateGlobalEvents(this);_.each(t,function e(t,n){t=_.isFunction(t)?t:this[t];i.events.on(n,t,this)},this);_.each(this.fields,function(e){_.each(e.globalEvents,function e(t,n){t=_.isFunction(t)?t:this[t];i.events.on(n,t,this)},e);e._globalEventsBound=true});this._globalEventsBound=true},unbindGlobalEvents:function e(){var t=this._populateGlobalEvents(this);_.each(t,function e(t,n){i.events.off(n,null,this)},this);_.each(this.fields,function(e){_.each(e.globalEvents,function e(t,n){i.events.off(n,null,this)},e);e._globalEventsBound=false});this._globalEventsBound=false},_populateGlobalEvents:function e(t){var n=[];var i={};var a=function e(t,n){if(t){n.push(t.constructor.prototype.globalEvents);e(t.constructor.__super__,n)}};if(Object.prototype.hasOwnProperty.call(this,"globalEvents")){n.push(this.globalEvents)}a(t,n);_.each(n.reverse(),function(e){i=_.extend(i,e)});return i},_getRelationshipFields:function e(){var t=this;var n=this.context.get("parentModule");var a=this.context.get("link");var r=[];if(n&&a){r=i.data.getRelationshipFields(n,a)}return _.map(r,function(e){return i.metadata.getModule(t.module).fields[e]})},canDisplay:function e(t){var n=this.context.get("link");var a=this.context.get("parentModule");var r=n&&a?_.pluck(i.data.getRelateFields(a,n),"name"):[];return!(n&&(t.type==="parent"||t.type==="relate"&&_.include(r,t.name)))},getFieldNames:function e(t){var n=this;if(!this.module){return[]}var a=i.metadata.getModule(this.module,"mergedFields")||[];var r=this._getRelationshipFields();if(this.model instanceof i.Bean){if(this.model.canHaveAttachments()){a.push("attachment_list")}}a=_.union(a,_.pluck(r,"name"));if(t){a=_.filter(a,function(e){var t=n._getFieldViewDef(e);if(_.isEmpty(t)){return false}return t.type!=="fieldset"&&n.canDisplay(t)},this)}return a},_getFieldViewDef:function e(t){var n=void 0;_.find(this.meta.panels[0].fields,function(e){if(e.name===t){n=e}else if(!_.isEmpty(e.fields)){n=_.find(e.fields,function(e){return e.name===t})}return n});return n},isEditView:function e(){return false},onAfterRender:function e(){},onAfterShow:function e(){if(this.collection){n(58).hideSyncAlert()}},onBeforeRender:function e(){},handleLinkClick:function e(t){var a=n(3);if(t.defaultPrevented){return}var r=t.target.tagName.toLowerCase()==="a"?t.target:t.currentTarget;var s=r.getAttribute("href");if(/^#.*/.test(s)){t.preventDefault();t.stopPropagation();i.controller.navigate(s,{initiator:this.navigationName})}else if(a.urlHasProtocolRegExp.test(s)){t.preventDefault();n(6).openUrl(s)}},abortActiveRequests:function e(){return false},onDetachFromDom:function e(){},propagateComponentAction:function e(t){this.trigger(this.ACTION_NAME,t)},handleComponentAction:function e(t,n){var i=this[t];if(_.isFunction(i)){i.call(this,n)}},dispose:function e(){this.trigger("view:dispose");this._super()}});if(window.JASMINE===true){i.view.NomadView=o}e.exports=o},function(e,t,n){"use strict";var i=n(2);var a=n(8);var r=i.extendComponent(a,{_stringType:"static",loadData:function e(t){}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a={};e.exports={show:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(a[t]){return false}var r=_.extend({template:"overlay-default",$appendTo:i.$rootEl},n);var s=$(i.template.get(r.template)(r.templateOptions));r.$appendTo.append(s);i.logger.trace("Overlay show: "+t);s.showElement();a[t]={params:r,$el:s}},hide:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=a[t];if(r){var s=r.$el;i.logger.trace("Overlay hide: "+t);if(n.animate){s.animate({opacity:"0"},500,"ease",function(){s.remove()})}else{s.remove()}}delete a[t]},hideAll:function e(){_.each(a,function(e,t){var n=e.$el;if(n){n.remove();delete a[t]}})},isActiveGlobal:function e(){return _.any(a,function(e){return e.params.$appendTo===i.$rootEl})}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(12);var s=n(24);var o=n(57);var l=n(83);var u=n(39);var c=n(4);var d=n(141);var f=n(3),h=f.isComponentChildOf;var p=[];var m=[];var g=[];e.exports={registerRecordAction:function e(t){t.custom=true;m.push(t)},registerRoutes:function e(t,n){if(l.started){o.addRoutes(t)}else{i.events.once("app:init",function(){o.addRoutes(t,n)})}},getCustomActions:function e(){return m},getCustomFields:function e(){return p},registerMainMenuItem:function e(t){if(!t.route){t.route=i.utils.generateUUID()}g.push(t)},getCustomMainMenuItems:function e(){return _.select(g,function(e){return _.isFunction(e.isVisible)?e.isVisible():true})},registerListItemDataProvider:function e(t){d.add(t)},setConfigOverrideFn:function e(t){if(r.overrideConfig){throw new Error("overrideConfig function is already set.")}else{r.overrideConfig=t}},extend:function e(t,n,i){return a.extendComponent({parent:t},n,i)},register:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(h(u,t)){s.registerDashlet(n.metadataType,t);a.registerComponent(_.extend({cmp:t,baseType:n.metadataType},n))}else if(h(c,t)){a.registerComponent({baseType:n.metadataType,module:n.module,cmp:t});p.push(n.metadataType)}else{a.registerComponent(_.extend({cmp:t},n))}}}},function(e,t,n){"use strict";var i=n(3);var a=n(2);var r=n(6);var s=n(47);var o=n(5);var l=n(22);var u=n(316);var c=n(27);var d=n(37);var f=n(28);var h=n(32);var p=n(83);var m=n(10);var g=SUGAR.App;var v=void 0;var b=document.getElementById("viewport-meta");var y={default:b?b.getAttribute("content"):null};g.lang.DIRECTION_RTL="rtl";g.lang.DIRECTION_LTR="ltr";var x={timePaused:0,globalEvents:["app:orientation:changed","nativeMessage","app:upgraded","app:dashboards:changed"],_syncedAppStart:function e(){var t=function e(){_.delay(function(){m.hide("app:sync",{animate:true})},300);g.cache.set("app:synced","1");g.nomad.setHTMLDirection();if(g.supportedFeatures.dashboards&&!g.nomad.dashboards.isStarted()){g.nomad.dashboards.start();g.nomad.dashboards.fetchDashboards({notifyIfChanged:true})}g.nomad.startApp()};h.start().finally(function(){return t()})},startApp:function e(){var t=this;this.initMainMenu();if(g.started){g.navigation.history.clear();g.router.refresh()}else{g.start()}if(g.isSynced){if(this.nativeFileImportInfo){this.navigateFileImport(this.nativeFileImportInfo);this.nativeFileImportInfo=null}else{r.getImportedFileInfo(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.onFileImportEvent(e)})}}},deviceReady:function e(){var t=this;window.App=SUGAR.App;g.isNative=!_.isUndefined(window.cordova);g.isTouchCapable="ontouchstart"in window;i.augmentZeptoDetect(g.isNative);if(_.isFunction(this.overrideConfig)){this.overrideConfig(g.config)}this.initNavigation();if(!this._isPlatformSupported()){g.error.handleNotSupportedPlatform();return}if(g.config.nativeRedirectEnabled){r.redirectToNativeApp()}this._computeMode();g.clientInfo={app:{name:g.config.appId,rebrandName:g.config.appName,version:l.getNomadVersion(),sdkVersion:l.getSdkVersion(),isNative:g.isNative},device:null,browser:_.extend($.browser,{userAgent:navigator.userAgent})};g.nomad.initSupportedFeatures();asyncLib.waterfall([function(e){var t={name:"store-"+g.config.appId+"-"+g.config.env,native:g.isNative,encrypt:g.config.keyValueStoreEncryptionEnabled,forceEncryption:g.config.keyValueStoreEncryptionEnabled};var n={name:"ac",async:false};var a=g.config.keyValueStore==="sqlKeyValueStore"?"localStorageKeyValueStore":"sqlKeyValueStore";var r=g.supportedFeatures.webSqlSupported?g.config.keyValueStore:"localStorageKeyValueStore";g.nomad.stores={};g.keyValueStore=g[r];g.keyValueStore.open(t);if(g.supportedFeatures.webSqlSupported){g[a].open(t)}asyncLib.parallel([function e(t){if(g.supportedFeatures.webSqlSupported){asyncLib.parallel({oldBucket:function e(t){g[a].initBucket(n,t)},newBucket:function e(t){g.keyValueStore.initBucket(n,t)}},function(e,n){if(!e){i.migrateKeyValueStore(n.newBucket,n.oldBucket);g.cache.store=n.newBucket}t(e)})}else{t()}},function e(t){g.keyValueStore.initBucket({name:"dashlet_data",async:true},function(e,n){if(!e){g.nomad.stores.dashlets=n}t(e)})},function e(t){g.keyValueStore.initBucket({name:"filters",async:false},function(e,n){if(!e){g.nomad.stores.filters=n}t(e)})}],function(t){e(t)})},function(e){t.preInit(g.clientInfo,e)},function(){t.start()}],function(e){if(e){g.logger.fatal("Failed to init the app: "+e);o.showAlert(g.lang.get("ERR_INTERNAL_ERR_MSG"),{title:g.lang.get("ERR_GENERIC_TITLE")})}});if(!g.isNative&&$.os.android&&$.smartbanner){$.smartbanner({layer:true})}},_computeMode:function e(){var t=window.devicePixelRatio||1;var n=window.screen.width;var i=window.screen.height;var a=$.os.ios&&(n*t===1125&&i*t===2436||n*t===2436&&i*t===1125);g.isTablet=g.config.deviceMode.type==="tablet"||g.config.deviceMode.type==="auto"&&!a&&(n>=768||i>=768);g.isNarrowTabletMode=g.isTablet&&(n<602||i<602);if(g.isTablet){$(document.body).removeClass("mobile");$(document.body).addClass("tablet");if(g.isNarrowTabletMode){$(document.body).addClass("narrow-tablet-mode")}}else{$(document.body).removeClass("tablet narrow-tablet-mode");$(document.body).addClass("mobile")}if($.os.desktop){$(document.body).addClass("desktop")}},_checkTrial:function e(){if(!g.config.trialUntil||new Date<new Date(g.config.trialUntil)){return}var t=function e(t){var n=[g.lang.get("LBL_TRIAL_PERIOD_EXPIRED")];if(t){n.push({callback:t})}o.showAlert.apply(o,n)};var i=_.bind(t,null,null);var a=n(52);a.prototype.login=i;a.prototype.externalLogin=i;this._checkTrial=_.noop;t(function(){g.router.logout()})},start:function e(){var t=this;this.computeOrientation();g.logger.debug("Client: "+JSON.stringify(g.clientInfo));$.__swipeHelper.init();if(g.config.keyValueStore==="localStorageKeyValueStore"||!g.supportedFeatures.webSqlSupported){try{var n=g.config.env+":"+g.config.appId+":settings";var i=window.localStorage.getItem(n);if(i&&i[1]==="'"){window.localStorage.setItem(n,i.replace(/'/g,'"'))}}catch(e){}}g.init({el:"#nomad"});g.loginManager.handleAuthTokens();g.api.debug=g.config.debugSugarApi;g.api.setRefreshTokenSuccessCallback(function(e){e()});g.telephony.clearCallLog();r.removeCachedDoc();this.setFontSize(g.loginManager.getSetting("fontSize"));_.each(this.globalEvents,function(e){g.events.register(e,g)});g.logger.debug("App started in "+(g.isNative?"native shell":"browser"));document.addEventListener("pause",_.bind(this.onPause,this),false);document.addEventListener("resume",_.bind(this.onResume,this),false);document.addEventListener("memoryWarning",_.bind(this.onMemoryWarning,this),false);document.addEventListener("backbutton",_.bind(this.onBackButtonClicked,this),false);document.addEventListener("onFileImportEvent",_.bind(this.onFileImportEvent,this),false);window.addEventListener("orientationchange",_.bind(this.onOrientationChange,this),false);g.events.on("router:start",function(){t._checkTrial()});if(g.isSynced){this._syncedAppStart()}else{g.start()}},initSupportedFeatures:function e(){g.supportedFeatures={fileUpload:function e(){var t=$.os.version;if(t){if($.os.ios){return g.utils.versionCompare(t,"6",">=")}else if($.os.android){return g.utils.versionCompare(t,"4.0.3",">=")}}return true}(),menuAnimation:function e(){if($.os&&$.os.version){return!($.os.android&&g.utils.versionCompare($.os.version,"4.0.3","<"))}return true}(),canvasJpegEncoding:function e(){var t=document.createElement("canvas");var n=t.toDataURL("image/jpeg");return n&&n.indexOf("image/jpeg")!==-1}(),emails:false,bulkApi:false,recents:false,offline:false,fileUploadForDocs:false,fts:false,productsModule:false,dashboards:false,configurableSavedReportsChart:false,settingsDefaultView:false,enumViaActionSheet:false,filters:false,populateList:false,localSecurityServerSupport:false,createRelatedRLIWarn:false,leadConversion:false,webSqlSupported:function(){var e=true;try{window.openDatabase("test",1,"test",1);if(!g.isNative&&$.os.ios&&g.utils.versionCompare($.os.version,"11","<")){window.localStorage.setItem("test",1)}}catch(t){e=false}return e}()}},updateSupportedFeatures:function e(t){var n=g.metadata.getServerInfo();if(_.isEmpty(n)){if(t){n=t.server_info}else{n={}}}g.supportedFeatures.offline=g.offline&&g.offline.isSupported(n);g.supportedFeatures.fts=n.fts&&n.fts.enabled;g.supportedFeatures.productsModule=n.isSevenUp;g.supportedFeatures.dashboards=g.config.dashboards.enabled&&g.utils.versionCompare(n.version,g.config.dashboards.minServerVersion,">=");g.supportedFeatures.shareableDashboards=g.supportedFeatures.dashboards&&g.utils.versionCompare(n.version,"7.10",">=");var i=g.config.dashboards.dashlets["activitystream-dashlet"];g.supportedFeatures.activities=Boolean(i)&&g.utils.versionCompare(n.version,i.minServerVersion,">=");g.supportedFeatures.emails=g.utils.versionCompare(n.version,"7.11",">=");if(g.utils.versionCompare(n.version,"7.1.5",">=")){g.supportedFeatures.settingsDefaultView=true}if(g.utils.versionCompare(n.version,"7.2",">=")){g.supportedFeatures.recents=true;g.supportedFeatures.filters=true;g.supportedFeatures.populateList=true}if(g.utils.versionCompare(n.version,"7.2.1",">=")){g.supportedFeatures.bulkApi=true;g.supportedFeatures.fileUploadForDocs=true}if(g.utils.versionCompare(n.version,"7.6.0.0RC1",">=")){g.supportedFeatures.configurableSavedReportsChart=true}g.supportedFeatures.leadConversion=g.config.leadConversion.enabled&&g.utils.versionCompare(n.version,g.config.leadConversion.minServerVersion,">=");if(g.isNative&&$.os.tablet&&$.os.ipad&&g.utils.versionCompare($.os.version,"8",">=")){g.supportedFeatures.enumViaActionSheet=true}if(g.utils.versionCompare(n.version,g.config.localSecurity.minServerVersion,">=")){g.supportedFeatures.localSecurityServerSupport=true}if(g.utils.versionCompare(n.version,g.config.teamBasedAcl.minServerVersion,">=")){g.supportedFeatures.teamBasedAclServerSupport=true}if(_.contains(["ENT","ULT"],n.flavor)){g.supportedFeatures.createRelatedRLIWarn=_.contains(g.metadata.getModuleNames({filter:["enabled","visible"],access:"edit"}),"RevenueLineItems")}this._patchConfig()},updateServerInfo:function e(){g.serverInfo=g.metadata.getServerInfo();this.updateSupportedFeatures()},_patchConfig:function e(){if(g.supportedFeatures.productsModule){g.config.modules.unsupportedModules=_.without(g.config.modules.unsupportedModules,"Products")}else if(!_.contains(g.config.modules.unsupportedModules,"Products")){g.config.modules.unsupportedModules.push("Products")}if(g.supportedFeatures.fileUploadForDocs){g.config.modules.nonCreatableModules=_.without(g.config.modules.nonCreatableModules,"Documents")}else if(!_.contains(g.config.modules.nonCreatableModules,"Documents")){g.config.modules.nonCreatableModules.push("Documents")}},resetMeta:function e(t,n){var i=g.cache.get("app:build")!==g.config.appBuild;var a=t||!g.config.cacheMeta||i;var r=g.metadata.getHash();if(a){g.logger.debug("Resetting meta");g.metadata.clearCache();g.cache.cut("user");var s=JSON.parse(JSON.stringify(g.baseMetadata));if(!t&&r&&!i){s._hash=r}g.metadata.set(s,false,true);g.cache.set("app:build",g.config.appBuild);g.events.trigger("app:upgraded");g.loginManager.handleAppUpgrade()}if(a||n){g.cache.set("app:synced","0")}g.isSynced=!n&&!a&&g.config.cacheMeta&&g.cache.get("app:synced")==="1";g.logger.debug("App is synced: "+g.isSynced)},onPause:function e(t){g.logger.debug("App was paused");g.logger.debug(t);this.timePaused=(new Date).getTime();_.each(g.modules,function(e){if(_.isFunction(e.onAppPause)){e.onAppPause()}});g.controller.layoutManager.onAppPause()},onResume:function e(t){var n=((new Date).getTime()-(this.timePaused||0))/1e3;g.logger.debug("App resumed: "+n);g.logger.debug(t);_.each(g.modules,function(e){if(_.isFunction(e.onAppResume)){e.onAppResume()}});if(g.isSynced&&d.isActive()){d.show(function(){g.nomad._syncedAppStart()})}g.controller.layoutManager.onAppResume();_.delay(function(){var e=v;if(e!==g.nomad.computeOrientation()){g.trigger("app:orientation:changed",window.orientation)}},1e3);this._checkTrial()},onMemoryWarning:function e(){g.controller.clean();g.logger.warn("App received memory warning");g.analytics.trackEvent({category:"device",action:"low-memory"})},onBackButtonClicked:function e(){g.analytics.trackEvent({category:"device",action:"back"});if(m.isActiveGlobal()){return}g.nomad.dismissAlerts();if(document.activeElement){document.activeElement.blur()}g.controller.handleBackButton()},onOrientationChange:function e(){var t=this;var n=$("body");if(g.isTablet&&document.activeElement){document.activeElement.blur()}n.addClass("rotate");_.delay(function(){n.removeClass("rotate");if($.os.ios&&g.utils.versionCompare($.os.version,"7",">=")){window.scrollTo(0,window.scrollY)}t.computeOrientation();g.analytics.trackEvent({category:"orientation",action:window.orientation});g.trigger("app:orientation:changed",window.orientation)},1e3)},computeOrientation:function e(){if(g.isTablet&&(g.config.deviceMode.landscape||g.config.deviceMode.portrait)){if(g.config.deviceMode.landscape){v="landscape"}if(g.config.deviceMode.portrait){v="portrait"}}else if($.os.ios){v=window.orientation===90||window.orientation===-90?"landscape":"portrait"}else{v=document.body.clientWidth>document.body.clientHeight?"landscape":"portrait"}var t=void 0;if($.os.ios){if(v==="portrait"){t=window.screen.height-window.innerHeight}else{t=window.screen.width-window.innerHeight}}else{t=0}y.landscape=", height="+(window.screen.width-t);y.portrait=", height="+(window.screen.height-t);if(v==="landscape"){if($.os.ios&&g.isTablet){b.setAttribute("content",y.default+y.landscape)}$("html").removeClass("portrait").addClass("landscape")}else{if($.os.ios&&g.isTablet){b.setAttribute("content",y.default+y.portrait)}$("html").removeClass("landscape").addClass("portrait")}return v},getOrientation:function e(){return v},dismissAlerts:function e(){g.alert.dismissAll("success");g.alert.dismissAll("error")},canCreateModule:function e(t){var n=g.metadata.getModuleNames({filter:["visible"],access:"create"});return _.contains(n,t)&&!_.include(g.config.modules.nonCreatableModules,t)},canCreateRelated:function e(t,n,i){return this.canCreateModule(t)&&s.getSubpanel(n,i).creatable},canLinkRelated:function e(t,n){return s.getSubpanel(t,n).linkable},canUnlinkRelated:function e(t,n){return s.getSubpanel(t,n).unlinkable},configure:function e(t){var n=t.serverUrl,i=t.pageUrl;if(n){g.analytics.trackEvent({category:"deeplink",action:"server",value:null,label:null})}if(i){g.analytics.trackEvent({category:"deeplink",action:"page",value:null,label:null})}var a=function e(){var t=i.replace("#","")||g.router.DEFAULT_ROUTE;g.controller.navigate({url:t,initiator:c.CONFIGURE})};if(g.isNative&&_.isEmpty(n)||_.isEmpty(n)&&!_.isEmpty(i)){a();return}g.loginManager.reconfigure(t,function(){a()})},updateAuthStore:function e(){if(g.isNative){g.keychain.oauth["meta:hash"]=g.metadata.getHash();g.keychain.oauth["userpref:hash"]=g.user.get("_hash")}},getFileOptions:function e(){var t=!_.isEmpty(g.api.getDownloadToken());return{htmlJsonFormat:false,iframe:false,passOAuthToken:!t,passDownloadToken:t}},configureSugarLogic:function e(){var t=n(26);var i=n(43);var a=n(50);var r=n(14);if(g.isSynced){var s=[t,i,r,a];_.each(s,function(e){var t=e.prototype.plugins;var n=t.indexOf("SugarLogic");var i=n!==-1;if(g.config.sugarLogic.enabled&&!i){t.push("SugarLogic")}else if(!g.config.sugarLogic.enabled&&i){t.splice(n,1)}})}},setFontSize:function e(t){var n=t||g.config.ui.defaultFontSize;document.documentElement.style.fontSize=g.config.ui.fontSizes[n]+"px"},setHTMLDirection:function e(){var t=g.user.getPreference("language")||g.cache.get("lang");var n=["ar_SA","he_IL"];var i=_.contains(n,t)||g.config.ui.rtl||false;$("html").toggleClass("rtl",i);g.lang.direction=i?g.lang.DIRECTION_RTL:g.lang.DIRECTION_LTR;if(g.nomad.mainMenu){g.nomad.mainMenu.toggleMenu(false,true)}},buildBulkRequest:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n="/v"+g.config.restVersion;var i=t.params;if(t.limit){t.params=t.params||{};i.max_num=t.limit}var a=g.api.buildURL.call({serverUrl:n},t.module,null,t.attributes,t.params);return{url:a,method:t.method||"GET",headers:t.headers,data:t.data}},syncApp:function e(){$("html").addClass("syncApp");g.sync({callback:function e(t){var n=function e(){d.show(function(){f.setupBulkLoad(g.nomad._syncedAppStart)});m.hide("app:sync",{animate:true});$("html").removeClass("syncApp")};if(!t){h.start({migrate:true}).finally(function(){g.nomad.updateServerInfo();if(g.supportedFeatures.dashboards){g.nomad.dashboards.reset();g.nomad.dashboards.start();g.nomad.dashboards.fetchDashboards({notifyIfChanged:false},function(e){if(e){g.logger.error("Couldn't preload dashboards. Error: "+e);o.showAlert(g.lang.get("ERR_MOBILE_DASHBOARDS_FETCHING"))}n()})}else{n()}})}}})},initNavigation:function e(){g.navigation={manager:p,history:new u};Backbone.history=g.navigation.history;g.navigation.manager.init()},initMainMenu:function e(){if(this.mainMenu){this.mainMenu.unbindGlobalEvents()}else{this.mainMenu=g.view.createView({name:a.getViewClass({baseType:"main-menu"}),el:$("#menu-left")})}this.mainMenu.bindGlobalEvents();this.mainMenu.start()},deactivateMainMenu:function e(){if(this.mainMenu){this.mainMenu.unbindGlobalEvents()}},onFileImportEvent:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};g.analytics.trackEvent({category:"device",action:"onFileImportEvent"});if(t&&t.fileUrl){if(!g.isSynced||!g.api.isAuthenticated()){this.nativeFileImportInfo=t}else{this.navigateFileImport(t)}}},navigateFileImport:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n="Notes";if(!(g.metadata.getModule(n)&&g.acl.hasAccess("create",n))){g.alert.show("access_error",{level:"error",messages:g.lang.get("ERR_ACCESS_SPECIFIC_MODULE",null,{module:g.lang.getModuleName(n,{plural:true})}),autoClose:true});if(t.filename){r.removeCachedDoc([{filename:t.filename}])}}else{var i=g.router.buildRoute(n,"create");g.controller.navigate({url:i,data:t,initiator:c.LIST})}}};_.extend(x,a);e.exports=x},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={Stores:{SETTINGS:"settings",LAST_STATE:"lastState"},getSetting:function e(t){var n=t.store,i=t.name;return this.getCachedItem(n)[i]},setSetting:function e(t){var n=t.store,a=t.name,r=t.value;var s=this.getCachedItem(n);if(_.isObject(a)){s=_.extend({},s,a)}else{s[a]=r}i.cache.set(n,s)},removeSetting:function e(t){var n=t.store,a=t.name;if(!a){return}var r=this.getCachedItem(n);var s=_.isArray(a)?a:[a];r=_.omit(r,s);i.cache.set(n,r)},cleanStore:function e(t){var n=t.store;if(!n){return}i.cache.cut(n)},getCachedItem:function e(t){return i.cache.get(t)?i.cache.get(t):{}}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(3),s=r.isDirectionLTR,o=r.isModelSynchronized,l=r.buildRoute;var u=n(23);var c=n(2);var d=n(27);var f=n(5);var h=n(73);var p=n(150);var m=n(141);var g=function e(t,n){var i=t[n];t[n]=function e(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++){a[r]=arguments[r]}i.apply(t,a);if(this._currentRecordId){this.selectCurrentRecord({modelId:this._currentRecordId})}}};var v=c.extendComponent(h,{_stringType:"list",template:"list",events:function e(){return{"click article .grip":"onGripClick","click .menu-container":"onContextMenuClick","click article":"onItemElementClick","swipeLeft article":"onItemSwipe","swipeRight article":"onItemSwipe","longTap article":"onItemLongTap","click.pagination .show-more-top-btn":"paginateTop","click.pagination .show-more-bottom-btn":"paginateBottom"}},plugins:[],listItemDataProvider:"list-item",listItemTpl:"list-item",contextMenuDisabled:false,multiselect:false,navigationName:d.LIST,isPaginationEnabled:true,isPtrEnabled:true,_offlineDisabled:false,_currentState:null,_isFetchRunning:false,globalEvents:{"offline:data:updated":"_offlineRefetch","offline:collection:read":"_onOfflineCollectionRead"},_offlineRefetch:function e(t,n){var a=this.getCurrentState();var r={};_.extend(r,a,{skipServerSync:true,serverNextOffset:t.serverNextOffset});if(this.collection.query){return}if(this.isCurrentListUpdated(t)){n=_.extend({add:true,reset:!this.collection.getOption("update"),params:r,offset:t.requestParams&&t.requestParams.offset?t.requestParams.offset:0,limit:t.requestParams&&t.requestParams.max_num?t.requestParams.max_num:i.config.maxQueryResult},n);this._applyCollectionFieldsFetchOptions(n);this.collection.fetch(n)}},_onOfflineCollectionRead:function e(t){if(!this.isCurrentListUpdated(t.apiOptions)){return}this._showFetchingMsg(t);if(t.status===i.offline.api.ReadCollectionStatus.FINISH){this.reflowScroller()}var n=t.status===i.offline.api.ReadCollectionStatus.FINISH&&!t.isDataUpdated?!this.collection.length:false;this.$(".no-records-found").toggleElement(n)},initialize:function e(t){this._super(t);this._currentState={};this.listViewId=t.listViewId||"listing-"+this.module;this.unlinkVisible=false;var n=this.context.get("link");if(n){var r=this.context.get("parentModule");var s=i.metadata.getModule(r,"fields")[n];this.relationship=i.metadata.getRelationship(s.relationship);this.relateFields=i.data.getRelateFields(r,n);this.unlinkVisible=a.canUnlinkRelated(r,n)&&_.reduce(this.relateFields,function(e,t){return e&&!t.required},true)}this.modContextData=u.getContextMeta("list");this.bindCollectionEvents();this.initLabels();this._createItemsConfig(t);this.initCurrentRecordHighlighting();this.isListItemSwippable=this.module!=="Activities"&&!this.options.contextMenuOnSwipeDisabled||this.module==="Search"||this.module==="Recents";this.initContextMenu(t);this.initPagination(t);if(this.isPtrEnabled){p({view:this})}else{this.reflowScroller=_.noop}},initContextMenu:function e(t){this.contextMenuOnSwipeDisabled=this.contextMenuDisabled||t.contextMenuOnSwipeDisabled||!i.isNative&&$.os.ios;if(this.contextMenuDisabled){return}this.contextMenu=i.view.createView({name:c.getViewClass({baseType:"context-menu"}),parentView:this})},initCurrentRecordHighlighting:function e(){if(!i.isTablet){return}this._currentRecordId=null;this.listenTo(i,"app:view:change",function e(t){if(t.isDynamic){return}this.selectCurrentRecord(t)});g(this,"onAfterRender")},selectCurrentRecord:function e(t){var n=t.modelId||t.parentModelId;var i=n&&this.options.isRootScreen;this.$el.find(".current").removeClass("current");this._currentRecordId=n;if(i){this.getListItemEl(n).addClass("current")}},_createItemsConfig:function e(t){if(t.itemsConfig){this.itemsConfig=_.extend(this.itemsConfig||{},t.itemsConfig)}this.setListItemDataProvider(t.listItemDataProvider);this.setListItemTpl(t.listItemTpl||(t.meta?t.meta.listItemTpl:null))},setListItemTpl:function e(t){if(t){this.listItemTpl=t}},getListItemTpl:function e(){return this.listItemTpl},setListItemDataProvider:function e(t){if(t){this.listItemDataProvider=t}},getListItemDataProvider:function e(){return this.listItemDataProvider},initLabels:function e(){this.labelNoRecords=i.lang.get("LBL_MOBILE_NO_RECORDS");this.labelShowMoreTop=i.lang.get("LBL_SHOW_MORE");this.labelShowMoreBottom=i.lang.get("LBL_SHOW_MORE")},onBeforeRender:function e(){},getViewContainer:function e(){return this.isPtrEnabled?this.$easyScrollerParent:this.$el},setCurrentState:function e(t){this._currentState=t},getCurrentState:function e(){if(this._currentState.q){this._currentState.filter=null;this._currentState.order_by=null}return this._currentState},_applyCurrentStateParams:function e(t){t=t||{};t.params=t.params||{};_.extend(t.params,this.getCurrentState());this._applyCollectionFieldsFetchOptions(t);return t},_applyCollectionFieldsFetchOptions:function e(t){var n=this.getDisplayFields();var i=_.filter(n,function(e){return e.isCollection});if(i.length){t.apiOptions=t.apiOptions||{};t.apiOptions.collectionFields=_.pluck(i,"name")}},onHeaderClick:function e(){if(this.scroll){this.scroll.scroller.scrollTo(0,0,true)}},onItemAdded:function e(t,n,a){this.$el.find(".no-records-found").hideElement();var r=i.view.getFieldId();var s=Handlebars.helpers.listItems([t],this,{hash:{}});if(a.addTop){this.$(".items").prepend(s.toString())}else{this.$(".items").append(s.toString())}for(var o=r+1;o<=i.view.getFieldId();++o){this._renderField(this.fields[o])}},onItemRemoved:function e(t){this.getListItemEl(t).remove()},getMaxPageSize:function e(){return Math.max(i.config.fetchLimit.maxPageSize,i.config.maxQueryResult)},onDataSyncStart:function e(t,n,a){if(!i.offlineEnabled){this.$(".no-records-found").hideElement()}},onDataSyncSuccess:function e(t,n,a){if(!i.offlineEnabled&&a.method!=="update"&&this.collection.length===0){this.$(".no-records-found").showElement()}if(this.isPaginationEnabled){this._updatePaginationElements()}this.onDataSyncComplete(a.method,a,null,t)},onDataSyncError:function e(t,n,i){this.onDataSyncComplete(t,n,i)},onDataSyncComplete:function e(t,n,a){this.hideContextMenu();if(t==="update"){return}if(a&&a.status===403){var r=i.template.get("list-not-authorized");this.$el.html(r(a))}},onContextMenuClick:function e(t){return false},onGripClick:function e(t){t.preventDefault();t.stopPropagation();var n=this.getModel($(t.currentTarget).closest("article").attr("data-id"));if(this.contextMenu){this.contextMenu.onGripClick(t,n)}},onItemElementClick:function e(t){if(t.isDefaultPrevented()||t.isPropagationStopped()){return}var n=this.getModel($(t.currentTarget).attr("data-id"));this.hideContextMenu();this.trigger("list:item:clicked");this.onItemClick(n,t)},onItemSwipe:function e(t){var n=i.controller.layoutManager.getRecordLayout();if(this.contextMenuOnSwipeDisabled||!i.isTablet||n){return}var a=s();var r=this.getModel($(t.currentTarget).attr("data-id"));if(t.type==="swipeLeft"&&a||t.type==="swipeRight"&&!a){this.contextMenu.onItemSwipeLeft(t,r)}else{this.contextMenu.onItemSwipeRight(t,r)}},onItemLongTap:function e(t){if(this.contextMenuDisabled||this.contextMenu.isItemHasContextMenuOpened(t.currentTarget)||$.__swipeHelper.swipeOrientation!==""||a.isSwiping){return}var n=this.getModel($(t.currentTarget).attr("data-id"));this.contextMenu.onItemLongTap(t,n)},onItemClick:function e(t,n){if(this.options.onItemClick){return this.options.onItemClick(t,n)}if(t&&i.acl.hasAccessToModel("view",t)){var a=this._buildRecordRoute({model:t,hash:{link:this.context.get("link"),appendRoot:true}});if(a){i.controller.navigate(a,{initiator:this.navigationName})}}},getModel:function e(t){var n=v.listItemDataProviders[this.getListItemDataProvider()];t=n.extractId(t);return this.collection.get(t)},loadData:function e(t){t=this._applyCurrentStateParams(t);return this._super(t).catchReturn()},bindViewSyncListener:function e(){this.listenTo(this.collection,"sync",this.publishCollectionSyncData)},unbindViewSyncListener:function e(){this.stopListening(this.collection,"sync",this.publishCollectionSyncData)},publishCollectionSyncData:function e(t,n,i){this.publishSyncData(t.toJSON(),null,i)},getAllSyncableCollections:function e(){return[this.collection]},receiveSyncData:function e(t,n,i){if(t&&t.id){_.each(this.getAllSyncableCollections(),function e(a){this.processCollection(a,t,n,i)},this)}},processCollection:function e(t,n,a,r){var s=t.get(n.id);if(s){if(a&&a.status===404||!a&&r.method==="delete"){t.remove(s)}else if(!a&&!o(s,n)){s.set(n);if(!i.acl.hasAccessToModel("list",s)){t.remove(s)}}}},bindCollectionEvents:function e(){this.listenTo(this.collection,"data:sync:start",function e(t,n){this.onDataSyncStart(t,this.collection,n)});this.listenTo(this.collection,"sync",this.onDataSyncSuccess).listenTo(this.collection,"data:sync:error",this.onDataSyncError).listenTo(this.collection,"reset",this.render).listenTo(this.collection,"add",this.onItemAdded).listenTo(this.collection,"remove",this.onItemRemoved);this.unbindViewSyncListener();this.bindViewSyncListener()},unbindCollectionEvents:function e(){this.stopListening(this.collection)},_dispose:function e(){var t=this.getViewContainer();if(t){t.remove()}if(this.contextMenu){this.contextMenu.dispose()}this._super()},isCurrentListUpdated:function e(t){this.context.get("parentModule");this.context.get("link");if(!(this.collection instanceof i.BeanCollection)||!t){return false}return this.collection.cid===t.cid},setOfflineEnabled:function e(t){this.collection.offlineReadDisabled=!t},setSortByField:function e(){var t=this.getCurrentState();var n=t.order_by?t.order_by.split(":")[0]:null;this.sortBy=null;if(n&&n!=="name"&&n!=="date_modified"){var a=this.modContextData[this.module].additionalListFields;if(_.isEmpty(_.findWhere(a,{name:n}))){var r=i.metadata.getModule(this.module).fields[n];this.sortBy={name:n,type:r.type,label:r.vname}}}},abortActiveRequests:function e(){var t=this.collection;var n=false;if(t.getFetchRequest()){this.context.resetLoadFlag();t.abortFetchRequest();n=true}return n},_buildRecordRoute:function e(t){return l(t.model,{hash:t.hash})},getListItemEl:function e(t){var n=void 0;var a=void 0;if(!_.isObject(t)){t=this.collection.get(t)}if(t){n=v.listItemDataProviders[this.getListItemDataProvider()].buildId(t);a=i.utils.formatString('article[data-id="{0}"]',[n])}return $(this.$(a))},_deleteRecord:function e(t,n){var a=i.lang.get(n?"LBL_MOBILE_UNLINK_CONFIRM":"LBL_MOBILE_DELETE_CONFIRM");this.hideContextMenu();f.showConfirm(a,{callback:function e(i){if(i===2){t.destroy({relate:n,wait:true})}}});return false},onToggleFieldValue:function e(t,n,i){var a=t.get(i);t[n](!a,{error:_.bind(function e(){t.set(i,a);this.hideContextMenu()},this)});this.hideContextMenu()},hideContextMenu:function e(){if(this.contextMenu&&this.contextMenu.isOpened()){this.contextMenu.hide()}},isActionVisible:function e(t){return t.isVisible&&t.isEnabled},initPagination:function e(t){if(t.isPaginationEnabled!==undefined){this.isPaginationEnabled=t.isPaginationEnabled}},_showFetchingMsg:function e(t){if(this.collection.offlineReadDisabled||!this.isCurrentListUpdated(t.apiOptions)){return}t.backgroundFetch=true;var n=this._isFetchRunning;var a=t.status===i.offline.api.ReadCollectionStatus.START;if(a&&!this._isFetchRunning){this._isFetchRunning=true}else if(!a&&t.isSearchRequest||!a&&!t.isDataUpdated){this._isFetchRunning=false}if(n!==this._isFetchRunning){if(this._isFetchRunning){i.syncAlertManager.onSyncStart("read",this.collection,t)}else{i.syncAlertManager.onSyncSuccess("read",this.collection,t)}}},onDetachFromDom:function e(){this._super();this._isFetchRunning=false},_updatePaginationElements:function e(){if(!this.collection){return}while(this.collection.length>this.getMaxPageSize()){this.collection.shift()}this.$(".show-more-top-btn").toggleElement(this.needShowMoreTopButton());this.$(".show-more-bottom-btn").toggleElement(this.needShowMoreBottomBtn());this.reflowScroller()},paginateTop:function e(){if(!this.isPaginationEnabled){return}var t=Math.max(this.collection.offset-this.collection.length-i.config.maxQueryResult,0);var n={offset:t,limit:this.getMaxPageSize()};n=this._applyCurrentStateParams(n);this.collection.fetch(n)},paginateBottom:function e(){if(!this.isPaginationEnabled){return}var t=this._applyCurrentStateParams();this.collection.setOption({update:true,remove:false});this.collection.paginate(t)},needShowMoreTopButton:function e(){return this.collection.dataFetched&&Math.max(this.collection.next_offset,this.collection.offset)>this.getMaxPageSize()},needShowMoreBottomBtn:function e(){return this.collection.dataFetched&&this.collection.next_offset!==-1}},{listItemDataProviders:m.storage});e.exports=v},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var User=__webpack_require__(19);var Language=__webpack_require__(18);var _doWhenStack=[];var _doWhenLocked=false;var _doWhenInterval=false;var _doWhenretryCount=0;var _startDoWhenInterval=function e(){if(!_doWhenInterval){_doWhenInterval=window.setInterval(Utils._doWhenCheck,50)}};var Cookie={setCookie:function e(t,n,i,a){var r=new Date,s;r.setDate(r.getDate()+i);s=encodeURIComponent(n);if(i){s+="; expires="+r.toUTCString()}if(a){s+="; path="+a}document.cookie=t+"="+s},getCookie:function e(t){var n,i,a,r=document.cookie.split(";");for(n=0;n<r.length;n++){i=r[n].substr(0,r[n].indexOf("="));a=r[n].substr(r[n].indexOf("=")+1);i=i.replace(/^\s+|\s+$/g,"");if(i===t){return decodeURIComponent(a)}}}};var Utils={capitalize:function e(t){return t?t.charAt(0).toUpperCase()+(t.length>1?t.substr(1):""):""},capitalizeHyphenated:function e(t){return this._classify(t,"-")},classify:function e(t){return this._classify(t,"_")},_classify:function e(t,n){var i=this,a="";n=n||"_";if(!t||t.lastIndexOf(n)===-1){a=i.capitalize(t)}else{var r=t.split(n);_.each(r,function(e){a+=i.capitalize(e)})}return a},extendClass:function e(t,n,i,a,r){var s;if(!_.isObject(a)){s=t[i]=n;return s}if(_.isObject(a.extendsFrom)){s=t[i]=a.extendsFrom.extend(a);return s}if(!a.extendsFrom){s=t[i]=n.extend(a);return s}var o=t[r+"Custom"+a.extendsFrom]||t[r+a.extendsFrom]||t["Custom"+a.extendsFrom]||t[a.extendsFrom];if(!o){SUGAR.App.logger.warn('The "'+a.extendsFrom+'" component was not found to be used as '+'the "'+i+"\"'s parent. Please update your code to point to an existing class.");o=n}s=t[i]=o.extend(a);return s},formatNumber:function e(t,n,i,a,r){n=n||i;var s=t;if(_.isNaN(t)||!_.isFinite(t)){return s}if(_.isString(t)){t=parseFloat(t,10);if(_.isNaN(t)){return s}}if(!_.isNumber(t)){if(!_.isNull(t)&&!_.isUndefined(t)){SUGAR.App.logger.warn("formatNumber: invalid variable type ("+(typeof s==="undefined"?"undefined":_typeof(s))+")")}return s}if(_.isString(i)){i=parseInt(i)}t=Big(t).toFixed(i);return _.isString(a)&&_.isString(r)?this.addNumberSeparators(t,a,r):t},formatNumberLocale:function e(t){return this.formatNumber(t,User.getPreference("decimal_precision")||2,User.getPreference("decimal_precision")||2,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".")},formatName:function e(t,n){return n.replace(/(f)|(l)|(s)/g,function(e,n,i,a){if(n){return t.first_name||""}if(i){return t.last_name||""}if(a&&(t.last_name||t.first_name)){return t.salutation||""}return""}).replace(/^( )?,/g,"").replace(/, $/g,"").replace(/  /g," ").trim()},formatNameModel:function e(t,n,i){i=i||User.getPreference("default_locale_name_format");n=n||{};var a=SUGAR.App.metadata.getModule(t)||{fields:{}};var r=a.nameFormat||{};return _.reduce(i.split(""),function(e,t){if(t<"a"||t>"z"){return e+t}if(!r[t]){return e}var i,s=a.fields[r[t]]&&a.fields[r[t]].type==="enum"&&!_.isEmpty(a.fields[r[t]].options);if(s){var o=Language.getAppListStrings(a.fields[r[t]].options);i=o[n[r[t]]]||n[r[t]]||""}return e+(i||n[r[t]]||"")},"").replace(/^( )?,/g,"").replace(/, +$/g,"").replace(/  /g," ").trim()},formatNameLocale:function e(t){return this.formatName(t,User.getPreference("default_locale_name_format"))},addNumberSeparators:function e(t,n,i){var a=t.split(".");var r=/(\d+)(\d{3})/;while(n!==""&&r.test(a[0])){a[0]=a[0].toString().replace(r,"$1"+n+"$2")}return a[0]+(a.length>1&&a[1]!==""?i+a[1]:"")},unformatNumberString:function e(t,n,i,a){a=a||false;if(typeof n==="undefined"||typeof i==="undefined"){return t}if(!_.isString(t)){if(_.isFinite(t)){t=t.toString()}else{t=""}}if(n!==""){var r=new RegExp("\\"+n,"g");t=t.replace(r,"")}t=t.replace(i,".");if(t.length>0&&a){var s=parseFloat(t);if(s==t){return s}}return t},unformatNumberStringLocale:function e(t,n){return this.unformatNumberString(t,User.getPreference("number_grouping_separator")||",",User.getPreference("decimal_separator")||".",n)},formatString:function e(t,n){for(var i in n){t=t.replace("{"+i+"}",n[i])}return t},regexEscape:function e(t){if(typeof e.specialRegExp=="undefined"){var n=["/",".","*","+","?","|","(",")","[","]","{","}","\\","-",",","^","$","#"];e.specialRegExp=new RegExp("(\\"+n.join("|\\")+")","g")}return t.replace(e.specialRegExp,"\\$1")},generateUUID:function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})},cookie:Cookie,isValidEmailAddress:function e(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@\S+$/.test(t)},doWhen:function e(t,n,i,a){_doWhenStack.push({check:t,fn:n,obj:i,overrideContext:a});_doWhenretryCount=50;_startDoWhenInterval()},_doWhenCheck:function _doWhenCheck(){if(_doWhenStack.length===0){_doWhenretryCount=0;if(_doWhenInterval){clearInterval(_doWhenInterval);_doWhenInterval=null}return}if(_doWhenLocked){return}_doWhenLocked=true;var tryAgain=$.isReady;if(!tryAgain){tryAgain=_doWhenretryCount>0&&_doWhenStack.length>0}var notAvail=[];var executeItem=function e(t,n){if(n.overrideContext){if(n.overrideContext===true){t=n.obj}else{t=n.overrideContext}}if(n.fn){n.fn.call(t,n.obj)}};var i,len,item,test;for(i=0,len=_doWhenStack.length;i<len;i=i+1){item=_doWhenStack[i];if(item){test=item.check;if(typeof test=="string"&&eval(test)||typeof test=="function"&&test()){executeItem(this,item);_doWhenStack[i]=null}else{notAvail.push(item)}}}_doWhenretryCount--;if(tryAgain){for(i=_doWhenStack.length-1;i>-1;i--){item=_doWhenStack[i];if(!item||!item.check){_doWhenStack.splice(i,1)}}_startDoWhenInterval()}else{if(_doWhenInterval){clearInterval(_doWhenInterval);_doWhenInterval=null}}_doWhenLocked=false},versionCompare:function e(t,n,i){return version_compare(t,n,i)},extendFrom:function e(t,n,i){t.prototype=new n;_.extend(t.prototype,i)},deepCopy:function e(t){return _.isObject(t)?JSON.parse(JSON.stringify(t)):t},compareBeans:function e(t,n){var i;if(t.module!==n.module){throw Error("Only beans of the same module can be compared.")}i=_.reduce(t.attributes,function(e,i,a){if(a!=="id"&&a.indexOf("_")!==0){if(!this.areBeanValuesEqual(i,n.get(a))&&this.hasDefaultValueChanged(a,t)){e.push(a)}}return e},[],this);return i},areBeanValuesEqual:function e(t,n){var i=function e(t){if(_.isObject(t)&&_.isEmpty(t)){return""}else if(!_.isObject(t)&&(_.isUndefined(t)||_.isNull(t))){return""}else{return t}};t=i(t);n=i(n);return _.isObject(t)&&_.isEqual(t,n)||!_.isObject(t)&&t===n},hasDefaultValueChanged:function e(t,n){var i=n._defaults?n._defaults[t]:"";return!this.areBeanValuesEqual(i,n.get(t))},isConnectivityError:function e(t){return t.status===0||t.textStatus==="timeout"},getTimestamp:function e(t,n){n=n||{};var i=t?new Date(t):new Date,a=i.toISOString();if(!n.msecPrecision){a=a.replace(/\.\d{3}/,"")}return a.replace(/Z/,"+00:00")},buildUrl:function e(t){if(t.indexOf("http")!==0&&!_.isEmpty(SUGAR.App.config.siteUrl)){t=SUGAR.App.config.siteUrl.replace(/\/+$/,"")+"/"+t}return t},getChangedProps:function e(t,n,i){function a(e){if(_.isObject(e)){if(_.isArray(e)){return"array"}return"object"}return"other"}function r(e,t){if(i)return _.isEqual(e,t);var n=a(e),s=a(t);if(n===s&&_.contains(["object","array"],n)){if(n==="array"&&e.length!==t.length){return false}var o=_.keys(e),l=_.keys(t);if(o.length!==l.length||!_.isEqual(o.sort(),l.sort())){return false}return!_.any(e,function(n,i){return!r(e[i],t[i])})}else{return i?e===t:e==t}}var s={};_.each(t,function(e,i){if(!r(t[i],n[i])){s[i]=e}});return s},getParentLayout:function e(t){var n;if(t.view&&t.view.layout){n=t.view.layout}else{n=t.layout}return n},isSortable:function e(t,n){var i=SUGAR.App.metadata.getModule(t).fields[n.name],e=true;if(i&&!_.isUndefined(i.sortable)){e=i.sortable}if(n&&!_.isUndefined(n.sortable)){e=n.sortable}return e},stripHttpPrefix:function e(t){return t.replace(/^https?:\/\//,"")},hardRefresh:function e(){window.location.reload(true)},isDirectionRTL:function e(t){var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿"+"Ⰰ-﬜﷾-﹯﻽-￿",i="֑-߿יִ-﷽ﹰ-ﻼ",a=new RegExp("^[^"+n+"]*["+i+"]");return a.test(t)}};module.exports=Utils},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(51);var s=n(140);var o=n(33);var l={selector:r,dupecheck:s};var u=a.extendComponent(o,{_stringType:"selection-list",_presets:{staticItems:{self:{isFilterEnabled:false,isSearchEnabled:false},innerList:{isPtrEnabled:false,template:"list-picker",listItemTpl:"list-item-picker",listItemDataProvider:"list-item-picker",className:"list-picker"}},base:{self:{isFilterEnabled:true,isSearchEnabled:true},innerList:{isPtrEnabled:true}}},initialize:function e(t){if(t.preset){_.extend(t,this._presets[t.preset].self)}else{_.extend(t,this._presets.base.self)}t.subType=t.subType||"selector";this._super(t)},getListViewDef:function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}var r=this._super.apply(this,[t].concat(i));if(t.preset){_.extend(r,this._presets[t.preset].innerList)}else{_.extend(r,this._presets.base.innerList)}return _.extend({},{multiselect:Boolean(t.multiselect),listItemTpl:t.listItemTpl,listItemDataProvider:t.listItemDataProvider},r)},onAfterRender:function e(){var t=this;this._super();var n=this.getCurrentList();var a=n.collection;this.listenTo(n,"selection:change",function(e){return t.onSelectionChange(e)});if(i.offlineEnabled){this.listenTo(i.events,"offline:collection:read",function e(t){if(n.isCurrentListUpdated(t.apiOptions)&&t.status===i.offline.api.ReadCollectionStatus.FINISH&&!t.isDataUpdated){this.changeSaveBtnState()}})}else{this.listenTo(a,"sync",function(){return t.changeSaveBtnState()})}},onSelectionChange:function e(t){var n=this.getCurrentList();this.trigger("selection:change",t);if(this.isFilterEnabled){if(!this.options.multiselect){return}if(_.isEmpty(n.getSelectedIds())){if(this._searchBox){this.setHeaderBtnsVisible({search:true})}this.toggleFiltersView(true)}else{if(this._searchBox){this._searchBox.hideSearch();this.setHeaderBtnsVisible({search:false})}this.toggleFiltersView()}}this.changeSaveBtnState()},setHeaderBtnsVisible:function e(t){i.controller.updateHeader(this,function(e){e.setButtonVisible(t)})},changeSaveBtnState:function e(){var t=this;i.controller.updateHeader(this,function(e){e.setSaveBtnState({enabled:!_.isEmpty(t.getCurrentList().getSelectedIds())})})},headerConfig:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=_.extend(t,{save:true,cancel:true,mainMenu:false,saveLabel:"LBL_DONE_BUTTON_LABEL"});return this._super(n)},getListViewClass:function e(t){return l[t.subType]},onToggleSearch:function e(t){if(t){this.toggleFiltersView(true)}this._super(t)},getSelectedModels:function e(){return this.getCurrentList().getSelectedModels()}});e.exports=u},function(module,exports,__webpack_require__){(function(process,global,setImmediate){!function(e){if(true)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){var define,module,exports;return function e(t,n,i){function a(s,o){if(!n[s]){if(!t[s]){var l=typeof _dereq_=="function"&&_dereq_;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}var r=typeof _dereq_=="function"&&_dereq_;for(var s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e);var i=n.promise();n.setHowMany(1);n.setUnwrap();n.init();return i}e.any=function(e){return n(e)};e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,n){"use strict";var i;try{throw new Error}catch(e){i=e}var a=e("./schedule");var r=e("./queue");var s=e("./util");function o(){this._customScheduler=false;this._isTickUsed=false;this._lateQueue=new r(16);this._normalQueue=new r(16);this._haveDrainedQueues=false;this._trampolineEnabled=true;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=a}o.prototype.setScheduler=function(e){var t=this._schedule;this._schedule=e;this._customScheduler=true;return t};o.prototype.hasCustomScheduler=function(){return this._customScheduler};o.prototype.enableTrampoline=function(){this._trampolineEnabled=true};o.prototype.disableTrampolineIfNecessary=function(){if(s.hasDevTools){this._trampolineEnabled=false}};o.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};o.prototype.fatalError=function(e,t){if(t){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");process.exit(2)}else{this.throwLater(e)}};o.prototype.throwLater=function(e,t){if(arguments.length===1){t=e;e=function(){throw t}}if(typeof setTimeout!=="undefined"){setTimeout(function(){e(t)},0)}else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function l(e,t,n){this._lateQueue.push(e,t,n);this._queueTick()}function u(e,t,n){this._normalQueue.push(e,t,n);this._queueTick()}function c(e){this._normalQueue._pushOne(e);this._queueTick()}if(!s.hasDevTools){o.prototype.invokeLater=l;o.prototype.invoke=u;o.prototype.settlePromises=c}else{o.prototype.invokeLater=function(e,t,n){if(this._trampolineEnabled){l.call(this,e,t,n)}else{this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})}};o.prototype.invoke=function(e,t,n){if(this._trampolineEnabled){u.call(this,e,t,n)}else{this._schedule(function(){e.call(t,n)})}};o.prototype.settlePromises=function(e){if(this._trampolineEnabled){c.call(this,e)}else{this._schedule(function(){e._settlePromises()})}}}o.prototype._drainQueue=function(e){while(e.length()>0){var t=e.shift();if(typeof t!=="function"){t._settlePromises();continue}var n=e.shift();var i=e.shift();t.call(n,i)}};o.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;this._drainQueue(this._lateQueue)};o.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};o.prototype._reset=function(){this._isTickUsed=false};t.exports=o;t.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var a=false;var r=function(e,t){this._reject(t)};var s=function(e,t){t.promiseRejectionQueued=true;t.bindingPromise._then(r,r,null,this,e)};var o=function(e,t){if((this._bitField&50397184)===0){this._resolveCallback(t.target)}};var l=function(e,t){if(!t.promiseRejectionQueued)this._reject(e)};e.prototype.bind=function(r){if(!a){a=true;e.prototype._propagateFrom=i.propagateFromFunction();e.prototype._boundValue=i.boundValueFunction()}var u=n(r);var c=new e(t);c._propagateFrom(this,1);var d=this._target();c._setBoundTo(u);if(u instanceof e){var f={promiseRejectionQueued:false,promise:c,target:d,bindingPromise:u};d._then(t,s,undefined,c,f);u._then(o,l,undefined,c,f);c._setOnCancel(u)}else{c._resolveCallback(d)}return c};e.prototype._setBoundTo=function(e){if(e!==undefined){this._bitField=this._bitField|2097152;this._boundTo=e}else{this._bitField=this._bitField&~2097152}};e.prototype._isBound=function(){return(this._bitField&2097152)===2097152};e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var i;if(typeof Promise!=="undefined")i=Promise;function a(){try{if(Promise===r)Promise=i}catch(e){}return r}var r=e("./promise")();r.noConflict=a;t.exports=r},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var a=i(null);var r=i(null);a[" size"]=r[" size"]=0}t.exports=function(t){var n=e("./util");var i=n.canEvaluate;var s=n.isIdentifier;var o;var l;if(false){var u=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(f)};var c=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))};var d=function(e,t,n){var i=n[e];if(typeof i!=="function"){if(!s(e)){return null}i=t(e);n[e]=i;n[" size"]++;if(n[" size"]>512){var a=Object.keys(n);for(var r=0;r<256;++r)delete n[a[r]];n[" size"]=a.length-256}}return i};o=function(e){return d(e,u,a)};l=function(e){return d(e,c,r)}}function f(e,i){var a;if(e!=null)a=e[i];if(typeof a!=="function"){var r="Object "+n.classString(e)+" has no method '"+n.toString(i)+"'";throw new t.TypeError(r)}return a}function h(e){var t=this.pop();var n=f(e,t);return n.apply(e,this)}t.prototype.call=function(e){var t=[].slice.call(arguments,1);if(false){if(i){var n=o(e);if(n!==null){return this._then(n,undefined,undefined,t,undefined)}}}t.push(e);return this._then(h,undefined,undefined,t,undefined)};function p(e){return e[this]}function m(e){var t=+this;if(t<0)t=Math.max(0,t+e.length);return e[t]}t.prototype.get=function(e){var t=typeof e==="number";var n;if(!t){if(i){var a=l(e);n=a!==null?a:p}else{n=p}}else{n=m}return this._then(n,undefined,undefined,e,undefined)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var r=e("./util");var s=r.tryCatch;var o=r.errorObj;var l=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!a.cancellation())return this._warn("cancellation is disabled");var e=this;var t=e;while(e._isCancellable()){if(!e._cancelBy(t)){if(t._isFollowing()){t._followee().cancel()}else{t._cancelBranched()}break}var n=e._cancellationParent;if(n==null||!n._isCancellable()){if(e._isFollowing()){e._followee().cancel()}else{e._cancelBranched()}break}else{if(e._isFollowing())e._followee().cancel();e._setWillBeCancelled();t=e;e=n}}};t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0};t.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return true}else{this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return true}}return false};t.prototype._cancelBranched=function(){if(this._enoughBranchesHaveCancelled()){this._cancel()}};t.prototype._cancel=function(){if(!this._isCancellable())return;this._setCancelled();l.invoke(this._cancelPromises,this,undefined)};t.prototype._cancelPromises=function(){if(this._length()>0)this._settlePromises()};t.prototype._unsetOnCancel=function(){this._onCancelField=undefined};t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};t.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e)){for(var n=0;n<e.length;++n){this._doInvokeOnCancel(e[n],t)}}else if(e!==undefined){if(typeof e==="function"){if(!t){var i=s(e).call(this._boundValue());if(i===o){this._attachExtraTrace(i.e);l.throwLater(i.e)}}}else{e._resultCancelled(this)}}};t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();l.invoke(this._doInvokeOnCancel,this,e)};t.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),true);this._unsetOnCancel()}};t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util");var i=e("./es5").keys;var a=n.tryCatch;var r=n.errorObj;function s(e,s,o){return function(l){var u=o._boundValue();e:for(var c=0;c<e.length;++c){var d=e[c];if(d===Error||d!=null&&d.prototype instanceof Error){if(l instanceof d){return a(s).call(u,l)}}else if(typeof d==="function"){var f=a(d).call(u,l);if(f===r){return f}else if(f){return a(s).call(u,l)}}else if(n.isObject(l)){var h=i(d);for(var p=0;p<h.length;++p){var m=h[p];if(d[m]!=l[m]){continue e}}return a(s).call(u,l)}}return t}}return s}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=false;var n=[];e.prototype._promiseCreated=function(){};e.prototype._pushContext=function(){};e.prototype._popContext=function(){return null};e._peekContext=e.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(r())}i.prototype._pushContext=function(){if(this._trace!==undefined){this._trace._promiseCreated=null;n.push(this._trace)}};i.prototype._popContext=function(){if(this._trace!==undefined){var e=n.pop();var t=e._promiseCreated;e._promiseCreated=null;return t}return null};function a(){if(t)return new i}function r(){var e=n.length-1;if(e>=0){return n[e]}return undefined}i.CapturedTrace=null;i.create=a;i.deactivateLongStackTraces=function(){};i.activateLongStackTraces=function(){var n=e.prototype._pushContext;var a=e.prototype._popContext;var s=e._peekContext;var o=e.prototype._peekContext;var l=e.prototype._promiseCreated;i.deactivateLongStackTraces=function(){e.prototype._pushContext=n;e.prototype._popContext=a;e._peekContext=s;e.prototype._peekContext=o;e.prototype._promiseCreated=l;t=false};t=true;e.prototype._pushContext=i.prototype._pushContext;e.prototype._popContext=i.prototype._popContext;e._peekContext=e.prototype._peekContext=r;e.prototype._promiseCreated=function(){var e=this._peekContext();if(e&&e._promiseCreated==null)e._promiseCreated=this}};return i}},{}],9:[function(e,t,n){"use strict";t.exports=function(t,n){var i=t._getDomain;var a=t._async;var r=e("./errors").Warning;var s=e("./util");var o=s.canAttachTrace;var l;var u;var c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/;var d=/\((?:timers\.js):\d+:\d+\)/;var f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/;var h=null;var p=null;var m=false;var _;var g=!!(s.env("BLUEBIRD_DEBUG")!=0&&(true||s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development"));var v=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(g||s.env("BLUEBIRD_WARNINGS")));var b=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(g||s.env("BLUEBIRD_LONG_STACK_TRACES")));var y=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(v||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&~1048576|524288};t.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)};t.prototype._notifyUnhandledRejectionIsHandled=function(){K("rejectionHandled",l,undefined,this)};t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456};t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0};t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();K("unhandledRejection",u,e,this)}};t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144};t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144};t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0};t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576};t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0};t.prototype._warn=function(e,t,n){return H(e,t,n||this)};t.onPossiblyUnhandledRejection=function(e){var t=i();u=typeof e==="function"?t===null?e:s.domainBind(t,e):undefined};t.onUnhandledRejectionHandled=function(e){var t=i();l=typeof e==="function"?t===null?e:s.domainBind(t,e):undefined};var x=function(){};t.longStackTraces=function(){if(a.haveItemsQueued()&&!re.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!re.longStackTraces&&Z()){var e=t.prototype._captureStackTrace;var i=t.prototype._attachExtraTrace;re.longStackTraces=true;x=function(){if(a.haveItemsQueued()&&!re.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}t.prototype._captureStackTrace=e;t.prototype._attachExtraTrace=i;n.deactivateLongStackTraces();a.enableTrampoline();re.longStackTraces=false};t.prototype._captureStackTrace=B;t.prototype._attachExtraTrace=U;n.activateLongStackTraces();a.disableTrampolineIfNecessary()}};t.hasLongStackTraces=function(){return re.longStackTraces&&Z()};var S=function(){try{if(typeof CustomEvent==="function"){var e=new CustomEvent("CustomEvent");s.global.dispatchEvent(e);return function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:true});return!s.global.dispatchEvent(n)}}else if(typeof Event==="function"){var e=new Event("CustomEvent");s.global.dispatchEvent(e);return function(e,t){var n=new Event(e.toLowerCase(),{cancelable:true});n.detail=t;return!s.global.dispatchEvent(n)}}else{var e=document.createEvent("CustomEvent");e.initCustomEvent("testingtheevent",false,true,{});s.global.dispatchEvent(e);return function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e.toLowerCase(),false,true,t);return!s.global.dispatchEvent(n)}}}catch(e){}return function(){return false}}();var w=function(){if(s.isNode){return function(){return process.emit.apply(process,arguments)}}else{if(!s.global){return function(){return false}}return function(e){var t="on"+e.toLowerCase();var n=s.global[t];if(!n)return false;n.apply(s.global,[].slice.call(arguments,1));return true}}}();function L(e,t){return{promise:t}}var E={promiseCreated:L,promiseFulfilled:L,promiseRejected:L,promiseResolved:L,promiseCancelled:L,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:L};var M=function(e){var t=false;try{t=w.apply(null,arguments)}catch(e){a.throwLater(e);t=true}var n=false;try{n=S(e,E[e].apply(null,arguments))}catch(e){a.throwLater(e);n=true}return n||t};t.config=function(e){e=Object(e);if("longStackTraces"in e){if(e.longStackTraces){t.longStackTraces()}else if(!e.longStackTraces&&t.hasLongStackTraces()){x()}}if("warnings"in e){var n=e.warnings;re.warnings=!!n;y=re.warnings;if(s.isObject(n)){if("wForgottenReturn"in n){y=!!n.wForgottenReturn}}}if("cancellation"in e&&e.cancellation&&!re.cancellation){if(a.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}t.prototype._clearCancellationData=R;t.prototype._propagateFrom=O;t.prototype._onCancel=C;t.prototype._setOnCancel=D;t.prototype._attachCancellationCallback=T;t.prototype._execute=A;F=O;re.cancellation=true}if("monitoring"in e){if(e.monitoring&&!re.monitoring){re.monitoring=true;t.prototype._fireEvent=M}else if(!e.monitoring&&re.monitoring){re.monitoring=false;t.prototype._fireEvent=k}}return t};function k(){return false}t.prototype._fireEvent=k;t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}};t.prototype._onCancel=function(){};t.prototype._setOnCancel=function(e){};t.prototype._attachCancellationCallback=function(e){};t.prototype._captureStackTrace=function(){};t.prototype._attachExtraTrace=function(){};t.prototype._clearCancellationData=function(){};t.prototype._propagateFrom=function(e,t){};function A(e,t,n){var i=this;try{e(t,n,function(e){if(typeof e!=="function"){throw new TypeError("onCancel must be a function, got: "+s.toString(e))}i._attachCancellationCallback(e)})}catch(e){return e}}function T(e){if(!this._isCancellable())return this;var t=this._onCancel();if(t!==undefined){if(s.isArray(t)){t.push(e)}else{this._setOnCancel([t,e])}}else{this._setOnCancel(e)}}function C(){return this._onCancelField}function D(e){this._onCancelField=e}function R(){this._cancellationParent=undefined;this._onCancelField=undefined}function O(e,t){if((t&1)!==0){this._cancellationParent=e;var n=e._branchesRemainingToCancel;if(n===undefined){n=0}e._branchesRemainingToCancel=n+1}if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}function I(e,t){if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}var F=I;function N(){var e=this._boundTo;if(e!==undefined){if(e instanceof t){if(e.isFulfilled()){return e.value()}else{return undefined}}}return e}function B(){this._trace=new ie(this._peekContext())}function U(e,t){if(o(e)){var n=this._trace;if(n!==undefined){if(t)n=n._parent}if(n!==undefined){n.attachExtraTrace(e)}else if(!e.__stackCleaned__){var i=q(e);s.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n"));s.notEnumerableProp(e,"__stackCleaned__",true)}}}function P(e,t,n,i,a){if(e===undefined&&t!==null&&y){if(a!==undefined&&a._returnedNonUndefined())return;if((i._bitField&65535)===0)return;if(n)n=n+" ";var r="";var s="";if(t._trace){var o=t._trace.stack.split("\n");var l=z(o);for(var u=l.length-1;u>=0;--u){var c=l[u];if(!d.test(c)){var h=c.match(f);if(h){r="at "+h[1]+":"+h[2]+":"+h[3]+" "}break}}if(l.length>0){var p=l[0];for(var u=0;u<o.length;++u){if(o[u]===p){if(u>0){s="\n"+o[u-1]}break}}}}var m="a promise was created in a "+n+"handler "+r+"but was not returned from it, "+"see http://goo.gl/rRqMUw"+s;i._warn(m,true,t)}}function Y(e,t){var n=e+" is deprecated and will be removed in a future version.";if(t)n+=" Use "+t+" instead.";return H(n)}function H(e,n,i){if(!re.warnings)return;var a=new r(e);var s;if(n){i._attachExtraTrace(a)}else if(re.longStackTraces&&(s=t._peekContext())){s.attachExtraTrace(a)}else{var o=q(a);a.stack=o.message+"\n"+o.stack.join("\n")}if(!M("warning",a)){W(a,"",true)}}function G(e,t){for(var n=0;n<t.length-1;++n){t[n].push("From previous event:");t[n]=t[n].join("\n")}if(n<t.length){t[n]=t[n].join("\n")}return e+"\n"+t.join("\n")}function V(e){for(var t=0;t<e.length;++t){if(e[t].length===0||t+1<e.length&&e[t][0]===e[t+1][0]){e.splice(t,1);t--}}}function j(e){var t=e[0];for(var n=1;n<e.length;++n){var i=e[n];var a=t.length-1;var r=t[a];var s=-1;for(var o=i.length-1;o>=0;--o){if(i[o]===r){s=o;break}}for(var o=s;o>=0;--o){var l=i[o];if(t[a]===l){t.pop();a--}else{break}}t=i}}function z(e){var t=[];for(var n=0;n<e.length;++n){var i=e[n];var a="    (No stack trace)"===i||h.test(i);var r=a&&Q(i);if(a&&!r){if(m&&i.charAt(0)!==" "){i="    "+i}t.push(i)}}return t}function $(e){var t=e.stack.replace(/\s+$/g,"").split("\n");for(var n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||h.test(i)){break}}if(n>0&&e.name!="SyntaxError"){t=t.slice(n)}return t}function q(e){var t=e.stack;var n=e.toString();t=typeof t==="string"&&t.length>0?$(e):["    (No stack trace)"];return{message:n,stack:e.name=="SyntaxError"?t:z(t)}}function W(e,t,n){if(typeof console!=="undefined"){var i;if(s.isObject(e)){var a=e.stack;i=t+p(a,e)}else{i=t+String(e)}if(typeof _==="function"){_(i,n)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(i)}}}function K(e,t,n,i){var r=false;try{if(typeof t==="function"){r=true;if(e==="rejectionHandled"){t(i)}else{t(n,i)}}}catch(e){a.throwLater(e)}if(e==="unhandledRejection"){if(!M(e,n,i)&&!r){W(n,"Unhandled rejection ")}}else{M(e,i)}}function J(e){var t;if(typeof e==="function"){t="[function "+(e.name||"anonymous")+"]"}else{t=e&&typeof e.toString==="function"?e.toString():s.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t)){try{var i=JSON.stringify(e);t=i}catch(e){}}if(t.length===0){t="(empty array)"}}return"(<"+X(t)+">, no stack trace)"}function X(e){var t=41;if(e.length<t){return e}return e.substr(0,t-3)+"..."}function Z(){return typeof ae==="function"}var Q=function(){return false};var ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function te(e){var t=e.match(ee);if(t){return{fileName:t[1],line:parseInt(t[2],10)}}}function ne(e,t){if(!Z())return;var n=e.stack.split("\n");var i=t.stack.split("\n");var a=-1;var r=-1;var s;var o;for(var l=0;l<n.length;++l){var u=te(n[l]);if(u){s=u.fileName;a=u.line;break}}for(var l=0;l<i.length;++l){var u=te(i[l]);if(u){o=u.fileName;r=u.line;break}}if(a<0||r<0||!s||!o||s!==o||a>=r){return}Q=function(e){if(c.test(e))return true;var t=te(e);if(t){if(t.fileName===s&&(a<=t.line&&t.line<=r)){return true}}return false}}function ie(e){this._parent=e;this._promisesCreated=0;var t=this._length=1+(e===undefined?0:e._length);ae(this,ie);if(t>32)this.uncycle()}s.inherits(ie,Error);n.CapturedTrace=ie;ie.prototype.uncycle=function(){var e=this._length;if(e<2)return;var t=[];var n={};for(var i=0,a=this;a!==undefined;++i){t.push(a);a=a._parent}e=this._length=i;for(var i=e-1;i>=0;--i){var r=t[i].stack;if(n[r]===undefined){n[r]=i}}for(var i=0;i<e;++i){var s=t[i].stack;var o=n[s];if(o!==undefined&&o!==i){if(o>0){t[o-1]._parent=undefined;t[o-1]._length=1}t[i]._parent=undefined;t[i]._length=1;var l=i>0?t[i-1]:this;if(o<e-1){l._parent=t[o+1];l._parent.uncycle();l._length=l._parent._length+1}else{l._parent=undefined;l._length=1}var u=l._length+1;for(var c=i-2;c>=0;--c){t[c]._length=u;u++}return}}};ie.prototype.attachExtraTrace=function(e){if(e.__stackCleaned__)return;this.uncycle();var t=q(e);var n=t.message;var i=[t.stack];var a=this;while(a!==undefined){i.push(z(a.stack.split("\n")));a=a._parent}j(i);V(i);s.notEnumerableProp(e,"stack",G(n,i));s.notEnumerableProp(e,"__stackCleaned__",true)};var ae=function e(){var t=/^\s*at\s*/;var n=function(e,t){if(typeof e==="string")return e;if(t.name!==undefined&&t.message!==undefined){return t.toString()}return J(t)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit+=6;h=t;p=n;var i=Error.captureStackTrace;Q=function(e){return c.test(e)};return function(e,t){Error.stackTraceLimit+=6;i(e,t);Error.stackTraceLimit-=6}}var a=new Error;if(typeof a.stack==="string"&&a.stack.split("\n")[0].indexOf("stackDetection@")>=0){h=/@/;p=n;m=true;return function e(t){t.stack=(new Error).stack}}var r;try{throw new Error}catch(e){r="stack"in e}if(!("stack"in a)&&r&&typeof Error.stackTraceLimit==="number"){h=t;p=n;return function e(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}}p=function(e,t){if(typeof e==="string")return e;if((typeof t==="object"||typeof t==="function")&&t.name!==undefined&&t.message!==undefined){return t.toString()}return J(t)};return null}([]);if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){_=function(e){console.warn(e)};if(s.isNode&&process.stderr.isTTY){_=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}}else if(!s.isNode&&typeof(new Error).stack==="string"){_=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}}}var re={warnings:v,longStackTraces:false,cancellation:false,monitoring:false};if(b)t.longStackTraces();return{longStackTraces:function(){return re.longStackTraces},warnings:function(){return re.warnings},cancellation:function(){return re.cancellation},monitoring:function(){return re.monitoring},propagateFromFunction:function(){return F},boundValueFunction:function(){return N},checkForgottenReturns:P,setBounds:ne,warn:H,deprecated:Y,CapturedTrace:ie,fireDomEvent:S,fireGlobalEvent:w}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){if(n instanceof e)n.suppressUnhandledRejections();return this._then(t,undefined,undefined,{value:n},undefined)};e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,undefined,undefined,{reason:e},undefined)};e.prototype.catchThrow=function(e){if(arguments.length<=1){return this._then(undefined,n,undefined,{reason:e},undefined)}else{var t=arguments[1];var i=function(){throw t};return this.caught(e,i)}};e.prototype.catchReturn=function(n){if(arguments.length<=1){if(n instanceof e)n.suppressUnhandledRejections();return this._then(undefined,t,undefined,{value:n},undefined)}else{var i=arguments[1];if(i instanceof e)i.suppressUnhandledRejections();var a=function(){return i};return this.caught(n,a)}}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;var i=e.all;function a(){return i(this)}function r(e,i){return n(e,i,t,t)}e.prototype.each=function(e){return n(this,e,t,0)._then(a,undefined,undefined,this,undefined)};e.prototype.mapSeries=function(e){return n(this,e,t,t)};e.each=function(e,i){return n(e,i,t,0)._then(a,undefined,undefined,e,undefined)};e.mapSeries=r}},{}],12:[function(e,t,n){"use strict";var i=e("./es5");var a=i.freeze;var r=e("./util");var s=r.inherits;var o=r.notEnumerableProp;function l(e,t){function n(i){if(!(this instanceof n))return new n(i);o(this,"message",typeof i==="string"?i:t);o(this,"name",e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}s(n,Error);return n}var u,c;var d=l("Warning","warning");var f=l("CancellationError","cancellation error");var h=l("TimeoutError","timeout error");var p=l("AggregateError","aggregate error");try{u=TypeError;c=RangeError}catch(e){u=l("TypeError","type error");c=l("RangeError","range error")}var m=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var _=0;_<m.length;++_){if(typeof Array.prototype[m[_]]==="function"){p.prototype[m[_]]=Array.prototype[m[_]]}}i.defineProperty(p.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});p.prototype["isOperational"]=true;var g=0;p.prototype.toString=function(){var e=Array(g*4+1).join(" ");var t="\n"+e+"AggregateError of:"+"\n";g++;e=Array(g*4+1).join(" ");for(var n=0;n<this.length;++n){var i=this[n]===this?"[Circular AggregateError]":this[n]+"";var a=i.split("\n");for(var r=0;r<a.length;++r){a[r]=e+a[r]}i=a.join("\n");t+=i+"\n"}g--;return t};function v(e){if(!(this instanceof v))return new v(e);o(this,"name","OperationalError");o(this,"message",e);this.cause=e;this["isOperational"]=true;if(e instanceof Error){o(this,"message",e.message);o(this,"stack",e.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}s(v,Error);var b=Error["__BluebirdErrorTypes__"];if(!b){b=a({CancellationError:f,TimeoutError:h,OperationalError:v,RejectionError:v,AggregateError:p});i.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:false,enumerable:false,configurable:false})}t.exports={Error:Error,TypeError:u,RangeError:c,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return this===undefined}();if(i){t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!(!n||n.writable||n.set)}}}else{var a={}.hasOwnProperty;var r={}.toString;var s={}.constructor.prototype;var o=function(e){var t=[];for(var n in e){if(a.call(e,n)){t.push(n)}}return t};var l=function(e,t){return{value:e[t]}};var u=function(e,t,n){e[t]=n.value;return e};var c=function(e){return e};var d=function(e){try{return Object(e).constructor.prototype}catch(e){return s}};var f=function(e){try{return r.call(e)==="[object Array]"}catch(e){return false}};t.exports={isArray:f,keys:o,names:o,defineProperty:u,getDescriptor:l,freeze:c,getPrototypeOf:d,isES5:i,propertyIsWritable:function(){return true}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)};e.filter=function(e,i,a){return n(e,i,a,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=e("./util");var r=t.CancellationError;var s=a.errorObj;var o=e("./catch_filter")(i);function l(e,t,n){this.promise=e;this.type=t;this.handler=n;this.called=false;this.cancelPromise=null}l.prototype.isFinallyHandler=function(){return this.type===0};function u(e){this.finallyHandler=e}u.prototype._resultCancelled=function(){c(this.finallyHandler)};function c(e,t){if(e.cancelPromise!=null){if(arguments.length>1){e.cancelPromise._reject(t)}else{e.cancelPromise._cancel()}e.cancelPromise=null;return true}return false}function d(){return h.call(this,this.promise._target()._settledValue())}function f(e){if(c(this,e))return;s.e=e;return s}function h(e){var a=this.promise;var o=this.handler;if(!this.called){this.called=true;var l=this.isFinallyHandler()?o.call(a._boundValue()):o.call(a._boundValue(),e);if(l===i){return l}else if(l!==undefined){a._setReturnedNonUndefined();var h=n(l,a);if(h instanceof t){if(this.cancelPromise!=null){if(h._isCancelled()){var p=new r("late cancellation observer");a._attachExtraTrace(p);s.e=p;return s}else if(h.isPending()){h._attachCancellationCallback(new u(this))}}return h._then(d,f,undefined,this,undefined)}}}if(a.isRejected()){c(this);s.e=e;return s}else{c(this);return e}}t.prototype._passThrough=function(e,t,n,i){if(typeof e!=="function")return this.then();return this._then(n,i,undefined,new l(this,t,e),undefined)};t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,h,h)};t.prototype.tap=function(e){return this._passThrough(e,1,h)};t.prototype.tapCatch=function(e){var n=arguments.length;if(n===1){return this._passThrough(e,1,undefined,h)}else{var i=new Array(n-1),r=0,s;for(s=0;s<n-1;++s){var l=arguments[s];if(a.isObject(l)){i[r++]=l}else{return t.reject(new TypeError("tapCatch statement predicate: "+"expecting an object but got "+a.classString(l)))}}i.length=r;var u=arguments[s];return this._passThrough(o(i,u,this),1,undefined,h)}};return l}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=e("./errors");var l=o.TypeError;var u=e("./util");var c=u.errorObj;var d=u.tryCatch;var f=[];function h(e,n,i){for(var r=0;r<n.length;++r){i._pushContext();var s=d(n[r])(e);i._popContext();if(s===c){i._pushContext();var o=t.reject(c.e);i._popContext();return o}var l=a(s,i);if(l instanceof t)return l}return null}function p(e,n,a,r){if(s.cancellation()){var o=new t(i);var l=this._finallyPromise=new t(i);this._promise=o.lastly(function(){return l});o._captureStackTrace();o._setOnCancel(this)}else{var u=this._promise=new t(i);u._captureStackTrace()}this._stack=r;this._generatorFunction=e;this._receiver=n;this._generator=undefined;this._yieldHandlers=typeof a==="function"?[a].concat(f):f;this._yieldedPromise=null;this._cancellationPhase=false}u.inherits(p,r);p.prototype._isResolved=function(){return this._promise===null};p.prototype._cleanup=function(){this._promise=this._generator=null;if(s.cancellation()&&this._finallyPromise!==null){this._finallyPromise._fulfill();this._finallyPromise=null}};p.prototype._promiseCancelled=function(){if(this._isResolved())return;var e=typeof this._generator["return"]!=="undefined";var n;if(!e){var i=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=i;this._promise._attachExtraTrace(i);this._promise._pushContext();n=d(this._generator["throw"]).call(this._generator,i);this._promise._popContext()}else{this._promise._pushContext();n=d(this._generator["return"]).call(this._generator,undefined);this._promise._popContext()}this._cancellationPhase=true;this._yieldedPromise=null;this._continue(n)};p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var t=d(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(t)};p.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var t=d(this._generator["throw"]).call(this._generator,e);this._promise._popContext();this._continue(t)};p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null;e.cancel()}};p.prototype.promise=function(){return this._promise};p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._promiseFulfilled(undefined)};p.prototype._continue=function(e){var n=this._promise;if(e===c){this._cleanup();if(this._cancellationPhase){return n.cancel()}else{return n._rejectCallback(e.e,false)}}var i=e.value;if(e.done===true){this._cleanup();if(this._cancellationPhase){return n.cancel()}else{return n._resolveCallback(i)}}else{var r=a(i,this._promise);if(!(r instanceof t)){r=h(r,this._yieldHandlers,this._promise);if(r===null){this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}r=r._target();var s=r._bitField;if((s&50397184)===0){this._yieldedPromise=r;r._proxy(this,null)}else if((s&33554432)!==0){t._async.invoke(this._promiseFulfilled,this,r._value())}else if((s&16777216)!==0){t._async.invoke(this._promiseRejected,this,r._reason())}else{this._promiseCancelled()}}};t.coroutine=function(e,t){if(typeof e!=="function"){throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var n=Object(t).yieldHandler;var i=p;var a=(new Error).stack;return function(){var t=e.apply(this,arguments);var r=new i(undefined,undefined,n,a);var s=r.promise();r._generator=t;r._promiseFulfilled(undefined);return s}};t.coroutine.addYieldHandler=function(e){if(typeof e!=="function"){throw new l("expecting a function but got "+u.classString(e))}f.push(e)};t.spawn=function(e){s.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof e!=="function"){return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var i=new p(e,this);var a=i.promise();i._run(t.spawn);return a}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=e("./util");var l=o.canEvaluate;var u=o.tryCatch;var c=o.errorObj;var d;if(false){if(l){var f=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))};var h=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))};var p=function(e){var n=new Array(e);for(var i=0;i<n.length;++i){n[i]="this.p"+(i+1)}var a=n.join(" = ")+" = null;";var s="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n");var o=n.join(", ");var l="Holder$"+e;var d="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";d=d.replace(/\[TheName\]/g,l).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,o).replace(/\[TheProperties\]/g,a).replace(/\[CancellationCode\]/g,s);return new Function("tryCatch","errorObj","Promise","async",d)(u,c,t,r)};var m=[];var _=[];var g=[];for(var v=0;v<8;++v){m.push(p(v+1));_.push(f(v+1));g.push(h(v+1))}d=function(e){this._reject(e)}}}t.join=function(){var e=arguments.length-1;var r;if(e>0&&typeof arguments[e]==="function"){r=arguments[e];if(false){if(e<=8&&l){var u=new t(a);u._captureStackTrace();var c=m[e-1];var f=new c(r);var h=_;for(var p=0;p<e;++p){var v=i(arguments[p],u);if(v instanceof t){v=v._target();var b=v._bitField;if((b&50397184)===0){v._then(h[p],d,undefined,u,f);g[p](v,f);f.asyncNeeded=false}else if((b&33554432)!==0){h[p].call(u,v._value(),f)}else if((b&16777216)!==0){u._reject(v._reason())}else{u._cancel()}}else{h[p].call(u,v,f)}}if(!u._isFateSealed()){if(f.asyncNeeded){var y=s();if(y!==null){f.fn=o.domainBind(y,f.fn)}}u._setAsyncGuaranteed();u._setOnCancel(f)}return u}}}var x=[].slice.call(arguments);if(r)x.pop();var u=new n(x).promise();return r!==undefined?u.spread(r):u}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=t._getDomain;var l=e("./util");var u=l.tryCatch;var c=l.errorObj;var d=t._async;function f(e,t,n,i){this.constructor$(e);this._promise._captureStackTrace();var a=o();this._callback=a===null?t:l.domainBind(a,t);this._preservedValues=i===r?new Array(this.length()):null;this._limit=n;this._inFlight=0;this._queue=[];d.invoke(this._asyncInit,this,undefined)}l.inherits(f,n);f.prototype._asyncInit=function(){this._init$(undefined,-2)};f.prototype._init=function(){};f.prototype._promiseFulfilled=function(e,n){var i=this._values;var r=this.length();var o=this._preservedValues;var l=this._limit;if(n<0){n=n*-1-1;i[n]=e;if(l>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return true}}else{if(l>=1&&this._inFlight>=l){i[n]=e;this._queue.push(n);return false}if(o!==null)o[n]=e;var d=this._promise;var f=this._callback;var h=d._boundValue();d._pushContext();var p=u(f).call(h,e,n,r);var m=d._popContext();s.checkForgottenReturns(p,m,o!==null?"Promise.filter":"Promise.map",d);if(p===c){this._reject(p.e);return true}var _=a(p,this._promise);if(_ instanceof t){_=_._target();var g=_._bitField;if((g&50397184)===0){if(l>=1)this._inFlight++;i[n]=_;_._proxy(this,(n+1)*-1);return false}else if((g&33554432)!==0){p=_._value()}else if((g&16777216)!==0){this._reject(_._reason());return true}else{this._cancel();return true}}i[n]=p}var v=++this._totalResolved;if(v>=r){if(o!==null){this._filter(i,o)}else{this._resolve(i)}return true}return false};f.prototype._drainQueue=function(){var e=this._queue;var t=this._limit;var n=this._values;while(e.length>0&&this._inFlight<t){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}};f.prototype._filter=function(e,t){var n=t.length;var i=new Array(n);var a=0;for(var r=0;r<n;++r){if(e[r])i[a++]=t[r]}i.length=a;this._resolve(i)};f.prototype.preservedValues=function(){return this._preservedValues};function h(e,n,a,r){if(typeof n!=="function"){return i("expecting a function but got "+l.classString(n))}var s=0;if(a!==undefined){if(typeof a==="object"&&a!==null){if(typeof a.concurrency!=="number"){return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(a.concurrency)))}s=a.concurrency}else{return t.reject(new TypeError("options argument must be an object but it is "+l.classString(a)))}}s=typeof s==="number"&&isFinite(s)&&s>=1?s:0;return new f(e,n,s,r).promise()}t.prototype.map=function(e,t){return h(this,e,t,null)};t.map=function(e,t,n,i){return h(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r){var s=e("./util");var o=s.tryCatch;t.method=function(e){if(typeof e!=="function"){throw new t.TypeError("expecting a function but got "+s.classString(e))}return function(){var i=new t(n);i._captureStackTrace();i._pushContext();var a=o(e).apply(this,arguments);var s=i._popContext();r.checkForgottenReturns(a,s,"Promise.method",i);i._resolveFromSyncValue(a);return i}};t.attempt=t["try"]=function(e){if(typeof e!=="function"){return a("expecting a function but got "+s.classString(e))}var i=new t(n);i._captureStackTrace();i._pushContext();var l;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1];var c=arguments[2];l=s.isArray(u)?o(e).apply(c,u):o(e).call(c,u)}else{l=o(e)()}var d=i._popContext();r.checkForgottenReturns(l,d,"Promise.try",i);i._resolveFromSyncValue(l);return i};t.prototype._resolveFromSyncValue=function(e){if(e===s.errorObj){this._rejectCallback(e.e,false)}else{this._resolveCallback(e,true)}}}},{"./util":36}],20:[function(e,t,n){"use strict";var i=e("./util");var a=i.maybeWrapAsError;var r=e("./errors");var s=r.OperationalError;var o=e("./es5");function l(e){return e instanceof Error&&o.getPrototypeOf(e)===Error.prototype}var u=/^(?:name|message|stack|cause)$/;function c(e){var t;if(l(e)){t=new s(e);t.name=e.name;t.message=e.message;t.stack=e.stack;var n=o.keys(e);for(var a=0;a<n.length;++a){var r=n[a];if(!u.test(r)){t[r]=e[r]}}return t}i.markAsOriginatingFromRejection(e);return e}function d(e,t){return function(n,i){if(e===null)return;if(n){var r=c(a(n));e._attachExtraTrace(r);e._reject(r)}else if(!t){e._fulfill(i)}else{var s=[].slice.call(arguments,1);e._fulfill(s)}e=null}}t.exports=d},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util");var i=t._async;var a=n.tryCatch;var r=n.errorObj;function s(e,t){var s=this;if(!n.isArray(e))return o.call(s,e,t);var l=a(t).apply(s._boundValue(),[null].concat(e));if(l===r){i.throwLater(l.e)}}function o(e,t){var n=this;var s=n._boundValue();var o=e===undefined?a(t).call(s,null):a(t).call(s,null,e);if(o===r){i.throwLater(o.e)}}function l(e,t){var n=this;if(!e){var s=new Error(e+"");s.cause=e;e=s}var o=a(t).call(n._boundValue(),e);if(o===r){i.throwLater(o.e)}}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if(typeof e=="function"){var n=o;if(t!==undefined&&Object(t).spread){n=s}this._then(n,l,undefined,this,e)}return this}}},{"./util":36}],22:[function(e,t,n){"use strict";t.exports=function(){var n=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")};var i=function(){return new C.PromiseInspection(this._target())};var a=function(e){return C.reject(new h(e))};function r(){}var s={};var o=e("./util");var l;if(o.isNode){l=function(){var e=process.domain;if(e===undefined)e=null;return e}}else{l=function(){return null}}o.notEnumerableProp(C,"_getDomain",l);var u=e("./es5");var c=e("./async");var d=new c;u.defineProperty(C,"_async",{value:d});var f=e("./errors");var h=C.TypeError=f.TypeError;C.RangeError=f.RangeError;var p=C.CancellationError=f.CancellationError;C.TimeoutError=f.TimeoutError;C.OperationalError=f.OperationalError;C.RejectionError=f.OperationalError;C.AggregateError=f.AggregateError;var m=function(){};var _={};var g={};var v=e("./thenables")(C,m);var b=e("./promise_array")(C,m,v,a,r);var y=e("./context")(C);var x=y.create;var S=e("./debuggability")(C,y);var w=S.CapturedTrace;var L=e("./finally")(C,v,g);var E=e("./catch_filter")(g);var M=e("./nodeback");var k=o.errorObj;var A=o.tryCatch;function T(e,t){if(e==null||e.constructor!==C){throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}if(typeof t!=="function"){throw new h("expecting a function but got "+o.classString(t))}}function C(e){if(e!==m){T(this,e)}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._resolveFromExecutor(e);this._promiseCreated();this._fireEvent("promiseCreated",this)}C.prototype.toString=function(){return"[object Promise]"};C.prototype.caught=C.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n=new Array(t-1),i=0,r;for(r=0;r<t-1;++r){var s=arguments[r];if(o.isObject(s)){n[i++]=s}else{return a("Catch statement predicate: "+"expecting an object but got "+o.classString(s))}}n.length=i;e=arguments[r];return this.then(undefined,E(n,e,this))}return this.then(undefined,e)};C.prototype.reflect=function(){return this._then(i,i,undefined,this,undefined)};C.prototype.then=function(e,t){if(S.warnings()&&arguments.length>0&&typeof e!=="function"&&typeof t!=="function"){var n=".then() only accepts functions but was passed: "+o.classString(e);if(arguments.length>1){n+=", "+o.classString(t)}this._warn(n)}return this._then(e,t,undefined,undefined,undefined)};C.prototype.done=function(e,t){var n=this._then(e,t,undefined,undefined,undefined);n._setIsFinal()};C.prototype.spread=function(e){if(typeof e!=="function"){return a("expecting a function but got "+o.classString(e))}return this.all()._then(e,undefined,undefined,_,undefined)};C.prototype.toJSON=function(){var e={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=true}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=true}return e};C.prototype.all=function(){if(arguments.length>0){this._warn(".all() was passed arguments but it does not take any")}return new b(this).promise()};C.prototype.error=function(e){return this.caught(o.originatesFromRejection,e)};C.getNewLibraryCopy=t.exports;C.is=function(e){return e instanceof C};C.fromNode=C.fromCallback=function(e){var t=new C(m);t._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:false;var i=A(e)(M(t,n));if(i===k){t._rejectCallback(i.e,true)}if(!t._isFateSealed())t._setAsyncGuaranteed();return t};C.all=function(e){return new b(e).promise()};C.cast=function(e){var t=v(e);if(!(t instanceof C)){t=new C(m);t._captureStackTrace();t._setFulfilled();t._rejectionHandler0=e}return t};C.resolve=C.fulfilled=C.cast;C.reject=C.rejected=function(e){var t=new C(m);t._captureStackTrace();t._rejectCallback(e,true);return t};C.setScheduler=function(e){if(typeof e!=="function"){throw new h("expecting a function but got "+o.classString(e))}return d.setScheduler(e)};C.prototype._then=function(e,t,n,i,a){var r=a!==undefined;var s=r?a:new C(m);var u=this._target();var c=u._bitField;if(!r){s._propagateFrom(this,3);s._captureStackTrace();if(i===undefined&&(this._bitField&2097152)!==0){if(!((c&50397184)===0)){i=this._boundValue()}else{i=u===this?undefined:this._boundTo}}this._fireEvent("promiseChained",this,s)}var f=l();if(!((c&50397184)===0)){var h,_,g=u._settlePromiseCtx;if((c&33554432)!==0){_=u._rejectionHandler0;h=e}else if((c&16777216)!==0){_=u._fulfillmentHandler0;h=t;u._unsetRejectionIsUnhandled()}else{g=u._settlePromiseLateCancellationObserver;_=new p("late cancellation observer");u._attachExtraTrace(_);h=t}d.invoke(g,u,{handler:f===null?h:typeof h==="function"&&o.domainBind(f,h),promise:s,receiver:i,value:_})}else{u._addCallbacks(e,t,s,i,f)}return s};C.prototype._length=function(){return this._bitField&65535};C.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0};C.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864};C.prototype._setLength=function(e){this._bitField=this._bitField&-65536|e&65535};C.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432;this._fireEvent("promiseFulfilled",this)};C.prototype._setRejected=function(){this._bitField=this._bitField|16777216;this._fireEvent("promiseRejected",this)};C.prototype._setFollowing=function(){this._bitField=this._bitField|67108864;this._fireEvent("promiseResolved",this)};C.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304};C.prototype._isFinal=function(){return(this._bitField&4194304)>0};C.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536};C.prototype._setCancelled=function(){this._bitField=this._bitField|65536;this._fireEvent("promiseCancelled",this)};C.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608};C.prototype._setAsyncGuaranteed=function(){if(d.hasCustomScheduler())return;this._bitField=this._bitField|134217728};C.prototype._receiverAt=function(e){var t=e===0?this._receiver0:this[e*4-4+3];if(t===s){return undefined}else if(t===undefined&&this._isBound()){return this._boundValue()}return t};C.prototype._promiseAt=function(e){return this[e*4-4+2]};C.prototype._fulfillmentHandlerAt=function(e){return this[e*4-4+0]};C.prototype._rejectionHandlerAt=function(e){return this[e*4-4+1]};C.prototype._boundValue=function(){};C.prototype._migrateCallback0=function(e){var t=e._bitField;var n=e._fulfillmentHandler0;var i=e._rejectionHandler0;var a=e._promise0;var r=e._receiverAt(0);if(r===undefined)r=s;this._addCallbacks(n,i,a,r,null)};C.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t);var i=e._rejectionHandlerAt(t);var a=e._promiseAt(t);var r=e._receiverAt(t);if(r===undefined)r=s;this._addCallbacks(n,i,a,r,null)};C.prototype._addCallbacks=function(e,t,n,i,a){var r=this._length();if(r>=65535-4){r=0;this._setLength(0)}if(r===0){this._promise0=n;this._receiver0=i;if(typeof e==="function"){this._fulfillmentHandler0=a===null?e:o.domainBind(a,e)}if(typeof t==="function"){this._rejectionHandler0=a===null?t:o.domainBind(a,t)}}else{var s=r*4-4;this[s+2]=n;this[s+3]=i;if(typeof e==="function"){this[s+0]=a===null?e:o.domainBind(a,e)}if(typeof t==="function"){this[s+1]=a===null?t:o.domainBind(a,t)}}this._setLength(r+1);return r};C.prototype._proxy=function(e,t){this._addCallbacks(undefined,undefined,t,e,null)};C.prototype._resolveCallback=function(e,t){if((this._bitField&117506048)!==0)return;if(e===this)return this._rejectCallback(n(),false);var i=v(e,this);if(!(i instanceof C))return this._fulfill(e);if(t)this._propagateFrom(i,2);var a=i._target();if(a===this){this._reject(n());return}var r=a._bitField;if((r&50397184)===0){var s=this._length();if(s>0)a._migrateCallback0(this);for(var o=1;o<s;++o){a._migrateCallbackAt(this,o)}this._setFollowing();this._setLength(0);this._setFollowee(a)}else if((r&33554432)!==0){this._fulfill(a._value())}else if((r&16777216)!==0){this._reject(a._reason())}else{var l=new p("late cancellation observer");a._attachExtraTrace(l);this._reject(l)}};C.prototype._rejectCallback=function(e,t,n){var i=o.ensureErrorObject(e);var a=i===e;if(!a&&!n&&S.warnings()){var r="a promise was rejected with a non-error: "+o.classString(e);this._warn(r,true)}this._attachExtraTrace(i,t?a:false);this._reject(e)};C.prototype._resolveFromExecutor=function(e){if(e===m)return;var t=this;this._captureStackTrace();this._pushContext();var n=true;var i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=false;this._popContext();if(i!==undefined){t._rejectCallback(i,true)}};C.prototype._settlePromiseFromHandler=function(e,t,n,i){var a=i._bitField;if((a&65536)!==0)return;i._pushContext();var r;if(t===_){if(!n||typeof n.length!=="number"){r=k;r.e=new h("cannot .spread() a non-array: "+o.classString(n))}else{r=A(e).apply(this._boundValue(),n)}}else{r=A(e).call(t,n)}var s=i._popContext();a=i._bitField;if((a&65536)!==0)return;if(r===g){i._reject(n)}else if(r===k){i._rejectCallback(r.e,false)}else{S.checkForgottenReturns(r,s,"",i,this);i._resolveCallback(r)}};C.prototype._target=function(){var e=this;while(e._isFollowing())e=e._followee();return e};C.prototype._followee=function(){return this._rejectionHandler0};C.prototype._setFollowee=function(e){this._rejectionHandler0=e};C.prototype._settlePromise=function(e,t,n,a){var s=e instanceof C;var o=this._bitField;var l=(o&134217728)!==0;if((o&65536)!==0){if(s)e._invokeInternalOnCancel();if(n instanceof L&&n.isFinallyHandler()){n.cancelPromise=e;if(A(t).call(n,a)===k){e._reject(k.e)}}else if(t===i){e._fulfill(i.call(n))}else if(n instanceof r){n._promiseCancelled(e)}else if(s||e instanceof b){e._cancel()}else{n.cancel()}}else if(typeof t==="function"){if(!s){t.call(n,a,e)}else{if(l)e._setAsyncGuaranteed();this._settlePromiseFromHandler(t,n,a,e)}}else if(n instanceof r){if(!n._isResolved()){if((o&33554432)!==0){n._promiseFulfilled(a,e)}else{n._promiseRejected(a,e)}}}else if(s){if(l)e._setAsyncGuaranteed();if((o&33554432)!==0){e._fulfill(a)}else{e._reject(a)}}};C.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler;var n=e.promise;var i=e.receiver;var a=e.value;if(typeof t==="function"){if(!(n instanceof C)){t.call(i,a,n)}else{this._settlePromiseFromHandler(t,i,a,n)}}else if(n instanceof C){n._reject(a)}};C.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};C.prototype._settlePromise0=function(e,t,n){var i=this._promise0;var a=this._receiverAt(0);this._promise0=undefined;this._receiver0=undefined;this._settlePromise(i,e,a,t)};C.prototype._clearCallbackDataAtIndex=function(e){var t=e*4-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=undefined};C.prototype._fulfill=function(e){var t=this._bitField;if((t&117506048)>>>16)return;if(e===this){var i=n();this._attachExtraTrace(i);return this._reject(i)}this._setFulfilled();this._rejectionHandler0=e;if((t&65535)>0){if((t&134217728)!==0){this._settlePromises()}else{d.settlePromises(this)}}};C.prototype._reject=function(e){var t=this._bitField;if((t&117506048)>>>16)return;this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal()){return d.fatalError(e,o.isNode)}if((t&65535)>0){d.settlePromises(this)}else{this._ensurePossibleRejectionHandled()}};C.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n);var a=this._promiseAt(n);var r=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(a,i,r,t)}};C.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n);var a=this._promiseAt(n);var r=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(a,i,r,t)}};C.prototype._settlePromises=function(){var e=this._bitField;var t=e&65535;if(t>0){if((e&16842752)!==0){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e);this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e);this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()};C.prototype._settledValue=function(){var e=this._bitField;if((e&33554432)!==0){return this._rejectionHandler0}else if((e&16777216)!==0){return this._fulfillmentHandler0}};function D(e){this.promise._resolveCallback(e)}function R(e){this.promise._rejectCallback(e,false)}C.defer=C.pending=function(){S.deprecated("Promise.defer","new Promise");var e=new C(m);return{promise:e,resolve:D,reject:R}};o.notEnumerableProp(C,"_makeSelfResolutionError",n);e("./method")(C,m,v,a,S);e("./bind")(C,m,v,S);e("./cancel")(C,b,a,S);e("./direct_resolve")(C);e("./synchronous_inspection")(C);e("./join")(C,b,v,m,d,l);C.Promise=C;C.version="3.5.1";e("./map.js")(C,b,a,v,m,S);e("./call_get.js")(C);e("./using.js")(C,a,v,x,m,S);e("./timers.js")(C,m,S);e("./generators.js")(C,a,m,v,r,S);e("./nodeify.js")(C);e("./promisify.js")(C,m);e("./props.js")(C,b,v,a);e("./race.js")(C,m,v,a);e("./reduce.js")(C,b,a,v,m,S);e("./settle.js")(C,b,S);e("./some.js")(C,b,a);e("./filter.js")(C,m);e("./each.js")(C,m);e("./any.js")(C);o.toFastProperties(C);o.toFastProperties(C.prototype);function O(e){var t=new C(m);t._fulfillmentHandler0=e;t._rejectionHandler0=e;t._promise0=e;t._receiver0=e}O({a:1});O({b:2});O({c:3});O(1);O(function(){});O(undefined);O(false);O(new C(m));S.setBounds(c.firstLineError,o.lastLineError);return C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r){var s=e("./util");var o=s.isArray;function l(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function u(e){var i=this._promise=new t(n);if(e instanceof t){i._propagateFrom(e,3)}i._setOnCancel(this);this._values=e;this._length=0;this._totalResolved=0;this._init(undefined,-2)}s.inherits(u,r);u.prototype.length=function(){return this._length};u.prototype.promise=function(){return this._promise};u.prototype._init=function e(n,r){var o=i(this._values,this._promise);if(o instanceof t){o=o._target();var u=o._bitField;this._values=o;if((u&50397184)===0){this._promise._setAsyncGuaranteed();return o._then(e,this._reject,undefined,this,r)}else if((u&33554432)!==0){o=o._value()}else if((u&16777216)!==0){return this._reject(o._reason())}else{return this._cancel()}}o=s.asArray(o);if(o===null){var c=a("expecting an array or an iterable object but got "+s.classString(o)).reason();this._promise._rejectCallback(c,false);return}if(o.length===0){if(r===-5){this._resolveEmptyArray()}else{this._resolve(l(r))}return}this._iterate(o)};u.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n;this._values=this.shouldCopyValues()?new Array(n):this._values;var a=this._promise;var r=false;var s=null;for(var o=0;o<n;++o){var l=i(e[o],a);if(l instanceof t){l=l._target();s=l._bitField}else{s=null}if(r){if(s!==null){l.suppressUnhandledRejections()}}else if(s!==null){if((s&50397184)===0){l._proxy(this,o);this._values[o]=l}else if((s&33554432)!==0){r=this._promiseFulfilled(l._value(),o)}else if((s&16777216)!==0){r=this._promiseRejected(l._reason(),o)}else{r=this._promiseCancelled(o)}}else{r=this._promiseFulfilled(l,o)}}if(!r)a._setAsyncGuaranteed()};u.prototype._isResolved=function(){return this._values===null};u.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};u.prototype._cancel=function(){if(this._isResolved()||!this._promise._isCancellable())return;this._values=null;this._promise._cancel()};u.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,false)};u.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};u.prototype._promiseCancelled=function(){this._cancel();return true};u.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return true};u.prototype._resultCancelled=function(){if(this._isResolved())return;var e=this._values;this._cancel();if(e instanceof t){e.cancel()}else{for(var n=0;n<e.length;++n){if(e[n]instanceof t){e[n].cancel()}}}};u.prototype.shouldCopyValues=function(){return true};u.prototype.getActualLength=function(e){return e};return u}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var i={};var a=e("./util");var r=e("./nodeback");var s=a.withAppended;var o=a.maybeWrapAsError;var l=a.canEvaluate;var u=e("./errors").TypeError;var c="Async";var d={__isPromisified__:true};var f=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var h=new RegExp("^(?:"+f.join("|")+")$");var p=function(e){return a.isIdentifier(e)&&e.charAt(0)!=="_"&&e!=="constructor"};function m(e){return!h.test(e)}function _(e){try{return e.__isPromisified__===true}catch(e){return false}}function g(e,t,n){var i=a.getDataPropertyOrDefault(e,t+n,d);return i?_(i):false}function v(e,t,n){for(var i=0;i<e.length;i+=2){var a=e[i];if(n.test(a)){var r=a.replace(n,"");for(var s=0;s<e.length;s+=2){if(e[s]===r){throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}}}}function b(e,t,n,i){var r=a.inheritedDataKeys(e);var s=[];for(var o=0;o<r.length;++o){var l=r[o];var u=e[l];var c=i===p?true:p(l,u,e);if(typeof u==="function"&&!_(u)&&!g(e,l,t)&&i(l,u,e,c)){s.push(l,u)}}v(s,t,n);return s}var y=function(e){return e.replace(/([$])/,"\\$")};var x;if(false){var S=function(e){var t=[e];var n=Math.max(0,e-1-3);for(var i=e-1;i>=n;--i){t.push(i)}for(var i=e+1;i<=3;++i){t.push(i)}return t};var w=function(e){return a.filledRange(e,"_arg","")};var L=function(e){return a.filledRange(Math.max(e,3),"_arg","")};var E=function(e){if(typeof e.length==="number"){return Math.max(Math.min(e.length,1023+1),0)}return 0};x=function(e,l,u,c,d,f){var h=Math.max(0,E(c)-1);var p=S(h);var m=typeof e==="string"||l===i;function _(e){var t=w(e).join(", ");var n=e>0?", ":"";var i;if(m){i="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{i=l===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return i.replace("{{args}}",t).replace(", ",n)}function g(){var e="";for(var t=0;t<p.length;++t){e+="case "+p[t]+":"+_(p[t])}e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",m?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return e}var v=typeof e==="string"?"this != null ? this['"+e+"'] : fn":"fn";var b="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+f+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",g()).replace("[GetFunctionCode]",v);b=b.replace("Parameters",L(h));return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",b)(t,c,l,s,o,r,a.tryCatch,a.errorObj,a.notEnumerableProp,n)}}function M(e,l,u,c,d,f){var h=function(){return this}();var p=e;if(typeof p==="string"){e=c}function m(){var a=l;if(l===i)a=this;var u=new t(n);u._captureStackTrace();var c=typeof p==="string"&&this!==h?this[p]:e;var d=r(u,f);try{c.apply(a,s(arguments,d))}catch(e){u._rejectCallback(o(e),true,true)}if(!u._isFateSealed())u._setAsyncGuaranteed();return u}a.notEnumerableProp(m,"__isPromisified__",true);return m}var k=l?x:M;function A(e,t,n,r,s){var o=new RegExp(y(t)+"$");var l=b(e,t,o,n);for(var u=0,c=l.length;u<c;u+=2){var d=l[u];var f=l[u+1];var h=d+t;if(r===k){e[h]=k(d,i,d,f,t,s)}else{var p=r(f,function(){return k(d,i,d,f,t,s)});a.notEnumerableProp(p,"__isPromisified__",true);e[h]=p}}a.toFastProperties(e);return e}function T(e,t,n){return k(e,t,undefined,e,null,n)}t.promisify=function(e,t){if(typeof e!=="function"){throw new u("expecting a function but got "+a.classString(e))}if(_(e)){return e}t=Object(t);var n=t.context===undefined?i:t.context;var r=!!t.multiArgs;var s=T(e,n,r);a.copyDescriptors(e,s,m);return s};t.promisifyAll=function(e,t){if(typeof e!=="function"&&typeof e!=="object"){throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}t=Object(t);var n=!!t.multiArgs;var i=t.suffix;if(typeof i!=="string")i=c;var r=t.filter;if(typeof r!=="function")r=p;var s=t.promisifier;if(typeof s!=="function")s=k;if(!a.isIdentifier(i)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}var o=a.inheritedDataKeys(e);for(var l=0;l<o.length;++l){var d=e[o[l]];if(o[l]!=="constructor"&&a.isClass(d)){A(d.prototype,i,r,s,n);A(d,i,r,s,n)}}return A(e,i,r,s,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var r=e("./util");var s=r.isObject;var o=e("./es5");var l;if(typeof Map==="function")l=Map;var u=function(){var e=0;var t=0;function n(n,i){this[e]=n;this[e+t]=i;e++}return function i(a){t=a.size;e=0;var r=new Array(a.size*2);a.forEach(n,r);return r}}();var c=function(e){var t=new l;var n=e.length/2|0;for(var i=0;i<n;++i){var a=e[n+i];var r=e[i];t.set(a,r)}return t};function d(e){var t=false;var n;if(l!==undefined&&e instanceof l){n=u(e);t=true}else{var i=o.keys(e);var a=i.length;n=new Array(a*2);for(var r=0;r<a;++r){var s=i[r];n[r]=e[s];n[r+a]=s}}this.constructor$(n);this._isMap=t;this._init$(undefined,t?-6:-3)}r.inherits(d,n);d.prototype._init=function(){};d.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var i;if(this._isMap){i=c(this._values)}else{i={};var a=this.length();for(var r=0,s=this.length();r<s;++r){i[this._values[r+a]]=this._values[r]}}this._resolve(i);return true}return false};d.prototype.shouldCopyValues=function(){return false};d.prototype.getActualLength=function(e){return e>>1};function f(e){var n;var r=i(e);if(!s(r)){return a("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}else if(r instanceof t){n=r._then(t.props,undefined,undefined,undefined,undefined)}else{n=new d(r).promise()}if(r instanceof t){n._propagateFrom(r,2)}return n}t.prototype.props=function(){return f(this)};t.props=function(e){return f(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e,t,n,i,a){for(var r=0;r<a;++r){n[r+i]=e[r+t];e[r+t]=void 0}}function a(e){this._capacity=e;this._length=0;this._front=0}a.prototype._willBeOverCapacity=function(e){return this._capacity<e};a.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e;this._length=t+1};a.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i)){this._pushOne(e);this._pushOne(t);this._pushOne(n);return}var a=this._front+i-3;this._checkCapacity(i);var r=this._capacity-1;this[a+0&r]=e;this[a+1&r]=t;this[a+2&r]=n;this._length=i};a.prototype.shift=function(){var e=this._front,t=this[e];this[e]=undefined;this._front=e+1&this._capacity-1;this._length--;return t};a.prototype.length=function(){return this._length};a.prototype._checkCapacity=function(e){if(this._capacity<e){this._resizeTo(this._capacity<<1)}};a.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front;var a=this._length;var r=n+a&t-1;i(this,0,this,t,r)};t.exports=a},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,a){var r=e("./util");var s=function(e){return e.then(function(t){return o(t,e)})};function o(e,o){var l=i(e);if(l instanceof t){return s(l)}else{e=r.asArray(e);if(e===null)return a("expecting an array or an iterable object but got "+r.classString(e))}var u=new t(n);if(o!==undefined){u._propagateFrom(o,3)}var c=u._fulfill;var d=u._reject;for(var f=0,h=e.length;f<h;++f){var p=e[f];if(p===undefined&&!(f in e)){continue}t.cast(p)._then(c,d,undefined,u,null)}return u}t.race=function(e){return o(e,undefined)};t.prototype.race=function(){return o(this,undefined)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=t._getDomain;var l=e("./util");var u=l.tryCatch;function c(e,n,i,a){this.constructor$(e);var s=o();this._fn=s===null?n:l.domainBind(s,n);if(i!==undefined){i=t.resolve(i);i._attachCancellationCallback(this)}this._initialValue=i;this._currentCancellable=null;if(a===r){this._eachValues=Array(this._length)}else if(a===0){this._eachValues=null}else{this._eachValues=undefined}this._promise._captureStackTrace();this._init$(undefined,-5)}l.inherits(c,n);c.prototype._gotAccum=function(e){if(this._eachValues!==undefined&&this._eachValues!==null&&e!==r){this._eachValues.push(e)}};c.prototype._eachComplete=function(e){if(this._eachValues!==null){this._eachValues.push(e)}return this._eachValues};c.prototype._init=function(){};c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)};c.prototype.shouldCopyValues=function(){return false};c.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};c.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$();if(this._currentCancellable instanceof t){this._currentCancellable.cancel()}if(this._initialValue instanceof t){this._initialValue.cancel()}};c.prototype._iterate=function(e){this._values=e;var n;var i;var a=e.length;if(this._initialValue!==undefined){n=this._initialValue;i=0}else{n=t.resolve(e[0]);i=1}this._currentCancellable=n;if(!n.isRejected()){for(;i<a;++i){var r={accum:null,value:e[i],index:i,length:a,array:this};n=n._then(h,undefined,undefined,r,undefined)}}if(this._eachValues!==undefined){n=n._then(this._eachComplete,undefined,undefined,this,undefined)}n._then(d,d,undefined,n,this)};t.prototype.reduce=function(e,t){return f(this,e,t,null)};t.reduce=function(e,t,n,i){return f(e,t,n,i)};function d(e,t){if(this.isFulfilled()){t._resolve(e)}else{t._reject(e)}}function f(e,t,n,a){if(typeof t!=="function"){return i("expecting a function but got "+l.classString(t))}var r=new c(e,t,n,a);return r.promise()}function h(e){this.accum=e;this.array._gotAccum(e);var n=a(this.value,this.array._promise);if(n instanceof t){this.array._currentCancellable=n;return n._then(p,undefined,undefined,this,undefined)}else{return p.call(this,n)}}function p(e){var n=this.array;var i=n._promise;var a=u(n._fn);i._pushContext();var r;if(n._eachValues!==undefined){r=a.call(i._boundValue(),e,this.index,this.length)}else{r=a.call(i._boundValue(),this.accum,e,this.index,this.length)}if(r instanceof t){n._currentCancellable=r}var o=i._popContext();s.checkForgottenReturns(r,o,n._eachValues!==undefined?"Promise.each":"Promise.reduce",i);return r}}},{"./util":36}],29:[function(e,t,n){"use strict";var i=e("./util");var a;var r=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};var s=i.getNativePromise();if(i.isNode&&typeof MutationObserver==="undefined"){var o=global.setImmediate;var l=process.nextTick;a=i.isRecentNode?function(e){o.call(global,e)}:function(e){l.call(process,e)}}else if(typeof s==="function"&&typeof s.resolve==="function"){var u=s.resolve();a=function(e){u.then(e)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))){a=function(){var e=document.createElement("div");var t={attributes:true};var n=false;var i=document.createElement("div");var a=new MutationObserver(function(){e.classList.toggle("foo");n=false});a.observe(i,t);var r=function(){if(n)return;n=true;i.classList.toggle("foo")};return function n(i){var a=new MutationObserver(function(){a.disconnect();i()});a.observe(e,t);r()}}()}else if(typeof setImmediate!=="undefined"){a=function(e){setImmediate(e)}}else if(typeof setTimeout!=="undefined"){a=function(e){setTimeout(e,0)}}else{a=r}t.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=t.PromiseInspection;var r=e("./util");function s(e){this.constructor$(e)}r.inherits(s,n);s.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};s.prototype._promiseFulfilled=function(e,t){var n=new a;n._bitField=33554432;n._settledValueField=e;return this._promiseResolved(t,n)};s.prototype._promiseRejected=function(e,t){var n=new a;n._bitField=16777216;n._settledValueField=e;return this._promiseResolved(t,n)};t.settle=function(e){i.deprecated(".settle()",".reflect()");return new s(e).promise()};t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=e("./util");var r=e("./errors").RangeError;var s=e("./errors").AggregateError;var o=a.isArray;var l={};function u(e){this.constructor$(e);this._howMany=0;this._unwrap=false;this._initialized=false}a.inherits(u,n);u.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var e=o(this._values);if(!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};u.prototype.init=function(){this._initialized=true;this._init()};u.prototype.setUnwrap=function(){this._unwrap=true};u.prototype.howMany=function(){return this._howMany};u.prototype.setHowMany=function(e){this._howMany=e};u.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}return true}return false};u.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};u.prototype._promiseCancelled=function(){if(this._values instanceof t||this._values==null){return this._cancel()}this._addRejected(l);return this._checkOutcome()};u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new s;for(var t=this.length();t<this._values.length;++t){if(this._values[t]!==l){e.push(this._values[t])}}if(e.length>0){this._reject(e)}else{this._cancel()}return true}return false};u.prototype._fulfilled=function(){return this._totalResolved};u.prototype._rejected=function(){return this._values.length-this.length()};u.prototype._addRejected=function(e){this._values.push(e)};u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};u.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)};u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(e,t){if((t|0)!==t||t<0){return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var n=new u(e);var a=n.promise();n.setHowMany(t);n.init();return a}t.some=function(e,t){return c(e,t)};t.prototype.some=function(e){return c(this,e)};t._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){if(e!==undefined){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():undefined}else{this._bitField=0;this._settledValueField=undefined}}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var a=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0};var r=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0};var s=t.prototype.isPending=function(){return(this._bitField&50397184)===0};var o=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0};e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0};e.prototype.isPending=function(){return s.call(this._target())};e.prototype.isRejected=function(){return r.call(this._target())};e.prototype.isFulfilled=function(){return a.call(this._target())};e.prototype.isResolved=function(){return o.call(this._target())};e.prototype.value=function(){return n.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return i.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var i=e("./util");var a=i.errorObj;var r=i.isObject;function s(e,i){if(r(e)){if(e instanceof t)return e;var s=l(e);if(s===a){if(i)i._pushContext();var o=t.reject(s.e);if(i)i._popContext();return o}else if(typeof s==="function"){if(c(e)){var o=new t(n);e._then(o._fulfill,o._reject,undefined,o,null);return o}return d(e,s,i)}}return e}function o(e){return e.then}function l(e){try{return o(e)}catch(e){a.e=e;return a}}var u={}.hasOwnProperty;function c(e){try{return u.call(e,"_promise0")}catch(e){return false}}function d(e,r,s){var o=new t(n);var l=o;if(s)s._pushContext();o._captureStackTrace();if(s)s._popContext();var u=true;var c=i.tryCatch(r).call(e,d,f);u=false;if(o&&c===a){o._rejectCallback(c.e,true,true);o=null}function d(e){if(!o)return;o._resolveCallback(e);o=null}function f(e){if(!o)return;o._rejectCallback(e,u,true);o=null}return l}return s}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){var a=e("./util");var r=t.TimeoutError;function s(e){this.handle=e}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(e){return l(+this).thenReturn(e)};var l=t.delay=function(e,a){var r;var l;if(a!==undefined){r=t.resolve(a)._then(o,null,null,e,undefined);if(i.cancellation()&&a instanceof t){r._setOnCancel(a)}}else{r=new t(n);l=setTimeout(function(){r._fulfill()},+e);if(i.cancellation()){r._setOnCancel(new s(l))}r._captureStackTrace()}r._setAsyncGuaranteed();return r};t.prototype.delay=function(e){return l(e,this)};var u=function(e,t,n){var i;if(typeof t!=="string"){if(t instanceof Error){i=t}else{i=new r("operation timed out")}}else{i=new r(t)}a.markAsOriginatingFromRejection(i);e._attachExtraTrace(i);e._reject(i);if(n!=null){n.cancel()}};function c(e){clearTimeout(this.handle);return e}function d(e){clearTimeout(this.handle);throw e}t.prototype.timeout=function(e,t){e=+e;var n,a;var r=new s(setTimeout(function e(){if(n.isPending()){u(n,t,a)}},e));if(i.cancellation()){a=this.then();n=a._then(c,d,undefined,r,undefined);n._setOnCancel(r)}else{n=this._then(c,d,undefined,r,undefined)}return n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,a,r,s){var o=e("./util");var l=e("./errors").TypeError;var u=e("./util").inherits;var c=o.errorObj;var d=o.tryCatch;var f={};function h(e){setTimeout(function(){throw e},0)}function p(e){var t=i(e);if(t!==e&&typeof e._isDisposable==="function"&&typeof e._getDisposer==="function"&&e._isDisposable()){t._setDisposable(e._getDisposer())}return t}function m(e,n){var a=0;var s=e.length;var o=new t(r);function l(){if(a>=s)return o._fulfill();var r=p(e[a++]);if(r instanceof t&&r._isDisposable()){try{r=i(r._getDisposer().tryDispose(n),e.promise)}catch(e){return h(e)}if(r instanceof t){return r._then(l,h,null,null,null)}}l()}l();return o}function _(e,t,n){this._data=e;this._promise=t;this._context=n}_.prototype.data=function(){return this._data};_.prototype.promise=function(){return this._promise};_.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return f};_.prototype.tryDispose=function(e){var t=this.resource();var n=this._context;if(n!==undefined)n._pushContext();var i=t!==f?this.doDispose(t,e):null;if(n!==undefined)n._popContext();this._promise._unsetDisposable();this._data=null;return i};_.isDisposer=function(e){return e!=null&&typeof e.resource==="function"&&typeof e.tryDispose==="function"};function g(e,t,n){this.constructor$(e,t,n)}u(g,_);g.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)};function v(e){if(_.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function b(e){this.length=e;this.promise=null;this[e-1]=null}b.prototype._resultCancelled=function(){var e=this.length;for(var n=0;n<e;++n){var i=this[n];if(i instanceof t){i.cancel()}}};t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var a=arguments[e-1];if(typeof a!=="function"){return n("expecting a function but got "+o.classString(a))}var r;var l=true;if(e===2&&Array.isArray(arguments[0])){r=arguments[0];e=r.length;l=false}else{r=arguments;e--}var u=new b(e);for(var f=0;f<e;++f){var h=r[f];if(_.isDisposer(h)){var p=h;h=h.promise();h._setDisposable(p)}else{var g=i(h);if(g instanceof t){h=g._then(v,null,null,{resources:u,index:f},undefined)}}u[f]=h}var y=new Array(u.length);for(var f=0;f<y.length;++f){y[f]=t.resolve(u[f]).reflect()}var x=t.all(y).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected()){c.e=n.error();return c}else if(!n.isFulfilled()){x.cancel();return}e[t]=n.value()}S._pushContext();a=d(a);var i=l?a.apply(undefined,e):a(e);var r=S._popContext();s.checkForgottenReturns(i,r,"Promise.using",S);return i});var S=x.lastly(function(){var e=new t.PromiseInspection(x);return m(u,e)});u.promise=S;S._setOnCancel(u);return S};t.prototype._setDisposable=function(e){this._bitField=this._bitField|131072;this._disposer=e};t.prototype._isDisposable=function(){return(this._bitField&131072)>0};t.prototype._getDisposer=function(){return this._disposer};t.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072;this._disposer=undefined};t.prototype.disposer=function(e){if(typeof e==="function"){return new g(e,this,a())}throw new l}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5");var canEvaluate=typeof navigator=="undefined";var errorObj={e:{}};var tryCatchTarget;var globalObject=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this!==undefined?this:null;function tryCatcher(){try{var e=tryCatchTarget;tryCatchTarget=null;return e.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}function tryCatch(e){tryCatchTarget=e;return tryCatcher}var inherits=function(e,t){var n={}.hasOwnProperty;function i(){this.constructor=e;this.constructor$=t;for(var i in t.prototype){if(n.call(t.prototype,i)&&i.charAt(i.length-1)!=="$"){this[i+"$"]=t.prototype[i]}}}i.prototype=t.prototype;e.prototype=new i;return e.prototype};function isPrimitive(e){return e==null||e===true||e===false||typeof e==="string"||typeof e==="number"}function isObject(e){return typeof e==="function"||typeof e==="object"&&e!==null}function maybeWrapAsError(e){if(!isPrimitive(e))return e;return new Error(safeToString(e))}function withAppended(e,t){var n=e.length;var i=new Array(n+1);var a;for(a=0;a<n;++a){i[a]=e[a]}i[a]=t;return i}function getDataPropertyOrDefault(e,t,n){if(es5.isES5){var i=Object.getOwnPropertyDescriptor(e,t);if(i!=null){return i.get==null&&i.set==null?i.value:n}}else{return{}.hasOwnProperty.call(e,t)?e[t]:undefined}}function notEnumerableProp(e,t,n){if(isPrimitive(e))return e;var i={value:n,configurable:true,enumerable:false,writable:true};es5.defineProperty(e,t,i);return e}function thrower(e){throw e}var inheritedDataKeys=function(){var e=[Array.prototype,Object.prototype,Function.prototype];var t=function(t){for(var n=0;n<e.length;++n){if(e[n]===t){return true}}return false};if(es5.isES5){var n=Object.getOwnPropertyNames;return function(e){var i=[];var a=Object.create(null);while(e!=null&&!t(e)){var r;try{r=n(e)}catch(e){return i}for(var s=0;s<r.length;++s){var o=r[s];if(a[o])continue;a[o]=true;var l=Object.getOwnPropertyDescriptor(e,o);if(l!=null&&l.get==null&&l.set==null){i.push(o)}}e=es5.getPrototypeOf(e)}return i}}else{var i={}.hasOwnProperty;return function(n){if(t(n))return[];var a=[];e:for(var r in n){if(i.call(n,r)){a.push(r)}else{for(var s=0;s<e.length;++s){if(i.call(e[s],r)){continue e}}a.push(r)}}return a}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(e){try{if(typeof e==="function"){var t=es5.names(e.prototype);var n=es5.isES5&&t.length>1;var i=t.length>0&&!(t.length===1&&t[0]==="constructor");var a=thisAssignmentPattern.test(e+"")&&es5.names(e).length>0;if(n||i||a){return true}}return false}catch(e){return false}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var l=8;while(l--)new FakeConstructor;return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(e){return rident.test(e)}function filledRange(e,t,n){var i=new Array(e);for(var a=0;a<e;++a){i[a]=t+a+n}return i}function safeToString(e){try{return e+""}catch(e){return"[no string representation]"}}function isError(e){return e instanceof Error||e!==null&&typeof e==="object"&&typeof e.message==="string"&&typeof e.name==="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(e){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(e){return isError(e)&&es5.propertyIsWritable(e,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(e){return e}}}else{return function(e){if(canAttachTrace(e))return e;return new Error(safeToString(e))}}}();function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,n){var i=es5.names(e);for(var a=0;a<i.length;++a){var r=i[a];if(n(r)){try{es5.defineProperty(t,r,es5.getDescriptor(e,r))}catch(e){}}}}var asArray=function(e){if(es5.isArray(e)){return e}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from==="function"?function(e){return Array.from(e)}:function(e){var t=[];var n=e[Symbol.iterator]();var i;while(!(i=n.next()).done){t.push(i.value)}return t};asArray=function(e){if(es5.isArray(e)){return e}else if(e!=null&&typeof e[Symbol.iterator]==="function"){return ArrayFrom(e)}return null}}var isNode=typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]";var hasEnvVariables=typeof process!=="undefined"&&typeof process.env!=="undefined";function env(e){return hasEnvVariables?process.env[e]:undefined}function getNativePromise(){if(typeof Promise==="function"){try{var e=new Promise(function(){});if({}.toString.call(e)==="[object Promise]"){return Promise}}catch(e){}}}function domainBind(e,t){return e.bind(t)}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&function(){var e=process.versions.node.split(".").map(Number);return e[0]===0&&e[1]>10||e[0]>0}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)});if(typeof window!=="undefined"&&window!==null){window.P=window.Promise}else if(typeof self!=="undefined"&&self!==null){self.P=self.Promise}}).call(exports,__webpack_require__(79),__webpack_require__(56),__webpack_require__(283).setImmediate)},function(e,t,n){"use strict";var i=n(30);var a=n(19);function r(e,t,n,a){var r,o=SUGAR.App.metadata.getStrings(e);o=n?o[n]:o;if(!o||!_.isString(o[t])){return}r=s(o[t]);if(!_.isUndefined(a)&&r.indexOf("{{")>-1){t="lang."+(n?t+"."+n:t);var l=Handlebars.templates[t];r=l?l(a):i.compile(t,r)(a)}return r}function s(e){return e.slice(-1)===":"?e.slice(0,-1):e}var o=void 0;var l=void 0;e.exports={direction:"ltr",get:function e(t,n,i){var a=this.getModString(t,n,i)||this.getAppString(t,i)||t;return a},getModString:function e(t,n,i){var a;if(_.isArray(n)){_.find(n,function(e){a=r("mod_strings",t,e,i);return!_.isEmpty(a)},this)}else{a=r("mod_strings",t,n,i)}return a},getAppString:function e(t,n){return r("app_strings",t,null,n)},getAppListStrings:function e(t){var n=SUGAR.App.metadata.getStrings("app_list_strings")[t]||{};if(_.isArray(n)){var i={};_.each(n,function(e){if(_.isString(e)){i[e]=e}else if(_.isArray(e)&&e.length===2){i[e[0]]=e[1]}});n=i}return n},getModuleName:function e(t,n){n=n||{};var i=!n.plural&&this.getModString("LBL_MODULE_NAME_SINGULAR",t)||this.getModString("LBL_MODULE_NAME",t);if(!i&&!_.isUndefined(n.defaultValue)){i=this.get(n.defaultValue)}return i||t},getAppListKeys:function e(t){var n=[],i=SUGAR.App.metadata.getStrings("app_list_strings")[t]||{};if(_.isArray(i)){_.each(i,function(e){if(e.length===2){n.push(e[0])}})}else if(_.isObject(i)){n=_.keys(i)}return n},getLanguage:function e(){return l},setLanguage:function e(t,n,i){var a=this;i=i||{};_.each(Handlebars.templates,function(e,t){if(t.indexOf("lang.")===0){delete Handlebars.templates[t]}});if(i.noSync===true){this.updateLanguage(t);return}SUGAR.App.sync({callback:function e(r){var s=false;if(!r){a.updateLanguage(t);s=!SUGAR.App.api.isAuthenticated()&&!i.noUserUpdate;SUGAR.App.cache.set("langHasChanged",s)}if(n)n(r)},getPublic:!SUGAR.App.api.isAuthenticated(),noUserUpdate:i.noUserUpdate||false,language:t,forceRefresh:true,metadataTypes:["labels"]})},updateLanguage:function e(t){SUGAR.App.cache.set("lang",t);a.setPreference("language",t);this.setCurrentLanguage(t);SUGAR.App.trigger("app:locale:change",t)},setDefaultLanguage:function e(t){o=t},getDefaultLanguage:function e(){return o},setCurrentLanguage:function e(t){l=t;this.setDirection(t)},setDirection:function e(t){var n=["he_IL","ar_SA"],i=_.contains(n,t),a=this.direction;this.direction=i?"rtl":"ltr";if(this.direction!==a){SUGAR.App.trigger("lang:direction:change")}},_get:function e(t,n,i,a){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Language#_get is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Language#_get is a private method that you should not access to. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return r(t,n,i,a)},_sanitize:function e(t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Language#_sanitize is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Language#_sanitize is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(t)}}},function(e,t,n){"use strict";var i=n(29);function a(){var e=":",t="last-state",n={},i=[];var a=function n(i){var a=i.split(e);var r=[SUGAR.App.user.id,t];r=r.concat(a);return r.join(e)};var r=function e(t){var n;if(t.meta&&t.meta.last_state){n=t.meta.last_state.id}return n};return{get:function e(t){var n,i;if(!_.isUndefined(t)){i=a(t);n=SUGAR.App.cache.get(i);n=n===void 0?this.defaults(t):n}return n},set:function e(t,n){if(!_.isUndefined(t)&&!_.isUndefined(n)){var i=a(t);SUGAR.App.cache.set(i,n)}},preserve:function e(t){if(!_.isUndefined(t)){i.push(t)}},key:function e(t,n){var i=r(n);return this.buildKey(t,i,n.module)},buildKey:function t(n,i,a){var r,s=[];if(i){if(a){s.push(a)}s.push(i,n);r=s.join(e)}return r},defaults:function e(t){return n[t]},register:function e(t){var i=r(t);if(i){_.each(t.meta.last_state.defaults,function(e,i){n[this.key(i,t)]=e},this)}},remove:function e(t){var n;if(!_.isUndefined(t)){n=a(t);SUGAR.App.cache.cut(n)}},_getPreservedKeys:function e(){var t=[];_.each(i,function(e){t.push(a(e))});return t}}}var r=Backbone.Model.extend({load:function e(t){SUGAR.App.api.me("read",null,null,{success:_.bind(function(e){if(e&&e.current_user){if(e.current_user._hash){SUGAR.App.cache.set("userpref:hash",e.current_user._hash)}this.set(e.current_user);var n=this.getPreference("language");if(SUGAR.App.lang.getLanguage()!==n){SUGAR.App.lang.setLanguage(n,null,{noUserUpdate:true,noSync:SUGAR.App.isSynced||SUGAR.App.metadata.isSyncing()})}}if(t)t()},this),error:function e(n){SUGAR.App.error.handleHttpError(n);if(t)t(n)}})},loadLocale:function e(t){SUGAR.App.api.call("read",SUGAR.App.api.buildURL("locale"),null,{success:function e(n){if(t)t(n)},error:function e(n){SUGAR.App.error.handleHttpError(n);if(t)t(n)}})},getLanguage:function e(){return this.getPreference("language")||SUGAR.App.cache.get("lang")},updateLanguage:function e(t,n){var i=function e(i){if(!i)SUGAR.App.lang.updateLanguage(t);if(n)n(i)};this.update("update",{preferred_language:t},i)},updateProfile:function e(t,n){var i=function e(t){if(n)n(t)};this.update("update",t,i)},updatePreferences:function e(t,n){var i=this;if(SUGAR.App.api.isAuthenticated()){SUGAR.App.api.call("update",SUGAR.App.api.buildURL("me/preferences"),t,{success:function e(a){if(a._hash){SUGAR.App.cache.set("userpref:hash",a._hash);i.set({_hash:a._hash})}_.each(t,function(e,t){if(a[t]){i.setPreference(t,a[t])}});if(n)n()},error:function e(t){SUGAR.App.error.handleHttpError(t);if(n)n(t)}})}else{if(n)n()}},update:function e(t,n,i){if(SUGAR.App.api.isAuthenticated()){SUGAR.App.api.me(t,n,null,{success:_.bind(function(e){if(e.current_user){if(e.current_user._hash){SUGAR.App.cache.set("userpref:hash",e.current_user._hash)}this.set(e.current_user)}if(i)i()},this),error:function e(t){SUGAR.App.error.handleHttpError(t);if(i)i(t)}})}else{i()}},getAcls:function e(){return this.get("acl")||{}},getPreference:function e(t){var n=this.get("preferences")||{};return n[t]},setPreference:function e(t,n){var i=this.get("preferences")||{};i[t]=n;return this.set("preferences",i)},getCurrency:function e(){var t=this.get("preferences"),n={};if(t){n.currency_id=t.currency_id;n.currency_iso=t.currency_iso;n.currency_name=t.currency_name;n.currency_rate=t.currency_rate;n.currency_show_preferred=t.currency_show_preferred;n.currency_symbol=t.currency_symbol}return n},lastState:a()});var s=new r;i.on("app:logout",function(e){SUGAR.App.cache.cut("userpref:hash");if(e===true){s.clear({silent:true})}});i.on("cache:clean",function(e){e(s.lastState._getPreservedKeys())});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(5);var r=n(13);var s=n(10);var o={kLocalSecurityConfigKey:"kLocalSecurityConfigKey",isTouchIdAuthenticationSupported:function e(){var t=i.clientInfo.device;var n=(t.touchIdSupported||t.faceIdSupported)&&i.config.localSecurity.enabled&&!i.loginManager.getSetting("isSSO")&&l.isLocalSecurityEnabled("touchIdForLoginEnabled");if(i.isSynced){n=n&&i.config.localSecurity.touchIdForLoginEnabled&&i.supportedFeatures.localSecurityServerSupport}return n},isPasskeyAuthenticationSupported:function e(){return i.supportedFeatures.localSecurityServerSupport&&i.isNative&&i.config.localSecurity.enabled&&l.isLocalSecurityEnabled("passkeyEnabled")},configureLocalSecurity:function e(t){var n=t.touchIdForLoginEnabled,a=n===undefined?i.config.localSecurity.touchIdForLoginEnabled:n,s=t.passkeyEnabled,o=s===undefined?i.config.localSecurity.passkeyEnabled:s,l=t.touchIdForPasskeyEnabled,u=l===undefined?i.config.localSecurity.touchIdForPasskeyEnabled:l;r.setSetting({store:r.Stores.SETTINGS,name:this.kLocalSecurityConfigKey,value:{touchIdForLoginEnabled:a,passkeyEnabled:o,touchIdForPasskeyEnabled:u}})},isTouchIdForLoginSetup:function e(){return this.isTouchIdAuthenticationSupported()&&Boolean(r.getSetting({store:r.Stores.SETTINGS,name:l.kTouchIdEnabledKey}))},isTouchIdEnrolled:function e(t){this._isTouchIdEnrolled(t)},storeCredentials:function e(t,n){this._storeCredentials(t,n);r.setSetting({store:r.Stores.SETTINGS,name:l.kTouchIdEnabledKey,value:true})},resetCredentials:function e(){this._resetCredentials();r.setSetting({store:r.Stores.SETTINGS,name:l.kTouchIdEnabledKey,value:false})},toggleTouchIdOnLogin:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this._touchIdDisabledOnLogin=!t},isTouchIdEnabledOnLogin:function e(){return this.isTouchIdForLoginSetup()&&!this._touchIdDisabledOnLogin},performTouchId:function e(t,n){this._performTouchId(t,n)},isStepNeeded:function e(){return!this.isTouchIdForLoginSetup()},canPerformStep:function e(){return Boolean(this.getTempCredential())},cleanupStep:function e(){this.resetTempCredential()},setTempCredential:function e(t){this._tempTouchIdCredential=t},getTempCredential:function e(){return this._tempTouchIdCredential},resetTempCredential:function e(){this._tempTouchIdCredential=null},moveTempCredentialsToStorage:function e(){var t=i.loginManager.getSetting("loginName");this.storeCredentials(t,this._tempTouchIdCredential);this.resetTempCredential()},processConfig:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n={};if(t.mobile&&i.config.localSecurity.enabled&&i.isNative&&$.os.ios){var a=t.mobile.localSecurityMask;if(_.isNumber(a)){var r=i.config.localSecurity;n.localSecurity=_.extend({},r,{touchIdForLoginEnabled:Boolean(a&l.kTouchIdForLogin),passkeyEnabled:Boolean(a&l.kPasskey),touchIdForPasskeyEnabled:Boolean(a&l.kTouchIdForPasskey)});if(r.touchIdForLoginEnabled!==n.localSecurity.touchIdForLoginEnabled){this.resetCredentials()}}}return n},performTouchIdSetup:function e(t){var n=this;var r=i.lang.get(i.clientInfo.device.faceIdSupported?"LBL_FACEID":"LBL_TOUCHID");asyncLib.series([function(e){n.isTouchIdEnrolled(function(t){if(t){var n=i.lang.get("LBL_TOUCH_ID_DISCLAIMER",null,{brandName:i.config.brandName,biometryType:r})+i.lang.get("LBL_TOUCH_ID_ENABLE_CONFIRM_MSG",null,{biometryType:r});a.showConfirm(n,{callback:function t(n){e(n!==2)},title:i.lang.get("LBL_ENABLE_TOUCHID",null,{biometryType:r})})}else{a.showAlert(i.lang.get("LBL_TOUCH_ID_NOT_ENROLLED_MSG",null,{brandName:i.config.brandName,biometryType:r}),{title:i.lang.get("LBL_SETUP_TOUCHID",null,{biometryType:r})});e(true)}})},function(e){var t={title:"",buttonLabels:[i.lang.get("LBL_CANCEL_BUTTON_LABEL"),i.lang.get("LBL_ENABLE")],defaultText:i.lang.get("LBL_LOGIN_PASSWORD"),inputStyle:3};var o=void 0;var u="wait_to_verify_password";asyncLib.retry(i.config.localSecurity.maxAllowedPasswordAttempt,function(e){var c=(o?i.lang.get("ERR_MOBILE_INVALID_PASSWORD")+"\n\n":"")+i.lang.get("LBL_TOUCH_ID_ENTER_PASSWORD_TITLE",null,{brandName:i.config.brandName,biometryType:r});s.show(u);a.showPrompt(c,_.extend({},t,{callback:function t(a){var r=a.buttonIndex;if(r===2){var c=a.input1;i.alert.show(u,{level:"info",messages:i.lang.get("LBL_MOBILE_WAIT"),autoClose:false,closable:false});l.verifyPasswordForTouchId(c,function(t,a){o=!t;var r=void 0;var l=!t;if(t){n.setTempCredential(c)}else if(a){l=false;r=true}i.alert.dismiss(u);s.hide(u);e(l,r)})}else{s.hide(u);e(false,true)}}}))},function(t,n){if(t){i.loginManager.logout({clear:true})}e(t||n)})}],function(e){t(!e)})}};if(true){_.extend(o,n(153))}else{_.extend(o,require("%app.js%/native/local-security"))}e.exports=o;var l={kTouchIdForLogin:1,kPasskey:2,kTouchIdForPasskey:4,kTouchIdEnabledKey:"touchIdEnabled",isLocalSecurityEnabled:function e(t){var n=r.getSetting({store:r.Stores.SETTINGS,name:o.kLocalSecurityConfigKey});return n?n[t]:i.config.localSecurity[t]},verifyPasswordForTouchId:function e(t,n){i.alert.dismissAll("error");i.api.verifyPassword(t,{error:function e(t){i.error.handleHttpError(t,null,{forceAlert:true});n(false,t)},success:function e(t){if(t.valid){n(true)}else{i.alert.show("auth_error",{level:"error",messages:i.lang.get("ERR_MOBILE_INVALID_PASSWORD"),autoClose:true});n(false)}}})}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(123),r=a.saveUser;var s=n(3),o=s.getHashCode;var l=n(24);var u=n(10);var c=n(13);var d=n(5);var f=n(20);var h=n(37);var p=n(80);var m=n(22),g=m.getServerUrl;var v=n(32),b=v.updateOfflineUserSetting;var y={_loginConfigs:{},_currentConfigId:null,kLoginConfig:"loginManager:loginConfigs",kCurrentConfig:"loginManager:currentConfigId",kTempConfig:"loginManager:tempConfig",LoginSettingsErrorCode:{OTHER_HTTP_ERROR:1,SSL_AVAILABLE:2,SSL_NOT_SUPPORTED:4,SSO_NOT_SUPPORTED:8},resetUserSettingsEvent:"user:reset_settings",init:function e(){this._fetchLoginConfig();if(!i.isNative){if(this._loginConfigs.default.siteUrl!==i.config.siteUrl){this._resetLoginSettings();this._fetchLoginConfig()}}this.applyLoginSettings();this.registerGlobalEvents()},registerGlobalEvents:function e(){i.events.unregister(i,this.resetUserSettingsEvent);i.events.register(this.resetUserSettingsEvent,i)},_resetLoginSettings:function e(){this.resetTempSetting();this._currentConfigId=null;c.removeSetting({store:c.Stores.SETTINGS,name:this.kCurrentConfig});this._loginConfigs={};c.removeSetting({store:c.Stores.SETTINGS,name:this.kLoginConfig})},verifyExternalLogin:function e(t){i.api.handleExternalLogin=this.handleExternalLogin;i.api.ping(null,{complete:t,error:function e(t){if(t.status===401){i.error.handleExternalLoginNotAvailable()}else{i.error.handleHttpError(t)}}})},verifyLoginSettings:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_.noop;var a=i.loginManager.getTempSetting();var r=void 0;i.api.handleExternalLogin=function(e,i){if(/^https:\/\//.test(i.request.xhr.responseURL)!==a.useHttps){r=a.useHttps?t.LoginSettingsErrorCode.SSL_NOT_SUPPORTED:t.LoginSettingsErrorCode.SSL_AVAILABLE}n(r,i)};var s=function e(i){if(i.status===401){r|=a.isSSO?t.LoginSettingsErrorCode.SSO_NOT_SUPPORTED:0;if(/^https:\/\//.test(i.request.xhr.responseURL)!==a.useHttps){r|=a.useHttps?t.LoginSettingsErrorCode.SSL_NOT_SUPPORTED:t.LoginSettingsErrorCode.SSL_AVAILABLE}}else{r|=t.LoginSettingsErrorCode.OTHER_HTTP_ERROR}n(r,i)};i.api.ping(null,{success:function e(){n()},error:s})},handleLoginSuccess:function e(){var t=this.getSetting();this._commitTempSetting();this._resetUserSettings(t)},handleSyncComplete:function e(){this._commitTempSetting();if(i.api.isExternalLogin()){this.setSetting({loginName:i.user.get("user_name")})}},handleAppUpgrade:function e(){var t=this;this._readDefaultConfig();var n=["setupBuddy"];_.each(_.keys(this._loginConfigs),function(e){t._loginConfigs[e]=_.omit(t._loginConfigs[e],n)});c.setSetting({store:c.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs});this.applyLoginSettings(this.getTempSetting())},handleAuthTokens:function e(){},logout:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};n.clear=n.clear=="1";i.activeComponents.closeAll();u.show("logout",{templateOptions:{spinner:true,tint:true,message:"LBL_MOBILE_WAIT"}});i.logout({success:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(i.api.isExternalLogin()&&n.url){t.handleExternalLogout(n.url)}},complete:function e(){if(n.clear||n.resetRoute){i.controller.navigate("#")}i.router.login()}},n.clear,{timeout:i.config.loginSettings.logoutTimeout})},applyLoginSettings:function e(t){t=t||this.getSetting();i.config.siteUrl=t.siteUrl;i.api.serverUrl=g();i.api.setExternalLogin(t.isSSO);i.logger.debug("Applying login config");i.logger.debug("Site URL: "+i.config.siteUrl);i.logger.debug("Server URL: "+i.api.serverUrl)},getSetting:function e(t){var n=this._loginConfigs[this._currentConfigId]||{};return t?n[t]:n},setSetting:function e(t,n){if(_.isObject(t)){_.extend(this._loginConfigs[this._currentConfigId],t)}else{this._loginConfigs[this._currentConfigId][t]=n}c.setSetting({store:c.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs})},removeSetting:function e(t){delete this._loginConfigs[this._currentConfigId][t];c.setSetting({store:c.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs})},getTempSetting:function e(){var t=c.getSetting({store:c.Stores.SETTINGS,name:this.kTempConfig})||_.clone(this.getSetting());var n=["loginName","loginUrl","isSSO","useHttps","siteUrl"];_.each(t,function(e,i){if(!_.contains(n,i)){delete t[i]}});return this._buildLoginConfig(t)},setTempSetting:function e(t){var n=this.getTempSetting();n=this._buildLoginConfig(_.extend(n,t));n=_.omit(n,function(e){return _.isUndefined(e)||e===""});c.setSetting({store:c.Stores.SETTINGS,name:this.kTempConfig,value:n});return n},_commitTempSetting:function e(){var t=c.getSetting({store:c.Stores.SETTINGS,name:this.kTempConfig});if(t){this.resetTempSetting();t.loginTS=_.now();t=this._buildLoginConfig(t);this._currentConfigId=this._addToSettings(t);c.setSetting({store:c.Stores.SETTINGS,name:this.kCurrentConfig,value:this._currentConfigId});this.applyLoginSettings()}},resetTempSetting:function e(){c.removeSetting({store:c.Stores.SETTINGS,name:this.kTempConfig})},prepareReconfigure:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=this._getOptionValue(t.loginName,"");var a=this._getOptionValue(t.serverUrl,"");var r=this._getOptionBoolValue(t.ssoOption,i.config.loginSettings.externalLoginOnly);var s=this._getOptionBoolValue(t.useHttps,i.config.loginSettings.useHttps);var o={loginName:n,loginUrl:a,isSSO:r,useHttps:s};i.logger.debug("Reconfiguring the client with "+JSON.stringify(o));if(!this._isUrlWhitelisted(a)){i.logger.warn("Configured server URL "+a+" is not whitelisted.");return}o=this._buildLoginConfig(o);return o},reconfigure:function e(t){var n=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_.noop;this.resetTempSetting();var r=this.getSetting();var s=this.prepareReconfigure(t);if(!s){a();return}var o=this.setTempSetting(s);var l=r.id!==o.id;if(i.api.isAuthenticated()){if(l){d.showActionSheet([i.lang.get("LBL_MOBILE_RELOGIN_BUTTON"),i.lang.get("LBL_LATER")],{title:i.lang.get("LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM"),onSelectCb:function e(t){f.resetCredentials();if(t=="0"){i.logout({complete:function e(){n.runLogin(a)}},true)}else{a()}},onCancelCb:function e(){n.resetTempSetting();a()}})}else{a()}}else{this.runLogin(a);if(l){i.alert.show("login_settings",{level:"info",messages:i.lang.get("LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM"),autoClose:true,closable:true})}}},runLogin:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_.noop;var n=i.controller.layoutManager.getRootLayout();if(n&&n.name==="login"){var a=n.model;if(a){a.set("password","")}n.render();t()}else{i.router.login();_.delay(function(){t()},1e3)}},_readDefaultConfig:function e(){return this._addToSettings(this._buildLoginConfig({id:"default",loginName:"",loginUrl:this._getOptionValue(i.config.loginSettings.defaultServerUrl,""),siteUrl:i.config.siteUrl,isSSO:i.config.loginSettings.externalLoginOnly,useHttps:i.config.loginSettings.useHttps}))},_fetchLoginConfig:function e(){this._currentConfigId=c.getSetting({store:c.Stores.SETTINGS,name:this.kCurrentConfig});this._loginConfigs=c.getSetting({store:c.Stores.SETTINGS,name:this.kLoginConfig})||{};if(!this._currentConfigId){this._currentConfigId=this._readDefaultConfig();c.setSetting({store:c.Stores.SETTINGS,name:this.kCurrentConfig,value:this._currentConfigId});var t=i.config.loginSettings.useHttps;var n=c.getSetting({store:c.Stores.SETTINGS,name:"siteUrl"})||i.config.siteUrl;if(/^https?:\/\//.test(n)){t=/^https:\/\//.test(n)}var a={loginName:c.getSetting({store:c.Stores.SETTINGS,name:"loginName"}),loginUrl:c.getSetting({store:c.Stores.SETTINGS,name:"loginUrl"}),siteUrl:i.config.siteUrl,useHttps:t,isSSO:i.config.loginSettings.externalLoginVisible&&c.getSetting({store:c.Stores.SETTINGS,name:"externalLogin"}),fontSize:c.getSetting({store:c.Stores.SETTINGS,name:"fontSize"})};this.setTempSetting(a);c.removeSetting({store:c.Stores.SETTINGS,name:["loginName","loginUrl","siteUrl","useHttps","fontSize","externalLogin","setupBuddyDone"]})}},_buildSettingsId:function e(t){var n=t.isSSO,i=t.siteUrl,a=i===undefined?"":i,r=t.loginName,s=r===undefined?"":r;var l=[a,n?"":s];return String(Math.abs(o(l.join(":"))))},_addToSettings:function e(t){this._loginConfigs[t.id]=_.extend(this._loginConfigs[t.id]||{},t);if(_.size(this._loginConfigs)-1>i.config.loginSettings.loginSettingsLimit){this._loginConfigs=_.pick(this._loginConfigs,_.chain(this._loginConfigs).omit("default").sortBy(function(e){return e.loginTS}).last(i.config.loginSettings.loginSettingsLimit).pluck("id").value(),"default")}c.setSetting({store:c.Stores.SETTINGS,name:this.kLoginConfig,value:this._loginConfigs});return t.id},_buildLoginConfig:function e(t){var n=this._loginConfigs.default||{};var a=_.extend({},n,t);if(t.loginUrl&&i.isNative){a.siteUrl=this._normalizeUrl(a.loginUrl,a.useHttps)}if(!i.isNative){a.loginUrl=""}if(t.id!=="default"){a.id=this._buildSettingsId(a)}return a},cleanStores:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_.noop;var n=[];_.each(i.nomad.stores,function(e){n.push(_.bind(e.cutAll,e))});asyncLib.parallel(n,t)},_resetUserSettings:function e(t){var a=n(12),s=a.setFontSize;var o=n(28),u=o.reset;var d=i.cache.get(c.Stores.SETTINGS);var m=this.getSetting();var g=t.id!==m.id||t.loginName!==m.loginName&&m.isSSO;i.events.trigger(this.resetUserSettingsEvent,{reset:g});if(g){h.resetPref();c.cleanStore({store:c.Stores.LAST_STATE});u();var v=[this.kLoginConfig,this.kCurrentConfig,f.kLocalSecurityConfigKey];_.each(d,function(e,t){if(!_.contains(v,t)){delete d[t]}});i.cache.set(c.Stores.SETTINGS,d);i.cache.cut("lang");i.user.clear();r();this.cleanStores();l.cleanDashboardsCache();p.cleanCache();f.resetCredentials();s(m.fontSize)}b(g);if(d.default_view==="Recents"){c.removeSetting({store:c.Stores.SETTINGS,name:"default_view"})}},_getOptionBoolValue:function e(t,n){var i=this._getOptionValue(t,n);if(i===n){return i}if(i==="1"){return true}else if(i==="0"){return false}return n},_getOptionValue:function e(t,n){var i=n;if(!_.isUndefined(t)){t=String(t);i=_.isEmpty(t)?n:t}return i},_isUrlWhitelisted:function e(t){var n=i.config.deepLinking.configUrlWhiteList;return _.isEmpty(n)||Boolean(_.find(n,function(e){return new RegExp(e).test(t)}))},_normalizeUrl:function e(t,n){t=t.trim();var i=/^no-ssl:\/\//.test(t);if(!i&&!/^https?:\/\//.test(t)){t="http://"+t}if(n&&!i&&t.indexOf("http://")===0){t="https:"+t.substr(5)}if(t.indexOf("no-ssl://")===0){t="http://"+t.substr(9)}return t.replace(/\/+$/,"")}};i.augment("loginManager",y,false);e.exports=y},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={getProductVersion:function e(){return i.clientInfo.app.productVersion+"."+i.clientInfo.app.productBuild+(i.config.env!=="prod"?" ("+i.config.env+")":"")+(_.isEmpty(i.config.buildTag)?"":" "+i.config.buildTag)},getNomadVersion:function e(){var t=this.getSdkVersion();t=t.slice(0,t.indexOf("-"));return t.slice(0,t.lastIndexOf("."))},getNomadBuild:function e(){var t=this.getSdkVersion();t=t.slice(0,t.indexOf("-"));return t.slice(t.lastIndexOf(".")+1)},getToolsVersion:function e(){var t=this.getSdkVersion();return t.slice(t.indexOf("-")+1,t.lastIndexOf("-"))},getApiLevel:function e(){var t=this.getSdkVersion();return t.slice(t.lastIndexOf("-")+1)},getSdkVersion:function e(){return i.config.sdkVersion},getServerVersion:function e(){return i.serverInfo&&i.api.isAuthenticated()?i.serverInfo.version+" "+i.serverInfo.flavor:"N/A"},getServerUrl:function e(){return i.config.siteUrl+"/rest/v"+i.config.restVersion},getDesktopUrl:function e(){return i.config.siteUrl+"?mobile=0"}}},function(e,t,n){"use strict";var i=999;var a=n(3),r=a.isStandardModule;var s=SUGAR.App;e.exports={contextMetaViews:{list:{numberOfItems:2},detail:{numberOfItems:i},all:{numberOfItems:i,customModsOnly:true,useVarDef:true}},contextMeta:{},initializeContextMeta:function e(){var t=this;this.contextMeta=this.contextMeta||{};_.each(this.contextMetaViews,function(e,n){t.contextMeta[n]=t.contextMeta[n]||{};var i=e.type||n;var a=_.keys(s.metadata.getModules());if(e.customModsOnly){a=_.reject(a,function(e){return r(e)})}_.each(a,function(e){if(s.metadata.getModule(e)){var a=s.data.createBean(e);t.contextMeta[n][e]=t.calculateContextMeta(a,e,i)}})})},calculateContextMeta:function e(t,n,a){var r=this.contextMetaViews[a].numberOfItems||i;var o=s.metadata.getView(n,a);var l=[];var u=void 0;if(this.contextMetaViews[a].useVarDef){l=[s.metadata.getModule(n)]}else if(o){l=o.panels}_.each(l,function(e){u=t.getContextMetaData(e.fields,r)});return u},getContextMeta:function e(t,n){var i=this.contextMeta[t]||{};return n?i[n]:i}}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(3);e.exports={_started:false,_cacheKey:"dashboards",_dashletTypeRegistry:{},isStarted:function e(){return this._started},reset:function e(){this._started=false},resetCollection:function e(){if(this.collection){this.collection.reset()}},start:function e(){this._started=true;this.cacheDashletStore=a.nomad.stores.dashlets;this.initCollection()},initCollection:function e(){var t=this.getCachedDashboards()||[];this.collection=this.collection||a.data.createBeanCollection("Dashboards");this.collection.reset(t,{silent:true})},fetchDashboards:function e(t,n){var i=this;asyncLib.waterfall([_.bind(i._fetchDashboards,i),_.bind(i._fetchDashboardMeta,i)],function(e,r){if(e){a.logger.debug("Error while fetching dashboards"+e)}else{i._processFetchResults(r,t)}if(n){n(e)}})},_fetchDashboards:function e(t){var n=this;var i=void 0;if(a.supportedFeatures.shareableDashboards){i=[{$or:[{$favorite:""},{default_dashboard:1}]}]}var r=a.metadata.getModuleNames({filter:"visible"});var s=_.map(r,function(e){return a.nomad.buildBulkRequest({module:"Dashboards/"+e,limit:-1,params:{view_name:"record",filter:i}})});s.push(a.nomad.buildBulkRequest({module:"Dashboards",params:{filter:i}}));a.api.bulk({requests:s},{success:function e(i){t(null,n._getSuccessfulResponses(i))},error:t})},_fetchDashboardMeta:function e(t,n){var i=this;var r=_.map(t,function(e){return a.nomad.buildBulkRequest({module:"Dashboards",attributes:{id:e.id}})});a.api.bulk({requests:r},{success:function e(t){n(null,i._getSuccessfulResponses(t))},error:n})},_processFetchResults:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=this.collection.toJSON();t=_.filter(t,function e(t){var n=t.metadata;this.adjustDashboardMetadata(n,{isRecordDashboard:t.dashboard_module!=="Home",module:t.dashboard_module});return!_.isEmpty(n.dashlets)},this);this._cacheDashboards(t);this.cleanUnusedDashletsCache();this.collection.reset(t,{silent:true});if(n.notifyIfChanged&&this._isAnyDashboardChanged(i,t)){a.events.trigger("app:dashboards:changed")}},getDashboards:function e(t){var n=void 0;if(!this._started){return[]}n=this.collection.models;if(t){switch(t.type){case"home":n=_.filter(n,function(e){return e.get("dashboard_module")==="Home"});break;case"detail":n=_.filter(n,function(e){return e.get("dashboard_module")!=="Home"});break}if(t.module){n=_.filter(n,function(e){return e.get("dashboard_module")===t.module})}}return n},getDashboard:function e(t){return this.collection.get(t)},adjustDashboardMetadata:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=this;t.dashlets=[];_.each(t.components,function(e){_.each(e.rows,function(e){_.each(e,function(e){var n=e.view;if(!n){return}var a=_.values(n).join("");e.id=String(Math.abs(r.getHashCode(a)));t.dashlets.push(e);i._normalizeDashletMeta(e)})})});t.components=null;this.cleanDashlets(t.dashlets,n)},cleanDashlets:function e(t,n){var i=void 0;var a=[];for(i=t.length-1;i>-1;i--){if(!_.contains(a,t[i].id)&&this.canCreateDashlet(t[i],n)){a.push(t[i].id)}else{t.splice(i,1)}}},canCreateDashlet:function e(t,n){var i=false;var s=this._getDashletType(t);if(this.isDashletSupported(t,n)){if(s==="tabbed-dashlet"){var o=a.metadata.getView(null,t.view.type);i=Boolean(o)&&_.any(o.tabs,function(e){return r.isAccessibleModule(e.module,"list")})}else if(s==="dashablelist"){i=r.isAccessibleModule(t.view.module,"list")}else if(s==="casessummary"){i=r.isAccessibleModule("Cases","list")}else{i=true}}return i},isDashletSupported:function e(t,n){var i=this._getDashletType(t);var r=a.config.dashboards.dashlets[i];var s=this._dashletTypeRegistry[i];if(i==="activitystream-dashlet"&&n.module==="Emails"){return false}return s||r&&a.utils.versionCompare(a.serverInfo.version,r.minServerVersion,">=")},_normalizeDashletMeta:function e(t){var n=t.view;if(!n.module&&t.context&&t.context.module){n.module=t.context.module}if(!n.type&&n.name){n.type=n.name}},getDashboardDashlets:function e(t){var n=this.getDashboard(t);return n.get("metadata").dashlets},isDashletAvailable:function e(t,n){return _.chain(this.getDashboardDashlets(t)).pluck("id").contains(n).value()},getDashletTitle:function e(t){var n=t||{};var i=t.type;var s=void 0;var o=_.isFunction(t.type)?t.type:this._dashletTypeRegistry[t.type];if(o){s=o.prototype.getTitle(t)}else{s=t.label}var l=t.module;if(i==="dashablelist"){n={module:a.lang.getAppListStrings("moduleList")[l]||l}}else if(i==="bubblechart"&&!l){l=r.getForecastModule()}return a.lang.get(s,l,n)},getDashletConfig:function e(t,n){var i=_.find(this.getDashboardDashlets(t)||[],function(e){return e.id.toString()===n});return i},_cacheDashboards:function e(t){a.cache.set(this._cacheKey,t)},getCachedDashboards:function e(){return a.cache.get(this._cacheKey)},verifyDefaultView:function e(){var t=a.loginManager.getSetting("default_view");if(!t){return}var n=t.split(":");var i=n[0]==="Dashboards"&&n[1];var r=void 0;var s=void 0;var o=true;if(i){s=Boolean(this.getDashboard(i));r=n[2];o=s&&(r?this.isDashletAvailable(i,r):true);if(!o){a.loginManager.removeSetting("default_view")}}},cleanDashboardsCache:function e(t){a.cache.cut(this._cacheKey)},cleanDashletsCache:function e(t){t=t||_.noop;if(a.config.dashboards.enabled){this.cacheDashletStore.cutAll(t)}else{t()}},cleanUnusedDashletsCache:function e(t){var n=this;this.cacheDashletStore.getAll(function(e,i){if(e){return t(e)}var a=[];var r=[];n.collection.each(function(e){var t=e.get("metadata");_.each(t.dashlets,function(e){if(!_.contains(a,e.id)){a.push(e.id)}})});_.each(i,function(e,t){if(!_.contains(a,t)){r.push(function(e){n.cacheDashletStore.cut(t,e)})}});asyncLib.parallel(r,t)})},_getDashletType:function e(t){var n=a.metadata.getView(null,t.view.type);return n&&n.tabs?"tabbed-dashlet":t.view.type},_isAnyDashboardChanged:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return t.length!==n.length||_.any(t,function e(t){return!_.any(n,function(e){return t.id===e.id&&t.date_modified===e.date_modified},this)},this)},_getSuccessfulResponses:function e(t){var n=[];_.each(t,function(e){if(e.status===200){if(e.contents.records){n.push.apply(n,i(e.contents.records))}else if(e.contents&&e.contents.metadata){n.push(e.contents)}}});return n},registerDashlet:function e(t,n){this._dashletTypeRegistry[t]=n},getDashletTypeRegistry:function e(){return this._dashletTypeRegistry}}},function(e,t,n){"use strict";e.exports={BucketType:{INITIAL:"initial",COMPLETE:"complete"},ProgressEventType:{START:"start",STOP:"stop",PAGE_START:"page_start",PAGE_FINISH:"page_finish",COMPLETE:"complete"},ModuleStatus:{IN_PROGRESS:"in_progress",OFFLINE_ERROR:"offline_error",UNKNOWN_ERROR:"unknown_error"},SettingsKey:{SETUP_SHOWN:"offline:bulkload:driver:setupShown",ALLOW_CELLULAR:"offline:bulkload:driver:allowCellular"},State:{IDLE:"idle",WORKING:"working",PAUSED_BY_CONNECTION:"paused_by_connection",PAUSED_BY_USER:"paused_by_user"}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isStandardModule;var s=n(2);var o=n(5);var l=n(10);var u=n(71);var c=s.extendComponent(u,{_stringType:"edit",NOTHING_CHANGED_ERR:"nothing_changed",VALIDATION_ERR:"validation_error",_bodyScroll:true,skipNavigationAfterSave:false,serverSync:true,events:function e(){return{"click .delete":"deleteRecord"}},plugins:[],globalEvents:{"offline:data:updated":function e(t){if(t.isCollection||t.id!==this.model.id){return}if(t.action==="delete"){this.showRecordOverlay(t.data,t.status);return}if(!this._modelBackup||t.date_modified===this._modelBackup.date_modified){return}var n=i.lang.get("LBL_OFFLINE_MERGE_DATA_CONFIRM");var a=_.pick(this.model.attributes,this._getChangedFields());var r=t.complete;if(_.isEmpty(a)){this.model.fetch({params:{skipServerSync:true}})}else{o.showConfirm(n,{callback:_.bind(function e(n){if(n===2){var i=this.model;t.complete=function e(){i.set(a);if(r){for(var t=arguments.length,n=Array(t),s=0;s<t;s++){n[s]=arguments[s]}r.apply(this,n)}}}this.model.fetch(_.extend(t,{params:{skipServerSync:true}}))},this)})}}},initialize:function e(t){var n=this;if(t.context&&t.context.get("duplicate")){this._setDuplicateOptions(t)}this._super(t);this._fileUploads={};this._modelBackup=null;this.relateFields=null;this.isCreate=Boolean(this.context)&&this.context.isCreate();if(!_.isUndefined(t.serverSync)){this.serverSync=t.serverSync}var a=this.context.get("link");if(a){var r=this.context.get("parentModule");var s=i.data.getRelateFields(r,a);this.relateFields=_.isEmpty(s)?null:_.pluck(s,"name");this.relationshipFields=this._getRelationshipFields()}if(this.isCreate){var o=i.metadata.getModule(this.module).fields.assigned_user_name;if(o&&o.type==="relate"){var l={};l[o.id_name]=i.user.get("id");l[o.name]=i.user.get("full_name");this.model.set(l)}var u=i.metadata.getModule(this.module).fields.team_name;if(u){var c=this.model.get(u.name)||i.user.getPreference("default_teams")||[];if(!c.length){c.push({id:1,name:"Global",primary:true})}this.model.set(u.name,c)}}this._updateReadOnlyStatus();this.listenTo(this.model,"error:validation",function(e){return n.onValidationError(e)})},onValidationError:function e(t){i.alert.show("validation_error",{level:"error",messages:i.lang.get("ERR_MOBILE_VALIDATION"),autoClose:true})},getDisplayFields:function e(){var t=this;return this._super().filter(function(e){return t.canDisplay(e)})},_setDuplicateOptions:function e(t){var n=i.controller.getScreenContext();var a=t.context;var r=void 0;var s=void 0;if(n.link){s=i.data.createBean(n.parentModule,{id:n.parentModelId});r=i.data.createRelatedBean(s,null,n.link)}else{r=i.data.createBean(n.module)}r.copy(a.get("sourceModel"));var o={model:r,parentModel:s,parentModule:n.parentModule,parentModelId:n.parentModelId,link:n.link,create:true,duplicate:true};a.set(o)},isEditView:function e(){return true},_render:function e(){this.action=this.isCreate?"create":"edit";if(this.action==="edit"){this._updateReadOnlyStatus();this.action=this.isReadOnly?"disabled":"edit";this.name=this.action}this._super()},onBeforeRender:function e(){this._super();this.model.off("error:validation");this.model.on("error:validation",function(){i.alert.show("validation_error",{level:"error",messages:i.lang.get("ERR_MOBILE_VALIDATION"),autoClose:true})},this)},onAfterRender:function e(){this._super();var t=i.metadata.getStrings("mod_strings")[this.module];var n=t?t.LBL_RELATED_RECORD_DEFAULT_NAME:null;var a=this.context.get("link");var s=this.context.get("parentModule");var o=this.context.get("parentModel");var l=o&&o.dataFetched;var u=this;var c=n&&this.isCreate&&a&&!this.context.get("duplicate")&&this.model&&_.isEmpty(this.model.get("name"));var d=this.isCreate&&a&&r(s)&&!o.parentInfoPopulated;var f=function e(t){if(t){n=i.lang.get("LBL_RELATED_RECORD_DEFAULT_NAME",u.module,t);var a=i.metadata.getModule(u.module);var r=a?a.fields.name:null;var s=r?r.len:null;if(s&&s<n.length){n=n.substr(0,s-3)+"..."}u.model.set("name",n)}};if(c&&l){f(o.get("full_name")||o.get("name"))}if(d&&l){this._populateParentInfo(o.toJSON(),s,a)}if(o&&!l){o.fetch({success:function e(){if(!u.model){return}if(c&&_.isEmpty(u.model.get("name"))){f(o.get("full_name")||o.get("name"))}if(d){u._populateParentInfo(o.toJSON(),s,a);o.parentInfoPopulated=true}}})}var h=this.context.get("data");this.context.set("data",null);if(this.isCreate&&h&&h.fileUrl&&h.fileName){var p=_.find(this.displayFields,function(e){return e.type==="file"});if(p){var m={};m[p.name]=h.fileName;this.model.set(m);var g=this.getField(p.name,this.model);g.onImportNativeDocument(h)}}this.$scrollableElement=i.isBodyScrollRequired?$(document):this.$el.find(".scroll")},onAfterShow:function e(){this._super();this._attachScrollDetection()},onDetachFromDom:function e(){this._super();this._unsubscribeScrollDetection()},onBeforeLeave:function e(t){this._scrollTop=null;t.callback()},getField:function e(t,n){var i=this._super(t,n);if(!i){_.each(this.fields,function(e){if(!i&&e.getSubfield){i=e.getSubfield(t)}})}return i},_parsePopulateList:function e(t,n){var a=_.isArray(t);_.each(t,function e(t,r){r=a?t:r;if(!_.isUndefined(n[r])&&_.isEmpty(this.model.get(t))&&i.acl.hasAccessToModel("edit",this.model,t)){this.model.set(t,n[r])}},this)},_populateParentInfo:function e(t,n){var a=this.model.fields;var r=this.context.get("link");var s=i.data.getRelateFields(n,r);var o=i.metadata.getModule(n).fields[r];if(i.supportedFeatures.populateList){if(o&&o.populate_list){this._parsePopulateList(o.populate_list,t)}if(!_.isEmpty(s)){_.each(s,function e(n){this.model.set(n.name,t[n.rname]);this.model.set(n.id_name,t.id);if(n.populate_list){this._parsePopulateList(n.populate_list,t)}},this)}}else{var l=(n==="Accounts"||t.account_id)&&!(n==="Opportunities"&&this.module==="Contacts")&&a.account_id&&a.account_name&&!(this.model.get("account_id")||this.model.get("account_name"))&&i.acl.hasAccessToModel("edit",this.model,"account_name");if(l){this.model.set({account_id:t.account_id||t.id,account_name:t.account_name||t.name})}}},_updateReadOnlyStatus:function e(){this.isReadOnly=!this.model.hasEditAccess()},onDataSyncSuccess:function e(t,n,i){this._super(t,n,i);this._onDataSyncComplete(i.method,t,i)},onDataSyncError:function e(t,n,a){this._super(t,n,a);var r=this;this._onDataSyncComplete(t,this.model,n,a);if(a.status===409){o.showConfirm(i.lang.get("ERR_MOBILE_CONFLICT"),{callback:function e(t){var n={};var s=r.model;var o=a.payload.record;if(o){if(t===2){_.each(r._getChangedFields(),function(e){n[e]=s.get(e)});r.backupModel(o);o=i.data.beanModel.prototype.merge(o,n,r.module)}else{r.backupModel(o)}s.set(o)}}})}},_onDataSyncComplete:function e(t,n,a,r){if(!this.isCreate&&this.context.isDataFetched()){if(t==="read"){this.backupModel()}if(i.config.modules.nonEditableModules.indexOf(this.model.module)===-1&&this.action!==(i.acl.hasAccessToModel("edit",this.model)?"edit":"view")){this.render()}this.$(".btn.delete").toggleElement(this.model.hasDeleteAccess()&&!(r&&t==="read"))}},deleteRecord:function e(){var t=this;o.showConfirm(i.lang.get("LBL_MOBILE_DELETE_CONFIRM"),{callback:function e(n){if(n===2){t.model.destroy({wait:true})}}})},save:function e(t){var n=this;this._removeErrorMessages();var a=this.model.get("email");if(a){a=_.filter(a,function(e){return!_.isEmpty(e.email_address)});this.model.set("email",a)}asyncLib.series(this._getSavingTasks(t),function(e){i.syncAlertManager.hideOverlay();if(e){n.handleSaveError(e)}else{n.handleSaveSuccess()}})},onHeaderSaveClick:function e(){this.save()},onHeaderAdditionalAction:function e(t){t.action(this,this.model)},syncAlert:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.pause,a=n===undefined?false:n,r=t.action,s=r===undefined?"update":r,o=t.err;if(!this.serverSync){return}if(a){i.syncAlertManager.pause(s,this.model)}else{i.syncAlertManager.resume(s,this.model,o)}},handleSaveSuccess:function e(){this._showCreateRelatedRLIWarn();this.trigger(this.ACTION_NAME,{name:"edit:view:save",options:{model:this.model,parentModel:{id:this.context.get("parentModelId"),module:this.context.get("parentModule")},isCreate:this.isCreate,skipNavigation:this.skipNavigationAfterSave}});this.syncAlert()},handleSaveError:function e(t){if(t===this.VALIDATION_ERR){return}if(t===this.NOTHING_CHANGED_ERR){i.controller.goUp();return}if(t.isFileUploadError){i.error.handleHttpError(t)}this.syncAlert({err:t})},_showCreateRelatedRLIWarn:function e(){if(!this.isCreate||!i.supportedFeatures.createRelatedRLIWarn||this.module!=="Opportunities"){return}var t="#Opportunities/"+this.model.id+"/link/revenuelineitems/create";var n=i.lang.get("LBL_CREATE_RELATED_MODULE_WARN",null,{module:i.lang.getModuleName("Opportunities"),relatedModule:i.lang.getModuleName("RevenueLineItems"),createLink:t});i.alert.show("CreateRelatedRLI",{level:"warning",messages:[new Handlebars.SafeString(n)],closeable:true})},getFieldsToSave:function e(){var t=this.getFieldNames(true);return this.context.get("duplicate")?_.keys(this.model.attributes):this._getChangedFields(t)},_getSavingTasks:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var i=this.getFieldsToSave();if(this._sendParentId||_.include(i,"parent_id")){n.push("parent_id","parent_type","parent_name")}i=_.isEmpty(i)?null:_.union(i,n);var a=[function(e){t.onBeforeValidate();t._validateRecord(e)},function(e){t.syncAlert({pause:true});e()},function(e){t._saveRecord(e,t._omitFileFields(i))}];if(this.serverSync){_.each(this._fileUploads,function e(t){a.push(_.bind(t,this))},this)}return a},updateComputedFields:function e(t){if(!t){t=this.getFieldsToSave()}var n=i.metadata.getModule(this.module).fields.name;if(_.intersection(t,n.fields).length!==0){if(this._shouldUpdateNameAndFullname(t)){var a=i.utils.formatNameModel(this.model.module,this.model.attributes);this.model.set("full_name",a);this.model.set("name",a);t.push("full_name");t.push("name")}else{var r=n.fields[0];this.model.set("name",this.model.get(r));t.push("name")}}},onBeforeValidate:function e(){i.syncAlertManager.showOverlay()},_validateRecord:function e(t){var n=this;var a=this.getFieldsToSave();var r=this.getFieldNames(true);var s={};var o=i.metadata.getModule(this.module).fields;var l=_.filter(r,function(e){return o[e]});_.each(l,function e(t){var n=o[t];var i=this.getField(t);if(i){n=i.def}if(n.type==="address"){_.each(n.fieldNames,function(e){s[e]=o[e]})}else if(n.required||!(n.calculated&&n.enforced)){s[n.name]=n}},this);if(this.context.get("duplicate")||!this.isCreate){_.each(s,function e(t,n){if(!i.acl.hasAccessToModel("edit",this.model,n)){delete s[n]}},this)}this.model.doValidate(s,function(e){if(e){if(_.isEmpty(a)){t(n.NOTHING_CHANGED_ERR)}else{t(null)}}else{t(n.VALIDATION_ERR)}})},_shouldUpdateNameAndFullname:function e(t){var n=i.metadata.getModule(this.model.module).fields;var a=n.name;var r=n.full_name;var s="last_name";if(_.intersection(t,["first_name","last_name","salutation","title"]).length===0){return false}return a&&r&&a.group===s&&r.group===s},_saveRecord:function e(t,n){if(!this.model){t();return}this.updateComputedFields(n);if(_.isEmpty(n)){t();return}this._saveModel(t,n)},_saveModel:function e(t,n){if(!this.serverSync){t();return}this.model.save(null,{relate:!this._viaParent&&Boolean(this.context.get("link")),fields:n,modelBackup:this._modelBackup,viewed:true,success:function e(){t()},error:function e(n){t(n)}})},_removeErrorMessages:function e(){var t=this.$(".field");t.find(".field__error-message").remove();t.removeClass("error")},backupModel:function e(t){this._modelBackup=i.utils.deepCopy(t||this.model.attributes);this.context.set("_modelBackup",this._modelBackup)},restoreModel:function e(){this.model.set(this.model.getChangeDiff(this._modelBackup))},receiveSyncData:function e(t){},_getChangedFields:function e(){return _.keys(this.model.getChangeDiff(this._modelBackup))||[]},_omitFileFields:function e(t){var n=_.filter(i.metadata.getModule(this.module).fields,function(e){return e.type==="image"||e.type==="file"}).map(function(e){return e.name});return _.difference(t,n)},_onFileFieldChange:function e(t,n,a){this._super(t,n,a);var r=this;if(a==="preparing"){this._showOverlay(t.type)}else if(a==="prepared"){this._hideOverlay();this._enqueueFileHandler("create",t,n);var s=n.fileData.name;this._setFileFieldValue(t,s);r.model.doValidate([t.name],function(e){if(e){t.handleValidationError()}})}else if(a==="error"){this._hideOverlay();i.alert.show("file_upload_error",{level:"error",messages:n,autoClose:true,closeable:true});this.render()}},_setFileFieldValue:function e(t,n){this.model.set(t.name,n,{silent:true});if(!_.isEmpty(t.def.fields)){_.each(t.def.fields,function e(t){this.model.set(t,n,{silent:true})},this)}},_onFileFieldClear:function e(t){this._super(t);this._enqueueFileHandler("delete",t);this._setFileFieldValue(t,"")},_enqueueFileHandler:function e(t,n,i){var a=this;var r=function e(r){var s=a.model.get(n.name);var o=i&&i.fileData.name||"";var l={success:function e(t){a.model.trigger("change:attachment_list");a.model.trigger("sync",a.model,t,{fileFieldName:n.name});r()},error:function e(t){delete a._fileUploads[n.name];a.model.set(n.name,s);r(t)}};a.model.set(n.name,o);if(t==="create"){_.defer(function(){a.model.uploadFile(n.name,i,l,{htmlJsonFormat:false,isCreate:a.isCreate})})}else{a.model.deleteFile(n.name,i,l,{htmlJsonFormat:false})}};this._fileUploads[n.name]=r},_showOverlay:function e(t){var n=t==="image"?"LBL_MOBILE_PROCESSING_IMAGE":"LBL_MOBILE_PROCESSING_FILE";l.show("preparing_image");i.alert.show("upload_mask",{level:"info",messages:i.lang.get(n),autoClose:false,closeable:false})},_hideOverlay:function e(){i.alert.dismiss("upload_mask");l.hide("preparing_image")},_attachScrollDetection:function e(){var t=this;if(this._scrollTop){if(i.isBodyScrollRequired){document.documentElement.scrollTop=this._scrollTop}else{this.$scrollableElement.scrollTop(this._scrollTop)}}this.$scrollableElement.on("scroll.detection",function(e){t._scrollTop=i.isBodyScrollRequired?document.documentElement.scrollTop:e.target.scrollTop})},_unsubscribeScrollDetection:function e(){this.$scrollableElement.off("scroll.detection")}});e.exports=c},function(e,t,n){"use strict";var i={GENERIC:{},UP:{},BACK:{},BACK_BUTTON:{},HOME:{},SAVE:{},DELETE:{},RELATE:{},LIST:{},DASHBOARD:{},ACTIVITIES_LIST:{},DASHLET_LIST:{},ERROR_LOAD_SCREEN:{},CONFIGURE:{}};_.each(i,function(e,t){i[t].name=t});e.exports=i},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(7);var r=n(119);var s=n(25);var o=n(5);var l=n(6);var u=n(21);var c=n(364);var d=n(3),f=d.isOnline,h=d.supportsFavorite,p=d.supportsMyItems,m=d.supportsFollowing;var g={_initialized:false,_connectionEventsDispatcher:null,init:function e(){var t=this;if(!i.config.offline.bulkLoad.enabled){return}this.processChangingConnection=this.processChangingConnection.bind(this);i.events.on("offline:toggled",function(e){if(e){if(t._initialized){t._startIfPossible()}else{t._init()}}else if(t._initialized){t._uninit()}});i.events.on("offline:storage:migrate",function(e){if(e.storageRebuilt){t.reset()}})},_init:function e(){var t=this;r.init();i.events.on("app:sync:complete",this._onAppSync,this);i.events.on("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.on("offline:cleanup:completed",this._onOfflineCleanupCompleted,this);i.events.on("user:reset_settings",function(e){var n=e.reset;if(n){t.reset()}});this._connectionEventsDispatcher=i.isNative?$(document):$(window);this._connectionEventsDispatcher.on("online",this.processChangingConnection);this._connectionEventsDispatcher.on("offline",this.processChangingConnection);l.registerForPushNotifications();this.onAppPause=this._onAppPause;this.onAppResume=this._onAppResume;if(!this._wasBucketQueued(s.BucketType.INITIAL)){var n=this._getModulesToLoad(s.BucketType.INITIAL);r.queueBuckets({name:s.BucketType.INITIAL,modules:n});r.start()}else{this._startIfPossible()}this._initialized=true},_uninit:function e(){r.uninit();if(!i.offline.storageExists()){this.reset()}i.events.off("app:sync:complete",this._onAppSync,this);i.events.off("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.off("offline:cleanup:completed",this._onOfflineCleanupCompleted,this);i.events.off("user:reset_settings",null,this);this._connectionEventsDispatcher.off("online",this.processChangingConnection);this._connectionEventsDispatcher.off("offline",this.processChangingConnection);this._connectionEventsDispatcher=null;this.onAppPause=null;this.onAppResume=null;this._initialized=false},_bulkLoaderNotificationSent:false,onAppPause:null,_onAppPause:function e(){if(r._status.working){r.stop();if(!this._bulkLoaderNotificationSent&&r._status.bucketName===s.BucketType.COMPLETE){l.sendLocalNotification({message:i.lang.get("LBL_BULK_LOAD_PAUSED_MESSAGE")});this._bulkLoaderNotificationSent=true}}},onAppResume:null,_onAppResume:function e(){this._startIfPossible()},reset:function e(){u.removeSetting(s.SettingsKey.SETUP_SHOWN);r.clearCache()},getCache:function e(){return _.pick(r.cache,"lastCompletedTs","status")},getState:function e(){if(r._status.working){return{state:s.State.WORKING,module:r._status.module,count:r._status.count}}if(!this._initialized||r.cache.queue.length===0){return{state:s.State.IDLE}}if(r.cache.pausedByUser){return{state:s.State.PAUSED_BY_USER}}return{state:s.State.PAUSED_BY_CONNECTION}},userPause:function e(t){r.stop(t);r.cache.pausedByUser=true;r.cache.save()},userResume:function e(){r.cache.pausedByUser=false;r.cache.save();this._startIfPossible()},setupBulkLoad:function e(t){var n=this;if(i.offlineEnabled&&i.config.offline.bulkLoad.enabled&&!u.getSetting(s.SettingsKey.SETUP_SHOWN)){var r=new a({create:true}).prepare();i.controller._loadScreen({isDynamic:true,headerConfig:{enabled:false},layouts:{className:"no-main-menu layout__bulkload",appendTo:"root",views:[c],context:r,callback:function e(a){u.setSetting(s.SettingsKey.SETUP_SHOWN,true);i.controller.disposeDynamic();if(a){n.queueCompleteDownload()}n.processChangingConnection();t()}}})}else{t()}},queueCompleteDownload:function e(){var t=this;var n=_.sortBy(this._getModulesToLoad(s.BucketType.COMPLETE),function(e){var t=r.cache.status[e.name]&&r.cache.status[e.name].status;if(!t||t===200||t===s.ModuleStatus.IN_PROGRESS){return 1}return 0});i.offline.storage.getStats({success:function e(a){n=_.filter(n,function(e){var t=e.name;var n=i.config.offline.dbLimits.modules[t]||i.config.offline.dbLimits.default;n=Math.round(n*1.1);var r=n-a.count[t];if(r>0){e.limit=Math.min(e.limit,r);return true}return false});r.queueBuckets({name:s.BucketType.COMPLETE,modules:n});t._startIfPossible()},error:function e(t){i.logger.error("Failed to count records in database while starting bulk loader complete session. "+t)}})},processChangingConnection:function e(){if(this._allowedToStart()){r.start()}else{r.stop()}},_onAppSync:function e(){var t=i.offline.utils.getOfflineModules();var n=this._getProcessedModules();this._processRemovedModules(t,n);if(this._wasBucketQueued(s.BucketType.COMPLETE)){this._processAddedModules(t,n)}},_onOfflineCleanupCompleted:function e(){r.stop(r.resetModulesStatus)},_allowedToStart:function e(){return this._connectionAllows()&&!r.cache.pausedByUser},_startIfPossible:function e(){if(this._allowedToStart()){r.start()}},_processRemovedModules:function e(t,n){var i=[];_.each(n,function(e){if(t.indexOf(e)===-1){i.push(e)}});if(i.length){_.each(r.cache.queue,function(e){e.modules=_.filter(e.modules,function(e){return i.indexOf(e.name)===-1})});_.each(i,function(e){delete r.cache.status[e]});r.cache.save()}},_processAddedModules:function e(t,n){var i=[];_.each(t,function(e){if(n.indexOf(e)===-1){i.push(e)}});if(i.length){var a=_.filter(this._getModulesToLoad(s.BucketType.COMPLETE),function(e){return i.indexOf(e.name)!==-1});var o=_.find(r.cache.queue,function(e){return e.name===s.BucketType.COMPLETE});if(o){Array.prototype.push.apply(o.modules,a);r.cache.save()}}},_getProcessedModules:function e(){var t=[];_.each(r.cache.queue,function(e){_.each(e.modules,function(e){if(t.indexOf(e.name)===-1){t.push(e.name)}})});_.each(r.cache.status,function(e,n){if(t.indexOf(n)===-1){t.push(n)}});return t},_onBulkLoadProgress:function e(t,n){var a=this;if(t===s.ProgressEventType.COMPLETE&&n===s.BucketType.COMPLETE){var r=this.getCache().status;var l=!_.find(r,function(e){return e.status!==200});if(l){o.showAlert(i.lang.get("LBL_BULK_LOAD_COMPLETED_MESSAGE"),{title:i.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS")})}else{i.logger.error("Bulk Loader finished with errors. Status: "+JSON.stringify(r));o.showConfirm(i.lang.get("LBL_BULK_LOAD_ERROR_CONFIRM"),{title:i.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS"),callback:function e(t){if(t===2){a.queueCompleteDownload()}}})}}},_wasBucketQueued:function e(t){return Boolean(_.find(r.cache.queuedBuckets,function(e){return e===t}))},_connectionAllows:function e(){if(i.config.scheme==="e2e"){return true}if(!f()){return false}if(i.isNative){var t=Boolean(i.loginManager.getSetting(s.SettingsKey.ALLOW_CELLULAR));var n=navigator.connection.type===window.Connection.WIFI;return t||n}return true},_getModuleFilters:function e(t){var n=[];var a=i.data.createBean(t);if(m(a)){n.push({$following:"_this"})}if(h(a)){n.push({$favorite:"_this"})}if(p(t)){n.push({$owner:"_this"})}n=_.isEmpty(n)?null:[{$or:n}];return n},_getModulesToLoad:function e(t){var n=this;var a=[];var r=this.getBulkLoadConfig(t);var o=function e(t){_.each(t,function(e){var t={name:e,limit:n._getModuleLimit(e,r),pageSize:r.pageSize};var s=n._getModuleFilters(e);if(s){t.filter=s}if(i.metadata.getModule(e)&&i.acl.hasAccess("list",e)){a.push(t)}else{i.logger.debug("Skipping prefetch of "+e+". Either metadata is missing or no access is given")}})};if(!_.isEmpty(r.modules)){o(r.modules)}if(t===s.BucketType.COMPLETE){var l=i.offline.utils.getOfflineModules({filter:"visible",includeStatic:true,checkAccess:true});o(_.difference(l,_.keys(r.modules)))}return a},getBulkLoadConfig:function e(t){return t===s.BucketType.INITIAL?i.config.offline.bulkLoad.initial:i.config.offline.bulkLoad.complete},_getModuleLimit:function e(t,n){var i=(n.numPages.modules||{})[t]?n.numPages.modules[t]:n.numPages.default;return i*n.pageSize}};i.augment("bulkLoader",g);e.exports=g},function(e,t,n){"use strict";var i={};var a=_.extend({},Backbone.Events,{register:function e(t,n,a){if(a&&a.deprecated){i[t]=_.pick(a,"message")}n.on(t,function(){var e=[].slice.call(arguments,0);e.unshift(t);this.trigger.apply(this,e)},this)},unregister:function e(t,n){t.off(n)},registerAjaxEvents:function e(){var t=this;$(document).off("ajaxStop");$(document).off("ajaxStart");$(document).on("ajaxStart",function(e){t.trigger("ajaxStart",e)});$(document).on("ajaxStop",function(e){t.trigger("ajaxStop",e)})},on:_.wrap(Backbone.Events.on,function(e,t,n,a){if(_.has(i,t)){var r;if(i[t].message){r=i[t].message}else{r="The global event `"+t+"` is deprecated."}if(a){r+="\n"+a+" should not listen to it anymore."}SUGAR.App.logger.warn(r)}return e.call(this,t,n,a)})});e.exports=a},function(module,exports,__webpack_require__){"use strict";var _header="(function() {\n  var template = Handlebars.template, templates = Handlebars.templates = Handlebars.templates || {};\n",_footer="})();",_templates={},_sources={};var TemplateManager={init:function init(){_templates=SUGAR.App.config.cacheMeta?SUGAR.App.cache.get("templates")||{}:{};var src="";_.each(_templates,function(e){src+=e});try{eval(_header+src+_footer)}catch(e){SUGAR.App.logger.error("Failed to eval templates retrieved from local storage:\n"+e)}},_add:function e(t,n,i){var a=t[0],r=this.get(a,false);if(r&&!i){return}if(r&&i&&_sources[a]!=n){_templates[a]=Handlebars.templates[a]=null}_sources[a]=n},_compile:function e(t,n,i){Handlebars.templates=Handlebars.templates||{};_templates[t[0]]=Handlebars.templates[t[0]]=i||!t[1]?this.compile(t[0],n):t[1];return _templates[t[0]]},compile:function compile(key,src){try{_templates[key]="templates['"+key+"'] = template("+Handlebars.precompile(src)+");\n";eval(_header+_templates[key]+_footer)}catch(e){SUGAR.App.logger.error("Failed to compile or eval template "+key+".\n"+e)}return this.get(key,false)||this.empty},get:function e(t,n){n=_.isUndefined(n)||n;if(n&&!Handlebars.templates[t]&&_sources[t]){this._compile([t],_sources[t])}return Handlebars.templates?Handlebars.templates[t]:null},_getView:function e(t,n,i){var a=t+(n?"."+n:"");return[a,this.get(a,i)]},getView:function e(t,n){return this._getView(t,n,true)[1]},_getField:function e(t,n,i,a,r,s){var o,l="f."+t+".",u=l+(i?i+".":"")+n;i+=".";o=this.get(l+i+n,s)||this.get(l+n,s);if(!o&&!r){o=this.get(l+i+a,s)||this.get(l+a,s);if(!o){o=this.get("f.base."+n,s)||this.get("f.base."+a,s)}}return[u,o]},getField:function e(t,n,i,a){return this._getField(t,n,i,a,false,true)[1]},_getLayout:function e(t,n,i){var a="l."+(n?n+".":"")+t;return[a,this.get(a,i)]},getLayout:function e(t,n){return this._getLayout(t,n,true)[1]},setView:function e(t,n,i,a){return this._add(this._getView(t,n,false),i,a)},setField:function e(t,n,i,a,r){return this._add(this._getField(t,n,i,null,true,false),a,r)},setLayout:function e(t,n,i,a){return this._add(this._getLayout(t,n,false),i,a)},set:function e(t,n){if(t.views){_.each(t.views,function(e,t){if(t!="_hash"){_.each(e.templates,function(e,i){i=t==i?i:t+"."+i;this.setView(i,null,e,n)},this)}},this)}if(t.fields){_.each(t.fields,function(e,t){if(t!="_hash"){_.each(e.templates,function(e,i){this.setField(t,i,null,e,n)},this)}},this)}if(t.layouts){_.each(t.layouts,function(e,t){if(t!="_hash"){_.each(e.templates,function(e,i){i=t==i?i:t+"."+i;this.setLayout(i,null,e,n)},this)}},this)}},empty:function e(){return""}};module.exports=TemplateManager},function(e,t,n){"use strict";var i=n(2);var a=n(38);var r=n(3);var s=i.extendComponent(a,{initialize:function e(t){this.forecastBy=r.getForecastModule();this._super(t)},buildChartUrl:function e(){}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(120);var r=n(121);var s=n(13);var o={enabled:true,prefetch:{},storageSize:5,storageProvider:"sql",storageAdapter:"webSql",syncTimeout:5e3,debug:{render:false,online:true,forceMigrate:false,syncManagerEnabled:true,monitorStatus:true}};var l={start:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},a=n.migrate,r=a===undefined?false:a;return Promise.try(function(){var e=i.cache.get("offline:version");var n=r||!e;i.config.offline=_.extend(o,i.config.offline);if(i.config.offline.debug.ignoreEnabled){i.config.offlineEnabled=true}i.offlineEnabled=i.offline.isOfflineEnabled();if(!i.offlineEnabled){if(e){t.onOfflineToggled(false);return t.stop({dropStorage:true})}}else if(!i.offline.initStorage()){i.logger.error("Storage unavailable");i.trigger("offline:failure",i.offline.Error.StorageUnavailableError)}else{i.offline.registerEvents();if(!i.offline._initialized){i.offline.initialize()}return i.offline.prepareDb(n).then(function(){t.onOfflineStarted();return null}).catch(function(e){i.offline.uninitialize();i.offlineEnabled=false;if(e.code===5){i.logger.error(e);i.trigger("offline:failure",i.offline.Error.StorageUnavailableError)}throw e})}})},stop:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},a=n.dropStorage,r=a===undefined?false:a;var s=Promise.resolve();i.logger.debug("Offline mode disabled");i.offline.syncManager.dispose();i.offline.stopMonitorStatus();if(i.offline.isInitialized()){i.offline.uninitialize()}if(r){s=s.then(function(){return i.offline.dropStorage()})}return s.then(function(){return t.onOfflineToggled(false)})},onAppResume:function e(){if(i.api.isAuthenticated()&&i.offlineEnabled){i.offline.showStateAlert({ignoreAlertUid:true});return this.runDbStatsOperations()}},onOfflineStarted:function e(){i.offline.startSyncManager();i.offline.startMonitorStatus();this.onOfflineToggled(true);i.logger.debug("Offline started");return this.runDbStatsOperations()},onOfflineToggled:function e(t){i.trigger("offline:toggled",t);a.onOfflineToggled(t)},getOfflineDbStats:function e(){return new Promise(function(e,t){i.offline.storage.getStats({success:function t(n){var i=_.reduce(n.count,function(e,t){return e+=t},0);e(_.extend(n,{totalRecords:i}))},error:function e(n){t(new Error(n))}})})},runDbStatsOperations:function e(){var t=n(28);var s=n(25);return this.getOfflineDbStats().then(function(e){var n=t.getState();if(n.state===s.State.IDLE){r.cleanUp(e)}a.processPeriodicAnalytics(e);return null}).catch(function(e){return i.logger.error(e.message)})},updateOfflineUserSetting:function e(t){var n=s.getSetting({store:s.Stores.SETTINGS,name:"offlineEnabled"});i.offline.userEnabled=_.isUndefined(n)||!t&&Boolean(n)}};i.augment("offlineProvider",l,false);e.exports=l},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(2);var s=n(75);var o=n(48);var l=n(14);var u=r.extendComponent(o,{_stringType:"filtered-list",className:"view__list",isFilterEnabled:true,isSearchEnabled:true,initialize:function e(t){this.isSearchEnabled=this.isSearchAvailable(t);this.isFilterEnabled=this.isFiltersAvailable(t);this._super(t)},onAfterRender:function e(){var t=this;this._super();this.stateComponents=[];this._list=this.getViewById("list");this._searchBox=this.getViewById("search");this._filter=this.getViewById("filter");if(this._searchBox){this.stateComponents.push(this._searchBox);this.listenTo(this.collection,"data:sync:complete",function(){return t._searchBox.hideProgress()});this.enableSearch()}if(this._filter){this.stateComponents.push(this._filter);this.listenTo(this._filter,"filter:changed",this.filterChanged);this.listenTo(this._filter,"sort:changed",this.sortingChanged)}},headerConfig:function e(t){var n=_.extend({},t,{search:this.isSearchEnabled});return _.extend({},n,this._super(n))},getListViews:function e(){return _.filter(this.getViews(),function(e){return e instanceof l})},getViewDefs:function e(t){var a=[{view:n(72),viewId:"search",isEnabled:this.isSearchEnabled,subType:this.options.subType},{view:n(68),viewId:"filter",isEnabled:this.isFilterEnabled,subType:this.options.subType}];var r=this.getListViewDef(t);if(_.isArray(r)){a.push.apply(a,i(r))}else{a.push(r)}var s=_.chain(a).filter(function(e){return _.isUndefined(e.isEnabled)||e.isEnabled}).map(function(e){return _.extend({},{def:_.getNested(t,"layout.options.def"),module:t.module},e)}).value();return s},getListViewDef:function e(t){var n={view:this.getListViewClass(t),viewId:"list",collection:t.collection,def:t.def,sugarLogicEnabled:t.sugarLogicEnabled,listMeta:t.listMeta};_.extend(n,{listItemDataProvider:t.listItemDataProvider||this.listItemDataProvider,listItemTpl:t.listItemTpl||this.listItemTpl});return n},getListViewClass:function e(t){return r.getViewClass({baseType:"inner-list",module:t.module})},onHeaderSearchClick:function e(){if(this._searchBox){this._searchBox.showSearch()}},onAfterShow:function e(){this._super();a.tutorial.show(this.name,this.module)},filterChanged:function e(){this._unbindFilterEvents();this.getCurrentList().collection.once("data:sync:error",this._onFilterListFailed,this).once("sync",this._onFilterListSuccess,this);this.updateSearchPlaceholder();this.reloadData()},sortingChanged:function e(){this.reloadData()},reloadData:function e(){var t={relate:this.options.subType==="relationships",forceFetch:true};this.updateListViewState();return this.getCurrentList().loadData(t)},loadData:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=this.getCurrentList(),i=n.collection;var r=a.tutorial.hasStepToShow("list",this.module);t.params=t.params||{};if(i.options){delete i.options.update;i.options.offset=0;i.options.page=0}if(this._filter){_.extend(t.params,this._filter.getPreparedState());this.updateListViewState()}if(r){i.on("sync",this._onTutorialShow,this)}return this.getCurrentList().loadData(t)},_onTutorialShow:function e(){a.tutorial.show("list",this.module)},updateListViewState:function e(){var t={};var n=this.getCurrentList();_.each(this.stateComponents,function(e){_.extend(t,e.getPreparedState())},this);n.setCurrentState(t);n.setSortByField()},enableSearch:function e(){this.listenTo(this._searchBox,"search:toggle",this.onToggleSearch);this.listenTo(this._searchBox,"search:text",this.search)},onToggleSearch:function e(t){this.searchActivated=t;if(this._filter){this._filter.toggleSearchMode(t,this._searchBox._searchText)}this.updateSearchPlaceholder()},updateSearchPlaceholder:function e(){if(this.searchActivated){var t=this._filter?this._filter.getActiveFilter().name:this.getCurrentList().modulePlural;this._searchBox.setPlaceholder(t)}},toggleFiltersView:function e(t){if(!this._filter){return}this._filter.toggle(t);this.getCurrentList().reflowScroller();this.$el.toggleClass("filters-hidden",!t)},search:function e(){this.reloadData();a.analytics.trackEvent({category:"search",action:this.module,value:0})},isSearchAvailable:function e(t){var n=_.isUndefined(t.isSearchEnabled)?this.isSearchEnabled:t.isSearchEnabled;return n&&!(_.contains(["Dashboards","TxLog"],t.module)||t.subType==="relationships")},isFiltersAvailable:function e(t){var n=_.isUndefined(t.isFilterEnabled)?this.isFilterEnabled:t.isFilterEnabled;n=n&&Boolean(!_.contains(["Activities","Teams","TxLog"],t.module)&&!_.contains(a.config.modules.readonlyModules,t.module)&&s.getView(t.module,"list"));return n},_onFilterListSuccess:function e(){this._unbindFilterEvents()},_onFilterListFailed:function e(t,n,i){this._unbindFilterEvents();if(a.offlineEnabled){if(n.params.skipOfflineRead){a.alert.dismiss("network_error",{animate:false});a.alert.show("network_error",{level:"error",messages:a.lang.get("LBL_MOBILE_FILTER_IS_NOT_AVAILABLE"),autoClose:true,pageHash:i.request.params.pageHash,requestOptions:n});this._filter.resetToPreviousFilter()}}else{this._filter.resetToPreviousFilter()}},resetCollectionEvents:function e(){var t=this.getCurrentList();t.unbindCollectionEvents();t.bindCollectionEvents()},unbindCollectionEvents:function e(){this._unbindFilterEvents();this.getCurrentList().unbindCollectionEvents()},_unbindFilterEvents:function e(){this.getCurrentList().collection.off("data:sync:error",this._onFilterListFailed).off("sync",this._onFilterListSuccess)},getCurrentList:function e(){return this._list},onDetachFromDom:function e(){this._super();if(!_.isEmpty(this.getViews())){this.getCurrentList().abortActiveRequests();this._unbindFilterEvents()}}});e.exports=u},function(e,t,n){"use strict";var i=n(19);var a={view:"read",readonly:"read",edit:"write",detail:"read",list:"read",disabled:"read"};function r(e,t){var n=void 0;if(t.access==="no"){n="no"}else{n=t[e]}return n!=="no"}function s(e,t,n){var i=void 0;e=a[e]||e;if(t.fields[n]&&t.fields[n][e]){i=t.fields[n][e]}return i!=="no"}var o={hasAccess:function e(t,n,a){var o=void 0;var l=void 0;if(!_.isObject(a)){o=arguments[3];l=arguments[4]}else{o=a.field;l=a.acls}var u=i.getAcls()[n];if(!u&&!l){return true}u=u||{};if(l){var c=_.extend({},u.fields,l.fields);u=_.extend({},u,l);u.fields=c}var d=r(t,u);if(d&&o&&u.fields){d=s(t,u,o);var f=SUGAR.App.metadata.getModule(n);var h=f&&f.fields?f.fields[o]:null;if(d&&h&&h.group){d=s(t,u,h.group)}}return d},hasAccessToModel:function e(t,n,i){var a=void 0;var r=void 0;var s=void 0;if(n){a=n.id;r=n.module;s=n.get("_acl")||{fields:{}}}if(t==="edit"&&!a){t="create"}return this.hasAccess(t,r,{field:i,acls:s})},hasAccessToAny:function e(t){return _.some(i.getAcls(),function(e,n){return this.hasAccess(t,n)},this)},_hasAccess:function e(t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Acl#_hasAccess is a private method that you are not allowed to access. "+"Please use only the public API.");return}SUGAR.App.logger.warn("Core.Acl#_hasAccess is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the "+"public API only.");return r(t,n)},_hasAccessToField:function e(t,n,i){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Acl#_hasAccessToField is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Acl#_hasAccessToField is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(t,n,i)},clearCache:function e(){SUGAR.App.logger.warn("`Core.Acl#clearCache` is deprecated since 7.10 and will be removed in a future "+"release. This method has no effect. Please do not use it anymore");this._accessToAny={}}};Object.defineProperty(o,"action2permission",{configurable:true,get:function e(){SUGAR.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return a},set:function e(t){SUGAR.App.logger.warn("`Core.Acl.action2permission` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");a=t}});var l={};Object.defineProperty(o,"_accessToAny",{configurable:true,get:function e(){SUGAR.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future "+"release. Please do not use it anymore");return l},set:function e(t){SUGAR.App.logger.warn("`Core.Acl#_accessToAny` is deprecated since 7.10 and will be removed in a future "+"release. Please do not use it anymore");l=t}});e.exports=o},function(e,t,n){"use strict";function i(e,t){if(r.plugins[t]&&r.plugins[t][e]){return r.plugins[t][e]}}function a(e,t){return!!_.find(e.disabledPlugins,function(e){return e===t})}var r={plugins:{view:{},field:{},layout:{},model:{},collection:{}},attach:function e(t,n){_.each(t.plugins,function(e){var r=null;if(_.isObject(e)){var s=_.keys(e)[0];r=e[s];e=s}var o=i(e,n);if(o&&!a(t,e)){var l=_.extend({},_.isFunction(t.events)?t.events():t.events,o.events);_.extend(t,o);if(r){_.extend(t,r);if(r.events){_.extend(l,r.events)}}t.events=l;if(_.isFunction(o.onAttach)){o.onAttach.call(t,t,o)}}},this)},detach:function e(t,n){_.each(t.plugins,function(e){var a=i(e,n);if(a&&_.isFunction(a.onDetach)){a.onDetach.call(t,t,a)}},this)},register:function e(t,n,i){if(!_.isArray(n)){n=[n]}_.each(n,function(e){this.plugins[e]=this.plugins[e]||{};this.plugins[e][t]=i},this)},_isPluginDisabled:function e(t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.pluginManager#_isPluginDisabled is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.pluginManager#_isPluginDisabled is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return a(t,n)},_get:function e(t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.pluginManager#_get is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.pluginManager#_get is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return i(t,n)}};e.exports=r},function(e,t,n){"use strict";var i=n(15);var a=0;var r={reset:function e(){_.each(this.layouts,function(e,t){delete this.layouts[t]},this);_.each(this.views,function(e,t){delete this.views[t]},this);_.each(this.fields,function(e,t){delete this.fields[t]},this)},getFieldId:function e(){return a},views:{},layouts:{},fields:{},_createComponent:function e(t,n,i){var a=this.declareComponent(t,i.type||n,i.loadModule||i.module,i.controller,false,this._getPlatform(i));var r=new a(i);r.trigger("init");r.bindDataChange();return r},createView:function e(t){t.context=t.context||SUGAR.App.controller.context;t.module=t.module||t.context.get("module");t.name=t.name||t.type;t.meta=t.meta||SUGAR.App.metadata.getView(t.module,t.name,t.loadModule);if(t.def&&t.def.xmeta){t.meta=_.extend({},t.meta,t.def.xmeta)}var n=t.meta||{};t.type=t.type||n.type||t.name;return this._createComponent("view",t.type,t)},createLayout:function e(t){t.context=t.context||SUGAR.App.controller.context;t.module=t.module||t.context.get("module");t.name=t.name||t.type;t.meta=t.meta||SUGAR.App.metadata.getLayout(t.module,t.name,t.loadModule);if(t.def&&t.def.xmeta){t.meta=_.extend({},t.meta,t.def.xmeta)}var n=t.meta||{};t.type=t.type||n.type||t.name;return this._createComponent("layout",t.type,t)},createField:function e(t){var n=t.viewDefs?t.viewDefs.type:t.def.type;t.context=t.context||t.view.context||SUGAR.App.controller.context;t.model=t.model||t.context.get("model");t.module=t.module||(t.model&&t.model.module?t.model.module:t.context.get("module"))||"";t.sfId=++a;var i=this._createComponent("field",n,t);if(!t.nested){t.view.fields[i.sfId]=i}else{t.view.nestedFields[i.sfId]=i}return i},_getPlatform:function e(t){return t.platform||(SUGAR.App.config&&SUGAR.App.config.platform?SUGAR.App.config.platform:"base")},_getController:function e(t){var n=this._getBaseComponent(t.type,t.name,t.module,t.platform);if(n.cache[n.moduleBasedClassName]){return n.cache[n.moduleBasedClassName]}return n.baseClass},componentHasPlugin:function e(t){var n;if(!t.type||!t.name||!t.plugin){SUGAR.App.logger.error("componentHasPlugin requires type, name, and plugin parameters");return null}n=this._getController(t);return n&&n.prototype&&_.contains(n.prototype.plugins,t.plugin)},declareComponent:function e(t,n,a,r,s,o){s=!!(r&&s);var l=this._getBaseComponent(t,n,a,o,s);if(s&&l.cache[l.moduleBasedClassName]){delete l.cache[l.moduleBasedClassName]}return l.cache[l.moduleBasedClassName]||i.extendClass(l.cache,l.baseClass,l.moduleBasedClassName,r,l.platformNamespace)||l.baseClass},_getBaseComponent:function e(t,n,a,r,s){r=this._getPlatform({platform:r});var o=i.capitalize(t);var l=i.capitalize(r);var u=i.capitalizeHyphenated(n)+o;var c=l+(a||"")+u,d=l+(a||"")+"Custom"+u;var f=this[t+"s"];var h=i.capitalize(SUGAR.App.config.appId)+o;var p=f[l+"Custom"+u]||f[l+u]||f["BaseCustom"+u]||f["Base"+u]||f[u]||f["BaseBase"+o]||this["Custom"+h]||this[h]||this[o];if(f[d]&&!s){c=d}return{cache:f,platformNamespace:l,moduleBasedClassName:c,baseClass:p}}};e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(7);var r=[];var s=n(386);var o={registerBuddySteps:function e(){var t=new a({create:true}).prepare();r=[{id:"localSecurity",controller:n(20),layoutDef:{className:"layout__loginSettingsNoHeader",appendTo:"root",views:[s],context:t,headerConfig:{title:i.lang.get("LBL_SETUPBUDDY_HEADER_TITLE"),save:false,cancel:false}}}]},isSetupBuddySupported:function e(){return i.config.setupBuddyEnabled},isSetupBuddyItemCompleted:function e(t){return this._isStepCompleted(t)},resetPref:function e(){i.loginManager.removeSetting("setupBuddy");this.currentStepIndex=null},show:function e(t){this.registerBuddySteps();this._setupBuddyCompleteCallback=t;if(this.isSetupBuddySupported()){this._performSetupBuddy();return}this._setupBuddyCompleteCallback()},_performSetupBuddy:function e(){this.currentStepIndex=this.currentStepIndex||0;while(this.currentStepIndex<r.length){var t=r[this.currentStepIndex];if(t&&!this._isStepCompleted(t.id)&&t.controller.isStepNeeded()&&t.controller.canPerformStep()){this._showSetupBuddyView(t);break}if(t&&!t.controller.isStepNeeded()){this._setStepCompleted(t)}this.currentStepIndex++}if(this.currentStepIndex>=r.length){this._setupBuddyCompleteCallback()}},setupStepCompleted:function e(){var t=r[this.currentStepIndex];if(t){this._setStepCompleted(t.id)}this.currentStepIndex++;this._performSetupBuddy()},_showSetupBuddyView:function e(t){var n=i.controller.layoutManager.getRootLayout();var a=n&&n.getComponent(s);if(!a){i.controller._loadScreen({isDynamic:true,layouts:t.layoutDef})}},_cleanUp:function e(){_.each(r,function(e){e.controller.cleanupStep()})},_getPrefs:function e(){var t=i.loginManager.getSetting("setupBuddy")||{};t.viewed=t.viewed||{};return t},_isStepCompleted:function e(t){var n=this._getPrefs()||{};return n.viewed[t]},_setStepCompleted:function e(t){var n=this._getPrefs();n.viewed[t]=true;i.loginManager.setSetting("setupBuddy",n)},isActive:function e(){var t=this.currentStepIndex||0;return t<r.length}};e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(12);var s=n(39);var o=n(150);var l=n(17);e.exports=a.extendComponent(s,{className:"chart-wrapper",chart:null,chartData:null,chartOrientation:null,isManager:false,showManagerData:false,loaded:false,responseDataAttr:"data",LATEST_AVAILABLE_WARN_KEY:"LATEST_AVAILABLE_DATA",_chartElSize:null,ERR_NO_DATA_AVAILABLE:"NO_DATA_AVAILABLE",globalEvents:{"app:orientation:changed":function e(){this._onOrientationChange()}},initialize:function e(t){this._super(t);this.isManager=i.user.get("is_manager");this.chartOrientation=r.getOrientation();o({view:this})},_updateChartElSize:function e(){this._maxLegendRows=r.getOrientation()==="landscape"&&!i.isTablet?1:4},_onOrientationChange:function e(){this._updateChartElSize();if(this.chart){this.updateChartLegend();this.dispatchChartMethod("tooltipHide");this.rerenderChart()}this.chartOrientation=r.getOrientation()},updateChartLegend:function e(){if(this.chart.legend){this.chart.legend.rowsCount(this._maxLegendRows)}},onBeforeRender:function e(){this.enableOptionsToolbar();this._updateChartElSize();this._super()},renderChart:function e(){this.$(".nv-chart svg").remove();nv.tooltip.cleanup();return this.chartData.data.length},onAfterRender:function e(){this._super();this.$chartEl=this.$(".nv-chart");this.$dataUnavailableLbl=this.$(".data-unavailable-label");this.listenTo(this.$(".nv-chart"),"click",_.bind(function e(t){this.dispatchChartMethod("chartClick")},this))},onAfterShow:function e(){this._super();if(this.chartOrientation!==r.getOrientation()){this._onOrientationChange()}},loadData:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new l(function(e,a){t.abortActiveRequests();if(!n.forceFetch&&t.loaded){if(t.chart){t.dispatchChartMethod("tooltipHide");t.updateChart()}e();return}if(!n.byPtr){t.showPreloader()}var r=[function(e){return t.loadChartData(e)}];if(!t._isChartInitialized&&t.loadInitData){r.unshift(function(e){return t.loadInitData(e)})}asyncLib.series(r,function(n,r){t.activeRequests=[];if(n){if(!n.request.aborted){t.loadDataError(n)}a(new Error(n.message))}else{var s=_.last(r);if(t.isDataEmpty(s,r)){t.loadDataError(t.ERR_NO_DATA_AVAILABLE)}else{t.loadDataSuccess(s,function(e){if(e){i.logger.error("Couldn't cache chart data: \n"+e)}})}e(r)}})}).catchReturn()},showLatestAvailableDataWarn:function e(t){var n=i.date(t.last_fetched).fromNow();i.alert.dismiss(this.LATEST_AVAILABLE_WARN_KEY);i.alert.show(this.LATEST_AVAILABLE_WARN_KEY,{level:"warning",messages:i.lang.get("LBL_SHOWING_CACHED_DATA",null,{lastFetched:n}),autoClose:false,closeable:true})},dismissDashletAlerts:function e(){this._super({alertId:this.LATEST_AVAILABLE_WARN_KEY})},isDataEmpty:function e(t,n){return _.isEmpty(t)||(this.responseDataAttr?_.isEmpty(t[this.responseDataAttr]):false)},showPreloader:function e(){i.alert.show("chart-loading",{level:"load",messages:i.lang.get("LBL_LOADING"),autoClose:false,closeable:false});this.$dataUnavailableLbl.hideElement()},hidePreloader:function e(){i.alert.dismiss("chart-loading")},loadDataSuccess:function e(t,n){if(t.title){this.dataTitle=t.title}this.dispatchCacheStorageMethod("set",this.options.dashletId,{chartData:t,filters:this.viewState.filters,filtersDef:this.viewState.filtersDef,visibility:this.viewState.visibility,last_fetched:i.utils.getTimestamp()},n);this.loaded=true;this.hidePreloader();this.$chartEl.showElement();this.$dataUnavailableLbl.hideElement();this.processData(t)},loadDataError:function e(t){this.hidePreloader();var n=this;if(t===this.ERR_NO_DATA_AVAILABLE){this.$chartEl.hideElement();this.$dataUnavailableLbl.showElement();return}i.error.handleHttpError(t,this.model);if(_.contains([403,412,422],t.status)){return}this.dismissNetworkAlerts();this.dispatchCacheStorageMethod("get",this.options.dashletId,function(e,t){var i=Boolean(!e&&t);n.$chartEl.toggleElement(i);if(!i){n.$dataUnavailableLbl.showElement();return}n.showLatestAvailableDataWarn(t);n.applyViewState(t);n.hidePreloader();n.processData(t.chartData)})},dispatchCacheStorageMethod:function e(t){var n;if(!this.cacheStorage){if(t==="get"){this.$chartEl.hideElement();this.$dataUnavailableLbl.showElement()}return false}for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++){a[r-1]=arguments[r]}(n=this.cacheStorage)[t].apply(n,a)},processData:function e(t){this.prepareChartObject();this.renderChart();this.toggleDashletSwipe()},applyViewState:function e(t){this._super(t);if(!_.isUndefined(this._isChartInitialized)){this._isChartInitialized=true}},setFilters:function e(t){var n=this.getState(this.options.dashboardId,this.meta.id)||{};var i=_.isEmpty(n.filters)?t:n.filters;this.viewState.filters.set(i,{silent:true})},getViewContainer:function e(){return this.$easyScrollerParent},isSwipable:function e(){return _.isEmpty(this.$chartEl.find(".nv-scroll-wrap").attr("clip-path"))},dispatchChartMethod:function e(t){if(this.chart){this.chart.dispatch[t]()}},updateChart:function e(){if(_.isFunction(this.chart.update)){this.chart.update()}else{this.renderChart()}this.toggleDashletSwipe()},rerenderChart:function e(){if(_.isFunction(this.chart.update)){this.chart.update()}else{this.renderChart()}this.toggleDashletSwipe()},getUserCurrencyFormatter:function e(){var t=i.user.getPreference("currency_id");var n=i.currency.getBaseCurrencyId();return function e(a){var r=i.currency.convertAmount(a,n,t);return i.currency.formatAmountLocale(r,t,0)}},getUserCurrencyFormatterSi:function e(){var t=i.currency.getBaseCurrencyId();var n=i.user.getPreference("currency_id");var a=i.currency.getCurrencySymbol(n);var r=i.user.getPreference("decimal_separator");return function e(s,o){var l=o||2;var u=parseFloat(i.currency.convertAmount(s,t,n));var c=d3.format(",."+l+"s")(u);return a+c.replace(".",r)}}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(13);var s=n(49);var o=n(24);e.exports=a.extendComponent(s,{events:{"click .visibility-switcher__btn":"changeVisibility"},initialize:function e(t){var n=t.dashletName||t.meta.view.type;var a=this._getDefaultSettings(n);t.meta=i.utils.deepCopy(t.meta);if(a){t.meta.view=_.defaults(t.meta.view,a)}if(i.offlineEnabled){this.cacheStorage=o.cacheDashletStore}this.dashletParams=this.dashletParams||i.metadata.getView(null,n)||{};var r=_.defaults({type:this.name,module:this.module},t.meta.view);this.title=o.getDashletTitle(r);this.activeRequests=[];this._super(t);this.initDashletOptions()},getTitle:function e(t){return t.label},_getDefaultSettings:function e(t){var n={"active-tasks":{visibility:"user"},"inactive-tasks":{visibility:"user"},history:{filter:7,visibility:"user"},"planned-activities":{date:"today",visibility:"user"}};return n[t]},dismissNetworkAlerts:function e(){i.alert.dismiss("network_error",{animate:false})},applyViewState:function e(t){if(!_.isEmpty(t.filters)){this.viewState.filters.set(t.filters,{silent:true})}if(t.visibility){this.viewState.visibility=t.visibility;this.viewState.myItemsOnly=t.visibility==="user";this.previousVisibilityState=this.viewState.visibility}this.viewState.filtersDef=t.filtersDef;this.render()},initDashletOptions:function e(){var t=this.getState(this.options.dashboardId,this.meta.id)||{};this.viewState={visibility:t.visibility||this.meta.view.visibility};this.viewState.myItemsOnly=this.viewState.visibility==="user";this.dashletOptionsTemplate=i.template.get("dashlet-options");this.initFilters(t);this.enableOptionsToolbar()},enableOptionsToolbar:function e(){if(this.dashletOptionsEnabled()){this.$el.addClass("has-dashlet-options")}},abortActiveRequests:function e(){var t=this._super();if(_.isEmpty(this.activeRequests)){return t}_.each(this.activeRequests,function(e){i.api.abortRequest(e.uid)});this.activeRequests=[];this.loaded=false;return true},onBeforeHide:function e(){this.dismissDashletAlerts()},dismissDashletAlerts:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.closeAll){i.alert.dismissAll()}else if(t.alertId){var n=_.isArray(t.alertId)?t.alertId:[t.alertId];n.forEach(function(e){return i.alert.dismiss(e)})}},onInvokedFromDashboard:function e(){},onAfterRender:function e(){this._super();if(this.dashletOptionsEnabled()){this.$el.prepend(this.dashletOptionsTemplate(this));this.$switcher=this.$(".visibility-switcher");this.$switcherBtns=this.$switcher.find(".visibility-switcher__btn");if(!_.isEmpty(this.fields)){this._renderFields()}}},_dispose:function e(){var t=this.getViewContainer();if(t){t.remove()}this.$switcher=null;this.$switcherBtns=null;this._super()},changeVisibility:function e(t){t.preventDefault();t.stopPropagation();var n=$(t.target);var i=n.hasClass("visibility-switcher__btn")?n:n.parent();var a=i.data("value");var r="active";if(a!==this.viewState.visibility){this.saveState();this.$switcherBtns.removeClass(r);i.addClass(r);this.viewState.visibility=a;this.loadData({forceFetch:true})}},initFilters:function e(t){var n=this;this.viewState.filtersDef={};this.viewState.filters=i.data.createBean("Filters");this.updateFiltersViewState(t);this.listenTo(this.viewState.filters,"change",function(){n.saveState();n.loadData({forceFetch:true})})},updateFiltersViewState:function e(){},dashletOptionsEnabled:function e(){return this.viewState&&(this.viewState.visibility||!_.isEmpty(this.viewState.filtersDef))},saveState:function e(){var t=this.getSettingName();var n=r.getSetting({store:r.Stores.SETTINGS,name:t});var i=n?JSON.parse(n):[];var a={visibility:this.viewState.visibility,filters:this.viewState.filters.toJSON(),dashboardId:this.options.dashboardId,dashletId:this.meta.id};var s=void 0;_.each(i,function(e,t){if(a.dashboardId===e.dashboardId&&a.dashletId===e.dashletId){i[t]=a;s=a}});if(!s){i.push(a)}r.setSetting({store:r.Stores.SETTINGS,name:t,value:JSON.stringify(i)})},getState:function e(t,n){var i=this.getSettingName();var a=r.getSetting({store:r.Stores.SETTINGS,name:i});var s=a&&JSON.parse(a);if(_.isEmpty(s)){return}return _.find(s,function(e){return e.dashboardId===t&&e.dashletId===n})},getSettingName:function e(){return"dashlet_states"},apiCall:function e(){var t;this.activeRequests.push((t=i.api).call.apply(t,arguments))},isSwipable:function e(){return true},toggleDashletSwipe:function e(){this.$el.toggleClass("no-swiping",!this.isSwipable())},onDetachFromDom:function e(){this.onBeforeHide();this._super()},getViewContainer:function e(){return this.$el}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(39);var s=n(27);var o=n(14);var l=n(17);var u=a.extendComponent(r,{navigationName:s.DASHLET_LIST,contextMenuOnSwipeDisabled:true,isManager:true,lazyRender:false,lazyLoad:false,getViewDefs:function e(t){return[this.getListViewDef(t.meta.view,t)]},createView:function e(t){var n=this._super(t);n.setOfflineEnabled(false);this.overrideListView(n);this.listenTo(n,this.ACTION_NAME,this.propagateAction);return n},getListViewDef:function e(t,n){var i=["planned-activities","active-tasks","inactive-tasks","history"];var r=_.contains(i,this.options.meta.view.type);var s=void 0;var o=void 0;if(r&&t.module==="Emails"){s="emails-user-activity-list-item";o="list-item-emails"}else if(r){s="user-activity-list-item"}else{s=null}this._updateLinkOption(t,n);var l=_.extend({parentModel:n.parentModel},t,n.listParams);return{name:a.getViewClass({baseType:"configurable-list",module:t.module}),module:t.module,listParams:l,contextMenuOnSwipeDisabled:this.contextMenuOnSwipeDisabled,listItemTpl:s,listItemDataProvider:o}},getListView:function e(){return _.find(this._views,function(e){return e instanceof o})},overrideListView:function e(t){_.extend(t,{name:"list",action:"list",_buildRecordRoute:this._getBuildRouteFn(t),navigationName:this.navigationName})},_updateLinkOption:function e(t,n){var i=_.isString(t.linked_fields)&&t.linked_fields;if(t.link||!i){return}var a=Boolean(_.isString(t.intelligent)?Number(t.intelligent):t.intelligent);if(a){t.link=i}},_getBuildRouteFn:function e(t){var n=this;var a=function e(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}var l=r[0];var u=n.options;var c=l.model;var d=u.parentModel;var f=i.controller.getScreenContext();var h=n.options.isRootScreen;var p=void 0;if(f.parentDashboardId&&h){p=[i.controller.getScreenContextRoot(),c.module,c.id].join("/")}else if(u.parentModel){p=[d.module,d.id,"Dashboards",u.dashboardId,u.dashletId,c.module,c.id];if(l.hash.action){p.push(l.hash.action)}p=p.join("/")}else{p=o.prototype._buildRecordRoute.apply(t,r)}return p};return _.bind(a,this)},loadData:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return l.map(this._views,function(e){return e.loadData(t._getListLoadParams(e,n))})},_getListLoadParams:function e(t,n){var a=i.metadata.getModule(t.module);var r=this.getFilters();var s=this.getViewIndex(t);return _.extend({},n,{myItems:this.viewState.myItemsOnly,fields:a?a.mergedFields:null,filter:r&&r[s]})},updateFiltersViewState:function e(t){this._super(t);var n=this.dashletParams.filter||[];if(this.meta.view.date){n.push({name:"date",type:"radioenum",options:{today:i.utils.capitalize(i.lang.get("LBL_TODAY")),future:i.utils.capitalize(i.lang.get("LBL_FUTURE"))},gaTrack:{today:"click:today",future:"click:future"}})}_.each(n,function e(n){var a=this.meta.view[n.name];if(t.filters&&t.filters[n.name]){a=t.filters[n.name]}if(_.isEmpty(n.options)){n.options=i.lang.getAppListStrings(n.options)}_.extend(n,{view:"edit"});this.viewState.filters.set(n.name,a);this.viewState.filtersDef[n.name]=n},this)},getFilters:function e(){}});e.exports=u},function(e,t,n){"use strict";var i=n(2);var a=n(4);var r=i.extendComponent(a,{fallbackValueKey:null,events:function e(){var e=a.prototype.events;return _.extend({},e,{"click .field-detail":"onDetailClick"})},format:function e(t){var n=this;var i=_.isString(this.def.order_by)&&this.def.order_by.split(":")[0];var a=[];t.each(function(e){var t=i&&e.get(i);if(!t&&!_.isEmpty(n.fallbackValueKey)){t=e.get(n.fallbackValueKey)}if(!t){var r=e.get("parent");t=r&&r.name}if(t){a.push(t)}});return a.join(", ")},onDetailClick:function e(t){$(t.currentTarget).toggleClass("field-detail--expanded")}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(4);var s=a.extendComponent(r,{isFloat:false,fieldType:"text",initialize:function e(t){this._super(t);if(i.user.getPreference("decimal_separator")!=="."){return}if($.os.ios){this.fieldType="number";this.events=_.extend({"keypress ._numeric":"onNumericKeyPress"},this.events);this.events=_.extend({"paste ._numeric":"onItemPaste"},this.events)}else if($.os.android){this.fieldType="tel"}},onItemPaste:function e(t){var n=t.target;var i=$(n).val();_.delay(function(){var e=$(n).val();if(_.isEmpty(e)){$(n).val(i)}},1)},onNumericKeyPress:function e(t){var n=t.keyCode||t.which;if(n===46&&this.isFloat){var i=$(t.target).val();if(i===""){$(t.target).val("0")}else if(i.indexOf(".")>-1){t.preventDefault();return false}}else if(n<48||n>57){t.preventDefault();return false}},format:function e(t){if(!t&&t!==0||_.isString(t)&&t.trim().length===0){return""}if(!isNaN(t)){var n="";if(this.action!=="edit"&&this.action!=="create"||this.tplName==="disabled"){n=this.def.disable_num_format?"":this.def.number_group_seperator||i.user.getPreference("number_grouping_separator")}t=i.utils.formatNumber(t,null,this.isFloat?this.def.precision||i.user.getPreference("decimal_precision"):0,n,this.def.decimal_seperator||i.user.getPreference("decimal_separator"));if(this.isFloat){this.model.set(this.name,this.unformat(t),{silent:true})}}return t},unformat:function e(t){var n=i.utils.unformatNumberStringLocale(t.toString(),this.isFloat);return n===""||isNaN(n)?t:n}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(23);var r=n(2);var s=n(10);var o=n(46);var l=n(71);var u=n(3),c=u.buildRoute;var d=r.extendComponent(l,{_stringType:"record-card",className:"view__detail",events:{"click .box__record-actions .context-menu__item:not(.disabled)":"onActionBtnClick","click .box_detail__title":"_openEditView"},plugins:[],globalEvents:{"offline:data:updated":function e(t){if(t.id!==this.model.id){return}if(t.action==="delete"){this.showRecordOverlay(t.data,t.status);return}this.model.fetch({params:{skipServerSync:true}})},"app:orientation:changed":function e(){this._renderActionButtons()}},_afterShowTasks:{},_docsRequestTimestamp:null,initialize:function e(t){t.meta=_.extend({},i.metadata.getView(t.module,"detail"),{action:"detail"});this._super(t);this.modContextData=a.getContextMeta("detail");var n=this.modContextData[this.model.module];this.headerField=n.headerField;this.avatarField=n.avatarField;this.hasLinkableSubpanels=n.hasLinkableSubpanels;this.hasCreatableSubpanels=n.hasCreatableSubpanels;this.phoneFields=n.phoneFields;this.emailFields=n.emailFields;this.urlFields=n.urlFields;this.docFields=n.docFields;this.addressFieldsGroups={};_.each(n.addressFieldsGroups,function e(t,n){this.addressFieldsGroups[n]=t[0].fields},this);this.actions=n.actions;if(this.actions.doc||this.module==="Emails"){this.actions.file=true}this.model.on("docs:ready",function e(t){this.model.docData=t;this._setDocLoading(false)},this)},onDataSyncComplete:function e(t,n,i){for(var a=arguments.length,r=Array(a>3?a-3:0),s=3;s<a;s++){r[s-3]=arguments[s]}this._super("onDataSyncComplete",[t,n,i].concat(r));this._requestDocuments();this._renderActionButtons()},receiveSyncData:function e(t,n,a){var s=void 0;this._super(t);a=a||{};var o=a.responseData||{};var l=o[a.fileFieldName];if(this._isModelUpdated){if(l){s={};s[a.fileFieldName]=l;this._afterShowTasks.file=_.bind(this._requestDocuments,this,s)}var u=i.controller.layoutManager.getRecordLayout();var c=u&&_.any(u._components,function(e){return e instanceof r.getViewClass({baseType:"detail"})});if(c){this._renderActionButtons();this._requestDocuments()}}},isActionVisible:function e(t){return t.isVisible},_getAvailableActions:function e(t){return o.getRecordActions({view:this,model:this.model,type:"toolbar",maxCount:t})},_renderActionButtons:function e(){var t=i.template.get("record-actions");var n=this.$(".box__record-actions");this.actionBtns=this._getAvailableActions();this._setActionItemsWidth(this.actionBtns);n.html(t(this.actionBtns));this.$el.toggleClass("view__detail_noactions",_.isEmpty(this.actionBtns))},_setActionItemsWidth:function e(t){var n=t.length;var i=this.$el.width();var a=75;var r=(i/a).toFixed(1);var s=void 0;if(n>r){s=Math.floor(r)+.55}else{s=n}var o=Math.round(i/s);_.each(t,function(e){e.width=o+"px"})},_setDocLoading:function e(t){if(!this.actions.doc){return}this.model.docsLoading=t;this._renderActionButtons()},onActionBtnClick:function e(t){var n=$(t.currentTarget).attr("action");var i=_.findWhere(this.actionBtns,{name:n});if(_.isFunction(i.handler)){i.handler(this,this.model,t)}},onAfterShow:function e(){this._super();this._renderActionButtons();this._performAfterShowTasks();i.tutorial.show(this.name,this.module)},_onFileFieldChange:function e(t,n,a){this._super(t,n,a);if(a==="preparing"){this._showOverlay()}else if(a==="prepared"){this._postFile(t,n)}else if(a==="error"){this._hideOverlay();i.alert.show("file_upload_error",{level:"error",messages:n,autoClose:true,closeable:true});this.render()}},_showOverlay:function e(){s.show("uploading_image");i.alert.show("upload_mask",{level:"info",messages:i.lang.get("LBL_MOBILE_UPLOAD_IN_PROGRESS"),autoClose:false,closeable:false})},_hideOverlay:function e(){s.hide("uploading_image");i.alert.dismiss("upload_mask")},_postFile:function e(t,n){var a={success:_.bind(function e(n){i.alert.show("file_upload_success",{level:"success",messages:i.lang.get("LBL_MOBILE_UPLOAD_SUCCESS"),autoClose:true,closeable:true});this.model.set(t.name,n[t.name].name);this._requestDocuments();this._hideOverlay()},this),error:_.bind(function e(n){i.error.handleHttpError(n);t.render();this._hideOverlay()},this)};this.model.uploadFile(t.name,n,a,{htmlJsonFormat:false})},_performAfterShowTasks:function e(){_.each(this._afterShowTasks,function e(t,n){t.call(this);delete this._afterShowTasks[n]},this)},_requestDocuments:function e(t){var n=this.model.get("date_modified");this._setDocLoading(false);if(t||!this._docsRequestTimestamp||this.model._docsUpdated||this._docsRequestTimestamp<n){this._docsRequestTimestamp=n;this.model._docsUpdated=false;this._setDocLoading(true);this.model.getDocuments(this.docFields,{fileData:t,docData:this.model.docData})}},_openEditView:function e(){var t=c(this.model,{hash:{action:"edit",link:this.context.get("link"),appendRoot:true}});i.controller.navigate(t,{initiator:this.navigationName})}});e.exports=d},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=n(35);var r=n(15);var s=n(158);Backbone.Model.prototype.doValidate=function(e,t){t(this.isValid())};function o(e,t,n,i){if(_.isUndefined(t))return;if(_.isUndefined(e[n])){e[n]={}}e[n][i]=t}var l=Backbone.Model.extend({constructor:function e(t,n){a.attach(this,"model");Backbone.Model.prototype.constructor.call(this,t,n)},initialize:function e(t){Backbone.Model.prototype.initialize.call(this,t);this.setSyncedAttributes(this.attributes);this._bindEvents();this._relatedCollections=this._relatedCollections||null;this._activeFetchRequest=null;if(this.isNew()&&this._defaults){_.each(this._defaults,function(e,t){if(!this.has(t)){this.set(t,e,{silent:true})}},this)}if(this.fields){this.fields=r.deepCopy(this.fields)}this.addValidationTask("sidecar",_.bind(this._doValidate,this))},fetch:function e(t){t=_.extend({},this.getOption(),t);this.abortFetchRequest();this._activeFetchRequest=Backbone.Model.prototype.fetch.call(this,t);return this._activeFetchRequest},getFetchRequest:function e(){return this._activeFetchRequest},abortFetchRequest:function e(){var t=this.getFetchRequest();if(t){SUGAR.App.api.abortRequest(t.uid)}},set:function e(t,n,a){if(_.isUndefined(t)||_.isNull(t)){return this}var r;if((typeof t==="undefined"?"undefined":i(t))==="object"){r=t;a=n}else{(r={})[t]=n}a=a||{};var s=this.getCollectionFields(r);r=_.omit(r,_.keys(s));Backbone.Model.prototype.set.call(this,r,a);this._setCollectionFieldValues(s,a);return this},get:function e(t){var n=Backbone.Model.prototype.get.call(this,t);if(!this.fields||!this.fields[t]||this.fields[t].type!=="collection"||n instanceof SUGAR.App.MixedBeanCollection){return n}n=this._createMixedBeanCollectionField(t);Backbone.Model.prototype.set.call(this,_.object([t],[n]),{silent:true});return n},_setCollectionFieldValues:function e(t,n){_.each(t,function(e,t){if(e instanceof SUGAR.App.MixedBeanCollection){if(this.get(t)!==e){this.stopListening(this.get(t));Backbone.Model.prototype.set.call(this,_.object([t],[e]),n);this.listenTo(e,"update reset",function(e,n){this.trigger("change:"+t,this,e,n)});this.off("sync",e.resetDelta,e);this.on("sync",e.resetDelta,e)}}else{var i={};var a=this.get(t);if(_.isObject(e)&&e.records){i=_.extend(i,_.omit(e,"records"));e=e.records}_.each(i,function(e,t){a[t]=e});a.offset=a.next_offset;a.reset(e,n)}},this)},_createMixedBeanCollectionField:function e(t,n){var i=this.fields[t];if(i&&i.links){var a=i.links;if(_.isString(a)){a=[a]}var r={};_.each(a,function(e){if(_.isObject(e)&&_.has(e,"name")){e=e.name}if(_.isString(e)){r[e]=this.getRelatedCollection(e)}},this);var s=SUGAR.App.data.createMixedBeanCollection(n||[],{links:r,parentBean:this,collectionField:t});this.listenTo(s,"update reset",function(e,n){this.trigger("change:"+t,this,e,n)});this.off("sync",s.resetDelta,s);this.on("sync",s.resetDelta,s);return s}},_bindEvents:function e(){this.on("sync",function(){this._checkAcl();this.setSyncedAttributes(this.attributes)},this)},_checkAcl:function e(){var t=this._checkFieldAcls();if(_.size(t)||!_.isEqual(_.omit(this.get("_acl"),"fields"),_.omit(this.getSynced("_acl"),"fields"))){this.trigger("acl:change",t)}},_checkFieldAcls:function e(){var t={};var n=_.property("fields");var i=n(this.getSynced("_acl"))||{};var a=n(this.get("_acl"))||{};var r=_.extend({},i,a);_.each(r,function(e,n){if(!_.isEqual(i[n],a[n])){this.trigger("acl:change:"+n);t[n]=true}},this);return t},dispose:function e(){a.detach(this,"model")},_setRelatedCollection:function e(t,n){if(!this._relatedCollections)this._relatedCollections={};this._relatedCollections[t]=n},getRelatedCollection:function e(t){if(this._relatedCollections&&this._relatedCollections[t]){return this._relatedCollections[t]}return SUGAR.App.data.createRelatedCollection(this,t)},isValidAsync:function e(t,n){t=t||this.fields;async.waterfall(_.flatten([function(e){e(null,t,{})},_.sortBy(this._validationTasks)]),function(e,t,i){if(!e){var a=_.isEmpty(i);if(_.isFunction(n)){n(a,i)}}})},doValidate:function e(t,n){var i=this;this.trigger("validation:start");this.isValidAsync(t,function(e,t){if(e){i.trigger("validation:success")}i.trigger("validation:complete",i._processValidationErrors(t));if(_.isFunction(n)){n(e)}})},_doValidate:function e(t,n,i){var a;_.each(t,function(e,t){if(_.isString(e)){t=e;e=this.fields[t]}a=this.get(t);if(e){o(n,s.requiredValidator(e,e.name,this,a),t,"required");if(a||a===0){_.each(s.validators,function(i,r){if(r==="url"){return}o(n,i(e,a,this),t,r)},this)}}},this);i(null,t,n)},addValidationTask:function e(t,n){this._validationTasks=this._validationTasks||{};this._validationTasks[t]=n},removeValidationTask:function e(t){if(this._validationTasks){this._validationTasks=_.omit(this._validationTasks,t)}},_processValidationErrors:function e(t){var n=true;if(!_.isEmpty(t)){SUGAR.App.error.handleValidationError(this,t);_.each(t,function(e,t){this.trigger("error:validation:"+t,e)},this);this.trigger("error:validation",t);n=false}return n},save:function e(t,n){var i=this;if(!n||!n.fieldsToValidate){return Backbone.Model.prototype.save.call(this,t,n)}this.doValidate(n.fieldsToValidate,function(e){if(e){return Backbone.Model.prototype.save.call(i,t,n)}})},canHaveAttachments:function e(){return _.has(this.fields,"attachment_list")},getFiles:function e(t,n){n=n||{};n.passOAuthToken=false;return SUGAR.App.api.file("read",{module:this.module,id:this.id},null,t,n)},copy:function e(t,n,i){var a={};var s=SUGAR.App.metadata.getModule(this.module).fields;n=n||_.pluck(s,"name");_.each(n,function(e){var n=s[e],i;if(!n||n.duplicate_on_record_copy==="no"){return}i=n.duplicate_on_record_copy==="always"||e!=="id"&&n.type!=="link"&&!n.auto_increment;if(i&&t.has(e)){var o=t.get(e);if(_.isObject(o)){o=r.deepCopy(o)}a[e]=o}});this.set(a,i);this.isCopied=true},isCopy:function e(){return this.isCopied===true},uploadFile:function e(t,n,i,a){i=i||{};a=a||{};return SUGAR.App.api.file("create",{id:a.temp!==true?this.id:"temp",module:this.module,field:t},n,i,a)},favorite:function e(t,n){n=n||{};n.favorite=true;return this.save({my_favorite:!!t},n)},follow:function e(t,n){n=n||{};t=t||false;n.following=true;return this.save({following:t},n)},isFavorite:function e(){var t=this.get("my_favorite");return t==="1"||t===true},getChangeDiff:function e(t,n){var i={};t=t||{};n=n||[];_.each(this.attributes,function(e,a){if(_.contains(n,a))return;var r=t[a];if(!_.isEqual(r,e)){i[a]=r}});return i},hasChanged:function e(t){if(this.get(t)instanceof SUGAR.App.MixedBeanCollection){return this.get(t).hasDelta()}return Backbone.Model.prototype.hasChanged.call(this,t)},toJSON:function e(t){var n=t&&t.fields?t.fields:_.keys(this.attributes),i={};_.each(n,function(e){var n=this.get(e);if(n instanceof SUGAR.App.MixedBeanCollection){_.each(n.getDelta(),function(e,t){i[t]=e})}else{if(_.isObject(n)&&_.isFunction(n.toJSON)){SUGAR.App.logger.warn("Calling `toJSON` on object attributes is deprecated in 7.9 and will be "+"removed in 7.10");n=n.toJSON(t)}i[e]=n}},this);return i},toString:function e(){return"bean:"+this.module+"/"+(this.id?this.id:"<no-id>")},revertAttributes:function e(t){t=t||{};t.revert=true;var n=this.changedAttributes(this.getSynced());this.set(r.deepCopy(n)||{},t);if(!t.silent){this.trigger("attributes:revert")}},changedAttributes:function e(t){var n=this;var i=this.getCollectionFields(t);if(!_.isUndefined(t)){t=_.omit(t,_.keys(i))}var a=Backbone.Model.prototype.changedAttributes.call(this,t);_.each(i,function(e,t){if(n.get(t).hasDelta()){a=a||{};a[t]=e}},this);return a},setSyncedAttributes:function e(t){this._syncedAttributes=t?r.deepCopy(t):{}},getSynced:function e(t){return t?this._syncedAttributes[t]:this._syncedAttributes},getDefault:function e(t){var n=_.clone(this._defaults)||{};if(_.isUndefined(t)){return n}return n[t]},setDefault:function e(t,n){var i;if(_.isObject(t)){i=t}else{(i={})[t]=n}this._defaults=_.extend({},this._defaults,i);this.attributes=_.defaults(this.attributes,i);return this},setOption:function e(t,n){var i;if(_.isObject(t)){i=t}else{(i={})[t]=n}this._persistentOptions=_.extend({},this._persistentOptions,i);return this},unsetOption:function e(t){if(t){this.setOption(t,void 0)}else{this._persistentOptions={}}return this},getOption:function e(t){if(t){return this._persistentOptions[t]}return this._persistentOptions},fieldsOfType:function e(t){return _.where(this.fields,{type:t})},getCollectionFields:function e(t){return _.pick(t,_.pluck(this.fieldsOfType("collection"),"name"))},merge:function e(t,n,i){return _.extend(t,n)}});e.exports=l},function(e,t,n){"use strict";var i=n(74);var a=n(19);var r=Backbone.View.extend({_isInitialized:false,constructor:function e(t){this.options=t||{};this._wrapInitialize(t);return Backbone.View.apply(this,arguments)},_wrapInitialize:function e(t){this.initialize=_.wrap(this.initialize,_.bind(function(e){e.call(this,t);this.initialize=e;this._isInitialized=true;this.delegateEvents()},this))},initialize:function e(t){this.context=t.context||SUGAR.App.controller&&SUGAR.App.controller.context||new Backbone.Model;this.meta=t.meta;this.module=t.module||this.context.get("module");this.model=t.model||this.context.get("model");this.collection=t.collection||this.context.get("collection");if(this.meta&&this.meta.css_class){this.$el.addClass(this.meta.css_class)}this.updateVisibleState(true);a.lastState.register(this)},_render:function e(){return this},render:function e(){if(this.disposed===true){SUGAR.App.logger.error("Unable to render component because it's disposed "+this+"\n");return false}if(!this.triggerBefore("render"))return false;this._render();this.trigger("render");return this},delegateEvents:function e(){if(!this._isInitialized){return this}return Backbone.View.prototype.delegateEvents.apply(this,arguments)},setTemplateOption:function e(t,n){this.options.templateOptions=this.options.templateOptions||{};this.options.templateOptions[t]=_.extend({},this.options.templateOptions[t],n)},bindDataChange:function e(){},unbindData:function e(){if(this.model)this.model.off(null,null,this);if(this.collection)this.collection.off(null,null,this)},unbind:function e(){this.off();this.offBefore();this.undelegateEvents();SUGAR.App.events.off(null,null,this);SUGAR.App.events.unregister(this);if(this.context)this.context.off(null,null,this);if(this.layout)this.layout.off(null,null,this)},loadData:_.noop,_dispose:function e(){this.unbindData();this.unbind();this.remove();this.model=null;this.collection=null;this.context=null;this.$el=null;this.el=null},dispose:function e(){if(this.disposed===true)return;this._dispose();this.disposed=true},toString:function e(){return this.cid+"-"+(this.$el&&this.$el.id?this.$el.id:"<no-id>")+"/"+this.module+"/"+this.model+"/"+this.collection},closestComponent:_.noop,show:function e(){if(!this.isVisible()){if(!this.triggerBefore("show")){return false}this._show();this.trigger("show")}},hide:function e(){if(this.isVisible()){if(!this.triggerBefore("hide")){return false}this._hide();this.trigger("hide")}},isVisible:function e(){return this._isVisible},updateVisibleState:function e(t){this._isVisible=!!t},_show:function e(){this.$el.removeClass("hide").show();this.updateVisibleState(true)},_hide:function e(){this.$el.addClass("hide").hide();this.updateVisibleState(false)},_super:function e(t,n){if(!t||!_.isString(t)){return SUGAR.App.logger.error("tried to call _super without specifying a parent method in "+this.name)}var i,a=Object.getPrototypeOf(this);n=n||[];this._superStack=this._superStack||{};this._superStack[t]=this._superStack[t]||[];if(this._superStack[t].length>0){i=Object.getPrototypeOf(_.last(this._superStack[t]));if(_.contains(this._superStack[t],i)){return SUGAR.App.logger.error("Loop detected calling "+t+" from "+this.name)}}else{i=Object.getPrototypeOf(a)}if(!a[t]){return SUGAR.App.logger.error("Unable to find method "+t+" on class "+this.name)}while(!i.hasOwnProperty(t)&&i!==r.prototype){i=Object.getPrototypeOf(i)}while(a[t]===i[t]&&i!==r.prototype){a=i;i=Object.getPrototypeOf(i)}this._superStack[t].push(i);if(!i){return SUGAR.App.logger.error("Unable to find parent of component "+this.name)}if(!i[t]){return SUGAR.App.logger.error("Unable to find method "+t+" on parent class of "+this.name)}var s=i[t].apply(this,n);this._superStack[t].pop();if(_.isEmpty(this._superStack[t])){this._superStack[t]=null}return s},getPlaceholder:function e(){return new Handlebars.SafeString('<span cid="'+this.cid+'"></span>')}});_.extend(r.prototype,i);e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(328);var r=n(330);var s=n(329);e.exports={getRecordActions:function e(t){var i=t.view,r=t.model,s=t.type,o=t.maxCount;var l=n(11);var u=l.getCustomActions();var c=this._isMetaRelatedView(r,i)&&a({view:i,model:r,type:s});var d=i.contextMenuActions||_.union(c,u);d=_.chain(this.processRecordActions({actions:d,view:i,model:r,type:s})).filter(function(e){return i&&_.isFunction(i.isActionVisible)?i.isActionVisible(e):e.isVisible}).value();if(o){d=d.slice(0,o)}return d},getRightMenuActions:function e(t){var i=t.view,a=t.model,s=t.viewType,o=t.viewSubType;var l=s==="list"?"right-menu-list":"right-menu-detail";var u=n(11);var c=this._isMetaRelatedView(a,i)&&r({model:a,viewType:s,viewSubType:o});var d=this.processRecordActions({actions:_.union(c,u.getCustomActions()),view:i,model:a,type:l});return _.where(d,{isVisible:true})},getEditViewActions:function e(t){var i=t.view,a=t.model;var r=n(11);var o=this._isMetaRelatedView(a,i)&&s({view:i,model:a});var l=this.processRecordActions({actions:_.union(o,r.getCustomActions()),view:i,model:a,type:"edit-menu"});return _.where(l,{isVisible:true})},processRecordActions:function e(t){var n=this;var i=t.actions,a=t.view,r=t.model,s=t.type;return _.chain(i).filter(function(e){return _.contains(e.types,s)&&(!e.modules||_.contains(e.modules,r.module))}).reduce(function(e,t,n,i){var a={};var r=t.name;if(_.findWhere(e,{name:r})){return e}if(!t.custom){a=_.find(i,function(e){return e.custom&&r===e.name})}e.push(_.extend({},t,a));return e},[]).each(function(e){n._updateActionState({action:e,view:a,model:r});if(s==="context-menu"){e.googleAnalyticsName="c-"+e.name}}).sortBy("rank").value()},_updateActionState:function e(t){var n=t.action,i=t.view,a=t.model;_.each(n.stateHandlers,function(e,t){var r=n[t];if(_.isUndefined(r)){n[t]=Boolean(e.call(n,i,a))}});_.defaults(n,{isVisible:true,isEnabled:true})},_isMetaRelatedView:function e(t){return t.module&&(t instanceof i.NomadBean||t instanceof i.BeanCollection)}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(86);e.exports={initSubpanels:function e(){var t=i.metadata.getModuleNames({filter:"visible"});t.push("Users");_.each(t,function(e){var n=i.metadata.getModule(e,"layouts");var r=n?n.subpanels:null;if(!r||!r.meta||!_.isArray(r.meta.components)){return}var s=[];_.each(r.meta.components,function(n,r){var o=void 0;var l=void 0;try{o=i.data.getRelatedModule(e,n.context.link);l=a.getRelationship(e,n.context.link)}catch(e){o=null;l=null}if(!_.contains(t,o)){o=null}if(o){n.module=o;n.creatable=(_.isUndefined(n.canCreate)&&_.isUndefined(n.creatable)?true:n.canCreate||n.creatable)&&!_.contains(i.config.modules.nonCreatableModules,o);n.linkable=(_.isUndefined(n.canLink)&&_.isUndefined(n.linkable)?true:n.canLink||n.linkable)&&!_.contains(i.config.modules.nonLinkableModules,o)&&l&&!(_.contains(["Meetings","Calls","Notes","Tasks"],o)&&l.via_parent_id);n.unlinkable=_.isUndefined(n.unlinkable)?true:n.unlinkable}else{s.push(r)}});for(var o=0;o<s.length;++o){r.meta.components.splice(s[o]-o,1)}})},hasLinkableSubpanels:function e(t){return _.any(t,function(e){return e.linkable&&i.acl.hasAccess("list",e.module)})},hasCreatableSubpanels:function e(t){return _.any(t,function(e){return e.creatable&&i.acl.hasAccess("create",e.module)})},getSubpanels:function e(t){var n=i.metadata.getModule(t,"layouts");var a=n?n.subpanels:null;return a&&a.meta?a.meta.components:[]},getSubpanel:function e(t,n){return _.find(this.getSubpanels(t),function(e){return e.context.link===n})||{}}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(17);var s=n(8);e.exports=a.extendComponent(s,{template:null,_viewDefs:null,_views:null,constructor:function e(t){if(!_.isUndefined(t.className)){this.className=t.className}this._super(t)},initialize:function e(t){this._views=[];this._viewDefs=this.getViewDefs(t);_.each(this._viewDefs,function(e){e.viewId=e.viewId||e.name;_.extend(e,_.pick(t,"isRootScreen","isRecordScreen"))});this._super(t)},getViewDefs:function e(t){return t.views||[]},getViews:function e(){return _.compact(this._views)},getViewById:function e(t){return _.find(this.getViews(),function(e){return e.options.viewId===t})},getViewIndex:function e(t){return _.indexOf(this._views,t)},createView:function e(t){var n=_.indexOf(this._viewDefs,t);var a={name:t.view,module:this.module,context:this.getViewContext(t)};var r=i.view.createView(_.extend(a,t));this._views[n]=r;this.listenTo(r,this.ACTION_NAME,this.propagateComponentAction);return r},getViewContext:function e(t){return this.context},createViewById:function e(t){var n=_.findWhere(this._viewDefs,{viewId:t});return this.createView(n)},loadData:function e(t){return r.map(this._views,function(e){return e.loadData(t)})},onBeforeRender:function e(){this._super();if(this.template===i.template.empty){_.each(this._viewDefs,this.createView,this)}},onAfterRender:function e(){var t=this;this._super();this._eachView(function(e){return t.renderView(e)})},renderView:function e(t){var n=this.getViewHolderEl(t);if(n.length){t.setElement(n);t.render()}else{t.render();var i=t.getViewContainer?t.getViewContainer():t.$el;this.$el.append(i)}t.$el.removeClass("view-holder-hide")},getViewHolderEl:function e(t){var n=t.$el[0].tagName;var i=n+'[view-cid="'+t.cid+'"]';return this.$el.find(i)||this.$el},abortActiveRequests:function e(){var t=false;this._eachView(function(e){t=e.abortActiveRequests()||t;e._dataObsolete=true});return t},bindGlobalEvents:function e(){this._eachActiveView(function(e){return e.bindGlobalEvents()});this._super()},unbindGlobalEvents:function e(){this._eachView(function(e){return e.unbindGlobalEvents()});this._super()},headerConfig:function e(t){return this._views.reduce(function(e,t){var n=_.isFunction(t.headerConfig)?t.headerConfig(e):t.headerConfig||{};return _.extend({},e,n)},t||{})},handleComponentAction:function e(t){this._eachView(function(e){return e.handleComponentAction(t)});this._super(t)},_eachView:function e(t,n){var i=this;_.each(this._views,function(e,a){if(e){t.call(n||i,e,a)}})},_eachActiveView:function e(t,n){this._eachView(t,n)},_dispose:function e(){this._super();this._disposeChildViews();this.$viewContainer=null},_disposeChildViews:function e(){this._eachView(function(e){return e.dispose()});this._views=[];this._viewDefs=null},onDetachFromDom:function e(){this.unbindGlobalEvents();this.abortActiveRequests();this._eachView(function(e){return e.onDetachFromDom()});this._super()},onAfterShow:function e(){this.triggerAfterShowOnChildViews();this._super()},triggerAfterShowOnChildViews:function e(){this._eachView(function(e){return e.onAfterShow()})},onBeforeLeave:function e(t){var n=_.chain(this._views).filter(function(e){return e&&e.onBeforeLeave}).map(function(e){return function t(n){e.onBeforeLeave({callback:function e(t){n(t&&t.cancel,t)}})}}).value();asyncLib.parallel(n,function(e){t.callback({cancel:e})})}})},function(e,t,n){"use strict";var i=n(2);var a=n(13);var r=n(48);var s=n(368);var o=n(366);var l=n(367);var u={TABS:s,DROPDOWN:o,PAGINATION:l};e.exports=i.extendComponent(r,{template:"switch-container",activeIndex:0,viewSwitcher:null,omitSwitcherForOneView:true,lazyRender:true,lazyLoad:true,loadViewOnSwitch:false,activeTabStorageKey:"",viewContainerCss:"tabs__container",switcherCss:"views__switcher",hiddenViewCss:"hide-tab",currentView:null,initialize:function e(t){var n=this;this._super(t);var i=["activeIndex","viewSwitcher","lazyRender","lazyLoad","loadViewOnSwitch","activeTabStorageKey","omitSwitcherForOneView"];_.each(i,function(e){if(t[e]!==undefined){n[e]=t[e]}});if(this.activeTabStorageKey){this._restoreState()}},loadData:function e(t){this._eachView(function(e){e._dataObsolete=true});if(this.currentView){this._loadView(this.currentView,t)}if(!this.lazyLoad){this._eachView(function e(n){if(n!==this.currentView){this._loadView(n,t)}})}},onAfterRender:function e(){this._disposeSwitcher();this.createSwitcher();this._super();this.$viewContainer=this.$el.find("."+this.viewContainerCss).first();this.renderSwitcher();if(!this.currentView&&_.isNumber(this.activeIndex)){this.switchView({index:this.activeIndex,skipLoad:true})}},onAfterShow:function e(){this._super();if(this.viewSwitcher){this.viewSwitcher.onAfterShow()}},onDetachFromDom:function e(){if(this.viewSwitcher&&!_.isFunction(this.viewSwitcher)){this.viewSwitcher.onDetachFromDom()}this._super()},_eachActiveView:function e(t,n){var i=this.currentView;if(i){t.call(n||this,i)}},renderView:function e(t){if(!this.lazyRender||t===this.currentView){this._super(t);var n=this._getViewEl(t);n.addClass(this.hiddenViewCss)}},renderSwitcher:function e(){if(!this.viewSwitcher){return}this.viewSwitcher.render();this.$el.find("."+this.switcherCss).first().append(this.viewSwitcher.$el).addClass(this.viewSwitcher.parentCss)},createSwitcher:function e(){if(_.isEmpty(this._viewDefs)||this.omitSwitcherForOneView&&this._viewDefs.length===1){this.viewSwitcher=null}if(!this.viewSwitcher){return}var t=_.map(this._viewDefs,function(e,t){return{title:e.title,index:t,gaData:e.gaData}});var n=_.isFunction(this.viewSwitcher)?this.viewSwitcher:this.viewSwitcher.switcherType;var i={views:t,activeIndex:this.activeIndex};_.extend(i,this.viewSwitcher.options);this.viewSwitcher=new n(i);this.listenTo(this.viewSwitcher,"view:switch",this.onSwitchView)},onSwitchView:function e(t){this.switchView(t)},switchView:function e(t){var n=t.index;var i=this.currentView;var a=this._views[n];if(!a){return}this.currentView=a;if(!a._rendered){this.renderView(a)}if(i){this._getViewEl(i).addClass(this.hiddenViewCss);i.unbindGlobalEvents();if(i.abortActiveRequests()){i._dataObsolete=true}this.stopListening(i,this.ACTION_NAME)}this.activeIndex=n;this._getViewEl(a).removeClass(this.hiddenViewCss);a.bindGlobalEvents();var r=!t.skipLoad&&(a._dataObsolete||this.loadViewOnSwitch);if(r){this._loadView(a,t.loadParams)}a.onAfterShow();if(this.activeTabStorageKey){this._storeState()}this._syncSwitcher(t);this.listenTo(a,this.ACTION_NAME,this.propagateComponentAction);this.trigger("views:switch",a,n)},triggerAfterShowOnChildViews:_.noop,updateSwitcherSubtitle:function e(t,n){if(this.viewSwitcher){this.viewSwitcher.updateSubtext(t,n)}},_syncSwitcher:function e(t){if(this.viewSwitcher){this.viewSwitcher.syncActive(t)}},getViewParentEl:function e(t){return this.$viewContainer},_currentOrEachView:function e(t,n){if(this.currentView){t.call(n||this,this.currentView)}else if(!this.viewSwitcher){this._eachView(t,n)}},_dispose:function e(){this._disposeSwitcher();this.currentView=null;this._super()},_disposeSwitcher:function e(){if(this.viewSwitcher&&_.isFunction(this.viewSwitcher.dispose)){this.viewSwitcher.dispose();this.viewSwitcher=null}},_storeState:function e(){return a.setSetting({store:a.Stores.LAST_STATE,name:this.activeTabStorageKey,value:this.activeIndex})},_restoreState:function e(){var t=a.getSetting({store:a.Stores.LAST_STATE,name:this.activeTabStorageKey});if(t!==undefined){this.activeIndex=Number(t)}},_getViewEl:function e(t){return t.getViewContainer?t.getViewContainer():t.$el},_loadView:function e(t,n){t.loadData(n);t._dataObsolete=false}},{SwitcherTypes:u})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(23);var r=n(2);var s=n(8);var o=r.extendComponent(s,{_stringType:"record-summary",plugins:[],className:"view__record-summary",template:"record-summary",initialize:function e(t){t.meta=_.extend({},i.metadata.getView(t.module,"detail"),{action:"detail"});this.modContextData=a.getContextMeta("detail");this._super(t)},getDisplayFields:function e(){var t=this.modContextData[this.model.module];return _.chain(this._super()).union(this._getRelationshipFields()).reject(function(e){return e===t.headerField||e===t.avatarField||_.has(t.docFields,e.name)}).value()}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(14);e.exports=a.extendComponent(r,{globalEvents:{"offline:data:updated":function e(t){this._offlineRefetch(t,{relate:false})}},listItemDataProvider:"list-item-associate",multiselect:false,contextMenuDisabled:true,submitAfterSelect:false,_selections:null,_buttonTypes:{checkbox:{on:i.config.ui.icons.edit.checkboxOn,off:i.config.ui.icons.edit.checkboxOff,additionalClass:"checkbox-icon",listItemSelected:"item-checkbox_checked"},radio:{on:i.config.ui.icons.edit.radioOn,off:i.config.ui.icons.edit.radioOff,additionalClass:"radio-icon",listItemSelected:"list-item-radio--selected"}},_pickFromOptions:["multiselect","listItemTpl","listItemDataProvider","isPtrEnabled"],initialize:function e(t){var n=this;_.each(this._pickFromOptions,function(e){if(!_.isUndefined(t[e])){n[e]=t[e]}});this.submitAfterSelect=_.isBoolean(t.submitAfterSelect)?t.submitAfterSelect:!this.multiselect;this._super(t);this.button=this._buttonTypes[t.buttonType||"checkbox"];this._setSelectedIds(t.selections)},onAfterRender:function e(){this._super();this._syncSelectionUI()},_setSelectedIds:function e(t,n){this._selections=(n?_.union(this.getSelectedIds(),t):t)||[];this._syncSelectionUI()},getSelectedIds:function e(){return this._selections},getSelectedModels:function e(){var t=this.getSelectedIds();var n=[];_.each(t,function e(t){var i=this.collection.get(t);if(i){n.push(i)}},this);return n},toggleItemSelected:function e(t,n){var i=this.getSelectedIds();var a=_.indexOf(i,t);var r=a!==-1;if(n===undefined){n=!r}if(n&&!r){if(!this.multiselect&&i[0]!==t){i.pop()}i.push(t)}else if(!n&&r){i.splice(a,1)}this.trigger("selection:change",this.getSelectedModels());this._syncSelectionUI()},onItemElementClick:function e(t){if(t.defaultPrevented||t.cancelBubble){return}var n=$(t.currentTarget).closest("article");var i=n.attr("data-id");this.toggleItemSelected(i)},clearSelection:function e(){this._selections=[];this._syncSelectionUI()},_syncSelectionUI:function e(){if(!this.multiselect&&this.submitAfterSelect){return}var t=[];var n=this.button,i=n.on,a=n.off,r=n.listItemSelected,s=n.additionalClass;var o="."+s+"."+i.split(" ").join(".");this.$("."+r).removeClass(r);this.$(o).removeClass(i).addClass(a);_.each(this.getSelectedModels(),function e(n){var o=this.getListItemEl(n);o.addClass(r);o.find("."+s).removeClass(a).addClass(i);t.push(n.id||n.cid)},this);this._selections=t}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(7);var s=n(75);var o=n(6);var l=n(37);var u=n(20);var c=n(21);var d=n(145);var f=n(382);var h=n(10);var p=a.extendComponent(d,{_stringType:"login",className:"view__login",privacyLink:i.config.about.privacy,tosLink:i.config.about.tos,showAttribution:i.config.about.showAttribution,_bodyScroll:true,events:function e(){var e=this._super();_.extend(e,{"click .about-link":function e(){var t=new r({module:"About",create:true}).prepare();i.controller._loadScreen({isDynamic:true,layouts:{module:"About",baseType:"about",appendTo:"root",context:t,gaTrack:"about"}})},"click .login__settings_btn":function e(){return this.showLoginSettings.apply(this,arguments)},"click #login_btn":function e(){return this.login.apply(this,arguments)},"click #external_login_btn":function e(){return this.externalLogin.apply(this,arguments)},"click .legal-link":function e(t){t.preventDefault();o.openUrl(t.target.href)},"keypress input":function e(t){if(t.which===13){t.srcElement.blur();this.login()}},"keyup input":"_updateBtnsState","focusout input":"_updateBtnsState","change input":"_updateBtnsState","click .continue_btn":"onSettingsContinue"});return e},initialize:function e(t){this.meta=s.getView("Login","login");t.meta=this.meta;this._super(t);this.productVersion=i.clientInfo.app.productVersion;this.settingsButtonVisible=i.isNative;this.loginSettingsTitle=i.lang.get("LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE",null,{brandName:i.config.brandName});this.loginSettingsDesc=i.lang.get("LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC",null,{brandName:i.config.brandName})},onAppResume:function e(t){if(u.isTouchIdForLoginSetup()&&_.isEmpty(this.model.get("password"))){this.login()}},onAfterShow:function e(){_.delay(_.bind(function e(){h.hideAll();if(!this.disposed){this.$el.animate({opacity:"1"},500,"ease");u.toggleTouchIdOnLogin(true)}},this),100)},login:function e(){var t=this;var n=function e(){t.reEnableLogin("#login_btn","LBL_LOGIN_BUTTON_TITLE")};var a={password:t.model.get("password"),username:t.model.get("username")};asyncLib.series([function e(n){if(u.isTouchIdForLoginSetup()&&_.isEmpty(t.model.get("password"))){u.performTouchId(a.username,function(e,i){if(e){t.$el.find("#password").val(i);a.password=i;t.model.set("password",i);t._updateBtnsState()}n(!e)})}else{n()}},function e(i){if(!t.updateButtonAndInfo("#login_btn",a.username,false)){i(true);return}t.model.doValidate(t.model.fields,function(e){if(!e){n()}i(!e)})},function e(r){i.alert.dismiss("field_validation_error");i.logger.debug("Username: "+a.username);i.login(a,i.clientInfo,{error:function e(i){if(t.disposed){return}if(i&&i.status>=400&&i.status<=403){t.model.unset("password")}n()},success:function e(){if(u.isTouchIdAuthenticationSupported()&&l.isSetupBuddySupported()&&!l.isSetupBuddyItemCompleted("localsecurity")){u.setTempCredential(a.password)}_.delay(function(){n()},500)},complete:function e(){r()}})}])},externalLogin:function e(){if(this.updateButtonAndInfo("#external_login_btn","",true)){var t=this;c.verifyExternalLogin(function(){t.reEnableLogin("#external_login_btn","LBL_EXTERNAL_LOGIN_BUTTON_TITLE")})}},onSettingsContinue:function e(){var t=this;if(!this.$(".continue_btn").is("[disabled=disabled]")){this.updateLoginSettings(function(){t.render()})}},showLoginSettings:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.model.get("username")){c.setTempSetting({loginName:this.model.get("username")})}var a=new r({create:true}).prepare();var s=i.controller._loadScreen({isDynamic:true,layouts:{className:n.firstLaunch?"layout__loginSettingsNoHeader":"layout__loginSettings",views:[f],gaTrack:"login-settings",appendTo:"root",context:a,headerConfig:{title:i.lang.get("LBL_LOGIN_SETTINGS_HEADER"),back:true}}})[0];var o=s.getComponent(f);o.once("settings:submit",function(e){i.controller.disposeDynamic({disposeAll:true});t.render()})},updateButtonAndInfo:function e(t,n,a){var r=this.$(t);r.focus();if(r.is("[disabled=disabled]")){return false}i.alert.dismissAll();this.$el.find(".btn").attr("disabled","disabled");r.html(Handlebars.templates.spinner()+" "+i.lang.get("LBL_LOADING"));h.show("login");var s={loginName:n||"",isSSO:a};s=c.setTempSetting(s);c.applyLoginSettings(s);return true},reEnableLogin:function e(t,n){h.hide("login");if(this.disposed){return}this.$(t).text(i.lang.get(n));this._updateBtnsState()},render:function e(){var t=c.getTempSetting();c.applyLoginSettings(t);this.model.set({username:t.loginName,password:""},{silent:true});if(i.isNative){this.firstLaunch=_.isEmpty(t.loginUrl);this.settingsButtonVisible=!this.firstLaunch;this.serverUrl=t.loginUrl;this.useHttps=t.useHttps;this.isSSO=t.isSSO}this._super();this._updateUIControls();this._updateBtnsState()},_updateUIControls:function e(){if(i.isNative){var t=c.getTempSetting();this.$("#login_btn").toggle(!t.isSSO);this.$("#external_login_btn").toggle(t.isSSO);this.$el.find(".login-fields").toggle(!t.isSSO)}},_updateBtnsState:function e(){if(this.firstLaunch){this._updateSettingsBtnsState()}else{if(i.config.loginSettings.externalLoginVisible){this.$("#external_login_btn").removeAttr("disabled")}var t=_.some(["username","password"],function(e){return _.isEmpty($("input[name="+e+"]").val())});this.$("#login_btn").attr("disabled",t?"disabled":null)}}});e.exports=p},function(e,t,n){"use strict";var i=n(44);var a=n(35);var r=Backbone.Collection.extend({_activeFetchRequest:null,model:i,constructor:function e(t,n){a.attach(this,"collection");if(n&&n.link){this.link=n.link;delete n.link}Backbone.Collection.prototype.constructor.call(this,t,n)},initialize:function e(t,n){this._persistentOptions={};this._create=[];this._delete=[];this._add=[];this.setOption(n);this._bindCollectionEvents();Backbone.Collection.prototype.initialize.call(this,t,n);this.total=null},_bindCollectionEvents:function e(){this.on("data:sync:complete",function(){var e=this.getFetchRequest();if(e){this._activeFetchRequest=null}},this);this.on("remove",this._decrementTotal,this);if(!this.link){return}this.on("sync",this.resetDelta,this)},_decrementTotal:function e(){if(this.total){this.total--}},add:function e(t,n){var i=this;t=Backbone.Collection.prototype.add.call(this,t,n);if(_.isUndefined(t)||!this.link||n&&n.method){return t}t=_.isArray(t)?t:[t];_.each(t,function(e){if(!e){return}if(e.isNew()){i._create.push(e)}else{var t=_.find(i._delete,e);if(t){i._delete=_.without(i._delete,t)}else{i._add.push(e)}}},this);return t.length===1?t[0]:t},remove:function e(t,n){var i=this;t=Backbone.Collection.prototype.remove.call(this,t,n);if(_.isUndefined(t)||!this.link){return t}t=_.isArray(t)?t:[t];_.each(t,function(e){if(!e){return}if(e.isNew()){i._create=_.without(i._create,e)}else if(_.contains(i._add,e)){i._add=_.without(i._add,e)}else{i._delete.push(e)}},this);return t.length===1?t[0]:t},reset:function e(t,n){this.resetDelta();return Backbone.Collection.prototype.reset.call(this,t,n)},getDelta:function e(){var t={};t.create=_.invoke(this._create,"toJSON");var n=SUGAR.App.data.getOppositeLink(this.link.bean.module,this.link.name);var i=SUGAR.App.data.getRelationFields(this.module,n);t.add=_.map(this._add,function(e){var t={id:e.id};_.each(i,function(n){if(e.get(n)){t[n]=e.get(n)}});return t});t.delete=_.pluck(this._delete,"id");return t},hasDelta:function e(){return!_.all([this._add,this._delete,this._create],_.isEmpty)},resetDelta:function e(){this._create=[];this._add=[];this._delete=[]},dispose:function e(){a.detach(this,"collection")},_prepareModel:function e(t,n){var i=t._search;delete t._search;t=Backbone.Collection.prototype._prepareModel.call(this,t,n);if(t&&!t.link)t.link=this.link;if(i){t.searchInfo=i}return t},fetch:function e(t){t=_.extend({},this.getOption(),t);this.abortFetchRequest();t.fields=this.fields=t.fields||this.fields||null;t.myItems=_.isUndefined(t.myItems)?this.myItems:t.myItems;t.favorites=_.isUndefined(t.favorites)?this.favorites:t.favorites;t.query=_.isUndefined(t.query)?this.query:t.query;t.reset=_.isUndefined(t.reset)?true:t.reset;this._activeFetchRequest=Backbone.Collection.prototype.fetch.call(this,t);return this.getFetchRequest()},getFetchRequest:function e(){if(_.isFunction(this._activeFetchRequest)){return this._activeFetchRequest()}else{return this._activeFetchRequest}},abortFetchRequest:function e(){var t=this.getFetchRequest();if(t){SUGAR.App.api.abortRequest(t.uid);this._activeFetchRequest=null}},resetPagination:function e(){this.offset=this.getOption("offset")||0;this.next_offset=0;this.page=this.getOption("page")||1},paginate:function e(t){t=t||{};var n=t.limit||SUGAR.App.config.maxQueryResult;t.page=t.page||1;t.reset=_.isUndefined(t.reset)?false:t.reset;t.page--;if(n&&_.isNumber(this.offset)){t.offset=this.offset+t.page*n}if(t.add){t=_.extend({update:true,remove:false},t)}this.fetch(t)},fetchTotal:function e(t){t=t||{};if(!_.isNull(this.total)&&_.isFunction(t.success)){t.success.call(this,this.total);return}t.success=_.wrap(t.success,_.bind(function(e,t){this.total=parseInt(t.record_count,10);if(e&&_.isFunction(e)){e(this.total)}},this));var n=this.module;var i=null;t.filter=t.filterDef||this.filterDef;if(this.link){i={id:this.link.bean.id,link:this.link.name};n=this.link.bean.module}var a=_.pick(t,"success","complete","error");t=_.omit(t,"success","complete","error");return SUGAR.App.api.count(n,i,a,t)},hasAtLeast:function e(t,n){n=n||{};var i="read";n.fields=["id"];delete n.view;n.silent=true;n.success=_.wrap(n.success,_.bind(function(e,n){var i=n.records.length;var a=i>=t;var r={length:i,hasMore:n.next_offset!==-1};if(_.isFunction(e)){e(a,r)}this.reset(null,{silent:true})},this));var a=this.module;var r=null;var s="records";n.filter=n.filterDef||this.filterDef;n.limit=n.limit||t;if(this.link){r={id:this.link.bean.id,link:this.link.name};a=this.link.bean.module;s="relationships"}var o=_.pick(n,"success","complete","error");n=_.omit(n,"success","complete","error");n=SUGAR.App.data.parseOptionsForSync(i,this,n);return SUGAR.App.api[s](i,a,r,n.params,o,n.apiOptions)},getPageNumber:function e(t){var n=1;var i=SUGAR.App.config.maxQueryResult;if(t){i=t.limit||i}if(this.offset&&i){n=Math.ceil(this.offset/i)}return n},toString:function e(){return"coll:"+(this.link?this.link.bean.module+"/"+this.link.bean.id+"/":"")+this.module+"-"+this.length},getNext:function e(t,n){var i=this;var a=-1;var r=function e(){n.apply(i,[i.at(a+1),"next"])};if(this.hasNextModel(t)){a=this.getModelIndex(t);if(a+1>=this.length){this.paginate({add:true,success:r})}else{r()}}},getPrev:function e(t,n){var i=-1,a=null,r=this;if(this.hasPreviousModel(t)){i=this.getModelIndex(t);a=this.at(i-1)}n.apply(r,[a,"prev"])},hasNextModel:function e(t){var n=this.getModelIndex(t),i=!_.isUndefined(this.next_offset)?parseInt(this.next_offset,10):-1;return n>=0&&(this.length>n+1||i!==-1)},hasPreviousModel:function e(t){return this.getModelIndex(t)>0},getModelIndex:function e(t){return this.indexOf(this.get(t.id))},setOption:function e(t,n){var i;if(_.isObject(t)){i=t}else{(i={})[t]=n}_.extend(this._persistentOptions,i);return this},unsetOption:function e(t){if(t){this.setOption(t,void 0)}else{this._persistentOptions={}}return this},getOption:function e(t){if(t){return this._persistentOptions[t]}return this._persistentOptions},clone:function e(){var t=Backbone.Collection.prototype.clone.call(this);t.link=_.clone(this.link);t.setOption(_.clone(this.getOption()));return t}});e.exports=r},function(e,t,n){"use strict";var i=n(34);var a=n(15);var r=n(44);var s=n(53);var o=n(157);var l={};var u={};var c=function e(t,n){var i=SUGAR.App.metadata.getModule(t);var a=i.fields[n]&&i.fields[n].relationship;if(!a){return false}return a};var d=_.extend({beanModel:r,beanCollection:s,mixedBeanCollection:o,init:function e(){var t=_.bind(this.sync,this);this.beanModel.prototype.sync=t;this.beanCollection.prototype.sync=t;SUGAR.App.events.register("data:sync:start",this);SUGAR.App.events.register("data:sync:complete",this);SUGAR.App.events.register("data:sync:success",this);SUGAR.App.events.register("data:sync:error",this);SUGAR.App.events.register("data:sync:abort",this)},reset:function e(t){this.resetModel(t);this.resetCollection(t)},resetModel:function e(t){if(t){delete l[t]}else{l={}}},resetCollection:function e(t){if(t){delete u[t]}else{u={}}},declareModel:function e(t,n,i,a,r){i=i||SUGAR.App.config.platform||"base";this.declareModelClass(t,n,i,a);this.declareCollectionClass(t,i,r)},declareModelClass:function e(t,n,i,r){var s=a.capitalize(i);t=t||s+"Model";this.resetModel(t);var o=n?n.fields:{};var u=null;_.each(_.values(o),function(e){if(!_.isUndefined(e["default"])){if(u===null){u={}}u[e.name]=e["default"]}});var c={_defaults:u,module:t,fields:o};var d=l[s+"Model"]||l.BaseModel||this.beanModel;r=_.extend(r||{},c);return a.extendClass(l,d,t,r,s)},declareCollectionClass:function e(t,n,i){var r=a.capitalize(n);var s=t||r+"Model";var o=l[s];t=t||r+"Collection";if(!o){return}this.resetCollection(t);var c={model:o,module:t,offset:0};var d=u[r+"Collection"]||u.BaseCollection||this.beanCollection;i=_.extend(i||{},c);return a.extendClass(u,d,t,i,r)},mergeModel:function e(t,n){var i=n?n.fields:{};var a=null;_.each(_.values(i),function(e){if(!_.isUndefined(e["default"])){if(a===null){a={}}a[e.name]=e["default"]}});var r={_defaults:a,module:t,fields:i};_.extend(l[t].prototype,r)},getModelClasses:function e(){return l},getCollectionClasses:function e(){return u},declareModels:function e(t){t=t||SUGAR.App.metadata.getModules();_.each(t,function(e,t){if(!l[t]){this.declareModel(t,e)}else{this.mergeModel(t,e)}},this)},getBeanClass:function e(t){return l[t]||this.beanModel},createBean:function e(t,n,i){return l[t]?new l[t](n,i):new d.beanModel(n,i)},createBeanCollection:function e(t,n,i){return u[t]?new u[t](n,i):new d.beanCollection(n,i)},createRelatedBean:function e(t,n,i,a){var r=this.getRelatedModule(t.module,i);a=a||{};if(_.isString(n)){a.id=n;n=this.createBean(r,a)}else if(_.isNull(n)){n=this.createBean(r,a)}else{n.set(a)}n.link={name:i,bean:t,isNew:true};n.setOption("relate",true);return n},createRelatedCollection:function e(t,n,i){var a=this.getRelatedModule(t.module,n);var r=this.createBeanCollection(a,i,{link:{name:n,bean:t}});r.setOption("relate",true);t._setRelatedCollection(n,r);return r},createMixedBeanCollection:function e(t,n){return new d.mixedBeanCollection(t,n)},canHaveMany:function e(t,n){var i=SUGAR.App.metadata.getModule(t);if(!i||!i.fields||!i.fields[n]){return false}if(i.fields[n].link_type){return i.fields[n].link_type==="many"}var a=i.fields[n].relationship;var r=SUGAR.App.metadata.getRelationship(a);var s=r.relationship_type.split("-");var o;if(i.fields[n].side){o=i.fields[n].side==="left"?s[0]:s[2]}else if(r.lhs_module!==r.rhs_module){o=t===r.rhs_module?s[0]:s[2]}else{o=s[0]==="many"||s[2]==="many"?"many":"one"}return o==="many"},getRelateFields:function e(t,n){var i=SUGAR.App.metadata.getModule(t);if(!i.fields[n]){SUGAR.App.logger.error("Calling 'getRelateFields' on '"+t+"' with link '"+n+"' but no fields"+" have been found. Please fix your metadata.");return[]}var a=i.fields[n].relationship;var r=this.getRelatedModule(t,n);var s=SUGAR.App.metadata.getModule(r).fields;var o=_.find(s,function(e){return e.type=="link"&&e.relationship==a});if(o){o=_.filter(s,function(e){return e.type=="relate"&&e.link==o.name})}return o||[]},getRelationshipFields:function e(t,n){SUGAR.App.logger.warn("DataManager#getRelationshipFields is deprecated since 7.10. It will be removed "+"in a future release. Please use DataManager#getRelationFields instead");var i=null;var a=SUGAR.App.metadata.getModule(t).fields[n];if(a.rel_fields){var r=a.relationship;var s=this.getRelatedModule(t,n);var o=SUGAR.App.metadata.getModule(s).fields;var l=_.find(o,function(e){return e.type=="link"&&e.relationship==r});if(l){l=_.find(o,function(e){return e.link==l.name&&e.link_type=="relationship_info"})}if(l&&l.relationship_fields){var u=_.keys(a.rel_fields);_.each(l.relationship_fields,function(e,t){if(_.include(u,t)){if(!i)i=[];i.push(e)}})}}return i},getRelationFields:function e(t,n){var i=SUGAR.App.metadata.getModule(t)&&SUGAR.App.metadata.getModule(t).fields;if(!i){return false}var a=_.filter(i,function(e){return e.link===n&&!_.isUndefined(e.rname_link)});if(!a){return false}return _.pluck(a,"name")},getOppositeLink:function e(t,n){var i=c(t,n);var a=this.getRelatedModule(t,n);var r=SUGAR.App.metadata.getModule(a);if(!r||!r.fields){return false}var s=_.findWhere(r.fields,{type:"link",relationship:i});if(!s){return false}return s.name},getRelatedModule:function e(t,n){var i=SUGAR.App.metadata.getModule(t);if(!i||!i.fields||!i.fields[n]){return false}var a=SUGAR.App.metadata.getRelationship(c(t,n));if(!a){return i.fields[n].module||false}return i.fields[n].module||(t===a.rhs_module?a.lhs_module:a.rhs_module)},getRelatedNameField:function e(t,n){return _.find(SUGAR.App.metadata.getModule(t).fields,function(e){if(e.name!==n&&e.id_name===n){return e}},this)},getEditableFields:function e(t,n){var a=["id"],r=["parent","relate"];n=n||[];if(!n.length){n=_.keys(t.attributes)}_.each(n,function(e){var n;if(t.has(e)&&t.fields[e]&&(!t.fields[e].source||t.fields[e].source!=="non-db"||!t.fields[e].type||r.indexOf(t.fields[e].type)===-1)&&i.hasAccessToModel("edit",t,e)){n=t.get(e);if(n&&t.fields[e].type==="collection"&&!_.isEmpty(n.links)){_.each(n.links,function(e){a.push(e.link.name)})}else{a.push(e)}}});return t.toJSON({fields:a})},sync:function e(t,n,i){SUGAR.App.logger.trace("data-sync-"+(i.relate?"relate-":"")+t+": "+n);i=this.parseOptionsForSync(t,n,i);var a=this.getSyncCallbacks(t,n,i),r=null;n.dataFetched=false;this.trigger("data:sync:start",t,n,i);n.trigger("data:sync:start",t,i);if(_.isFunction(i.endpoint)){r=i.endpoint(t,n,i,a)}else if(n.link&&n.link.bean&&i.relate===true){var s=null;if(t=="create"||t=="update"){s=this.getEditableFields(n,i.fields);if(t=="update"&&n.link.isNew){t="create"}}if(!n.link.bean.id){SUGAR.App.logger.error("Attempted to load linked context with no id on the linked bean: "+n.link.bean);return false}r=SUGAR.App.api.relationships(t,n.link.bean.module,{id:n.link.bean.id,link:n.link.name,relatedId:n.id,related:s},i.params,a,i.apiOptions)}else if(i.favorite){r=SUGAR.App.api.favorite(n.module,n.id,n.isFavorite(),a,i.apiOptions)}else if(i.following){r=SUGAR.App.api.follow(n.module,n.id,n.get("following"),a,i.apiOptions)}else if(i.collectionField){r=SUGAR.App.api.collection(i.module,{id:i.beanId,field:i.collectionField},i.params,a,i.apiOptions)}else{if(i.query||n instanceof o){r=SUGAR.App.api.search(i.params,a,i.apiOptions)}else if(n.module){r=SUGAR.App.api.records(t,n.module,t=="update"||t=="create"?this.getEditableFields(n,i.fields):n.attributes,i.params,a,i.apiOptions)}else{SUGAR.App.logger.error("Unable to sync model with no module")}}return r},parseOptionsForSync:function e(t,n,i){i=i||{};i.params=_.extend({},i.params);i.filterDef=i.filter||n.filterDef;i.method=t;if(i.view&&_.isString(i.view)&&t=="read"){i.params.view=i.view}if(i.fields&&t=="read"){i.params.fields=i.fields.join(",")}if(i.viewed===true){i.params.viewed="1"}if(t=="read"&&n instanceof s){if(i.offset&&i.offset!==0){i.params.offset=i.offset}if(i.limit||SUGAR.App.config&&SUGAR.App.config.maxQueryResult){i.params.max_num=i.limit||SUGAR.App.config.maxQueryResult}if(n.orderBy&&n.orderBy.field){i.params.order_by=n.orderBy.field+":"+n.orderBy.direction}if(i.myItems===true){i.params.my_items="1"}if(i.favorites===true){i.params.favorites="1"}if(!_.isEmpty(i.filterDef)){var r=a.deepCopy(i.filterDef);if(_.has(r,"filter")){r=r.filter}if(!_.isArray(r)){r=[r]}i.params.filter=r}if(!_.isEmpty(i.query)){i.params.q=i.query;if(_.isEmpty(i.module_list)&&n.module){i.module_list=[n.module]}}if(i.module_list){i.params.module_list=i.module_list.join(",")}}if(t==="update"&&i.lastModified){i.apiOptions=i.apiOptions||{};i.apiOptions.headers=i.apiOptions.headers||{};i.apiOptions.headers["X-TIMESTAMP"]=i.lastModified}return i},getSyncCallbacks:function e(t,n,i){return{success:this.getSyncSuccessCallback(t,n,i),error:this.getSyncErrorCallback(t,n,i),complete:this.getSyncCompleteCallback(t,n,i),abort:this.getSyncAbortCallback(t,n,i)}},getSyncSuccessCallback:function e(t,n,i){var a=this;return function(e,r){n.inSync=true;n.original_assigned_user_id=n.get("assigned_user_id");if(t=="read"&&n instanceof s){var l=i.offset||0;e=e||{};if(_.isNumber(e.next_offset)){n.offset=e.next_offset!=-1?e.next_offset:l+(e.records||[]).length;n.next_offset=e.next_offset;n.page=n.getPageNumber(i)}if(!i.update){n.total=_.isNumber(e.total)?e.total:null}if(n instanceof o){n.xmod_aggs=e.xmod_aggs||null;n.tags=e.tags||null;if(_.isObject(e.next_offset)){n.offset=e.next_offset;n.next_offset=e.next_offset}}e=e.records||[];a._updateCollectionProperties(n,i)}if(i.relate===true){n.link.isNew=false;if(t!="read"){if(n.link.bean){var u=n.link.bean.getSynced(),c=_.reduce(e.record,function(e,t,n){if(!_.isEqual(u[n],t)){e[n]=t}return e},{});n.link.bean.set(c);n.link.bean.setSyncedAttributes(e.record)}e=e.related_record;if(t=="delete"){n.set(e);delete n.link}}}n.dataFetched=true;if(i.success)i.success(e);a.trigger("data:sync:success",t,n,i,r);n.inSync=null}},getSyncErrorCallback:function e(t,n,i){return _.bind(function(e){if(e.request&&e.request.aborted){var a=this.getSyncAbortCallback(t,n,i);return a(e.request)}SUGAR.App.error.handleHttpError(e,n,i);this.trigger("data:sync:error",t,n,i,e);n.trigger("data:sync:error",t,i,e);if(_.isFunction(i.error)){i.error(e)}},this)},getSyncCompleteCallback:function e(t,n,i){return _.bind(function(e){this.trigger("data:sync:complete",t,n,i,e);n.trigger("data:sync:complete",t,i,e);if(_.isFunction(i.complete)){i.complete(e)}i.previousModels=null;i={}},this)},getSyncAbortCallback:function e(t,n,i){return _.bind(function(e){this._updateCollectionProperties(n,i);this.trigger("data:sync:abort",t,n,i,e);n.trigger("data:sync:abort",t,i,e)},this)},_updateCollectionProperties:function e(t,n){n=n||{};t.myItems=n.myItems;t.favorites=n.favorites;t.query=n.query;t.modelList=n.modelList;t.filterDef=n.filterDef}},Backbone.Events);e.exports=d},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[];var i=true;var a=false;var r=undefined;try{for(var s=e[Symbol.iterator](),o;!(i=(o=s.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;r=e}finally{try{if(!i&&s["return"])s["return"]()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var a=n(19);var r=n(18);var s=moment;_.extend(s,{InvalidException:function e(t,n){this.name="InvalidException";this.message=t;this.date=n},_cachedFormats:{},_serverDateFormat:"YYYY-MM-DD",convertFormat:function e(t){if(s._cachedFormats[t]){return s._cachedFormats[t]}var n=[["d","DD"],["m","MM"],["Y","YYYY"],["H","HH"],["h","hh"],["G","H"],["g","h"],["i","mm"]];var a=t;_.each(n,function(e){var t=i(e,2),n=t[0],r=t[1];a=a.replace(n,r)});s._cachedFormats[t]=a;return a},compare:function e(t,n){var i=moment(t),a=moment(n);if(!i.isValid()){throw new s.InvalidException("Invalid date passed for comparison.",t)}if(!a.isValid()){throw new s.InvalidException("Invalid date passed for comparison.",n)}if(i.isBefore(a)){return-1}if(i.isAfter(a)){return 1}return 0},getUserDateFormat:function e(t){t=t||a;return this.convertFormat(t.getPreference("datepref"))},getUserTimeFormat:function e(t){t=t||a;return this.convertFormat(t.getPreference("timepref"))}});var o={};_.extend(s,{parse:function e(t,n){SUGAR.App.logger.warn("The function `Utils.Date.parse()` is deprecated and will be removed in a future release. "+"Please do not use it");var i=new Date("Jan 1, 1970 00:00:00"),a="",r,s,o,l,u,c;if(t instanceof Date)return t;if(!n){n=this.guessFormat(t)}if(n===false){if(/^\d+$/.test(t)){return new Date(t)}return false}r=$.trim(t);n=$.trim(n)+" ";for(s=0;s<n.length;s++){o=n.charAt(s);if(o===":"||o==="/"||o==="-"||o==="."||o===" "||o==="a"||o==="A"){l=r.indexOf(o);if(l===-1)l=r.length;u=r.substring(0,l);r=r.substring(l+1);switch(a){case"m":if(!(u>0&&u<13))return false;i.setMonth(u-1);break;case"d":if(!(u>0&&u<32))return false;i.setDate(u);break;case"Y":if(u>0===false)return false;i.setYear(u);break;case"h":c=n.substring(n.length-4);u=parseInt(u,10);var d=$.trim(c.toLowerCase());if(d==="i a"||d===o+"ia"){var f=r.substring(r.length-2).toLowerCase();if(f==="pm"){if(u<12){u+=12}}else if(f==="am"&&u===12){u=0}}i.setHours(u);break;case"H":i.setHours(u);break;case"i":u=u.substring(0,2);i.setMinutes(u);break;case"s":i.setSeconds(u);break}a=""}else{a=o}}return i},guessFormat:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.guessFormat()` is deprecated and will be removed in a future release. "+"Please do not use it");if(typeof t!=="string")return false;var n="",i,a,r,s,o,l,u,c;if(t.indexOf(" ")!==-1){n=t.substring(t.indexOf(" ")+1,t.length);t=t.substring(0,t.indexOf(" "))}i="/";if(t.indexOf("/")!==-1){}else if(t.indexOf("-")!==-1){i="-"}else if(t.indexOf(".")!==-1){i="."}else{return false}a=t.split(i);r="";if(a[0].length===4){r="Y"+i+"m"+i+"d"}else if(a[2].length===4){r="m"+i+"d"+i+"Y"}else{return false}s="";o=[];if(n!==""){o.push("i");l=":";if(n.indexOf(".")===2){l="."}if(n.split(l).length===3){o.push("s")}u="";c=n.substring(n.length-2,n.length);if(c.toLowerCase()==="am"||c.toLowerCase()==="pm"){o.unshift("h");if(c.toLowerCase()===c){u="lower"}else{u="upper"}}else{o.unshift("H")}s=o.join(l);if(n.indexOf(" ")!==-1){s+=" "}if(u&&u==="upper"){s+="A"}else if(u&&u==="lower"){s+="a"}r=r+" "+s}return r},parseFormat:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.parseFormat()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(t in o)){var n={},i,a;for(i=0;i<t.length;i++){a=t.charAt(i);switch(a){case"m":case"n":n.month=a;break;case"d":case"j":n.day=a;break;case"Y":n.year=a;break;case"H":case"h":case"g":n.hours=a;break;case"i":n.minutes=a;break;case"s":n.seconds=a;break;case"A":case"a":n.amPm=a;break;default:break}}o[t]=n}return o[t]},format:function e(t,n){SUGAR.App.logger.warn("The function `Utils.Date.format()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!_.isDate(t))return"";var i="",a,r,s,o,l,u;for(a=0;a<n.length;a++){r=n.charAt(a);switch(r){case"\\":i+=n.charAt(a+1);a++;break;case"m":case"n":l=t.getMonth()+1;i+=l<10&&r==="m"?"0"+l:l;break;case"d":case"j":s=t.getDate();i+=s<10&&r==="d"?"0"+s:s;break;case"Y":i+=t.getFullYear();break;case"H":case"h":case"g":o=t.getHours();if(r==="h"||r==="g"){o=o>12?o-12:o;o=o===0?12:o}i+=o<10&&r!=="g"?"0"+o:o;break;case"i":l=t.getMinutes();i+=l<10?"0"+l:l;break;case"s":u=t.getSeconds();i+=u<10?"0"+u:u;break;case"a":case"A":if(t.getHours()<12)i+=r==="a"?"am":"AM";else i+=r==="a"?"pm":"PM";break;default:i+=r}}return i},roundTime:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.roundTime()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!t.getMinutes)return 0;var n=t.getMinutes();if(n<1){n=0}else if(n<16){n=15}else if(n<31){n=30}else if(n<46){n=45}else{n=0;t.setHours(t.getHours()+1)}t.setMinutes(n);return t},UTCtoLocalTime:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.UTCtoLocalTime()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(t instanceof Date))return t;return new Date(this.toUTC(t))},UTCtoTimezone:function e(t,n){SUGAR.App.logger.warn("The function `Utils.Date.UTCtoTimezone()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(t instanceof Date)||undefined===n||null===n){return t}n=parseFloat(n)*60*60*1e3;n-=t.getTimezoneOffset()*60*1e3*-1;return new Date(this.toUTC(t)+n)},toUTC:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.toUTC()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!(t instanceof Date)){return t}var n=t.getFullYear(),i=t.getMonth(),a=t.getDate(),r=t.getHours(),s=t.getMinutes(),o=t.getSeconds(),l=t.getMilliseconds();return Date.UTC(n,i,a,r,s,o,l)},getRelativeTimeLabel:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.getRelativeTimeLabel()` is deprecated and will be removed in a future release. "+"Please do not use it");var n=new Date;var i=n.getTime()<t.getTime();var a=i?t-n:n-t;var r=1e3,s=r*60,o=s*60,l=o*24,u={str:"",value:undefined};if(isNaN(a)||a<0){return u}if(a<r*2){u.str="LBL_TIME_AGO_NOW";return u}if(a<s){u.str=i?"LBL_TIME_UNTIL_SECONDS":"LBL_TIME_AGO_SECONDS";u.value=Math.floor(a/r);return u}if(a<s*2){u.str=i?"LBL_TIME_UNTIL_MINUTE":"LBL_TIME_AGO_MINUTE";return u}if(a<o){u.str=i?"LBL_TIME_UNTIL_MINUTES":"LBL_TIME_AGO_MINUTES";u.value=Math.floor(a/s);return u}if(a<o*2){u.str=i?"LBL_TIME_UNTIL_HOUR":"LBL_TIME_AGO_HOUR";return u}if(a<l){u.str=i?"LBL_TIME_UNTIL_HOURS":"LBL_TIME_AGO_HOURS";u.value=Math.floor(a/o);return u}if(a>l&&a<l*2){u.str=i?"LBL_TIME_UNTIL_DAY":"LBL_TIME_AGO_DAY";return u}if(a<l*365){u.str=i?"LBL_TIME_UNTIL_DAYS":"LBL_TIME_AGO_DAYS";u.value=Math.floor(a/l);return u}else{u.str=i?"LBL_TIME_UNTIL_YEAR":"LBL_TIME_AGO_YEAR";return u}},parseDisplayDefault:function e(t,n){SUGAR.App.logger.warn("The function `Utils.Date.parseDisplayDefault()` is deprecated and will be removed in a future release. "+"Please do not use it");var i,a,r,s,o,l,u,c;var d=n?n:new Date,f,h,p;if(!t)return t;l=function e(t,n){var i=t.getDate();t.setMonth(t.getMonth()+n);if(t.getDate()<i){t.setDate(1);t.setDate(t.getDate()-1)}return t};u=function e(t){var n,i,a;n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];i=d.getDay();t=t.toLowerCase();for(var r=7;r--;){if(t===n[r]){t=r<=i?r+7:r;break}}a=t-i;return a};i={day:function e(t){return new Date(d.setDate(d.getDate()+t))},week:function e(t){return new Date(d.setDate(d.getDate()+t*7))},month:function e(t){return l(d,t)},year:function e(t){return l(d,t*12)},now:function e(){return d},"next monday":function e(){return new Date(d.setDate(d.getDate()+u("monday")))},"next friday":function e(){return new Date(d.setDate(d.getDate()+u("friday")))},"first of next month":function e(){d.setDate(1);var t=d.setMonth(d.getMonth()+1);return new Date(t)}};if(t&&t.indexOf("&")>=0){r=t.split("&");s=r[0];o=r[1]}else{s=t}if(s.match(/\b(now|day|week|month|year)/g)){if(s.indexOf("now")===0){h="now"}else if(s.indexOf("first day of next month")!==-1){h="firstnextmonth"}else{p=s.split(" ");f=p[0];h=p[1]}if(h.match("now")){a=i.now()}else if(h.match("firstnextmonth")){a=i["first of next month"]()}else if(h.match("days?")){a=i.day(parseInt(f,10))}else if(h.match("weeks?")){a=i.week(parseInt(f,10))}else if(h.match("months?")){a=i.month(parseInt(f,10))}else if(h.match("years?")){a=i.year(parseInt(f,10))}else{if(!i[s]){return}a=i[s]()}}else{if(!i[s]){return}a=i[s]()}c=function(e){var t,n,i;t=/^(\d\d?).(\d{2}).?([ap]m)?$/.exec(o);if(t&&t.length>2){n=t[1];if(n){if(t[3]==="pm"){if(n<12){n=parseInt(n,10)+12}}else{if(n==="12"){n="0"}}e.setHours(parseInt(n,10))}i=t[2];if(i){e.setMinutes(parseInt(i,10))}}}(a);return a},toDatepickerFormat:function e(t){if(_.isUndefined(t)||!t)return"";var n,i={y:"yy",Y:"yyyy",m:"mm",d:"dd"};n=t.replace(/[yYmd]/g,function(e){return i[e]});return n},stripIsoTimeDelimterAndTZ:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.stripIsoTimeDelimterAndTZ()` is deprecated and will be removed in a future release. "+"Please do not use it");if(!_.isUndefined(t)&&t){return t.replace("T"," ").substr(0,19)}},isIso:function e(t){SUGAR.App.logger.warn("The function `Utils.Date.isIso()` is deprecated and will be removed in a future release. "+"Please do not use it");var n,i;n=t.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])$/);if(n){return true}if(t.match(/[T\+Z ]/g)){i=t.match(/^([0-9]{4})-?(1[0-2]|0[1-9])-?(3[0-1]|0[1-9]|[1-2][0-9])/);if(i)return true}return false}});_.extend(s.fn,{formatUser:function e(t,n){var i=s.getUserDateFormat(n);if(!t){i+=" "+s.getUserTimeFormat(n)}return this.format(i)},formatServer:function e(t){var n=t&&s._serverDateFormat;return this.format(n)},isBetween:function e(t,n,i){i=_.isUndefined(i)?true:i;var a=this.isAfter(t)&&this.isBefore(n);if(i&&!a){a=this.isSame(t)||this.isSame(n)}return a}});_.extend(s.duration.fn,{format:function e(){var t=[],n=this.minutes(),i=this.hours(),a=Math.floor(this.asDays());if(a>0){t.push(a);t.push(r.get(a===1?"LBL_DURATION_DAY":"LBL_DURATION_DAYS"))}if(i>0){t.push(i);t.push(r.get(i===1?"LBL_DURATION_HOUR":"LBL_DURATION_HOURS"))}if(n>0){t.push(n);t.push(r.get(n===1?"LBL_DURATION_MINUTE":"LBL_DURATION_MINUTES"))}return t.join(" ")}});e.exports=s},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")n=window}e.exports=n},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=n(84).routes;var o=n(318);var l=SUGAR.App;var u=void 0;var c=function(){function e(t,n){r(this,e);_.extend(this,_.pick(t,"name","trackingEnabled","loginRequired","isCustomStep","stepType"));this.getScreenOptions=n.getScreenOptions;var i=this._buildUrlTpl(n);this.url={tpl:i,regexp:Backbone.Router.prototype._routeToRegExp(i)}}i(e,[{key:"buildUrlFromTemplate",value:function e(t){var n=this.url.tpl.replace(/[()]/g,"");_.each(t,function(e,t){n=n.replace(":"+t,e)});return n.replace(/^\/*|\/*$/g,"")}},{key:"checkUrlMatch",value:function e(t){return this.url.regexp.test(t)}},{key:"setUpNavigation",value:function e(t,n){if(t){this.up={name:t,mappedOptions:n}}}},{key:"getUpStep",value:function e(){return this.up?u.stepsHash[this.up.name]:null}},{key:"getMappedUpOptions",value:function e(t){var n=this.up&&this.up.mappedOptions;var i=void 0;if(_.isFunction(n)){i=n(t)}else if(n){i=this._mapParams(t,n)}else{i=t}return i}},{key:"_mapParams",value:function e(t,n){var i={};_.each(n,function(e,n){i[e]=t[n]});return i}},{key:"_buildUrlTpl",value:function e(t){var n="";var i=_.indexOf(t.steps,_.findWhere(t.steps,{name:this.name}));_.each(t.steps,function(e,t){var a=t===0;var r=e.url[0]==="(";if(i===-1||t<=i){n+=r||a?e.url:"/"+e.url}});return n}}]);return e}();u={_ready:false,routes:[],steps:[],stepsHash:{},init:function e(){if(this._ready){return}this.addRoutes(s,{upNavigationMap:o,isInternal:true});this._ready=true},findStepByUrl:function e(t){return _.find(this.steps,function(e){return e.checkUrlMatch(t)})},getRoutes:function e(){return this.routes},addRoutes:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=this._unifyRoutes(t);var i=this._createRoutes(t,n);this._storeSteps(i.steps);this._storeRoutes(i.routes);this._prepareUpNavigation(n.upNavigationMap)},_unifyRoutes:function e(t){if(!_.isArray(t)){t=[t]}_.each(t,function(e){if(_.isString(e.steps)){e.steps=[{name:e.name,url:e.steps,trackingEnabled:e.trackingEnabled!==false,loginRequired:e.loginRequired!==false,stepType:e.stepType}];delete e.trackingEnabled}else{_.each(e.steps,function(e){_.defaults(e,{trackingEnabled:true,loginRequired:true})})}});return t},_createRoutes:function e(t){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=[];var r=[];var s=!i.isInternal;var o=function e(){return{}};_.each(t,function(e){if(!e.getScreenOptions){e.getScreenOptions=o}_.each(e.steps,function(t){t.isCustomStep=s;r.push(new c(t,e))});a.push({name:e.name,getScreenOptions:e.getScreenOptions,callback:n._createRouteCallback(e),route:_.last(r).url.tpl})});return{routes:a,steps:r}},_createRouteCallback:function e(t){var n=this;return function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++){i[a]=arguments[a]}var r=n._buildScreenOptions(t,i);if(t.handler){t.handler(r)}else{l.controller._loadScreen(r)}}},_buildScreenOptions:function e(t,n){var i=t.getScreenOptions.apply(t,a(n));var r=l.navigation.manager.getCurrentStep();if(!_.isUndefined(r.data)){i.data=i.data||r.data}return i},_storeSteps:function e(t){var n,i=this;(n=this.steps).unshift.apply(n,a(t));this._validateSteps(this.steps);_.each(t,function(e){i.stepsHash[e.name]=e})},_storeRoutes:function e(t){var n=t.length-1;if(l.router){_.each(t,function(e,i){e=t[n-i];l.router.route(e.route,e.name,e.callback)})}else{var i;(i=this.routes).unshift.apply(i,a(t))}},_prepareUpNavigation:function e(t){var n=this;var i=function e(t,i,a){if(i==="mappedOptions"){return}if(i){n.stepsHash[i].setUpNavigation(a,t.mappedOptions)}_.each(t,function(t,n){e(t,n,i)})};i(t,null,null)},_validateSteps:function e(t){var n=_.pluck(t,"name");var i=true;_.each(_.groupBy(n),function(e,t){if(e.length>1){i=false;l.logger.error('duplicate step name "'+t+'"')}});if(!i){throw new Error("Routes config is invalid")}}};e.exports=u},function(e,t,n){"use strict";var i=n(10);(function t(n){var a={inProgress:{read:"LBL_LOADING",update:"LBL_SAVING",create:"LBL_SAVING",delete:"LBL_DELETING",unlink:"LBL_UNLINKING",backgroundFetch:"LBL_OFFLINE_SERVER_FETCH"},finished:{update:"LBL_SAVED",create:"LBL_SAVED",delete:"LBL_DELETED",unlink:"LBL_UNLINKED"}};var r="DATA_READING";var s="DATA_UPDATING";var o={readInProgress:0,updateInProgress:0,init:function e(){this._subscribeSyncEvents();n.events.on("data:sync:error data:sync:abort",this.onSyncError,this)},_subscribeSyncEvents:function e(){n.events.on("data:sync:start",this.onSyncStart,this).on("data:sync:success",this.onSyncSuccess,this)},_unsubscribeSyncEvents:function e(){n.events.off("data:sync:start data:sync:success",null,this)},_updateCounters:function e(t){var n=t.method,i=t.isFinished;if(n==="read"){this.readInProgress+=i?-1:1;if(this.readInProgress<0){this.readInProgress=0}}else{this.updateInProgress+=i?-1:1;if(this.updateInProgress<0){this.updateInProgress=0}}},onSyncStart:function e(t,n,i){i=i||{};if(!this._shouldShowAlert(t,n,i)){return}this.showSyncAlert(t,n,i);this._updateCounters({method:t,isFinished:false})},onSyncSuccess:function e(t,n,i){i=i||{};if(!this._shouldShowAlert(t,n,i)){return}this._updateCounters({method:t,isFinished:true});if(t==="read"&&!this.readInProgress||t!=="read"&&!this.updateInProgress){i.requestFinished=true;this.showSyncAlert(t,n,i)}},onSyncError:function e(t){this._updateCounters({method:t,isFinished:true});this.hideSyncAlert()},pause:function e(t,n,i){i=i||{};this._unsubscribeSyncEvents();this.onSyncStart(t,n,i)},resume:function e(t,n,i,a){a=a||{};this._subscribeSyncEvents();if(!i){this.onSyncSuccess(t,n,a)}},showSyncAlert:function e(t,i){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s=r.requestFinished;var o=s?"finished":"inProgress";if(s){this.hideSyncAlert()}else if(!this._overlayDisabled(t,i,r)){this.showOverlay()}if(t==="delete"&&r.relate){t="unlink"}if(r.backgroundFetch){t="backgroundFetch"}var l=n.lang.get(a[o][t]);if(l){this._showAlert(t,l,s)}},_shouldShowAlert:function e(t,n,i){return!(i.backgroundSync||this.isOfflineRead(t,n,i))},_showAlert:function e(t,i,a){var o=this.getAlertOptions(i,a);var l=t==="read"?r:s;n.alert.show(l,o)},getAlertOptions:function e(t,n){var i={level:"success",autoClose:true,messages:t};if(!n){_.extend(i,{level:"load",closeable:false,autoClose:false})}return i},hideSyncAlert:function e(){this.hideOverlay();if(!this._isSuccessAlertCurrentlyShowing()){n.alert.dismiss(s)}n.alert.dismiss(r)},_overlayDisabled:function e(t,i,a){return a.backgroundFetch||t==="read"&&i instanceof n.BeanCollection},showOverlay:function e(){i.show("data:sync")},hideOverlay:function e(){i.hide("data:sync")},isOfflineRead:function e(t,i,a){return n.offlineEnabled&&t==="read"&&!a.backgroundFetch&&!i.offlineReadDisabled},_isSuccessAlertCurrentlyShowing:function e(){var t=n.alert.get(s)||{};return t.level==="success"}};n.augment("syncAlertManager",o);e.exports=o})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(7);var r=n(2);var s=n(40);var o=n(27);var l=n(385);var u=n(10);var c=r.extendComponent(s,{_stringType:"activitystream-dashlet",navigationName:o.ACTIVITIES_LIST,events:function e(){return{"click .panel__addpost":"onAddPost"}},getListViewDef:function e(t,n){if(n.parentModel){n.listParams=_.extend({link:"activities"},n.listParams)}return this._super(t,n)},_getMenuActions:function e(){var t=this;return[{name:"comment",types:["context-menu"],label:"LBL_COMMENT",iconKey:"actions.comment",autoClose:true,handler:function e(n,i){var a=_.find(t._commentsViews,function(e){return e.options.parentModel.id===i.id});a.onCreateCommentItem(i)}}]},_getFilterDefFromMeta:function e(t){var n=void 0;if(t){var a=i.metadata.getModule("Activities");if(_.isObject(a)&&_.isObject(a.filters)){_.each(a.filters,function(e){if(_.isObject(e.meta)){_.each(e.meta.filters,function(e){if(e.id===t){n=e}})}})}}return n},overrideListView:function e(t){this._super(t);t.disableItemClick=true;t.template=i.template.get("activity-list");t.contextMenuActions=this._getMenuActions();t.getListItemTpl=function e(t){var n=t.get("activity_type");return n==="post"?"activity-"+n:"activity-item"};t.listenTo(t.collection,"add",_.bind(this.onItemAdded,this));t.listenTo(t.collection,"data:sync:complete",_.bind(this.initComments,this));var n=this._getFilterDefFromMeta(this.meta.view.currentFilterId);if(n){t.collection.filterDef=n.filter_definition}this.listView=t},onItemAdded:function e(t,n){var i=void 0;n.each(function(e,n){if(e.id===t.id){i=n}});this.createCommentsView(t,i)},initComments:function e(){this.resetCommentsViews();this.listView.collection.each(_.bind(this.createCommentsView,this));_.each(this._commentsViews,function e(t){this.listenTo(t,"view:after:render",this.listReflowScroll,this)},this);this.listView.reflowScroller()},listReflowScroll:function e(){this.listView.reflowScroller()},createCommentsView:function e(t,n){this.$(".activitystream-item").eq(n).append('<div class="clip comments-container"></div>');var a=this.$(".comments-container").eq(n);var s=i.view.createView({name:r.getViewClass({baseType:"list",module:"Comments"}),module:"Comments",parentModel:t,el:a});s.render();this._commentsViews.push(s)},resetCommentsViews:function e(){_.each(this._commentsViews,function e(t){this.stopListening(t,"view:after:render",this.listReflowScroll);t.dispose()},this);this._commentsViews=[]},onAddPost:function e(){var t=i.data.createBean("Activities");var n=this.listView.context.get("parentModule");var a=["activity_type","data"];var r=this;if(n){var s=this.listView.options.listParams.parentModel;t.set({parent_id:s.id,parent_type:n});a.push("parent_id","parent_type")}this.constructor.createPost(t,{appendTo:"root",savePost:function e(n){t.save(null,{fields:a,success:function e(t){r.listView.collection.unshift(t);r.listView.render();n(null,t)},error:n})}})},_dispose:function e(){this.resetCommentsViews();this._super()}},{createPost:function e(t,n){n=n||{};var r=new a({create:true,model:t});r.prepare();i.controller.loadScreen({isDynamic:true,fullScreen:true,primary:{view:l,context:r,headerConfig:{title:n.editedFieldName,save:true,saveLabel:"LBL_COMMENT",cancel:true,btnsLong:true}}});var s=function e(){t.off("save");i.controller.goBack()};t.on("save",function(){var e=t.get("value");if(!e){s();return}var i=(new Date).getTime().toString();u.show(i);t.set("data",{value:e,tags:t.get("tags")},{silent:true});n.savePost(function(e){u.hide(i);if(!e){s()}})})}});e.exports=c},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(38);var s=a.extendComponent(r,{template:"donutchart",initialize:function e(t){this.metricsCollection=null;this.total=0;this._super(t);this._prepareChartObject()},render:function e(){this._super();if(this.hasChartData()){this.renderChart();this.toggleDashletSwipe()}else{this.displayNoData(true)}},hasChartData:function e(){return this.total!==0},displayNoData:function e(t){this.$chartEl.toggleElement(!t);this.$dataUnavailableLbl.showElement(t)},processData:function e(t){this.evaluateResult(t);this.render()},_prepareChartObject:function e(){this.chart=nv.models.pieChart().x(function(e){return e.key}).y(function(e){return e.value}).margin({top:0,right:0,bottom:5,left:0}).donut(true).donutLabelsOutside(true).donutRatio(.447).rotateDegrees(0).arcDegrees(360).maxRadius(110).hole(this.total).showTitle(false).tooltips(true).showLegend(false).colorData("data").direction(i.lang.direction).valueFormat(_.bind(function e(t){return this._valueFormat(t)},this)).labelFormat(_.bind(function e(t){return this._labelFormat(t)},this)).tooltipContent(function(e,t,n,i,a){return"<p><b>"+e+" "+(i.point.valueLabel?i.point.valueLabel:parseInt(n,10))+"</b></p>"}).strings({noData:i.lang.get("LBL_CHART_NO_DATA")})},renderChart:function e(){if(!this._super()){this.displayNoData(true);return}this.chart.hole(this.total);d3.select(this.el).select(".nv-chart-donut").append("svg").datum(this.chartData).transition().duration(500).call(this.chart)},_valueFormat:function e(t){var n=t.data?this.chart.pie.y()(t.data):t;return nv.utils.numberFormatSI(n,2,false)},_labelFormat:function e(t){var n=t.data?this.chart.pie.x()(t.data):t;return n}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isAccessibleModule;var s=n(2);var o=n(40);var l=s.extendComponent(o,{className:"tabbed__dashlet",dashletParams:null,_defaultTabStorageKey:"dashboards:{0}:dashlets:{1}:default_tab_id",_extraFields:{"planned-activities":["assigned_user_id","assigned_user_name"],"inactive-tasks":["assigned_user_id","assigned_user_name"]},viewSwitcher:o.SwitcherTypes.TABS,initialize:function e(t){this.activeTabStorageKey=i.utils.formatString(this._defaultTabStorageKey,[t.dashboardId,t.meta.view.type]);this._super(t)},getViewDefs:function e(t){this.dashletParams.tabs=_.select(this.dashletParams.tabs,function(e){return r(e.module,"list")});var n=_.map(this.dashletParams.tabs,function e(n,a){var r=_.pluck(i.metadata.getModule(n.module,"views").list.meta.panels[0].fields,"name");var s=this._extraFields[t.meta.view.type]||[];n.display_columns=_.union(r,s);n.filters=this.adjustFilters(n.filters);var o=this.getListViewDef(n,{contextMenuOnSwipeDisabled:this.contextMenuOnSwipeDisabled,parentModel:this.options.parentModel,listParams:{limit:t.meta.view.limit}});o.viewId=a;return o},this);return n},getListViewDef:function e(t,n){var a=this._super(t,n);a.listViewId=[this.options.dashboardId,this.options.dashletId,_.indexOf(this.dashletParams.tabs,t)].join("_");a.title=i.lang.get(t.label)||i.lang.getModuleName(t.module,{plural:true});return a},createView:function e(t){var n=this._super(t);var i=_.bind(this._updateTabInfo,this,n);n.listenTo(n.collection,"sync",i);n.listenTo(n.collection,"remove",i);return n},switchView:function e(t){this._super(t);this.saveState();this._gaHandler()},_getListLoadParams:function e(t,n){var a=this.getViewIndex(t);var r=this.getFilters();var s=this.dashletParams.tabs[a];var o=i.metadata.getModule(s.module).mergedFields;if(s.order_by){var l=s.order_by.split(":");t.collection.orderBy={field:l[0],direction:l[1]}}t.collection.filterDef=r[a];return _.extend({},n,{fields:o,limit:this.options.meta.view.limit})},_updateTabInfo:function e(t){var n=t.collection;var i=t.collection.length;var a=this.getViewIndex(t);if(!(n.next_offset===-1||_.isUndefined(n.next_offset))){i+="+"}if(this.viewSwitcher){this.viewSwitcher.updateSubtext(a,i)}},adjustFilters:function e(t){var n=new Date;n.setHours(23,59,59);n.toISOString();if(t.date_due){_.each(t.date_due,function(e,i){if(e==="today"){t.date_due[i]=n}})}return t},getFilters:function e(){this._super();var t=[];_.each(this.dashletParams.tabs,function e(n,a){var r=[];t[a]=r;Array.prototype.push.apply(r,this.getCollectionFilters(n));_.each(this.viewState.filters.attributes,function e(t,n){var s={};var o=parseInt(t,10);if(isNaN(o)){o=0}var l=i.date().subtract("days",o).format("YYYY-MM-DD");s[this.dashletParams.tabs[a].filter_applied_to]=n==="date"&&t==="today"?{$lte:l}:{$gt:l};r.push(s)},this)},this);return t},getCollectionFilters:function e(t){var n=[];_.each(t.filters,function(e,t){var i={};i[t]=e;n.push(i)});if((t.module==="Meetings"||t.module==="Calls")&&this.viewState.visibility==="user"){n.push({$or:[{assigned_user_id:i.user.id},{"users.id":i.user.id}]})}else if(this.viewState.visibility==="user"){n.push({assigned_user_id:i.user.id})}return n},_gaHandler:function e(){if(!i.config.analytics.enabled){return}var t=this.activeIndex;var n=this.meta.view.type;var a=void 0;var r=this.options&&this.options.parentModel?this.options.parentModel.module:null;var s=r?["record-dashlet",r,n]:["dashlet",n];switch(n){case"casessummary":case"inactive-tasks":case"active-tasks":a=t;break;default:a=this.dashletParams.tabs[t].module;break}s.push(a);i.analytics.setActiveView({view:s.join("/")})}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isValidDate;var s=n(2);var o=n(6);var l=n(4);var u=s.extendComponent(l,{events:function e(){var e={"focusout input":"onBlur"};if(i.isNative&&!u.nativeSupport){e["click input"]="onClick"}var t=$.os.desktop?"click":"touchstart";e[t+" .clear-button"]="onClear";return e},validDateRE:/^\d{4}-\d{2}-\d{2}$/,ONCLICK_BLOCKER_TIMEOUT:2e3,initialize:function e(t){this._super(t);if(!u._dateFormat){u.initFormat()}this.setFormatting()},onBeforeRender:function e(){this._super();this.setDefaultValue();this.setClearButtonVisibility()},onAfterRender:function e(){this._super();this.$placeholder=this.$el.find(".placeholder").eq(0);this.setControls();this.toggleControls()},bindDomChange:function e(){if(!this.model){return}this.setInputs();if(u.nativeSupport){this.dateInput.on($.browser.chromeWeb?"change":"blur",_.bind(this.handleValueChange,this))}},format:function e(t){if(_.isEmpty(t)||this.isFormView()&&u.nativeSupport&&!this.isDisabled()){if(t&&!this.validDateRE.test(t)){var n=new Date(t);t=i.date.format(n,"Y-m-d")}return t}var a=new Date(t);if(isNaN(a.getDate())){a=i.date.parse(t,"Y-m-d")}var r=$.os.android&&$.os.version&&i.utils.versionCompare("4.1",$.os.version,">=");var s=i.isNative&&r?0:a.getTimezoneOffset()*6e4;var o=new Date(a.getTime()+s);return i.date.format(o,u._dateFormat)},unformat:function e(t){if(_.isEmpty(t)||u.nativeSupport&&this.isFormView()){return t}var n=i.date.parse(t,u._dateFormat);return n?i.date.format(n,"Y-m-d"):null},setInputs:function e(){this.dateInput=this.$el.find("input");this.inputs=this.dateInput},onClick:function e(t){if(this.isOnClickLocked()){return}this.setOnClickBlocker();this.showDatePicker(t)},onBlur:function e(){this.toggleControls()},onClear:function e(t){this.setChanged();if(!u.nativeSupport&&$.os.android){this.setOnClickBlocker(500)}this.model.set(this.name,"");return false},setFormatting:function e(){this.shouldFormatValues=!u.nativeSupport&&this.isFormView()},setDefaultValue:function e(){if(this.context.isCreate()&&!this.getValue()&&this.def.display_default&&!this._changed){var t=i.date.parseDisplayDefault(this.def.display_default);this.model.set(this.name,this._adjustDefaultValue(t),{silent:true})}},_adjustDefaultValue:function e(t){return i.date.format(t,"Y-m-d")},getDateInputValue:function e(){var t=this.dateInput.val();if(t&&this.shouldFormatValues){var n=i.date.parse(t,u._dateFormat);t=i.date.format(n,"Y-m-d")}return t},setDateInputValue:function e(t){if(t&&this.shouldFormatValues){var n=i.date.parse(t,"Y-m-d");t=i.date.format(n,u._dateFormat)}this.dateInput.val(t)},setClearButtonVisibility:function e(){this.showClearButton=!this.def.required&&!_.isEmpty(this.getValue())},setControls:function e(){this.input=this.$el.find("input");this.$clearButton=this.$el.find(".clear-button")},toggleControls:function e(){var t=this.isValueEmpty();this.input.toggleClass("empty",t);this.$clearButton.toggleElement(!this.def.required&&!t);if(this.$placeholder){this.$placeholder.toggleElement(this.syncPlaceholderVisible())}},setChanged:function e(){this._changed=true},getValue:function e(){return this.model.get(this.name)},handleValueChange:function e(t){this.setChanged();this.model.set(this.name,this.unformat(this.getDateInputValue()),{disableRenderForContext:this.view});this.toggleControls()},showDatePicker:function e(t){var n=this.unformat(this.value)||"";if(u.ios7){var a=new Date;if(n){var s=i.date.parse(n,"Y-m-d");if(r(s)){a=s}}var l={date:a,mode:"date"};this._setPopoverCoordinates(l,t);var c=i.date.format(l.date,"Y-m-d");this.setDateInputValue(c);this.model.set(this.name,c);this.toggleControls();window.datePicker.show(l,_.bind(function e(t){this.clearOnClickBlocker();if(!t){return}var n=i.date.format(t,"Y-m-d");this.model.set(this.name,n)},this));return}o.showDateTimePicker(n,{callback:_.bind(function e(t){this.clearOnClickBlocker();this.model.set(this.name,t)},this)})},_setPopoverCoordinates:function e(t,n){var i=n.screenX;var a=n.screenY;var r=document.body.scrollTop;if(a-r<250){a+=30}a-=r;t.x=String(i);t.y=String(a)},isFormView:function e(){return _.contains(["create","edit"],this.view.action)},isOnClickLocked:function e(){return u._onClickBlocker},setOnClickBlocker:function e(t){u._onClickBlocker=window.setTimeout(_.bind(this.clearOnClickBlocker,this),t||this.ONCLICK_BLOCKER_TIMEOUT)},clearOnClickBlocker:function e(){window.clearTimeout(u._onClickBlocker);u._onClickBlocker=false},_dispose:function e(){this.clearOnClickBlocker();if(this.$clearButton){this.$clearButton.off()}this._super()}},{initFormat:function e(){u._dateFormat=i.user.getPreference("datepref")||"Y-m-d"},setNativeSupport:function e(){this.nativeSupport=$.os.ios||$.browser.chromeWeb||!$.os.ios&&!$.os.android&&$.browser.webkit||false;this.ios7=$.os.ios&&$.os.version&&($.os.version[0]==="7"||i.utils.versionCompare($.os.version,"8",">=")&&$.os.tablet);if(this.ios7&&i.isNative&&this.iosDatePickerPlugin){this.nativeSupport=false}},iosDatePickerPlugin:true});i.events.on("app:sync:complete",function(){u.initFormat()}).on("app:init",function(){u.setNativeSupport()});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(4);var s=n(6);var o=n(3);var l=false;var u=a.extendComponent(r,{events:function e(){return{"click .input_upload":"_onInputClick","click .file-remove":"_onClearClick","change .input_upload":"_onFileSelected"}},supportedTypes:["*/*"],_fileType:null,_fileIsTooBigMessage:"9f2e903a-5bd9-4c8f-a822-83c125c43e5f",_nativeFileImportProcessed:false,_fileErrorCodesToStrings:{1:"ERR_MOBILE_FILE_NOT_SUPPORTED",2:"ERR_MOBILE_FILE_NOT_READABLE",3:"ERR_MOBILE_FILE_ABORTED",4:"ERR_MOBILE_FILE_SECURITY"},initialize:function e(t){this.inputAccept=this.supportedTypes.join(",");this._super(t)},onAfterRender:function e(){this._super();this._dirty=false;this.$fileInput=this.$el.find(".input_upload");this.$fileRemoveBtn=this.$el.find(".file-remove");if(this.def.required){this.$fileRemoveBtn.hideElement()}var t=this.model.get(this.name);this.value=t;this.$el.attr("file-id",t||"")},bindDomChange:function e(){},_onInputClick:function e(t){if(!i.acl.hasAccessToModel("edit",this.model,this.name)){t.preventDefault();t.stopPropagation()}},_onFileSelected:function e(){if(this.$fileInput[0].files.length===0){return}var t=this.$fileInput[0].files[0].type;this._fileType=this._getFileType(t);if(t&&!this._fileType){this.trigger("file:field:change",i.lang.get("ERR_MOBILE_FILE_NOT_SUPPORTED"),"error");return}this._dirty=true;this.prepareFile()},_onClearClick:function e(){this._changeFieldState();this._dirty=true;this.trigger("file:field:clear")},prepareFile:function e(){this.trigger("file:field:change",this.$fileInput,"preparing");var t=[_.bind(this._readFileData,this)];if(this._fileType==="image"){t.push(_.bind(this._resizeImage,this))}asyncLib.series(t,_.bind(function e(t){if(t){this.trigger("file:field:change",t.message||i.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}else{this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}},this))},_changeFieldState:function e(t){if(t){if(!this.def.required){this.$fileRemoveBtn.showElement()}this.$el.find(".picture-icon").hideElement();this.$el.find(".value").text(this.$fileInput.fileData.name);this.$el.find(".placeholder").hideElement()}else{this.$fileRemoveBtn.hideElement();this.$el.find(".picture-icon").showElement();this.$el.find(".value").text("");this.$el.find(".placeholder").showElement();this._resetField()}},_readFileData:function e(t){var n=this.$fileInput[0].files[0];if(n){var a=this;var r=new FileReader;var s=this._binaryToDataUri;r.onload=function e(i){a.$fileInput.fileData={name:n.name,size:n.size,type:n.type,binary:i.target.result,dataURI:s(i.target.result,n.type)};if($.os.ios){a.$fileInput.fileData.name=a._getUniqFileName(n.name)}try{a._setImageOrientation(i.target.result,n.name)}catch(e){}finally{t()}};r.onerror=function e(n){var r=n.target.error;t({message:i.lang.get(a._fileErrorCodesToStrings[r.code]||"ERR_MOBILE_FILE_READ")});i.logger.error("Failed to read file: ["+r.code+"]")};if(n.size>i.config.files.fileSizeLimit*1024*1024||n.name===a._fileIsTooBigMessage){return t({message:i.lang.get("ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED",null,{size:o.humanFileSize(i.config.files.fileSizeLimit*1024*1024,true)})})}r.readAsBinaryString(n)}else{t({message:"No file selected"})}},_resizeImage:function e(t){var n=new Image;var a=this;var r=false;n.onload=function e(){r=true;var n=a._resizeWithCanvas(this);if(n.split(",")[1].length===0){t({message:"Image resizing failed (Failed to render to canvas)"});return}var i=function e(){a.$fileInput.fileData.type=n.split(",")[0].split(";")[0].split(":")[1];a.$fileInput.fileData.dataURI=n;a.$fileInput.fileData.binary=a._dataUriToBinary(n);t()};if(l){$(a._canvas).css({position:"fixed",top:200,left:0,border:"2px red solid",zIndex:999999999}).appendTo("body").on("click",function(){$(a._canvas).remove();i()})}else{i()}};n.src=this.$fileInput.fileData.dataURI;_.delay(function(){if(!r){t({message:"Image resizing failed (Failed to load file as image)"})}},i.config.files.imageResizeTimeout)},_resizeWithCanvas:function e(t){var n=$.os.ios?this._iosRenderWithCanvas:this._commonRenderWithCanvas;var i=document.createElement("canvas");i.width=t.naturalWidth;i.height=t.naturalHeight;return n.call(this,t,i,{width:t.naturalWidth,height:t.naturalHeight,orientation:this.$fileInput.fileData?this.$fileInput.fileData.orientation:1})},_iosRenderWithCanvas:function e(t,n,a){var r=new MegaPixImage(t);var s={maxWidth:a.width,maxHeight:a.height,orientation:a.orientation};if(a.width*a.height>i.config.files.iosCanvasSizeLimit*1024*1024){_.extend(s,this._scaleImage(a))}r.render(n,s);return n.toDataURL("image/jpeg")},_scaleImage:function e(t){var n=t.width/t.height;var a=i.config.files.iosCanvasSizeLimit*1024*1024;var r=Math.sqrt(a/n);var s=r*n;return{maxHeight:Math.floor(r),maxWidth:Math.floor(s)}},_commonRenderWithCanvas:function e(t,n,i){var a=n.getContext("2d");a.clearRect(0,0,i.width,i.height);var r=function e(t,n,i,a){switch(a){case 5:case 6:case 7:case 8:t.width=i;t.height=n;break;default:t.width=n;t.height=i}var r=t.getContext("2d");switch(a){case 2:r.translate(n,0);r.scale(-1,1);break;case 3:r.translate(n,i);r.rotate(Math.PI);break;case 4:r.translate(0,i);r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI);r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI);r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI);r.translate(n,-i);r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI);r.translate(-n,0);break;default:break}};if(i.orientation){r(n,i.width,i.height,i.orientation)}a.drawImage(t,0,0,i.width,i.height);return this._getJpegImage(n)},_getJpegImage:function e(t){var n=void 0;if(i.supportedFeatures.canvasJpegEncoding){n=t.toDataURL("image/jpeg",i.config.files.jpegEncoderQuality/100)}else{var a=new JPEGEncoder;var r=t.getContext("2d");var s=r.getImageData(0,0,t.width,t.height);n=a.encode(s,i.config.files.jpegEncoderQuality)}return n},_setImageOrientation:function e(t,n){var a=new JpegMeta.JpegFile(t,n);var r=void 0;var s=this;if(!("tiff"in a)){r="No TIFF tags in image"}else if("Orientation"in a.tiff){s.$fileInput.fileData.orientation=parseInt(a.tiff.Orientation,10);r="Orientation tag: "+a.tiff.Orientation}else{r='No "Orientation" tag in image'}if(l){i.alert.show("orientation info",{level:"info",messages:r,closeable:true,autoClose:true})}},_binaryToDataUri:function e(t,n){return"data:"+n+";base64,"+window.btoa(t)},_dataUriToBinary:function e(t){return window.atob(t.split(",")[1])},_getFileType:function e(t){var n=t.split("/");var i=_.find(this.supportedTypes,function(e){var t=e.split("/");return _.every(t,function(e,t){return e==="*"||e===n[t]})});if(i){return i.split("/")[0]}},_getUniqFileName:function e(t){var n=t.match(/.*(\..+)$/i);n=n===null?"":n[1];var i=t.match(/^(.+)\./i);i=i===null?t:i[1];return i+"_"+Number(new Date)+n},_resetField:function e(){this.$fileInput.replaceWith(this.$fileInput.clone());this.$fileInput=this.$(".input_upload")},_removeImportedFile:function e(t){var n=t.filename;if(n){s.removeCachedDoc([{filename:n}])}},onImportNativeDocument:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!i.acl.hasAccessToModel("edit",this.model,this.name)||!t.fileUrl||!t.fileMimeType){this._removeImportedFile(t);return}var n=t.fileMimeType;this._fileType=this._getFileType(n);if(n&&!this._fileType){this.trigger("file:field:change",i.lang.get("ERR_MOBILE_FILE_NOT_SUPPORTED"),"error");this._removeImportedFile(t);return}this._dirty=true;this.prepareNativeFile(t)},prepareNativeFile:function e(t){var n=this;this.trigger("file:field:change",this.$fileInput,"preparing");var a=[_.bind(this._readNativeFileData,this,t)];if(this._fileType==="image"){a.push(_.bind(this._resizeImage,this))}asyncLib.series(a,function(e){if(e){n.model.set(n.name,"");n.trigger("file:field:change",e.message||i.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}else{n.$fileInput.fieldName=n.name;n._changeFieldState(true);n.trigger("file:field:change",n.$fileInput,"prepared")}n._removeImportedFile(t)})},_readNativeFileData:function e(t,n){var a=this;if(t.fileSize>i.config.files.fileSizeLimit*1024*1024||t.name===this._fileIsTooBigMessage){return n({message:i.lang.get("ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED",null,{size:o.humanFileSize(i.config.files.fileSizeLimit*1024*1024,true)})})}this.readFileAsBinaryString(t.fileUrl,function(e,r){if(e){n({message:i.lang.get(a._fileErrorCodesToStrings[e.code]||"ERR_MOBILE_FILE_READ")});i.logger.error("Failed to read file: ["+e.code+"]")}else{a.$fileInput.fileData={name:t.fileName,size:t.fileSize,type:t.fileMimeType,binary:r,dataURI:a._binaryToDataUri(r,t.fileMimeType)};if($.os.ios){a.$fileInput.fileData.name=a._getUniqFileName(t.fileName)}try{a._setImageOrientation(r,t.fileName)}catch(e){}finally{n()}}})},readFileAsBinaryString:function e(t,n){var i=function e(t){t.file(function(e){var t=new FileReader;t.onloadend=function(e){n(null,e.target.result)};t.onerror=function(e){n(e.target.error)};t.readAsBinaryString(e)})};window.resolveLocalFileSystemURL(t,i,n)}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(7);var s=n(4);var o=n(133);var l=a.extendComponent(s,{fieldTag:"textarea",events:{"click .field--textarea":"onClick","click .field-detail--textarea":"toggleTextarea"},onClick:function e(t){if(_.isEmpty(this.value)&&this.isDisabled()){return}var n=this.isDisabled()||this.action==="detail";var a=new r({parentModel:this.model,fieldName:this.def.name,isReadOnly:n});var s=i.controller.loadScreen({isDynamic:true,view:o,context:a,headerConfig:{title:this.label,save:!n,saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true},gaTrack:"textarea"})[0];s.setValue(this.model.get(this.name)||"")},toggleTextarea:function e(t){$(t.currentTarget).toggleClass("field-detail--expanded")}});e.exports=l},function(e,t,n){"use strict";var i=n(2);var a=n(6);var r=n(4);var s=i.extendComponent(r,{regexp:/^(https?:\/\/)?[\w-]+(\.[\w-]+)+([\w\s.,@?^=%&amp;:\/~+#-]*)?$/,events:function e(){return{"click .field-detail__value a":"openUrl"}},unformat:function e(t){var n="://";var i=t;t=$.trim(t);if(t.indexOf(n)>-1){i=t.split(n)[1];if(!i){return""}}return t},openUrl:function e(){a.openUrl(this.model.get(this.name),{encode:true})}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(9);var s=a.extendComponent(r,{events:function e(){return{"touchstart .item":"onItemTouchStart","touchmove .item":"onItemTouchMove","click .item":"onSelect","click .cancel":"onCancel"}},name:"actionsheet",template:"actionsheet",initialize:function e(t){var n=this;$(window).on("orientationchange.actionsheet",function(){$(n.popup).addClass("invisible");_.delay(function(){n.position()},1e3)});this.$container=$("#actionsheet-overlay");this.orientationSupport=_.isNumber(window.orientation);_.defaults(t,{title:"",template:this.template,items:[],onSelect:false,onCancel:false,cancelText:i.lang.get("LBL_CANCEL_BUTTON_LABEL")});this._super(t);this.show()},onItemTouchStart:function e(t){this._moved=false},onItemTouchMove:function e(t){this._moved=true},onSelect:function e(t){if(this._moved){this._moved=false;return false}var n=parseInt(t.target.dataset.index,10);var i=true;if(this.options.onSelect){i=this.options.onSelect.call(this,n)}if(i!==false){this.remove()}},onCancel:function e(){this.remove();if(this.options.onCancel){this.options.onCancel.call(this)}},render:function e(){var t=this.options.template(this.options);var n=$(t);this.popup=n;this.$container.empty();this.$el.empty().append(n).appendTo(this.$container);_.delay(_.bind(this.position,this),20)},redraw:function e(t){var n=$(document.body);var i=$("<style> body {opacity: 0.99;}</style>");var a=function e(){n.append(i);_.delay(function(){i.remove()},t)};if(t){_.delay(a,t)}else{a()}},show:function e(){this.render();this.$container.showElement();i.activeComponents.add(this)},hide:function e(){this.$container.hideElement();if($.os.ios){this.redraw(100)}i.activeComponents.remove(this)},onClose:function e(){this.onCancel()},position:function e(){var t=this.popup;var n=this.orientationSupport&&_.contains([90,-90],window.orientation);t.toggleClass("compact",n);var i=document.documentElement;var a=t.get(0);var r=i.clientWidth;var s=i.clientHeight;var o=a.offsetWidth;var l=a.offsetHeight;var u=s-l;var c=r-o;var d=void 0;var f=void 0;if(u<=0){d=0}else{d=u/2}if(c<=0){f=0}else{f=c/2}t.css({top:d+"px",left:f+"px"}).removeClass("invisible")},remove:function e(){this._super();this.hide();i.activeComponents.remove(this.name);this.$container.empty();$(window).off("orientationchange.actionsheet")}},{show:function e(t,n,i,a){return new s({title:t,items:n,onSelect:i,onCancel:a})}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(26);var s=a.extendComponent({parent:r},{_populateParentInfo:function e(t,n,a){var r=i.acl.hasAccessToModel("edit",this.model,"parent_name");var s=i.acl.hasAccessToModel("edit",this.model,"contact_name");var o=i.metadata.getRelationship(i.metadata.getModule(n,"fields")[a].relationship)||{};if(o.via_parent_id){this._viaParent=true}if(o.via_parent_id){this._viaParent=true}if(n==="Contacts"){if(s){this.model.set({contact_id:t.id,contact_name:t.full_name||t.name});this._sendContactId=true}if(r){this.model.set({parent_id:t.account_id,parent_type:"Accounts",parent_name:t.account_name});this._sendParentId=true}}else if(r){this.model.set({parent_name:t.name,parent_id:t.id,parent_type:n});this._sendParentId=true}},save:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(this._sendContactId){t.push("contact_id")}this._super(t)}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(9);var s=n(13);var o=a.extendComponent(r,{_stringType:"filters",template:"filters",className:"view__filters",isFilterDDOpened:false,customFilters:null,sortable:true,_cacheKey:"filters",_customFiltersSynced:false,isSortingDDOpened:false,SORT_DEFAULT:"date_modified",SORT_CHANGED_EVENT:"sort:changed",FILTER_CHANGED_EVENT:"filter:changed",events:{"click .filter__item-main a":"onFilterBtnClick","click .dropdown__filter [data-filter-id]":"onFilterClick","click .dropdown__filter .filters-reload":"onFiltersReloadClick","click .filter__item-by a":"onSortingBtnClick","click .filter__item-sort a":"onSortDirectionBtnClick","click .dropdown__sortBy [data-fieldname]":"onSortableFieldClick"},modulesCustomSortConfig:{Meetings:[{field:"date_start",direction:"asc",isDefault:true}],Emails:[{field:"date_sent",direction:"desc",isDefault:true}]},initialize:function e(t){this._super(t);this.$body=$(document.body);this.cacheStore=i.nomad.stores.filters;this._persistLastState=!this._isOnStatelessLayout();this._searchMode=this._isOnSearchLayout();this._initFilters();this._initSorting()},_isOnSearchLayout:function e(){return _.contains(["Search","Recents"],this.options.module)},_isOnStatelessLayout:function e(){return this.options.subType==="selector"},_initFilters:function e(){this.unsupportedFilterIds=this._getUnsupportedFilterIds();this.compatibleFilters=this._getCompatibleFilters();this.filtersFromMetadata=this._getFiltersFromMetadata();if(i.supportedFeatures.filters&&!this._searchMode){this.customFilters=i.data.createBeanCollection("Filters");this.listenTo(this.customFilters,"data:sync:start",this.onCustomFiltersSyncStart);this.listenTo(this.customFilters,"data:sync:error",this.onCustomFiltersSyncError);this.listenTo(this.customFilters,"sync",this.onCustomFiltersSync)}this.filters=this._getAvailableFilters();this._addRecentsFilter(false)},_getUnsupportedFilterIds:function e(){var t=[];var n=i.metadata.getModule(this.options.module);if(!n.favoritesEnabled){t.push("favorites")}if(!_.getNested(n,"fields.assigned_user_id")){t.push("assigned_to_me")}return t},_getAvailableFilters:function e(){return!i.supportedFeatures.filters||this._searchMode||this._isOnSearchLayout()?this.compatibleFilters.slice():_.union(this.filtersFromMetadata,this._getFiltersFromCache())},_getCompatibleFilters:function e(){var t=this;var n=this._isOnSearchLayout()?i.lang.get("LBL_RECORDS"):i.lang.getModuleName(this.options.module,{plural:true});return _.reject([{id:"all_records",name:i.lang.get("LBL_LISTVIEW_FILTER_ALL",null,{module:n})},{id:"favorites",name:i.lang.get("LBL_FAVORITES_FILTER"),params:{favorites:true}},{id:"assigned_to_me",name:i.lang.get("LBL_ASSIGNED_TO_ME",null,{module:n}),params:{my_items:true}}],function(e){return _.contains(t.unsupportedFilterIds,e.id)})},_getFiltersFromMetadata:function e(){var t=this;var n=i.metadata.getModule(this.options.module,"filters");if(!_.isArray(_.getNested(n,"basic.meta.filters"))){return[]}var a=i.utils.deepCopy(n.basic.meta.filters);var r=i.lang.getModuleName(this.options.module,{plural:true});var s=_.getNested(this.options,"def.initOptions.initialFilter.initial_filter");a.forEach(function(e){if(e.id==="favorites"){e.name="LBL_FAVORITES_FILTER"}if(e.id===s){if(t._populateInitialFilter(e)===null){s=null}}e.name=i.lang.get(e.name,t.options.module,{module:r});if(!_.isArray(e.filter_definition)){e.filter_definition=[e.filter_definition]}});var o=s||(n.default?n.default.meta.default_filter:"all_records");a.forEach(function(e){if(e.id===o){e.active=true}});return _.reject(a,function(e){return _.contains(t.unsupportedFilterIds,e.id)||e.is_template&&e.id!==s})},_populateInitialFilter:function e(t){var n=this.options.def.initOptions.initialFilter;var i=_.clone(n.filter_populate)||{};var a=true;_.each(n.filter_relate,function(e,t){var r=n.relatedModel.get(t);a=a&&!_.isEmpty(r);i[e]={$in:[r]}});if(!a){return null}_.each(t.filter_definition,function(e){_.each(e,function(t,n){var a=_.isString(t)||_.isNumber(t);if(a){t={$equals:t}}var r=_.keys(t)[0];var s=t[r];var o=!_.isNumber(s)&&_.isEmpty(s);if(o&&!_.isUndefined(i[n])){s=i[n]}if(a){e[n]=s}else{e[n][r]=s}})});t.name=n.initial_filter_label||t.name},_getCustomFilters:function e(){var t={limit:i.config.fetchLimit.filters,params:{filter:[{created_by:i.user.get("id"),module_name:this.options.module}]}};this.customFilters.fetch(t)},_addRecentsFilter:function e(t){if(!this.filters.length||!i.supportedFeatures.filters||!this._isOnSearchLayout()||t){return}this.filters.push({id:"recently_viewed",name:i.lang.get("LBL_RECENTLY_VIEWED"),params:{recents:true}})},_initSorting:function e(){var t=this.module;var n=i.metadata.getView(t,"list").panels[0].fields;var a=i.metadata.getModule(t,"fields");var r=this.modulesCustomSortConfig[t];var s=void 0;this.sortableFields=_.chain(n).filter(function(e){return i.utils.isSortable(t,e)}).map(function(e){return{label:i.lang.get(e.label,t),name:e.name}}).value();s=[this.SORT_DEFAULT];if(r){s=_.union(s,_.pluck(r,"field"))}_.each(s,function e(n){if(a[n]&&!_.findWhere(this.sortableFields,{name:n})){this.sortableFields.unshift({name:n,label:i.lang.get(a[n].vname,t)})}},this);if(this._isSortAvailable()){this._setDefaultSortState()}else{this.sortable=false}},_isSortAvailable:function e(){return!_.isEmpty(this.sortableFields)},_setDefaultSortState:function e(){var t=i.metadata.getModule(this.module);var n=this._persistLastState&&this._getLastState().sorting;var a=t.views.list.meta.orderBy;var r=_.findWhere(this.modulesCustomSortConfig[this.module],{isDefault:true});var s=i.metadata.getModule(this.module,"fields");var o={direction:"desc"};var l=[n,a,r&&_.pick(r,"field","direction"),s[this.SORT_DEFAULT]&&{field:this.SORT_DEFAULT},{field:this.sortableFields[0].name}];_.each(l,function e(t){if(t&&!o.field&&_.findWhere(this.sortableFields,{name:t.field})){_.extend(o,t)}},this);this.sortState=o},onCustomFiltersSyncStart:function e(){this.$filters.preloader.showElement();this.$filters.fetchingErr.hideElement()},onCustomFiltersSyncError:function e(){this.$filters.preloader.hideElement();this.$filters.fetchingErr.showElement()},onCustomFiltersSync:function e(t,n){var a=this.getActiveFilter();var r=[];_.each(n,function(e){if(_.isEmpty(e.filter_definition)){return}r.push({id:e.id,name:e.name,filter_definition:e.filter_definition,custom:true})});this._setFiltersToCache(r);this.filters=this._getAvailableFilters();_.each(this.filters,function(e){e.active=e.id===a.id});this._customFiltersSynced=true;this.render();i.analytics.trackEvent({category:"app",action:"custom-filter",value:this.customFilters.length})},onAfterRender:function e(){this._super();this.$overlay=this.$(".overlay-dropdown");if(this.filters.length){this.$filters={DD:this.$(".dropdown__filter"),DDItems:this.$(".dropdown__filter a"),btn:this.$(".filter__item-main a"),preloader:this.$(".filters-preloader"),fetchingErr:this.$(".filters-fetching-error")};this._setActiveFilter(this.getActiveFilter());if(this.isFilterDDOpened){this.activeUI=this.$filters}}if(this.sortable){this.$sorting={DD:this.$(".dropdown__sortBy"),DDItems:this.$(".dropdown__sortBy a"),btn:this.$(".filter__item-by a"),btnLbl:this.$(".filter__item-by .field-name"),directionBtn:this.$(".filter__item-sort")};this._setActiveSortState();if(this.isSortingDDOpened){this.activeUI=this.$sorting}}},_setActiveSortState:function e(){this._setSortField(this.sortState.field);this._setSortDirection(this.sortState.direction)},_setSortDirection:function e(t){var n=t;var i=t==="asc"?"desc":"asc";this.sortState.direction=t;this.$sorting.directionBtn.removeClass(i).addClass(n).attr("data-direction",t);this._setLastState()},_setSortField:function e(t){this.sortState.field=t;this.$sorting.DDItems.removeClass("active");this.$sorting.DDItems.filter("[data-fieldname="+t+"]").addClass("active");this.$sorting.btnLbl.text(_.findWhere(this.sortableFields,{name:t}).label);this._setLastState()},onFilterBtnClick:function e(t){this.toggleDD(this.$filters);t.stopPropagation();t.preventDefault()},onSortingBtnClick:function e(t){this.toggleDD(this.$sorting);t.stopPropagation();t.preventDefault()},onSortDirectionBtnClick:function e(){var t=this.$sorting.directionBtn.attr("data-direction")==="asc"?"desc":"asc";this._setSortDirection(t);this.trigger(this.SORT_CHANGED_EVENT,this.getPreparedState())},toggleDD:function e(t){var n=this.activeUI&&this.activeUI!==t;var a=this;if(n){this._closeActiveDD()}this.activeUI=t;var r=this.activeUI===this.$filters;var s=r?!this.isFilterDDOpened:!this.isSortingDDOpened;this.activeUI.DD.toggleElement(s);this.activeUI.btn.toggleClass("active",s);this.$overlay.toggleElement(s);if(s){if(r&&i.supportedFeatures.filters&&!this._customFiltersSynced&&!this._searchMode&&!this._isOnSearchLayout()){this._getCustomFilters();this.$filters.fetchingErr.hideElement()}this.$body.on("click.filters",function(e){if(_.isEmpty($(e.target).closest(a.activeUI.DD))){a._closeActiveDD();e.stopPropagation();e.preventDefault()}})}else{this._removeOutsideClickHandling()}if(r){this.isFilterDDOpened=!this.isFilterDDOpened}else{this.isSortingDDOpened=!this.isSortingDDOpened}},onFilterClick:function e(t){var n=$(t.currentTarget);var a=n.attr("data-filter-id");var r=this.getFilter(a);var s=this.getActiveFilter();this._closeActiveDD();if(r.id!==s.id){this._setActiveFilter(r);this.trigger(this.FILTER_CHANGED_EVENT,this.getPreparedState())}var o=r.custom?"custom":r.id;i.analytics.trackEvent({category:"filter",action:o});t.preventDefault();t.stopPropagation()},onSortableFieldClick:function e(t){var n=$(t.currentTarget);var a=n.attr("data-fieldname");this._closeActiveDD();if(a!==this.sortState.field){this._setSortField(a);this.trigger(this.SORT_CHANGED_EVENT,this.getPreparedState())}i.analytics.trackEvent({category:"sort",action:a});t.preventDefault();t.stopPropagation()},onFiltersReloadClick:function e(t){this._getCustomFilters();t.preventDefault();t.stopPropagation()},getFilter:function e(t){return _.findWhere(this.filters,{id:t})},getActiveFilter:function e(){if(!this.filters.length){return}var t=this._persistLastState&&this._getLastState();var n=t?t.filter:null;var i=[{id:n},{active:true},this._isOnSearchLayout()&&{id:"recently_viewed"},{id:"all_records"}];var a=void 0;_.each(i,function e(t){a=a||_.findWhere(this.filters,t)},this);if(!a){a=this.filters[0]}return a},resetToPreviousFilter:function e(){var t=_.findWhere(this.filters,{previouslyActive:true});if(t){this._setActiveFilter(t)}},toggleSearchMode:function e(t,n){if(!this.filters.length){return}var i=this.getActiveFilter();this._searchMode=t;this.filters=this._getAvailableFilters();this._addRecentsFilter(this._searchMode);this._persistLastState=this._searchMode?false:!this._isOnStatelessLayout();this.sortable=this._searchMode?false:this._isSortAvailable();this.render();if(this._searchMode&&_.findWhere(this.filters,{id:i.id})){this._setActiveFilter(i)}if(!this._searchMode&&!n&&this.getActiveFilter().id!==i.id){this.trigger(this.FILTER_CHANGED_EVENT,this.getPreparedState())}},getPreparedState:function e(){var t=this.getActiveFilter()||{};var n=t.params||{};var i=t.filter_definition;if(!_.isEmpty(i)){_.extend(n,{filter:i})}if(this.sortable){_.extend(n,{order_by:this.sortState.field+":"+this.sortState.direction})}return n},toggle:function e(t){this.$el.toggleClass("filters-hidden",!t)},_closeActiveDD:function e(){if(!this.activeUI){return}this.activeUI.DD.hideElement();this.activeUI.btn.removeClass("active");this.$overlay.hideElement();this._removeOutsideClickHandling();if(this.activeUI===this.$filters){this._abortPendingRequests();this.isFilterDDOpened=false}else{this.isSortingDDOpened=false}this.activeUI=null},_setActiveFilter:function e(t){this.$filters.DDItems.removeClass("active");_.each(this.filters,function e(n,i){if(n.id===t.id){this.$filters.DDItems[i].classList.add("active");this.$filters.btn.text(n.name);this.$filters.btn.data("active-filter-id",n.id);n.active=true;this._setLastState(n.id)}else{n.previouslyActive=false;if(n.active){n.previouslyActive=true;n.active=false}}},this)},_removeOutsideClickHandling:function e(){this.$body.off("click.filters")},_getStoreCacheKey:function e(){return this.options.module},_getLastStateKey:function e(){var t=i.controller.getScreenContext();var n=t.parentModule||this.options.module;var a=t.link||"";return["filters",n,a].join(":")},_setLastState:function e(t){if(!this._persistLastState){return}var n=this._getLastState()||{};if(t){n.filter=t}if(this.sortState){n.sorting=this.sortState}s.setSetting({store:s.Stores.LAST_STATE,name:this._getLastStateKey(),value:n})},_getLastState:function e(){return s.getSetting({store:s.Stores.LAST_STATE,name:this._getLastStateKey()})||{}},_setFiltersToCache:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.cacheStore.set(this._getStoreCacheKey(),JSON.stringify(t))},_getFiltersFromCache:function e(){var t=this.cacheStore.get(this._getStoreCacheKey());t=t?JSON.parse(t):[];return t},onDetachFromDom:function e(){this._abortPendingRequests();this._super()},_abortPendingRequests:function e(){if(this.customFilters&&this.customFilters.getFetchRequest()){this.customFilters.abortFetchRequest()}},_dispose:function e(){this.$body.off("click.filters");this._super()}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(2);var s=n(9);var o=n(3),l=o.isDirectionLTR,u=o.getOfflineStatusClass;var c=void 0;var d=r.extendComponent(s,{_stringType:"header",template:"header",className:"view__header",events:{"click .menuBtn":"onMenuClick","click .create-entity":"onAddClicked","click .header__btn--save":"onSaveClicked","click .header__btn--cancel":"onCancelClicked","click .backBtn":"onBackClicked","click .dashHomeBtn":"onDashboardHomeClicked","click .searchBtn":"onSearchBtnClicked","click h1":"onTitleClicked",swipeLeft:function e(t){if(l()){this.onSwipeLeft(t)}else{this.onSwipeRight(t)}},swipeRight:function e(t){if(l()){this.onSwipeRight(t)}else{this.onSwipeLeft(t)}}},buttonSelectorMap:{back:".backBtn",mainMenu:".menuBtn",search:".searchBtn",save:".header__btn--save",cancel:".header__btn--cancel",caret:".header__btn--caret",dashHome:".dashHomeBtn"},_saveBtnDisabled:false,dataContainer:null,globalEvents:{"offline:status:update":function e(t){var n=this.$el.find(".offline-icon, .offline-status");n.removeClass("status-success status-warning status-error status-default");n.addClass(u())},"app:orientation:changed":function e(){if(!i.isTablet){return}window.scrollTo(0,0);if(i.controller.layoutManager.getRecordLayout()){c.addClass("show-content-child")}}},offlineStatusIconPartial:"offline-status-icon",offlineStatusClass:function e(){return u()},initialize:function e(t){this.initHeaderActions();this._super(t);this.model=t.model||t.parentView&&t.parentView.model;this.context=t.context||t.parentView&&t.parentView.context;this.defaults={title:i.config.productName,mainMenu:true,rightMenu:true,back:false,save:false,cancel:false,dashboardHome:false};this.config=t.config;c=$(document.body);if(this.model){this.listenTo(this.model,"data:sync:error",function e(t,n,i){if(_.contains([404,403],i.status)){this.$(".createBtn").hideElement()}})}},initHeaderActions:function e(){var t={click:"click",menuClick:"menu:click",save:"save:click",cancel:"cancel:click",dashboardHome:"dashboard:home:click",search:"search:click"};this.headerActions=t},onBeforeRender:function e(){this._super();if(this.config.rightMenu&&this.model&&!this.rightMenu){this.rightMenu=i.view.createView({name:r.getViewClass({baseType:"right-menu"}),model:this.model,viewSubType:this.options.viewSubType,parentView:this.options.parentView,headerRef:this})}this.config.isMenuButtonSupported=this._isMenuButtonSupported();this.config.ui={hasEditButton:this.config.save||this.config.cancel}},onAfterShow:function e(){this._super();if(this.rightMenu){if(this.rightMenu.isActionListAvailable()){this.rightMenu.render();if(i.isTablet){this.$rightMenu=this.$el.find(".right-menu__container_tablet")}else{this.$rightMenu=c.find("#right-menu")}this.$rightMenu.html(this.rightMenu.$el)}else if(!this.rightMenu.quickAction){this.$(".createBtn").hideElement()}}},onTitleClicked:function e(t){this._processAction(t,this.headerActions.click)},onSaveClicked:function e(t){if(!this.$(".header__btn--save").hasClass("disabled")){this._processAction(t,this.headerActions.save)}},onCancelClicked:function e(t){if(!this.$(".header__btn--cancel").hasClass("disabled")){this._processAction(t,this.headerActions.cancel)}},onDashboardHomeClicked:function e(t){this._processAction(t,this.headerActions.dashboardHome)},onSearchBtnClicked:function e(t){this._processAction(t,this.headerActions.search)},onBackClicked:function e(t){this._processAction(t,this.headerActions.cancel)},onMenuClick:function e(t){t.preventDefault();if(!this._isMenuButtonSupported()){return}this._processAction(t,this.headerActions.menuClick);a.dismissAlerts()},onSwipeLeft:function e(t){if(i.nomad.mainMenu.isOpened()){this.onMenuClick(t)}else if(!this.isRightMenuOpened()&&this.rightMenu&&!this.rightMenu.quickAction){this.onAddClicked(t)}},onSwipeRight:function e(t){if(a.getOrientation()==="landscape"&&i.isTablet){return}if(this.isRightMenuOpened()){this.onAddClicked(t);return}this.onMenuClick(t)},_processAction:function e(t,n,i){if(t){t.preventDefault()}n="header:"+n;a.dismissAlerts();this.trigger(this.ACTION_NAME,{name:n,options:i})},onAddClicked:function e(t){t.preventDefault();t.stopPropagation();a.dismissAlerts();if(this.rightMenu.isActionListAvailable()){this.rightMenu.toggle();i.tutorial.show("plus-menu")}else{this.rightMenu.executeAction(this.rightMenu.quickAction)}},setTitle:function e(t){this.$el.find(".header-title").text(t)},setSubtitle:function e(t){this.$el.find(".header-subtitle").text(t)},setButtonVisible:function e(t){_.each(t,function e(t,n){t=Boolean(t);this.$el.find(this.buttonSelectorMap[n]).toggleElement(t);if(n==="save"){this.$(".header__save-container").toggleElement(t)}},this)},_isMenuButtonSupported:function e(){return this.config.mainMenu},setSaveBtnState:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.enabled;this._saveBtnDisabled=!n;this.$(".header__btn--save").toggleClass("disabled",!n)},_dispose:function e(){if(this.rightMenu){this.rightMenu.dispose();this.rightMenu=undefined}this._super()},isRightMenuOpened:function e(){return this.rightMenu&&this.rightMenu.isActionListAvailable()&&this.rightMenu._isRightMenuOpened},setConfig:function e(t){_.extend(this.config,t);if(this._rendered){this.render()}}},{getBaseButtonNames:function e(){return["back","rightMenu","search","mainMenu","cancel","save"]}});e.exports=d},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(7);var s=n(5);var o=n(14);var l=a.extendComponent(o,{disableItemClick:false,isLiveRelativeDateEnabled:true,initialize:function e(t){var n=t,i=n.listParams;this.listParams=i;var a=this.getCollection(i);t=_.extend({},t,{meta:this.calculateListMeta(i),collection:a,context:this.getContext(t,a),template:this.template});_.extend(t,_.pick(i,"template","listItemDataProvider","listItemTpl"));this._super(t);if(this.isLiveRelativeDateEnabled){this.listenTo(this.collection,"data:sync:start",function e(){this.$("time").liverelativedate("destroy")});this.listenTo(this.collection,"data:sync:complete",function e(){this.$("time").liverelativedate()})}},getContext:function e(t,n){var a=this.listParams;var s=a.parentModel;var o=i.metadata.getModule(a.module);var l={fields:o&&o.mergedFields,model:i.data.createBean("Filters"),collection:n,module:a.module,limit:a.limit,link:s&&a.link,parentModule:s&&s.module};return new r(l)},getCollection:function e(t){var n={limit:t.limit};var a=t.parentModel&&t.link?i.data.createRelatedCollection(t.parentModel,t.link):i.data.createBeanCollection(t.module,null,n);this.setFilter(a,t);a.options=n;a.limit=n.limit;return a},setFilter:function e(t,n){var a=n.filter;var r=n.filter_id||"assigned_to_me";if(!a){var s=i.metadata.getModule(n.module,"filters");if(s&&s.basic){a=_.find(s.basic.meta.filters,function(e){return e.id===r})}}if(a){t.filterDef=a.filter_definition||a}else{t.filterId=r}},calculateListMeta:function e(t){var n=i.metadata.getModule(t.module,"fields");var a=[];_.each(t.display_columns,function(e){a.push(n[e])});return{panels:[{fields:a}]}},getFieldNames:function e(){return this.listParams.display_columns},loadData:function e(t){var n=this;var i=this._super;return new Promise(function(e,t){n.loadUserFilter(function(n){if(n){t(new Error(n.message));return}e()})}).then(function(){return i.call(n,t)}).catchReturn()},loadUserFilter:function e(t){var n=i.data.createBean("Filters",{id:this.collection.filterId});var a=this;if(!this.collection.filterDef&&this.collection.filterId){n.fetch({success:function e(n,i){a.collection.filterDef=i.filter_definition;t()},error:function e(n){s.showAlert(i.lang.get("ERR_MOBILE_CONNECTION_FAILED"));t(n)}})}else{t()}},onItemElementClick:function e(t){if(!this.disableItemClick&&!$(t.target).closest("a").length){this._super(t)}return true}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isModelSynchronized;var s=n(2);var o=n(73);var l=n(10);var u=s.extendComponent(o,{_stringType:"record",_statusMessageMap:{403:"LBL_NOT_AUTHORIZED",404:"LBL_RECORD_NOT_FOUND",link:"LBL_RELATED_RECORD_NOT_FOUND"},_modelEvents:{sync:"onDataSyncSuccess","data:sync:error":"onDataSyncError","data:sync:complete":"onDataSyncComplete"},_isModelUpdated:false,initialize:function e(t){this._super(t);this.fileFields=_.select(this.displayFields,function(e){return _.contains(["image","file"],e.type)});this._bindModelEvents()},_listenFileFieldEvents:function e(){_.each(this.fileFields,function e(t){var n=this.getField(t.name,this.model);if(n){this.listenTo(n,"file:field:change",function e(t,i){this._onFileFieldChange(n,t,i)});this.listenTo(n,"file:field:clear",function e(){this._onFileFieldClear(n)})}},this)},_onFileFieldChange:_.noop,_onFileFieldClear:_.noop,onBeforeRender:function e(){this._super();this.model.dataFetched=false},onAfterRender:function e(){this._super();this.overlayTarget=this.options.overlayTarget?$(this.options.overlayTarget,this.$el):this.$el},_renderFields:function e(){this._super.apply(this,arguments);if(!_.isEmpty(this.fileFields)){this._listenFileFieldEvents()}},_dispose:function e(){this._super();this._unbindModelEvents()},getOverlayKey:function e(){return this.action+"-"+this.model.id},showRecordOverlay:function e(t,n){if(document.activeElement){document.activeElement.blur()}var a=t.link&&n===404?"link":n;var r=i.lang.get(this._statusMessageMap[a]);if(r){this.overlayIsShown=true;l.show(this.getOverlayKey(),{template:"overlay-record",$appendTo:this.overlayTarget,templateOptions:{message:r}})}},hideRecordOverlay:function e(){this.overlayIsShown=false;l.hide(this.getOverlayKey())},bindViewSyncListener:function e(){this.listenTo(this.model,"sync",this.publishModelSyncData)},unbindViewSyncListener:function e(){this.stopListening(this.model,"sync",this.publishModelSyncData)},publishModelSyncData:function e(t,n,i){this.publishSyncData(t.toJSON(),null,_.extend({},i,{responseData:n}))},receiveSyncData:function e(t){var n=void 0;var i=false;if(_.isArray(t)){n=_.find(t,function e(t){return t.id===this.model.id},this)}else if(t&&t.id===this.model.id){n=t}if(n&&!r(this.model,n)){this.model.set(n);i=true}this._isModelUpdated=i},onDataSyncSuccess:function e(t,n,i){if(this.overlayIsShown){this.hideRecordOverlay()}},onDataSyncError:function e(t,n,a){if(t==="read"){this.showRecordOverlay(this.model,a.status);if(i.error.isAccessError(a)){this.publishSyncData(this.model.toJSON(),a);this._clearModel()}}},onDataSyncComplete:function e(t,n,i){},_clearModel:function e(){var t={};_.each(this.model.attributes,function(e,n){if(n!=="id"){t[n]=undefined}});this.model.set(t,{unset:true})},_bindModelEvents:function e(){_.each(this._modelEvents,function e(t,n){this.listenTo(this.model,n,this[t])},this)},_unbindModelEvents:function e(){_.each(this._modelEvents,function e(t,n){this.stopListening(this.model,n,this[t])},this)}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(9);var s=a.extendComponent(r,{_stringType:"search-box",className:"view__search-box",touchOutsideEventName:"touchstart.outside",_toggleSearchEventName:"search:toggle",events:{"textInput .search-query":"onKeyUp","keyup .search-query":"onKeyUp","cut   .search-query":"onChange","paste .search-query":"onChange","change .search-query":"onChange","focusin .search-query":"onFocusIn","blur .search-query":"onBlur","touchstart .search__cancel-btn":function e(){this.onCancelSearch()},"submit form":"onSubmit"},initialize:function e(t){this._super(t);this.timerId=null;this._searchText="";this.$searchBox=null;if($.os.ios){this.$el.find(".search-query").on("textInput",this.onKeyUp,this)}},showSearch:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.skipAnimation,i=n===undefined?false:n;var a=this.$(".view__search").addClass("show-search");var r=i?"css":"animate";a[r]({opacity:1},200);this.hideProgress();this.$searchBox.focus();this.trigger(this._toggleSearchEventName,true)},onCancelSearch:function e(){document.activeElement.blur();this.$searchBox.val("").trigger("change");this.hideSearch()},hideSearch:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.skipAnimation,i=n===undefined?false:n;var a=i?"css":"animate";this.$(".view__search")[a]({opacity:0},200,function e(){$(this).removeClass("show-search")});this.trigger(this._toggleSearchEventName,false)},onAfterRender:function e(){this._super();this.$searchBox=this.$(".search-query")},onAfterShow:function e(){this.hideProgress();if($.os.android){var t=this;_.delay(function(){t.offsetHeight=parseInt(document.body.offsetHeight,10)},600)}},onKeyUp:function e(t){this._clearTimer();var n=this;var i=n.$searchBox.val();var a=t.keyCode===13||t.type==="submit";if(a){document.activeElement.blur()}this.timerId=window.setTimeout(function(){n.search(i);if(i===""&&!a){n.focusSearchBox()}},s.searchDelay)},onChange:function e(t){var n=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=i.triggeredByClearField,r=a===undefined?false:a;if(r){return}window.setTimeout(function(){return n.onKeyUp(t)},200)},onFocusIn:function e(){this._bindTouchOutside();if(this.$el.parents("#content").length){$(document.body).addClass("body--search-onfocus")}if($.os.android){var t=this;_.delay(function(){var e=window.setInterval(function(){t.trigger(t.ACTION_NAME,{name:"app:keyboard:hide"});window.clearInterval(e)},200)},600)}},onBlur:function e(){$(document.body).removeClass("body--search-onfocus")},onSubmit:function e(t){t.preventDefault();this.onChange(t)},resetSearch:function e(){this._clearTimer()},focusSearchBox:function e(){this.$searchBox.get(0).focus()},search:function e(t){if(this._searchText===t){return}this._searchText=t.trim();this.trigger("search:text");this.showProgress()},getPreparedState:function e(){var t={};if(this._searchText){t.q=this._searchText}return t},showProgress:function e(){this.$el.addClass("in-progress")},hideProgress:function e(){this.$el.removeClass("in-progress")},getFieldNames:function e(){return[]},_clearTimer:function e(){if(this.timerId){window.clearTimeout(this.timerId)}},_dispose:function e(){this._clearTimer();this._super()},setPlaceholder:function e(t){var n=i.lang.get("LBL_MOBILE_SEARCH_PLACEHOLDER",null,{searchCriteria:t});this.$searchBox.attr("placeholder",n)},_bindTouchOutside:function e(){var t=this;$(document).one(this.touchOutsideEventName,function(e){var n=$(e.target).parents("."+t.className);if(_.isEmpty(n)){document.activeElement.blur()}})}},{searchDelay:600});e.exports=s},function(e,t,n){"use strict";var i=n(87);var a=n(2);var r=n(8);var s=a.extendComponent(r,{initialize:function e(t){this._super(t);i.registerView(this);this.bindViewSyncListener()},_dispose:function e(){i.unregisterView(this);this.unbindViewSyncListener();this._super()},bindViewSyncListener:function e(){},unbindViewSyncListener:function e(){},publishSyncData:function e(t,n,a){i.triggerViewSync(this,t,n,a)},receiveSyncData:function e(t,n){}});e.exports=s},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=/\s+/;var r=function e(t,n,r,s){if(!r)return true;if((typeof r==="undefined"?"undefined":i(r))==="object"){for(var o in r){t[n].apply(t,[o,r[o]].concat(s))}return false}if(a.test(r)){var l=r.split(a);for(var u=0,c=l.length;u<c;u++){t[n].apply(t,[l[u]].concat(s))}return false}return true};var s=function e(t,n){var i=false;var a=-1;var r=t.length;var s=void 0;switch(n.length){case 0:case 1:case 2:case 3:while(++a<r){i=(s=t[a]).callback.call(s.ctx,n[0],n[1],n[2])===false||i}break;default:while(++a<r){i=(s=t[a]).callback.apply(s.ctx,n)===false||i}}return!i};e.exports={before:function e(t,n,i){if(!r(this,"before",t,[n,i])||!n){return this}this._before=this._before||{};var a=this._before[t]||(this._before[t]=[]);a.push({callback:n,context:i,ctx:i||this});return this},triggerBefore:function e(t){var n=false;if(!this._before){return!n}var i=Array.prototype.slice.call(arguments,1);if(a.test(t)){var r=t.split(a);for(var o=0,l=r.length;o<l;o++){n=!this.triggerBefore.apply(this,[r[o]].concat(i))||n}return!n}var u=this._before[t];var c=this._before.all;if(u){n=s(u,i)===false}if(c){n=s(c,i)===false||n}return!n},offBefore:function e(t,n,i){var a=void 0;var s=void 0;var o=void 0;var l=void 0;if(!this._before||!r(this,"offBefore",t,[n,i])){return this}if(!t&&!n&&!i){this._before=void 0;return this}l=t?[t]:_.keys(this._before);for(var u=0,c=l.length;u<c;u++){t=l[u];o=this._before[t];if(o){this._before[t]=a=[];if(n||i){for(var d=0,f=o.length;d<f;d++){s=o[d];if(n&&n!==s.callback||i&&i!==s.ctx){a.push(s)}}}if(!a.length){delete this._before[t]}}}return this}}},function(module,exports,__webpack_require__){"use strict";var Acl=__webpack_require__(34);var Events=__webpack_require__(29);var Template=__webpack_require__(30);var User=__webpack_require__(19);var Utils=__webpack_require__(15);var Language=__webpack_require__(18);var ViewManager=__webpack_require__(36);var DataManager=__webpack_require__(54);var _keyPrefix="meta:";var _metadata={};var _mdLoaded={};var _syncing=false;function _setHash(e,t){var n=t?"public:":"";SUGAR.App.cache.set(_keyPrefix+n+"hash",e._hash)}function _cacheMeta(e){SUGAR.App.cache.set(_keyPrefix+"data",e)}function _getCachedMeta(){return SUGAR.App.cache.get(_keyPrefix+"data")}function _injectLabels(e,t){_.each(t,function(n,i){if(i!=="_hash"){e[i]=t[i]}});delete e.labels}function _fetchLabels(e,t){var n,i,a;var r=User.getLanguage();n=e.ordered_labels||e.labels;Language.setDefaultLanguage(n["default"]);if(t.language&&n[t.language]){i=t.language}else if(n[r]){i=r}else{i=Language.getDefaultLanguage();if(User.id){User.updateLanguage(i)}}Language.setCurrentLanguage(i);a=Utils.buildUrl(n[i]);SUGAR.App.api.call("read",a,null,{success:function e(n){try{n=_.isString(n)?JSON.parse(n):n}catch(e){SUGAR.App.logger.fatal("Failed to parse labels data: "+e);t.error({code:"sync_failed",label:"ERR_SYNC_FAILED"});return}t.success(n)},error:function e(n){n.code="sync_failed";n.label="ERR_SYNC_FAILED";t.error(n)}})}function _initCustomComponents(e,t){var n=this,i=SUGAR.App.config.platform!=="base"?["base",SUGAR.App.config.platform]:["base"];_.each({layout:"layout",view:"view",fieldTemplate:"field",data:"data"},function(a,r){if(n._metaTypeIsSeparatedByPlatform(e,r,i)){_.each(i,function(i){var s=e[r+"s"][i];n._sortAndDeclareComponents(s,a,t,i)})}_.each(e[r+"s"],function(e,n){if(a==="view"&&e.templates){_.each(e.templates,function(e,i){var a=n===i;i=a?i:n+"."+i;Template.setView(i,t,e,true)})}if(a==="layout"&&e.templates){_.each(e.templates,function(e,i){i=n===i?i:n+"."+i;Template.setLayout(i,t,e,true)})}if(a==="field"&&e.templates){_.each(e.templates,function(e,i){Template.setField(n,i,t,e,true)})}})},this)}module.exports={fieldTypeMap:{varchar:"text",datetime:"datetimecombo",multienum:"enum",text:"textarea",decimal:"float"},_patchMetadata:function e(t,n){if(!n||n._patched===true){return n}_.each(n.views,function(e){if(e.meta){_.each(e.meta.panels,function(e){e.fields=this._patchFields(t,n,e.fields)},this)}},this);n._patched=true;return n},_patchFields:function e(t,n,i){var a=this;_.each(i,function(e,r){var s=_.isString(e)?e:e.name;var o=n.fields[s];if(e.fields){e.fields=a._patchFields(t,n,e.fields);return}if(!_.isEmpty(o)){if(_.isString(e)){e={name:e}}if(_.isObject(e.displayParams)){_.extend(e,e.displayParams);delete e.displayParams}e.type=e.type||o.custom_type||o.type||"base";e.type=a.fieldTypeMap[e.type]||e.type;e.label=e.label||o.vname||e.name;i[r]=e}else{if(e===""){e={view:"detail"};i[r]=e}}},this);return i},_sortControllers:function _sortControllers(type,components,module){var updated={},nameMap={},entries={},updateWeights=function e(t){var n=t.controller;if(t.type==="base"){entries["Base"+Utils.capitalize(type)].weight=-99999}if(_.isObject(n)&&_.isString(n.extendsFrom)&&entries[n.extendsFrom]&&!updated[n.extendsFrom]){entries[n.extendsFrom].weight--;updated[n.extendsFrom]=true;e(entries[n.extendsFrom])}};_.each(components,function(entry,name){if(entry.controller){var controller=entry.controller,className=(module||"")+Utils.capitalizeHyphenated(name)+Utils.capitalize(type);nameMap[className]=name;if(_.isString(controller)){try{controller=eval("["+controller+"][0]")}catch(e){SUGAR.App.logger.error("Failed to eval view controller for "+className+": "+e+":\n"+entry.controller)}}else{var emptyController=type!=="field"&&Object.getOwnPropertyNames(controller).length===1&&controller.hasOwnProperty("extendsFrom");if(emptyController){SUGAR.App.logger.warn("Instead of creating an empty js controller `"+className+"` and specify the parent with extendsFrom, please use `type` property in the metadata `"+name+"`, to specify controller to use. It will allow you to delete your empty controllers and save memory.")}}entries[className]={type:name,controller:controller,weight:0}}});_.each(entries,function(e,t){var n=e.controller,i;if(_.isObject(n)&&_.isString(n.extendsFrom)){i="Custom"+n.extendsFrom;if(i in entries&&t!=i){n.extendsFrom=i}}});_.each(entries,function(e){updated={};updateWeights(e)});return _.sortBy(entries,"weight")},_sortAndDeclareComponents:function e(t,n,i,a){var r,s=this;if(!_.isUndefined(t)&&t){r=s._sortControllers(n,t,i);if(n==="data"){var o,l;_.each(r,function(e){if(e.type==="model"){o=e.controller}else if(e.type==="collection"){l=e.controller}});DataManager.declareModelClass(i,null,a,o);DataManager.declareCollectionClass(i,a,l)}else{_.each(r,function(e){ViewManager.declareComponent(n,e.type,i,e.controller,true,a)})}}},_metaTypeIsSeparatedByPlatform:function e(t,n,i){if(!_.isUndefined(t[n+"s"])){for(var a=0;a<i.length;a++){if(!_.isUndefined(t[n+"s"][i[a]])){if(_.isUndefined(t[n+"s"][i[a]].controller)){return true}}}}return false},_declareClasses:function e(t){var n=this,i=SUGAR.App.config.platform!=="base"?["base",SUGAR.App.config.platform]:["base"];_.each(["field","view","layout","data"],function(e){var a;if(n._metaTypeIsSeparatedByPlatform(t,e,i)){_.each(i,function(i){a=t[e+"s"][i];n._sortAndDeclareComponents(a,e,null,i)},this)}},this);_.each(t.modules,function(e,t){_initCustomComponents.call(this,e,t)},this)},getModules:function e(){return _metadata.modules},getHiddenSubpanels:function e(){return _metadata.hidden_subpanels},getModule:function e(t,n){var i=this.getModules();if(i)i=i[t];if(i&&n)i=i[n];return i},getRelationship:function e(t){return _metadata.relationships?_metadata.relationships[t]:null},getField:function e(t){t=t||{};if(!t.module){throw new Error("Cannot get vardefs without a module")}var n=this.getModule(t.module,"fields");if(n&&t.name){return n[t.name]}return n},getView:function e(t,n,i){if(!t&&!n){return _metadata.views}var a=this.getModule(t,"views");if(n){if(a&&a[n]&&a[n].meta!==void 0){a=a[n].meta}else if(i){a=this.getModule(i,"views");a=a&&a[n]?a[n].meta:null}else if(_metadata.views&&_metadata.views[n]){a=_metadata.views[n].meta}else{a=null}}return a?this.copy(a,{module:t,view:n}):a},getLayout:function e(t,n,i){if(!t&&!n){return _metadata.layouts}var a=this.getModule(t,"layouts");if(n){if(a&&a[n]&&a[n].meta!==void 0){a=a[n].meta}else if(i){a=this.getModule(i,"layouts");a=a&&a[n]?a[n].meta:null}else if(_metadata.layouts&&_metadata.layouts[n]){a=_metadata.layouts[n].meta}else{a=null}}return a?this.copy(a,{module:t,layout:n}):a},getModuleNames:function e(t){var n=["enabled","!enabled","visible","!visible","display_tab","!display_tab","show_subpanels","!show_subpanels","quick_create","!quick_create"];t=t||{};var i=[];var a=_.isUndefined(_metadata.modules_info);if(a){i=_.clone(User.get("module_list"));if(t.access){i=_.filter(i,function(e){return Acl.hasAccess(t.access,e)})}return i||[]}var r,s=false;if(t.filter){if(!_.isArray(t.filter)){t.filter=[t.filter]}r=[];_.each(t.filter,function(e){if(e&&_.indexOf(n,e)>-1){r.push(e);s=e==="display_tab"}else if(e){SUGAR.App.logger.warn("Can't filter getModuleNames by "+e)}});if(_.isEmpty(r)){r=undefined}}i=_.chain(_metadata.modules_info).keys().without("_hash").value();if(r){_.each(r,function(e){var n=e.charAt(0)==="!";if(n){var a=this.getModuleNames({filter:e.substring(1),access:t.access});i=_.difference(i,a)}else{i=_.filter(i,function(t){return _metadata.modules_info[t][e]})}},this)}if(!_.isEmpty(User.get("module_list"))){if(s){i=_.intersection(User.get("module_list"),i)}else if(!r){i=_.union(User.get("module_list"),i)}}if(t.access){i=_.filter(i,function(e){return Acl.hasAccess(t.access,e)})}return i},getStrings:function e(t){return _metadata[t]||{}},getFullModuleList:function e(){return _metadata.full_module_list||{}},getConfig:function e(){return _metadata.config||{}},getBaseCurrencyId:function e(){return"-99"},getCurrency:function e(t){return this.getCurrencies()[t]},getCurrencies:function e(){return _metadata.currencies||{}},getLogoUrl:function e(){return _metadata.logo_url},getServerInfo:function e(){return _metadata.server_info||{}},getModuleTabMap:function e(){return _metadata.module_tab_map||{}},getTabMappedModule:function e(t){var n=this.getModuleTabMap();return n[t]||t},getFilterOperators:function e(t){var n=_metadata.filters&&_metadata.filters.operators&&_metadata.filters.operators.meta||{};var i=t&&this.getModule(t,"filters");var a=i&&i.operators&&i.operators.meta;if(a){return _.extend({},n,a)}return n},get:function e(){return _metadata},getEditableDropdownFilter:function e(t){var n=_metadata.editable_dropdown_filters;if(n&&n[t]){return this.copy(n[t])}return{}},copy:function e(t,n){return Utils.deepCopy(t)},set:function e(t,n,i){_.each(t.modules,function(e,t){this._patchMetadata(t,e)},this);this._declareClasses(t);if(t.config){SUGAR.App.setConfig(t.config)}Template.set(t,t._hash&&t._hash!=this.getHash(n));if(!_.isEmpty(t._hash))_setHash(t,n);if(!i){var a=t._override_values||[];delete t._override_values;_.each(t,function(e,t){_metadata[t]=_.isObject(e)&&!_.contains(a,t)?_.extend(_metadata[t]||{},e):e})}else{_metadata=t}if(SUGAR.App.config.cacheMeta&&!n){_cacheMeta(_metadata)}if(SUGAR.App.config.env!="prod"){this._dev_data=_metadata}},getHash:function e(t){var n=t?_keyPrefix+"public:hash":_keyPrefix+"hash";return SUGAR.App.cache.get(n)||_metadata._hash||""},sync:function e(t,n){_syncing=true;n=n||{};n.params=n.params||{};var i=this,a=n.metadataTypes||(n.getPublic?SUGAR.App.config.publicMetadataTypes:SUGAR.App.config.metadataTypes)||[],r=function e(a){SUGAR.App.logger.debug("Failed fetching metadata");if(!n.getPublic){SUGAR.App.error.handleHttpError(a)}t.call(i,a)},s=t;t=function e(t){_syncing=false;if(_.isFunction(s))s(t)};SUGAR.App.api.getMetadata({types:a,callbacks:{success:function e(s){var o;n=n||{};if(!_.isEmpty(s)){SUGAR.App.logger.debug("Updating metadata");if(_mdLoaded[n.getPublic?"public:md":"md"]&&i.getHash(n.getPublic)==s._hash&&!n.forceRefresh){SUGAR.App.logger.debug("Skipping update as metadata hash matches");return t.call(i)}if(_.isEmpty(a)||_.include(a,"server_info")&&!n.getPublic){o=SUGAR.App.isServerCompatible(s.server_info);if(o!==true){return t(o)}}_mdLoaded[n.getPublic?"public:md":"md"]=true;if(s.jssource){i._loadJSSource(s,n,t,r,i)}else{if(s.labels||s.ordered_labels){_fetchLabels(s,{language:n.language,success:function e(a){_injectLabels(s,a);i.set(s,n.getPublic);t.call(i)},error:r})}else{t.call(i)}}}else{t.call(i,{code:"sync_failed",label:"ERR_SYNC_FAILED"})}},error:r},public:n.getPublic,params:n.params})},isSyncing:function e(){return _syncing},_loadJSSource:function e(t,n,i,a,r){var s,o=this._checkJSSourceUpdated(t,!!n.getPublic);if(o==="reload"){return Utils.hardRefresh()}else if(o){SUGAR.jssource=false;s=document.createElement("script");s.src=Utils.buildUrl(t.jssource);document.head.appendChild(s)}async.parallel([function(e){if(o){Utils.doWhen("SUGAR.jssource",function(){r._declareClasses(SUGAR.jssource);e()})}else{e()}},function(e){_fetchLabels(t,{language:n.language,success:function i(a){_injectLabels(t,a);r.set(t,n.getPublic);e()},error:function t(){a.apply(r,arguments);e()}})}],function(){if(i){i.call(r)}})},_checkJSSourceUpdated:function e(t,n){if(n){if(this._publicJSSourceFile){if(this._publicJSSourceFile!=t.jssource){return"reload"}return false}else{this._publicJSSourceFile=t.jssource;return true}}if(t.jssource_public&&this._publicJSSourceFile&&t.jssource_public!=this._publicJSSourceFile){Utils.hardRefresh();return"reload"}if(this._jsSourceFile){if(this._jsSourceFile!=t.jssource){return"reload"}return false}this._jsSourceFile=t.jssource;return true},init:function e(){_.bindAll(this,"storageHandler");window.addEventListener("storage",this.storageHandler);if(SUGAR.App.config.cacheMeta){var t=_getCachedMeta();if(t)this.set(t,false)}Events.on("cache:clean",function(e){e([_keyPrefix+"public:hash",_keyPrefix+"hash",_keyPrefix+"data"])})},storageHandler:function e(){if(!_syncing&&(this.getHash()!=_metadata._hash&&_mdLoaded.md||SUGAR.App.api.getUserprefHash()&&User.get("_hash")&&SUGAR.App.api.getUserprefHash()!=User.get("_hash"))){_syncing=true;_mdLoaded.md=false;SUGAR.App.sync({getPublic:!SUGAR.App.api.isAuthenticated()})}},clearCache:function e(){SUGAR.App.cache.cut(_keyPrefix+"public:hash");SUGAR.App.cache.cut(_keyPrefix+"hash");SUGAR.App.cache.cut(_keyPrefix+"data")},reset:function e(){_metadata={};this.clearCache()}}},function(e,t,n){"use strict";var i=n(45);var a=i.extend({tpl:'<div class="alert alert-block">{{#if title}}<strong>{{title}}</strong>{{/if}}{{#each messages}}{{./this}}{{/each}}</div>',render:function e(){var t=Handlebars.compile(this.tpl);this.$el.html(t(this.options));this.$(".alert").addClass("alert-"+this.options.level)}});e.exports=a},function(e,t,n){"use strict";var i=n(76);var a=n(15);var r=n(36);var s={};var o={preventAnyAlert:false,init:function e(){this.$alerts=$("#alerts");this.klass=i;if(SUGAR.App.config){this.$alerts=$(SUGAR.App.config.alertsEl).length?$(SUGAR.App.config.alertsEl):this.$alerts;this.klass=r[a.capitalize(SUGAR.App.config.appId)+"AlertView"]||r.views[a.capitalize(SUGAR.App.config.platform)+"AlertView"]||r.views.BaseAlertView||r[a.capitalize(SUGAR.App.config.platform)+"AlertView"]||this.klass}_.each(this.$alerts.find(".alert-wrapper"),function(e,t){var n="init-"+t;s[n]=this._create(n,{el:e})},this)},show:function e(t,n){if(!this.$alerts||!this.$alerts.length){return null}if(this.preventAnyAlert)return null;n=_.extend({level:"info",autoClose:false},n||{});if(n.level==="confirmation"){this.dismissAll();this.preventAnyAlert=true}if(n.messages){n.messages=_.isString(n.messages)?[n.messages]:n.messages}var i=s[t];if(!i){i=this._create(t,n);s[t]=i}i.level=n.level;if(!!n.autoClose)this._setAutoCloseTimer(i,n.onAutoClose,n.autoCloseDelay);i.render();return i},_create:function e(t,n){var i=new this.klass(n);i.key=t;i.$el.prependTo(this.$alerts);return i},_setAutoCloseTimer:function e(t,n,i){if(t.timerId)clearTimeout(t.timerId);t.timerId=setTimeout(_.bind(function(){if(_.isFunction(n)){n(t.key)}this.dismiss(t.key)},this),i||SUGAR.App.config.alertAutoCloseDelay||5e3)},dismiss:function e(t,n){this.preventAnyAlert=false;var i=s[t];if(!i)return;if(i.timerId)clearTimeout(i.timerId);i.dispose();delete s[t]},dismissAll:function e(t,n){_.each(s,function(e,i){if(!t||e.level==t){this.dismiss(i,n)}},this)},get:function e(t){return s[t]},getAll:function e(){return s}};e.exports=o},function(e,t,n){"use strict";var i=n(34);var a=n(45);var r=n(35);var s=n(18);var o=n(30);var l=a.extend({initialize:function e(t){r.attach(this,"view");a.prototype.initialize.call(this,t);this.type=t.type;this.name=t.name||this.type;this.action=t.meta&&t.meta.action?t.meta.action:this.name;this._loadTemplate(t);this.fields={};this.nestedFields={};this.fallbackFieldTemplate=this.fallbackFieldTemplate||"detail";this.layout=this.options.layout;this.primary=t.primary;this._setLabels();if(this.dataView){this.context.set("dataView",this.dataView)}else{this.context.addFields(this.getFieldNames())}SUGAR.App.events.on("app:locale:change",function(){this._setLabels()},this)},_getTemplate:function e(t,n){return o.getView(t,this.module)||o.getView(t,n)},_loadTemplate:function e(t){var n,i;t=t||{};if(t.template){n=t.template;i=null}else if(this.meta&&this.meta.template){n=this._getTemplate(this.meta.template,t.loadModule);i=this.meta.template}else{n=this._getTemplate(this.name,t.loadModule);i=this.name}if(!n){if(this.meta&&this.meta.type){n=this._getTemplate(this.meta.type,t.loadModule);i=this.meta.type}else{n=o.empty;i=""}}this.tplName=i;this.template=n},_renderHtml:function e(t,n){if(this.template){try{this.$el.html(this.template(t||this,n||this.options.templateOptions))}catch(e){SUGAR.App.logger.error("Failed to render "+this+"\n"+e);SUGAR.App.error.handleRenderError(this,"_renderHtml")}}},_renderFields:function e(){var t=this;var n={};this.$("span[sfuuid]").each(function(){var e=$(this),t=e.attr("sfuuid");n[t]=e});_.each(this.fields,function(e){t._renderField(e,n[e.sfId])})},_renderField:function e(t,n){t.setElement(n||this.$("span[sfuuid='"+t.sfId+"']"));try{t.render()}catch(e){SUGAR.App.logger.error("Failed to render "+t+" on "+this+"\n"+e);SUGAR.App.error.handleRenderError(this,"_renderField",t)}},_render:function e(){if(i.hasAccessToModel(this.action,this.model)){this._disposeFields();this._renderHtml();this._renderFields()}else{SUGAR.App.logger.info("Current user does not have access to this module view. name: "+this.name+" module: "+this.module);if(this.primary){SUGAR.App.error.handleRenderError(this,"view_render_denied")}}return this},_setLabels:function e(){this.modulePlural=s.getAppListStrings("moduleList")[this.module]||this.module;this.moduleSingular=s.getAppListStrings("moduleListSingular")[this.module]||this.modulePlural},loadData:function e(t){if(i.hasAccess("read",this.module)){this.context.loadData(t)}},getFieldNames:function e(t){var n=[];t=t||this.context.get("module");if(this.meta&&this.meta.panels){n=_.reduce(_.map(this.meta.panels,function(e){var t=_.flatten(_.compact(_.pluck(e.fields,"fields")));return _.pluck(e.fields,"name").concat(_.pluck(t,"name")).concat(_.flatten(_.compact(_.pluck(e.fields,"related_fields"))))}),function(e,t){return e.concat(t)},[])}n=_.compact(_.uniq(n));var i=SUGAR.App.metadata.getModule(t,"fields");if(i){n=_.reject(n,function(e){return _.isUndefined(i[e])});var a=[];_.each(n,function(e){if(i[e].type=="relate"){a.push(i[e].id_name)}else if(i[e].type=="parent"){a.push(i[e].id_name);a.push(i[e].type_name)}if(_.isArray(i[e].fields)){a=a.concat(i[e].fields)}});n=_.union(n,a)}return n},getFields:function e(t,n){var i={};var a=this.getFieldNames(t);_.each(a,function(e){var t=this.getField(e,n);if(t){i[e]=t.def}},this);return i},getField:function e(t,n){return _.find(_.extend({},this.fields,this.nestedFields),function(e){return e.name==t&&(!n||e.model==n)})},closestComponent:function e(t){if(!this.layout){return}if(this.layout.name===t){return this.layout}return this.layout.closestComponent(t)},_show:function e(){a.prototype._show.call(this);_.each(_.extend({},this.fields,this.nestedFields),function(e){e.updateVisibleState(true)})},_hide:function e(){a.prototype._hide.call(this);_.each(_.extend({},this.fields,this.nestedFields),function(e){e.updateVisibleState(true)})},_dispose:function e(){r.detach(this,"view");this._disposeFields();a.prototype._dispose.call(this)},_disposeFields:function e(){_.each(this.fields,function(e){e.dispose()});this.fields={};this.nestedFields={}},toString:function e(){return"view-"+this.name+"-"+a.prototype.toString.call(this)},getFieldMeta:function e(t,n){var i=_.flatten(_.pluck(this.meta.panels,"fields")),a=_.find(i,function(e){return e.name===t});if(!a&&n){a=_.find(_.flatten(_.pluck(i,"fields")),function(e){return e&&e.name===t});if(a){a._isChild=true}}return a},setFieldMeta:function e(t,n){_.each(this.meta.panels,function(e){_.each(e.fields,function(i,a){if(i.name===t){e.fields[a]=_.extend(i,n)}else if(_.isArray(i.fields)){_.each(i.fields,function(e,a){if(e.name===t){i.fields[a]=_.extend(e,n)}})}})})}});e.exports=l},function(e,t){var n=e.exports={};var i;var a;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=r}}catch(e){i=r}try{if(typeof clearTimeout==="function"){a=clearTimeout}else{a=s}}catch(e){a=s}})();function o(e){if(i===setTimeout){return setTimeout(e,0)}if((i===r||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(a===clearTimeout){return clearTimeout(e)}if((a===s||!a)&&clearTimeout){a=clearTimeout;return clearTimeout(e)}try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}var u=[];var c=false;var d;var f=-1;function h(){if(!c||!d){return}c=false;if(d.length){u=d.concat(u)}else{f=-1}if(u.length){p()}}function p(){if(c){return}var e=o(h);c=true;var t=u.length;while(t){d=u;u=[];while(++f<t){if(d){d[f].run()}}f=-1;t=u.length}d=null;c=false;l(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}u.push(new m(e,t));if(u.length===1&&!c){o(p)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function _(){}n.on=_;n.addListener=_;n.once=_;n.off=_;n.removeListener=_;n.removeAllListeners=_;n.emit=_;n.prependListener=_;n.prependOnceListener=_;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},function(e,t,n){"use strict";var i=SUGAR.App;var a=function e(t,n){var i=void 0;if(t){i=_.every(n.criteria,function(e){return e==="test_passed"?t.testing_enabled&&t.test_passed:t[e]});t._isValid=i}var a=i?n.success:n.error;a(t)};e.exports={_cacheKey:"connectors",checkConnector:function e(t){var n=t.name;var r=i.cache.get(this._cacheKey);var s=r&&r[n];var o=false;if(s){a(s,t);o=s._isValid}if(!o){this.getConnectors(function(e){return a(e[n],t)})}},getConnectorModuleFieldMapping:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};n=i.cache.get(this._cacheKey)[n];var a=_.getNested(n,"field_mapping.beans",{})[t]||{};return a},getConnectors:function e(t){var n=this;var a=i.api.buildURL("connectors");i.api.call("GET",a,{},{success:function e(a){var r=_.omit(a.connectors,"_hash")||{};_.each(r,function(e){e.connectorHash=a._hash});i.cache.set(n._cacheKey,r);t(r)}})},cleanCache:function e(){i.cache.cut(this._cacheKey)}}},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={get:function e(t,n){var a=t.baseType;var r=t.module||t.parentModule;var s=n&&n.model;var o=t.link;var l=t.create;var u=t.isLoggingCall;var c=void 0;switch(a){case"errorEmulation":c={title:"Error Emulation",save:false,back:true};break;case"offlineSettings":c={title:i.lang.get("LBL_OFFLINE_DEBUG_SETTINGS"),mainMenu:true,back:true};break;case"offlineStats":c={title:i.lang.get("LBL_BULK_LOAD_OFFLINE_RECORDS"),mainMenu:true,back:true};break;case"offlineDataGeneration":c={title:"Data Generation",mainMenu:true,back:true};break;case"offline":c={title:i.lang.get("LBL_OFFLINE_MENU_SETTINGS"),mainMenu:true,back:true};break;case"about":c={title:i.lang.get("LNK_ABOUT"),mainMenu:i.api.isAuthenticated()&&i.isSynced,rightMenu:false,back:true};break;case"settings":c={title:i.lang.get("LNK_SETTINGS"),save:true,cancel:true};break;case"detail":if(r==="TxLog"){c={title:i.lang.get("LBL_TX_LOG_DETAIL"),cancel:true}}else{var d=i.lang.getModuleName(r)||r;var f=o?i.lang.get("LBL_RELATED_MODULE",r,d):d;var h=!i.isTablet||i.isTablet&&!o;c={title:f,mainMenu:true,rightMenu:true,back:h}}break;case"edit":{var p=Boolean(o);var m=i.acl.hasAccess("edit",r)&&(s?s.hasEditAccess():true);if(p){r=i.data.getRelatedModule(t.parentModule||r,o)}var _=void 0;var g=i.lang.getModuleName(r)||r;c={save:true,cancel:true,mainMenu:false};if(l){var v=u;_=p&&!v?i.lang.get("LBL_CREATE_RELATED",r,g):i.lang.get("LBL_CREATE_MODULE",r,g)}else if(m){_=p?i.lang.get("LBL_EDIT_RELATED",r,g):i.lang.get("LBL_EDIT",r,g)}else{_=p?i.lang.get("LBL_RELATED_MODULE",r,g):g}c.title=_;break}case"list":if(r==="Activities"){c={mainMenu:true,title:i.lang.getAppString("LBL_ACTIVITY_STREAM"),offlineEnabled:i.offlineEnabled}}else if(r==="Search"){c={title:i.lang.get("LBL_MOBILE_GLOBAL_SEARCH"),mainMenu:true,rightMenu:true,search:true}}else if(r==="TxLog"){c={title:i.lang.get("LBL_TX_LOG"),mainMenu:true,back:true}}else{var b=i.lang.getModuleName(r,{plural:true})||r;var y=false;var x=b||r;if(o){x=i.lang.get("LBL_RELATED_MODULE_PLURAL",r,b);y=true}c={title:x,back:y,mainMenu:true,rightMenu:true};if(r==="Teams"){c.rightMenu=false;c.save=false}}break;case"selection-list":c={title:i.lang.get("LBL_ASSOC",r,i.lang.getModuleName(r)||r),save:i.data.canHaveMany(t.parentModule,o),cancel:true,search:true,back:false,rightMenu:false};break}return c}}},function(e,t,n){"use strict";var i=n(117);var a=n(7);var r=n(2);var s=n(122);var o=SUGAR.App;var l=n(81);e.exports=_.extend({layoutCacheSize:10,_noCacheLayouts:["associate","pickerlist"],_dynamicLayout:null,init:function e(t){this.rootLayout={el:t.rootHolder,layoutRef:null};this.recordLayout={el:t.recordHolder,layoutRef:null};this.layoutCache=new s;return this},_loadScreen:function e(t){var n=this._getLayoutDefs(t);if(!t.isDynamic){this.disposeDynamicLayout({disposeAll:true})}o.activeComponents.closeAll();var i=n.length===2||n[0].appendTo===this.recordLayout;$(document.body).toggleClass("show-content-child",i);this._updateMainMenuVisibility();var a=this._buildLayoutsFromDef(n,t);var r=t.isDynamic&&t.layouts[0]&&t.layouts[0].fullScreen;if(o.isTablet&&this.getRecordLayout()&&!i&&!r){this._disposeLayout(this.getRecordLayout())}this._afterLoad(t);return a},getLayouts:function e(){var t=[];if(this.getRootLayout()){t.push(this.getRootLayout())}if(this.getRecordLayout()){t.push(this.getRecordLayout())}if(o.isTablet){return t}return t.length?[_.last(t)]:[]},onAppPause:function e(){o.activeComponents.closeAll();_.invoke(this.getLayouts(),"onAppPause")},onAppResume:function e(){var t=(new Date).getTime()-o.nomad.timePaused;_.each(this.getLayouts(),function(e){if(t>o.config.ui.refreshOnResumeTimeout&&e.name!=="edit"){e.context.resetLoadFlag();e.loadData()}e.onAppResume()})},_getRootLayoutDef:function e(t){var n=void 0;var i=void 0;if(_.isEmpty(t.layouts)){switch(t.root){case"Recents":case"Search":i="list";n={mixed:true,module:"Search",views:r.getViewClass({baseType:i,module:"Search"})};break;case"Offline":if(t.module==="TxLog"){i="list";n={module:"TxLog",views:r.getViewClass({baseType:i,module:"TxLog"})}}else{i=t.module||"offline";n={module:"Offline",create:true,cacheDisabled:true,views:r.getViewClass({baseType:i})}}break;case"About":case"Settings":case"Login":i=t.root.toLowerCase();n={module:t.root,views:r.getViewClass({baseType:i}),create:true,cacheDisabled:true};if(t.root==="Login"){n.headerConfig={enabled:false}}break;case"ErrorEmulation":i="errorEmulation";n={views:r.getViewClass({baseType:i})};break;default:if(t.root==="Dashboards"||t.dashboardId){n=this._getDashboardLayoutParams(t,true);if(!n){return null}i=n.baseType}else if(t.link){var a=o.data.getRelatedModule(t.parentModule,t.link);i="list";n={views:r.getViewClass({baseType:i,module:a}),link:t.link,module:a,parentModelId:t.parentModelId,parentModule:t.parentModule,subType:"relationships"}}else{i="list";n={module:t.module,views:r.getViewClass({baseType:i,module:t.module})}}break}}else{n=t.layouts[0]}if(n){n.appendTo=this.rootLayout;n.baseType=i||n.baseType}return n},_getRecordLayoutDef:function e(t){var n=void 0;var i=t.action;var s=void 0;if(_.isEmpty(t.layouts)){if(t.module==="Dashboards"||!(t.modelId||t.dashboardId||i==="create"||i==="associate")){return null}if(t.link){var l=o.data.getRelatedModule(t.parentModule,t.link);if(i==="create"){s="edit";n={link:t.link,parentModule:t.parentModule,parentModelId:t.parentModelId,create:true,views:r.getViewClass({baseType:s,module:l})}}else if(i==="associate"){s="selection-list";var u=t.parentModule;var c=new a({module:l}).prepare();n={link:t.link,views:r.getViewClass({baseType:s,module:l}),context:c,cacheDisabled:true,multiselect:o.data.canHaveMany(u,t.link)}}else{s=i?"edit":"detail";n={link:t.link,parentModule:t.parentModule,parentModelId:t.parentModelId,modelId:t.modelId,views:r.getViewClass({baseType:s,module:l})}}}else if(t.root==="Dashboards"||t.dashboardId){n=this._getDashboardLayoutParams(t,false);if(!n){return null}n.animateRender=false;s=n.baseType}else if(i==="create"){s="edit";n={module:t.module,create:true,views:r.getViewClass({baseType:s,module:t.module})}}else{s=i?"edit":"detail";n={views:r.getViewClass({baseType:s,module:t.module}),module:t.module,modelId:t.modelId}}}else if(t.layouts.length===2){n=t.layouts[1]}else{return null}n.baseType=s||n.baseType;n.appendTo=this._getRecordLayoutContainer();if(_.isUndefined(n.animateRender)){n.animateRender=true}return n},_getLayoutDefs:function e(t){if(!_.isEmpty(t.layouts)||!_.isEmpty(t.views)){t.layouts=this._getLayoutDefsFromShortcuts(t)}var n=[];var i=this._getRootLayoutDef(t);var a=this._getRecordLayoutDef(t);if(i){i.isRootScreen=true;i.isRecordVisible=Boolean(a);n.push(i)}if(a){a.isRecordScreen=true;n.push(a)}if(!o.isTablet){n=[_.last(n)]}if(t.data){_.each(n,function(e){return e.data=e.data||t.data})}return n},_getLayoutDefsFromShortcuts:function e(t){var n=t.views?[{views:t.views}]:t.layouts;if(!_.isArray(n)){n=[n]}var a=_.map(n,function(e){var n=void 0;if(_.isFunction(e)){n={type:e,controller:e}}else{n=_.clone(e);if(_.isEmpty(e.name)&&_.isEmpty(e.type)){n.type=i;n.controller=i}if(e.baseType&&!e.views){n.views=r.getViewClass({baseType:e.baseType,module:e.module});n.baseType=e.baseType}}if(t.isDynamic){_.defaults(n,{isDynamic:true,animateRender:true,appendTo:"record"})}return n});if(_.first(a).appendTo==="record"){a.unshift(null)}return a},_afterLoad:function e(t){this._checkAlerts()},_updateMainMenuVisibility:function e(){var t=o.nomad.mainMenu;var n=o.api.isAuthenticated();if(t){t.$el.toggle(n)}},_getLayout:function e(t){var n=this._getLayoutCacheId(t);var i=this.layoutCache.get(n);if(!i){var a=t.context||this._getPreparedContext(t);return o.view.createLayout(_.extend(_.omit(t,"appendTo","controller"),{context:a,def:t}))}i.options.def=t;return i},_attachLayout:function e(t){var n=this;var i=t.options.def;var a=i.appendTo;var r=i.appendTo.layoutRef;var s=function e(){if(r&&!o.isTablet&&$.os.android){r.$el.hideElement()}n._handleLayoutFullScreen(t,r);a.layoutRef=t;t.$el.showElement();$(a.el).append(t.$el);_.each([n.rootLayout,n.recordLayout],function(e){if(e!==t.getDefinition().appendTo&&e.layoutRef===t){e.layoutRef=null}})};if(!r||r&&r!==t){if(t.getDefinition().animateRender){var l=t.getOverlay$El();if(!_.isEmpty(l)){l.showElement()}}s();this._renderLayout(t)}this._renderHeader(i,t);t.onAfterShow();return r},_renderLayout:function e(t){if(t.cached){t.renderFromCache({animation:{enabled:t.getDefinition().animateRender,preAnimationDelay:0,animationLength:200}})}else{t.render({animation:this._getFreshRenderAnimationOptions(t)})}},_renderHeader:function e(t,n){var i=this;if(n._headerAttached){return}n._headerAttached=true;var a=r.getViewClass({baseType:t.baseType==="edit"?"headerEdit":"header",module:t.module});var s=this._buildHeaderConfig(n,{headerClass:a});if(!s.enabled){return}var l={name:a,module:t.module,config:s,model:n._components[0].model,context:n._components[0].context};if(s.rightMenu){_.extend(l,{parentView:_.first(n._components),viewSubType:t.subType})}var u=o.view.createView(l);u.render();n._components.unshift(u);n._header=u;n.$el.prepend(u.$el);u.onAfterShow();n.listenTo(u,"component:action",function(e){n.handleComponentAction(u,e)});u.listenTo(n.model,"data:sync:complete",function(){var e=i._buildHeaderConfig(n,{headerClass:a,model:n.model});u.config.title=e.title;u.config.subtitle=e.subtitle;u.$(".header-title").text(u.config.title);u.$(".header-subtitle").text(u.config.subtitle)})},_buildHeaderConfig:function e(t,n){var i=n&&n.headerClass;var a=l.get(t.options,n)||{};_.each(t._components,function(e){if(e.headerConfig){a=_.isFunction(e.headerConfig)?e.headerConfig(a):_.extend(a,e.headerConfig)}});_.extend(a,t.options.headerConfig);a.enabled=_.isUndefined(a.enabled)?true:_.isFunction(a.enabled)?a.enabled():Boolean(a.enabled);if(!a.enabled){return a}a.offlineEnabled=o.offlineEnabled;if(a.buttons){var r=a,s=r.buttons;var u={cancelLabel:_.getNested(s,"cancel.label"),saveLabel:_.getNested(s,"save.label")};if(s){_.each(i.getBaseButtonNames(),function(e){if(!_.isUndefined(s[e])){u[e]=Boolean(s[e])}})}_.each(u,function(e,t){if(!_.isUndefined(e)){a[t]=e}})}return a},_getFreshRenderAnimationOptions:function e(t){return{enabled:t.getDefinition().animateRender,preAnimationDelay:200,animationLength:200}},_cacheLayout:function e(t){var n=t.options.def;var i=this._getLayoutCacheId(n);var a=this.layoutCache.get(i);if(!this._canCache(n)){return}if(a){this.layoutCache.remove(a);this.layoutCache.push(i,a)}else{t.cached=true;this.layoutCache.push(i,t)}if(this.layoutCache.count()>this.layoutCacheSize){var r=this.layoutCache.shift();this._disposeLayout(r,{hardDispose:true})}},_canCache:function e(t){var n=t.cacheDisabled||t.isDynamic||t.baseType==="edit"&&t.create===true||_.contains(this._noCacheLayouts,t.subType);return!n},_disposeLayout:function e(t,n){if(t.disposed===true){o.logger.debug("Trying to dispose already disposed layout "+t.name+".");return}n=n||{};t.onDetachFromDom();if(t.getDefinition().appendTo.layoutRef===t){t.getDefinition().appendTo.layoutRef=null}var i=this._dynamicLayout&&this._dynamicLayout.prevLayout===t;if((i||t.cached)&&!n.hardDispose){if(n.detachDelay){var a=this;_.delay(function(){if(!(_.contains(a.getLayouts(),t)||t.disposed)){t.$el.detach()}},n.detachDelay)}else{t.$el.detach()}}else{delete t.prevLayout;t.dispose()}},_getPreparedContext:function e(t){var n=["appendTo","animateRender","baseType","cacheDisabled","context","controller","headerConfig","isDynamic","isRootScreen","isRecordScreen","controller","type","views"];var i=new a(_.omit(t,n));var r=Boolean(t.module||t.parentModule||t.mixed);i.prepare();if(!r){i.setFetch(false)}if(t.parentModelId){this.layoutCache.iterate(function(e){var n=e.context.get("model");if(n&&t.parentModelId===n.id){i.set("parentModel",n)}})}return i},_buildLayoutsFromDef:function e(t,n){var i=[];var a=n&&n.propagatingData;_.each(t,function e(t){var n=this._getLayout(t);var r=n.model;if(r&&a&&a.id===r.id&&_.contains(["detail","edit"],n.options.baseType)){r.inSync=true;r.set(a);r.inSync=null}if(n.options.isDynamic){this._dynamicLayout=n}else{this._dynamicLayout=null}var s=this._attachLayout(n);this._cacheLayout(n);if(n.options.isDynamic){if(s){s.cached=true;n.prevLayout=s}}if(s&&s!==n){this._disposeLayout(s,{detachDelay:200})}i.push(n)},this);return i},getRecordLayout:function e(){return this._getRecordLayoutContainer().layoutRef},getRootLayout:function e(){return this.rootLayout.layoutRef},isDynamicLayoutLoaded:function e(){return Boolean(this._dynamicLayout)},invalidateLayouts:function e(t){this.layoutCache.iterate(function(e){var n=void 0;var i=t[e.options.baseType];if(!i){return}var a=_.isArray(i)?i:i.items;if(i.modules){n=_.contains(i.modules,e.module)}else if(i.modelIds){n=_.contains(i.modelIds,e.model.get("id"))}else if(a){_.each(a,function(t){n=t.module===e.module&&(!t.modelId||t.modelId===e.model.get("id"));return!n})}if(n){e.needLoadParams=i.loadParams||t.loadParams||true}})},disposeDynamicLayout:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.disposeAll,a=i===undefined?false:i,r=n.skipAttachPrevious,s=r===undefined?false:r,o=n.layoutsToDispose,l=o===undefined?1:o;var u=function e(){if(a||l>0){return Boolean(t._dynamicLayout)}return false};do{if(this._dynamicLayout){var c=this._dynamicLayout;var d=c.prevLayout;if(d){if(!s){this._attachLayout(d)}this._dynamicLayout=d.options.isDynamic?d:null}else{this._dynamicLayout=null}l--;this._disposeLayout(c,{hardDispose:true})}}while(u())},_getLayoutCacheId:function e(t){if(t.controller){var n=t.controller.config;return n&&n.enableCache?t.controller._layoutId:o.utils.generateUUID()}var i=_.chain(t).omit(["child","appendTo","context","animateRender","dashletId","view","headerConfig","isRecordVisible"]).keys().sort().value();return JSON.stringify(_.pick(t,i))},_getRecordLayoutContainer:function e(){return o.isTablet?this.recordLayout:this.rootLayout},_checkAlerts:function e(){var t=o.alert.getAll();_.each(t,function(e,t){if(!e.viewCounter){e.viewCounter=0}e.viewCounter++;if(e.viewCounter>=(o.config.ui.maxAlertsPerLayout||2)){o.alert.dismiss(t)}})},_clean:function e(t){var n=this;var i=function e(t){var i=function e(t,n){if(t.prevLayout===n){return true}else if(t.prevLayout){return e(t.prevLayout,n)}return false};return n._dynamicLayout&&i(n._dynamicLayout,t)};if(t.disposeAll){this.disposeDynamicLayout({disposeAll:true});_.each(this.getLayouts(),function e(t){if(t){this._disposeLayout(t,{hardDispose:true})}},this)}var a=[];this.layoutCache.iterate(function e(t){if(this.getRootLayout()!==t&&this.getRecordLayout()!==t&&!i(t)){t.dispose();a.push(t)}else if(_.isFunction(t.clean)){t.clean()}},this);_.each(a,function e(t){this.layoutCache.remove(t)},this)},_handleLayoutFullScreen:function e(t,n){if(!o.isTablet){return}var i="show-content-child";var a=t.options.def.fullScreen&&this.getLayouts().length>1;if(a){$(document.body).removeClass(i);t._inFullScreen=true}else if(n&&n._inFullScreen){n._inFullScreen=false;$(document.body).addClass(i)}},_getDashboardLayoutParams:function e(t,n){var i=Boolean(t.modelId);var a=Boolean(t.parentModule&&t.parentModelId);var s=void 0;var l=void 0;var u={module:"Dashboards",baseType:"dashboard",views:r.getViewClass({baseType:"dashboard"}),dashletId:t.dashletId,dashboardId:t.dashboardId,parentModule:t.parentModule,parentModelId:t.parentModelId};if(a){if(t.parentDashboardId){s={baseType:"dashboard",views:r.getViewClass({baseType:"dashboard"}),module:"Dashboards",dashboardId:t.parentDashboardId,dashletId:t.parentDashletId}}else{s={baseType:"list",views:r.getViewClass({baseType:"list",module:t.parentModule}),module:t.parentModule};if(t.linkParentModule){_.extend(s,{link:t.moduleLink,parentModule:t.linkParentModule,parentModelId:t.linkParentModelId,subType:"relationships"})}}}if(i){var c=t.action?"edit":"detail";l={module:t.module,modelId:t.modelId,baseType:c,views:r.getViewClass({baseType:c,module:t.module})};if(t.action==="create"){l.create=true}}if(o.isTablet){if(i){return n?u:l}if(n){return a?s:u}return a?u:null}return n||t.root&&!i?u:l}},Backbone.Events)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(27);var r=n(57);var s=n(84),o=s.StepTypes;var l=n(135);var u=n(13);var c=n(24);var d=true;e.exports={started:false,LoadScreenError:{NO_DASHBOARDS_MODULE:1,NO_DASHBOARD:2,NO_DASHLET:3,NO_MODULE:4,NO_CREATE_ACCESS:5,NO_OFFLINE_MODE:6,NEED_LOGIN:7,CONVERT_ROUTE_HAPPENED:8,CONVERT_ROUTE_ERROR:9,NEED_APP_SYNC:10,UNKNOWN_STEP:11},_contextList:null,_contextRec:null,_stepsBlackList:null,_history:null,_seedId:0,init:function e(){r.init();this._history=i.navigation.history;this._stepsBlackList=[];this.started=true},navigate:function e(t){t.url=this._adjustUrl(t.url);if(!t.initiator){t.initiator=a.GENERIC}if(t.initiator===a.CONFIGURE){d=true}if(t.url===null){this._navigateByParams(t)}else{this._navigateByUrl(t)}},refresh:function e(){var t=this.getCurrentStep();var n=t?t.url:window.location.hash;i.controller.navigate(n)},forbidStep:function e(t){if(!_.contains(this._stepsBlackList,t.modelId)){this._stepsBlackList.push(t.modelId)}},getRoutes:function e(){return r.getRoutes()},getHistoryLength:function e(){return this._history.getLength()},hasStepChanged:function e(){var t=this._history.getPrevStep({includeSkipped:true});var n=this.getCurrentStep();return t&&t.stepDef.name!==n.stepDef.name},getCurrentStep:function e(){return this._history.getCurrentStep()},_isStepAvailable:function e(t){return!_.any(this._stepsBlackList,function(e){return t.url.indexOf(e)!==-1})},_getUpStepParams:function e(t){var n=t.stepDef;var i=this.getCurrentStep();var r=t.initiator;var s=void 0;if(!i){return null}s=t.replaceCurrent?i.upParentId:i.id;this._syncContextRefs(n,t);if(r===a.UP){s=t.upParentId}else if(_.contains([a.LIST,a.DASHLET_LIST],r)){if(this._isDetailOrActionStep(n)){s=this._contextList}}else if(r===a.SAVE){if(this._isDetailOrActionStep(n)&&!this._isQuickCreateRelated(i.stepDef)){s=this._contextList}}else if(r===a.DASHBOARD){if(_.contains(["home-dashboard-dashlet","record-dashboard-dashlet"],i.stepDef.name)){s=this._contextRec}}return{upParentId:s,contextList:this._contextList,contextRec:this._contextRec}},_syncContextRefs:function e(t,n){var i=this.getCurrentStep();var r=n.initiator;if(r===a.UP||r===a.BACK){if(n.contextList){this._contextList=n.contextList}if(n.contextRec){this._contextRec=n.contextRec}}else if(this._isListStep(i.stepDef,r)){this._contextList=i.id}else if(i.stepDef.name==="home-dashboard"||this._isDetailStep(i.stepDef)&&t.name==="record-dashboard-dashlet"){this._contextRec=i.id}},_isQuickCreateRelated:function e(t){var n=this._history.getPrevStep();return n&&this._isDetailStep(n.stepDef)&&t.name==="relationships-create"},_isListStep:function e(t,n){if(_.contains(["home-dashboard-dashlet","record-dashboard-dashlet","double-dashboard"],t.name)){return n===a.DASHLET_LIST}return t.stepType===o.LIST},_isDetailOrActionStep:function e(t){return this._isDetailStep(t)||this._isActionStep(t)},_isDetailStep:function e(t){return t.stepType===o.DETAIL},_isActionStep:function e(t){return t.stepType===o.ACTION},_getContextUpStep:function e(){return this._history.getStepById(this.getCurrentStep().upParentId)},_getDefaultUpStep:function e(t,n){t=t||this.getCurrentStep().stepDef;var a=t.getMappedUpOptions(n||i.controller.getScreenContext());var r=t.getUpStep();var s=void 0;if(r){s={url:r.buildUrlFromTemplate(a),stepDef:r,screenOptions:a}}return s},_getUrlInfo:function e(t){var n=t.substr(1);var i=r.findStepByUrl(n);var a=void 0;if(i){var s=i.url.regexp.exec(n).slice(1);a=i.getScreenOptions.apply(this,s)}else{i={unknown:true}}return{url:t,stepDef:i,screenOptions:a}},_navigate:function e(t){var n=_.extend({},t,{id:++this._seedId,replaceCurrent:!this._shouldTrackCurrentStep(t.url)});var i=this._getUpStepParams(n);_.extend(n,i);this._history.navigate(n)},_shouldTrackCurrentStep:function e(t){var n=this.getCurrentStep();return n&&!n.updateUrlOnly&&n.stepDef.trackingEnabled&&n.url!==t},_navigateByUrl:function e(t){var n=this;_.extend(t,this._getUrlInfo(t.url));var i=this.checkNavigationAllowed(t);if(i.errorType){this.onNavigationAbort(i,t)}else{this.checkNavigationCancelled(t,function(e){if(t.callback){t.callback(e)}if(!e.cancel){n._navigate(t)}})}},onNavigationAbort:function e(t,n){var r=t.errorType===this.LoadScreenError.NEED_LOGIN;var s=i.api.isAuthenticated();if(n.callback){n.callback({cancel:true})}if(r||s){this._navigateByParams({error:t,originalParams:n,initiator:a.ERROR_LOAD_SCREEN,stepDef:n.stepDef})}if(r||!s){n.updateUrlOnly=true;this._navigate(n)}},_navigateByParams:function e(t){switch(t.initiator){case a.BACK:this._handleBackNavigation(t);break;case a.UP:this._handleUpNavigation(t);break;case a.HOME:this._handleHomeNavigation();break;case a.SAVE:this._handleSaveNavigation(t);break;case a.RELATE:this._handleRelateNavigation(t);break;case a.DELETE:this._handleDeleteNavigation(t);break;case a.ERROR_LOAD_SCREEN:this._handleLoadScreenError(t);break}},_handleBackNavigation:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=void 0;while(!i&&this._history.getLength()!==1){i=this._history.getPrevStep();if(!this._canGoBack(i)){i=null;this._history.pop()}}this.checkNavigationCancelled(n,function(e){if(n.callback){n.callback(e)}if(!e.cancel){if(t._history.getLength()===1){t.exitApp()}else{i.initiator=a.BACK;t._syncContextRefs(i.stepDef,i);t._history.navigate({back:true})}}})},_handleUpNavigation:function e(t){var n=this._history.getSteps();var r=void 0;var s=void 0;var o=void 0;if(this.getCurrentStep()){r=this._getContextUpStep()||this._getDefaultUpStep()}while(r&&!s){var l=r&&this._isStepAvailable(r);if(l){s=r}else{o=this._history.getStepById(r.upParentId);if(o){r=o;n.length=_.indexOf(n,r)}else{r=this._getDefaultUpStep(r.stepDef,r.screenOptions)}}}if(s){t=_.extend({},t,s);t.initiator=a.UP;this.navigate(t)}else{i.controller.navigateToDefaultView()}},_handleHomeNavigation:function e(){var t=void 0;var n=void 0;var a=void 0;if(i.supportedFeatures.settingsDefaultView){if(i.supportedFeatures.dashboards){c.verifyDefaultView()}t=i.loginManager.getSetting("default_view")||i.config.ui.defaultViewScheme;n=t.split(":");if(n[0]==="Modules"){if(_.contains(i.metadata.getModuleNames(),n[1])){n.shift()}else{u.removeSetting({store:u.Stores.SETTINGS,name:"default_view"});n=[]}}a=n.join("/")}this.navigate({url:a||i.router.DEFAULT_ROUTE})},_handleSaveNavigation:function e(t){var n=t.initiator,a=t.contextOptions,r=a.module,s=a.modelId,o=a.parentModule,l=a.parentModelId,u=a.isCreate;var c=i.controller.getScreenContext(),d=c.link;var f=i.controller.getScreenContextRoot();var h=void 0;if(u){h=f?f+"/":"";h+=d?i.router.buildLinkRoute(o,l,d,s):i.router.buildRoute(r,s);this.navigate({url:h,initiator:n})}else{this._handleUpNavigation()}},_handleRelateNavigation:function e(t){this._handleUpNavigation(t)},_handleDeleteNavigation:function e(t){this._stepsBlackList.push(t.contextOptions.modelId);this._handleUpNavigation()},_handleLoadScreenError:function e(t){var n=this.LoadScreenError;switch(t.error.errorType){case n.NO_DASHLET:this._handleUpNavigation();break;case n.UNKNOWN_STEP:case n.NO_MODULE:{var r=this.getCurrentStep()&&i.api.isAuthenticated()&&t.originalParams.initiator!==a.CONFIGURE;if(r){var s=t.originalParams.url.substring(1);this.showBackToSugarPage(s)}else{i.controller.navigateToDefaultView()}break}case n.NO_CREATE_ACCESS:this._loadErrorScreen({errorCode:403});break;case n.NO_DASHBOARDS_MODULE:case n.NO_DASHBOARD:case n.NO_OFFLINE_MODE:i.controller.navigateToDefaultView();break;case n.CONVERT_ROUTE_HAPPENED:i.controller.navigate({url:t.error.redirectUrl});break;case n.CONVERT_ROUTE_ERROR:this.showBackToSugarPage(t.error.redirectUrl);break;case n.NEED_APP_SYNC:i.nomad.syncApp();break;case n.NEED_LOGIN:i.router.login();break}},checkNavigationAllowed:function e(t){var n={};if(!t.stepDef.loginRequired||_.contains(i.config.unsecureRoutes,t.url)){return n}if(!i.api.isAuthenticated()){n.errorType=this.LoadScreenError.NEED_LOGIN;return n}if(d&&!t.stepDef.isCustomStep){n=this._checkUrlOnFirstStart(t.url)}if(n.errorType){return n}if(t.stepDef.unknown){n.errorType=this.LoadScreenError.UNKNOWN_STEP;return n}if(i.api.isAuthenticated()&&!i.isSynced){n.errorType=this.LoadScreenError.NEED_APP_SYNC;return n}return this._checkCanLoadScreen(t.screenOptions)},_checkUrlOnFirstStart:function e(t){var n={};t=t.replace("#","");d=false;i.logger.debug("PARSING ROUTE ON STARTUP FOR DETECTING SUGAR ROUTE");if(t){var a=i.routing.utils.convertExternalRoute(t);if(a!==t){if(_.isString(a)){n.errorType=this.LoadScreenError.CONVERT_ROUTE_HAPPENED;n.redirectUrl=a}else{n.errorType=this.LoadScreenError.CONVERT_ROUTE_ERROR;n.redirectUrl=t}}}return n},_checkCanLoadScreen:function e(t){var n=i.data.getRelatedModule(t.parentModule,t.link);var a=t.module||n||t.parentModule;var r=this.LoadScreenError;var s=void 0;var o=void 0;if(t.dashboardId||t.root==="Dashboards"){if(i.supportedFeatures.dashboards){s=c.getDashboard(t.dashboardId);if(!s){o=r.NO_DASHBOARD}else if(t.dashletId&&!c.isDashletAvailable(t.dashboardId,t.dashletId)){o=r.NO_DASHLET}}else{o=r.NO_DASHBOARDS_MODULE}}else if(!this._canLoadModuleScreen(t)){o=r.NO_MODULE}else if(!i.offlineEnabled&&(t.root==="Offline"||t.module==="TxLog")){o=r.NO_OFFLINE_MODE}else if(!_.contains(i.config.modules.nonAclModules,a)){if(t.action==="create"&&!i.nomad.canCreateModule(a)||!i.acl.hasAccess("access",a)){o=r.NO_CREATE_ACCESS}}return{errorType:o}},_canLoadModuleScreen:function e(t){var n=t.module,a=t.parentModule,r=t.link;var s=i.metadata.getModuleNames({filter:"visible"});var o=_.union(s,i.config.ui.constantlyVisibleViews);var l=[];if(n){l.push(n)}if(a){l.push(a)}if(a&&r){l.push(i.data.getRelatedModule(a,r))}return _.every(l,function(e){return _.contains(o,e)})},checkNavigationCancelled:function e(t,n){var a=_.compact(_.unique(i.controller.layoutManager.getLayouts()));var r=_.map(a,function(e){return function(n){e.onBeforeLeave({params:t,callback:function e(t){n(t&&t.cancel,t)}})}});asyncLib.parallel(r,function(e){n({cancel:e})})},_canGoBack:function e(t){return this._isStepAvailable(t)&&t.url!==this.getCurrentStep().url&&!this._checkCanLoadScreen(t.screenOptions).errorType},exitApp:function e(){i.logger.debug("Exiting Application");if(i.isNative&&navigator.app&&navigator.app.exitApp){navigator.app.exitApp()}},_loadErrorScreen:function e(t){i.controller.loadScreen({isDynamic:true,fullScreen:true,view:l,initOptions:{backToSugar:true,code:t.errorCode,sugarRoute:t.sugarRoute},headerConfig:{title:i.lang.get("ERR_GENERIC_TITLE"),mainMenu:true}})},showBackToSugarPage:function e(t){this._loadErrorScreen({errorCode:404,sugarRoute:t})},_adjustUrl:function e(t){if(_.isString(t)){if(t[0]!=="#"){t="#"+t}}else{t=null}return t}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(317);var r={LIST:"LIST",DETAIL:"DETAIL",ACTION:"ACTION"};var s=[{name:"configure",steps:"Configure(/)(:serverUrl)(/)(:loginName)(/)(:pageUrl)(/)(:ssoOption)(/)(:useHttps)(/)",getScreenOptions:a.configure,trackingEnabled:false,loginRequired:false,handler:function e(t){var n={serverUrl:t.serverUrl?decodeURIComponent(t.serverUrl):"",loginName:t.loginName?decodeURIComponent(t.loginName):"",pageUrl:t.pageUrl?decodeURIComponent(t.pageUrl):"#",ssoOption:t.ssoOption,useHttps:t.useHttps};i.nomad.configure(n)}},{name:"linked-list-dashboard",getScreenOptions:a.linkedListRecordDashboard,steps:":linkParentModule/:linkParentModelId/link/:moduleLink/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"double-dashboard",getScreenOptions:a.twinDashboard,steps:"Dashboards/:parentDashboardId/:parentDashletId/:parentModule/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"record-dashboard",getScreenOptions:a.recordDashboard,steps:[{name:"record-dashboard-dashlet",url:"(:root/):parentModule/:parentModelId/Dashboards/:dashboardId/:dashletId"},{name:"record-dashboard-detail",url:"(/:module)(/:modelId)",stepType:r.DETAIL},{name:"record-dashboard-action",url:"(/:action)",trackingEnabled:false}]},{name:"dashboard",getScreenOptions:a.dashboard,steps:[{name:"home-dashboard",url:"Dashboards/:dashboardId"},{name:"home-dashboard-dashlet",url:"(/:dashletId)"},{name:"home-dashboard-detail",url:"(/:module)(/:modelId)",stepType:r.DETAIL},{name:"home-dashboard-action",url:"(/:action)",trackingEnabled:false,stepType:r.ACTION}]},{name:"about",getScreenOptions:a.about,steps:"About",loginRequired:false},{name:"settings",getScreenOptions:a.settings,steps:"Settings"},{name:"logout",handler:a.logout,steps:"logout(/?clear=:clear)",trackingEnabled:false},{name:"error-emulation",getScreenOptions:a.errorEmulation,steps:"ErrorEmulation"},{name:"offline",getScreenOptions:a.offline,steps:[{name:"offline",url:"Offline"},{name:"offline-list",url:"(/:module)"},{name:"offline-detail",url:"(/:modelId)"}]},{name:"record-createCall",getScreenOptions:a.createCall,steps:"createCall?direction=:direction&start_date=:start_date&duration_hours=:duration_hours&duration_minutes=:duration_minutes&status=:status",trackingEnabled:false},{name:"relationships-createCall",getScreenOptions:a.createRelatedCall,steps:":module/:id/link/:calls_link/createCall?direction=:direction&start_date=:start_date&duration_hours=:duration_hours&duration_minutes=:duration_minutes&status=:status&log_call=:log_call",trackingEnabled:false},{name:"relationships-list",getScreenOptions:a.relatedList,steps:":parentModule/:parentModelId/link/:link",stepType:r.LIST},{name:"relationships-create",getScreenOptions:a.createRelated,steps:":parentModule/:parentModelId/link/:link/create",trackingEnabled:false},{name:"relationships-associate",getScreenOptions:a.associate,steps:":parentModule/:parentModelId/link/:link/associate",trackingEnabled:false},{name:"relationships-action",getScreenOptions:a.relatedRecord,steps:[{name:"relationships-detail",url:":parentModule/:parentModelId/link/:link/:modelId",stepType:r.DETAIL},{name:"relationships-action",url:"(/:action)",trackingEnabled:false,stepType:r.ACTION}]},{name:"search-list",getScreenOptions:_.partial(a.list,"Search"),steps:"Search",stepType:r.LIST},{name:"search-create",getScreenOptions:_.partial(a.create,"Search"),steps:"Search/:module/create",trackingEnabled:false},{name:"search-record",getScreenOptions:_.partial(a.record,"Search"),steps:[{name:"search-record-detail",url:"Search/:module/:modelId",stepType:r.DETAIL},{name:"search-record-action",url:"(/:action)",trackingEnabled:false,stepType:r.ACTION}]},{name:"list",getScreenOptions:_.partial(a.list,""),steps:":module",stepType:r.LIST},{name:"list-create",getScreenOptions:_.partial(a.create,""),steps:":module/create",trackingEnabled:false},{name:"record",getScreenOptions:_.partial(a.record,""),steps:[{name:"record-detail",url:":module/:modelId",stepType:r.DETAIL},{name:"record-action",url:"(/:action)",trackingEnabled:false,stepType:r.ACTION}]},{name:"default-view",handler:a.defaultView,steps:"",trackingEnabled:false}];e.exports={routes:s,StepTypes:r}},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={isEditActionVisible:function e(t){return t.hasEditAccess()&&i.acl.hasAccessToModel("view",t)},isViewActionVisible:function e(t){return!t.hasEditAccess()&&i.acl.hasAccessToModel("view",t)}}},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={getRelationshipLink:function e(t,n){var a=i.metadata.getModule(t);var r=_.find(a.fields,function(e){if(e.type==="link"){var t=i.metadata.getRelationship(e.relationship);return t&&(t.lhs_module===n||t.rhs_module===n)}});return r?r.name:null},getRelationship:function e(t,n){var a=i.metadata.getModule(t);var r=a.fields[n].relationship;return i.metadata.getRelationship(r)}}},function(e,t,n){"use strict";var i=SUGAR.App;var a={};var r={triggerViewSync:function e(t,n,i,r){_.each(a,function e(a){if(this.shouldSync(a,t)){a.receiveSyncData(n,i,r)}},this)},shouldSync:function e(t,n){return t!==n},registerView:function e(t){a[t.cid]=t},unregisterView:function e(t){delete a[t.cid]},_getSyncableViews:function e(){return a},_reset:function e(){a={}}};i.syncableViewsManager=r;e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.wrapAsyncCallback;var s=n(2);var o=n(31);var l=s.extendComponent(o,{params:null,likelyField:"",filterDuration:null,responseDataAttr:"records",template:"bubblechart",initialize:function e(t){this._super(t);var n=["id","name","account_name","base_rate","currency_id","assigned_user_name","date_closed","probability","account_id","sales_stage","commit_stage"];this.dashletConfig=i.metadata.getView(null,"bubblechart");this.filterDuration=this.dashletConfig.filter_duration[0];this.setFilterDurationOptions();this.viewState.filtersDef.filter_duration=this.filterDuration;this.likelyField=this.forecastBy==="Opportunities"?"amount":"likely_case";n.push(this.likelyField);var a=this.likelyField+":desc";this.params={fields:n.join(","),max_num:10,order_by:a};this.tooltiptemplate=i.template.getView("bubblechart-tooltip");this.setFilters({filter_duration:_.keys(this.viewState.filtersDef.filter_duration.options)[0]})},setFilterDurationOptions:function e(){if(!_.isString(this.filterDuration.options)){return false}this.filterDuration.options=i.lang.getAppListStrings(this.filterDuration.options);if(_.isEmpty(this.filterDuration.options)){this.filterDuration.options=i.lang.getAppListStrings("generic_timeperiod_options")}},loadChartData:function e(t){this.setDateRange();var n=[{date_closed:{$gte:this.dateRange.begin}},{date_closed:{$lte:this.dateRange.end}}];if(!this.isManager||this.viewState.visibility==="user"){n.push({$owner:""})}var a=_.extend({filter:n},this.params);var s=i.api.buildURL(this.forecastBy,null,null,a,this.params);this.apiCall("read",s,null,r(t))},processData:function e(t){this.evaluateResult(t);if(!_.isEmpty(t.records)){this._super(t)}this.$chartEl.toggle(!_.isEmpty(t.records));this.$dataUnavailableLbl.toggle(_.isEmpty(t.records))},prepareChartObject:function e(){var t=this;this.chart=nv.models.bubbleChart().x(function(e){return d3.time.format("%Y-%m-%d").parse(e.x)}).y(function(e){return e.y}).tooltipContent(function(e,n,i,a,r){a.point.close_date=d3.time.format("%x")(d3.time.format("%Y-%m-%d").parse(a.point.x));a.point.amount=a.point.currency_symbol+d3.format(",.2d")(a.point.base_amount);return t.tooltiptemplate(a.point).replace(/(\r\n|\n|\r)/gm,"")}).showTitle(false).tooltips(true).showLegend(true).bubbleClick(function(e){i.controller.navigate(i.router.buildRoute(t.forecastBy,e.point.id),{initiator:t.navigationName})}).colorData("class",{step:2}).groupBy(function(e){return t.isManager&&t.viewState.visibility==="user"?e.sales_stage_short:e.assigned_user_name}).filterBy(function(e){return e.probability}).strings({legend:{close:i.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:i.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:i.lang.getAppString("LBL_CHART_NO_DATA")})},renderChart:function e(){if(!this._super()){return}this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".nv-chart-bubble").append("svg").datum(this.chartData).transition().duration(500).call(this.chart)},evaluateResult:function e(t){this.total=t.records.length;var n="sales_stage_dom";var a=i.metadata.getModule(this.forecastBy,"fields");if(a){n=a.sales_stage.options||n}this.chartData={data:t.records.map(function e(t){var a=i.lang.getAppListStrings(n)[t.sales_stage]||t.sales_stage;return{id:t.id,x:t.date_closed,y:Math.round(parseInt(t[this.likelyField],10)/parseFloat(t.base_rate)),shape:"circle",account_name:t.account_name,assigned_user_name:t.assigned_user_name,sales_stage:a,sales_stage_short:a,probability:parseInt(t.probability,10),base_amount:parseInt(t[this.likelyField],10),currency_symbol:i.currency.getCurrencySymbol(t.currency_id)}},this),properties:{title:i.lang.getAppString("LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME"),value:t.records.length,xDataType:"datetime",yDataType:"string"}}},setDateRange:function e(){var t=i.date();var n=this.getDateRangeDuration();var a=void 0;var r=void 0;var s=void 0;if(n===12){a=i.date().startOf("year");r=i.date().endOf("year")}else{s=Math.floor(t.month()/3)*3;a=i.date(new Date(t.year(),s+n,1));r=i.date(new Date(a.year(),a.month()+3,0))}this.dateRange={begin:a.format("YYYY-MM-DD"),end:r.format("YYYY-MM-DD")}},getDateRangeDuration:function e(){var t=parseInt(this.viewState.filters.get("filter_duration"),10);var n={current:0,next:3,year:12};if(isNaN(t)){t=n[this.viewState.filters.get("filter_duration")]}return t}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(61);var s={dashlets:[{description:"LBL_CASE_SUMMARY_CHART_DESC",label:"LBL_CASE_SUMMARY_CHART"}],tabs:[{filters:{status:{$in:["New"]}},status:"New",link:"cases",module:"Cases"},{filters:{status:{$in:["Pending Input"]}},status:"Pending Input",link:"cases",module:"Cases",favoritesEnabled:false,ftsEnabled:false},{filters:{status:{$in:["Assigned"]}},status:"Assigned",link:"cases",module:"Cases",favoritesEnabled:false,ftsEnabled:false}]};var o=a.extendComponent(r,{initialize:function e(t){this.dashletParams=this.getDashletMetadata();this._super(t)},getDashletMetadata:function e(){return _.clone(s)},getListViewDef:function e(t,n){var a=this._super(t,n);var r=i.metadata.getModule("Cases","fields").status.options;var s=i.lang.getAppListStrings(r);a.title=s[t.status];return a}});e.exports=o},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(3),s=r.isForecastConfigValid,o=r.getForecastNotSetUpMessage,l=r.wrapAsyncCallback;var u=n(2);var c=n(6);var d=n(31);var f=n(38);var h=n(17);var p=u.extendComponent(d,{_isChartInitialized:false,isForecastSetup:false,isForecastConfigValid:false,forecastsNotSetUpMsg:"",$groupByFilter:null,template:"forecast-pareto",events:function e(){var e=f.prototype.events;return _.extend({},e,{"click .lnk-non-forecast":function e(t){t.preventDefault();c.openUrl(t.target.href)}})},initialize:function e(t){this._super(t);this.forecastConfig=a.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=s();this.showManagerData=false;if(this.isForecastSetup){this.dashletConfig=a.metadata.getView(null,"forecast-pareto");if(_.isString(this.dashletConfig.dataset.options)&&_.isString(this.dashletConfig.group_by.options)){var n=a.lang.getAppListStrings(this.dashletConfig.dataset.options);this.dashletConfig.group_by.options=a.lang.getAppListStrings(this.dashletConfig.group_by.options);this.dashletConfig.dataset.options={};if(this.forecastConfig.show_worksheet_worst&&a.acl.hasAccess("read",this.forecastBy,{field:"worst_case"})){this.dashletConfig.dataset.options.worst=n.worst}if(this.forecastConfig.show_worksheet_likely&&a.acl.hasAccess("read",this.forecastBy,{field:"likely_case"})){this.dashletConfig.dataset.options.likely=n.likely}if(this.forecastConfig.show_worksheet_best&&a.acl.hasAccess("read",this.forecastBy,{field:"best_case"})){this.dashletConfig.dataset.options.best=n.best}}}else{var i=_.isUndefined(a.user.getAcls().Forecasts.admin);this.forecastsNotSetUpMsg=o(i)}},loadData:function e(t){var n=this.previousVisibilityState!==this.viewState.visibility;if(!this.isForecastSetup){this.hidePreloader()}if(this.isForecastSetup||t.byPtr||n){this.previousVisibilityState=this.viewState.visibility;if(this.$groupByFilter&&n){this.$groupByFilter.toggleElement(this.viewState.visibility!=="group")}return this._super(t)}else if(this._serverData){this.saveState();this.renderChart()}return h.resolve()},loadDataError:function e(t){this._super(t);this._serverData=null},processData:function e(t){this._serverData=t;if(this._serverData){this._super(t)}},loadInitData:function e(t){var n=this;var i=function e(i){n.initForecast(i);t(null,i)};this.apiCall("GET",a.api.buildURL("Forecasts/init"),null,{success:function e(t){var a=n.options.parentModel;if(a){a.once("sync",function(){i(t)}).fetch()}else{i(t)}},error:t})},loadChartData:function e(t){var n={};n.no_data=this.viewState.filters.get("no_data")===true;if(this.isManager){n.target_quota=this.viewState.filters.get("show_target_quota")?1:0}var i=a.api.buildURL(this.buildChartUrl(),null,null,n);this.apiCall("read",i,{},l(t))},initForecast:function e(t){var n={user_id:a.user.get("id"),show_target_quota:false,selectedTimePeriod:t.defaultSelections.timeperiod_id.id,timeperiod_id:t.defaultSelections.timeperiod_id.id,timeperiod_label:t.defaultSelections.timeperiod_id.label,dataset:t.defaultSelections.dataset,group_by:t.defaultSelections.group_by,ranges:_.keys(a.lang.getAppListStrings(this.forecastConfig.buckets_dom))};this._isChartInitialized=true;this.viewState.filtersDef={group_by:this.dashletConfig.group_by,dataset:this.dashletConfig.dataset};this.previousVisibilityState=this.viewState.visibility;this.setFilters(n);this.render();this.$groupByFilter=this.$(".filter.group_by");if(this.viewState.visibility==="group"){this.$groupByFilter.hideElement()}},prepareChartObject:function e(){var t=this.getUserCurrencyFormatter();var n=this.getUserCurrencyFormatterSi();this.chartId=this.cid+"_chart";this.chart=nv.models.paretoChart().margin({top:0,right:10,bottom:0,left:10}).showTitle(false).tooltips(true).tooltipQuota(function(e,n,i,a,r){return"<p><b>"+a.key+": <b>"+t(a.val)+"</b></p>"}).tooltipLine(function(e,n,i,r,s){return"<p><b>"+a.lang.get("LBL_CUMULATIVE_TOTAL","Forecasts")+"</b></p><p>"+e+": <b>"+t(r.point.y)+"</b></p>"}).tooltipBar(_.bind(function e(n,i,r,s,o){var l=a.lang.get("LBL_SALES_STAGE","Forecasts");if(this.viewState.filters.get("group_by")==="probability"){l=a.lang.get("LBL_OW_PROBABILITY","Forecasts")+" (%)"}return"<p>"+l+": <b>"+n+"</b></p>"+("<p>"+a.lang.get("LBL_AMOUNT","Forecasts")+": <b>"+t(s.value)+"</b></p>")+("<p>"+a.lang.get("LBL_PERCENT","Forecasts")+": <b>"+i+"%</b></p>")},this)).colorData("default").colorFill("default").valueFormat(function(e){return n(e,2)}).barClick(function(e,t,n,i){}).id(this.chartId).strings({legend:{close:a.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:a.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:a.lang.getAppString("LBL_CHART_NO_DATA")})},renderChart:function e(){if(this.isManager&&this.viewState.visibility==="group"){this.showManagerData=true;this.convertManagerDataToChartData()}else{this.showManagerData=false;this.convertUserDataToChartData()}this.generateD3Chart()},convertUserDataToChartData:function e(){_.each(this._serverData.data,function(e){if(_.has(e,"likely")&&isNaN(e.likely)){e.likely=0}if(_.has(e,"best")&&isNaN(e.best)){e.best=0}if(_.has(e,"worst")&&isNaN(e.worst)){e.worst=0}});var t=this.viewState.filters.get("group_by");var n=this.viewState.filters.get("dataset");var i=this.viewState.filters.get("ranges");var r=0;var s=[];var o=this._serverData["x-axis"].map(function(e,t){return{series:r,x:t+1,y:0}});var l={key:this._serverData.labels.dataset[n],type:"line",series:r,values:[],valuesOrig:[]};var u={properties:{name:this._serverData.title,yDataType:"currency",xDataType:"string",quota:parseFloat(this._serverData.quota),quotaLabel:a.lang.get("LBL_QUOTA","Forecasts"),groupData:this._serverData["x-axis"].map(function(e,t){return{group:t,l:e.label,t:0}})},data:[]};var c=this._serverData.data;var d=_.isEmpty(i)?c:c.filter(function(e){return _.contains(i,e.forecast)});_.each(this._serverData.labels[t],function e(i,l){var c=d.filter(function(e){return e[t]==l});if(!_.isEmpty(c)){var f=this._serverData["x-axis"].map(function(e,t){return{series:r,x:t+1,y:0,y0:0}});var h=this._serverData["x-axis"];_.each(c,function(e){for(var t=0;t<h.length;t++){if(e.date_closed_timestamp>=h[t].start_timestamp&&e.date_closed_timestamp<=h[t].end_timestamp){var i=parseFloat(e[n]);f[t].y+=i;u.properties.groupData[t].t+=i;o[t].y+=i;break}}},this);s.push({key:i,series:r,type:"bar",values:f,valuesOrig:a.utils.deepCopy(f)});r++}},this);if(!_.isEmpty(s)){var f=0;_.each(o,function(e,t,n){n[t].y+=f;f=n[t].y});l.values=o;l.valuesOrig=a.utils.deepCopy(o);s.push(l);u.data=s}this.chartData=u},convertManagerDataToChartData:function e(){var t=this.viewState.filters.get("dataset");var n=this._serverData.data;var r={properties:{name:this._serverData.title,quota:parseFloat(this._serverData.quota),quotaLabel:a.lang.get(this.viewState.filters.get("show_target_quota")?"LBL_QUOTA_ADJUSTED":"LBL_QUOTA","Forecasts"),groupData:n.map(function(e,n){return{group:n,l:e.name,t:parseFloat(e[t])+parseFloat(e[t+"_adjusted"])}})},data:[]};var s=[t,t+"_adjusted"].map(function e(t,i){var a=n.map(function(e,n){return{series:i,x:n+1,y:parseFloat(e[t]),y0:0}});return{key:this._serverData.labels.dataset[t],series:i,type:"bar",values:a,valuesOrig:a}},this);var o=[t,t+"_adjusted"].map(function e(t,i){var a=n.map(function(e,n){return{series:i,x:n+1,y:parseFloat(e[t])}});var r=0;_.each(a,function(e,t,n){n[t].y+=r;r=n[t].y});return{key:this._serverData.labels.dataset[t],series:i,type:"line",values:a,valuesOrig:a}},this);if(this.viewState.filters.get("show_target_quota")){r.properties.targetQuota=Number(this._serverData.target_quota);r.properties.targetQuotaLabel=a.lang.get("LBL_QUOTA","Forecasts")}r.data=[].concat(i(s),i(o));this.chartData=r},generateD3Chart:function e(){if(!this._super()){return}this.chart.barLegend.rowsCount(this._maxLegendRows);this.chart.lineLegend.rowsCount(this._maxLegendRows);this.chart.stacked(!this.showManagerData);d3.select(this.el).select(".nv-pareto").append("svg").datum(this.chartData).call(this.chart)},updateChartLegend:function e(){if(this.chart.barLegend){this.chart.barLegend.rowsCount(this._maxLegendRows)}if(this.chart.lineLegend){this.chart.lineLegend.rowsCount(this._maxLegendRows)}},buildChartUrl:function e(){var t=this.options.parentModel;var n=t&&t.get("date_closed_timestamp");var i=n||this.viewState.filters.get("timeperiod_id");var a=[this.viewState.visibility==="group"?"ForecastManagerWorksheets":"ForecastWorksheets","chart",i,this.viewState.filters.get("user_id")];return a.join("/")}});e.exports=p},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(3),s=r.isForecastConfigValid,o=r.getForecastNotSetUpMessage,l=r.wrapAsyncCallback;var u=n(31);var c=n(17);var d=a.extendComponent(u,{_isChartInitialized:false,forecastAdmin:false,forecastConfig:null,isForecastSetup:false,isForecastsConfigValid:false,forecastsNotSetUpMsg:null,template:"forecast-pipeline",initialize:function e(t){this._super(t);this.forecastConfig=i.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=s();this.forecastAdmin=_.isUndefined(i.user.getAcls().Forecasts.admin);this.salesStageLabels=i.lang.getAppListStrings("sales_stage_dom");if(!this.isForecastSetup){if(_.isEmpty(i.metadata.getModule("Forecasts").views)){this.forecastsNotSetUpMsg=o(this.forecastAdmin)}else{this.viewState.filtersDef.timeperiod=i.utils.deepCopy(i.metadata.getModule("Forecasts").views["forecast-pipeline"].meta.timeperiod[0]);this.viewState.filtersDef.timeperiod.options=i.lang.getAppListStrings("generic_timeperiod_options");this.setFilters({selectedTimePeriod:this.viewState.filtersDef.timeperiod.options[0]});this._isChartInitialized=true}}},loadData:function e(t){var n=!i.metadata.getModule("Opportunities");var a=!i.acl.hasAccess("view","Opportunities");var r=!_.contains(i.metadata.getModuleNames({filter:"visible"}),"RevenueLineItems");if(n||a&&r){this.loadDataError(this.ERR_NO_DATA_AVAILABLE)}else if(this.forecastsNotSetUpMsg){this.hidePreloader()}else{return this._super(t)}return c.resolve()},loadInitData:function e(t){var n=this;asyncLib.parallel({loadTimeperiodOptions:function e(t){n.apiCall("read",i.api.buildURL("Forecasts/enum/selectedTimePeriod"),null,l(t))},loadCurrentTimeperiod:function e(t){n.apiCall("GET",i.api.buildURL("TimePeriods/current"),null,l(t))}},function e(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}var o=r[0],l=r[1];if(o){t.apply(this,r);return}n.viewState.filtersDef.timeperiod=i.utils.deepCopy(i.metadata.getModule("Forecasts").views["forecast-pipeline"].meta.timeperiod[0]);n.viewState.filtersDef.timeperiod.options=l.loadTimeperiodOptions;n.saveState();n.setFilters({selectedTimePeriod:l.loadCurrentTimeperiod.id});n._isChartInitialized=true;n.render();t(null,l)})},loadChartData:function e(t){var n=[this.forecastBy,"chart","pipeline"];n.push(this.viewState.filters.get("selectedTimePeriod"));n.push(this.viewState.visibility);var a=i.api.buildURL(n.join("/"));this.apiCall("GET",a,null,l(t))},processData:function e(t){if(t&&t.data&&this.salesStageLabels){_.each(t.data,function e(t){if(t&&t.key&&this.salesStageLabels[t.key]){t.key=this.salesStageLabels[t.key]}},this)}this.chartData=t;this._super(t)},prepareChartObject:function e(){var t=this.getUserCurrencyFormatter();this.chart=nv.models.funnelChart().showTitle(false).tooltips(true).wrapLabels(false).tooltipContent(function(e,n,i,a,r){return"<p>"+SUGAR.App.lang.get("LBL_SALES_STAGE","Forecasts")+": <b>"+e+"</b></p>"+("<p>"+SUGAR.App.lang.get("LBL_AMOUNT","Forecasts")+": <b>"+t(i)+"</b></p>")+("<p>"+SUGAR.App.lang.get("LBL_PERCENT","Forecasts")+": <b>"+n+"%</b></p>")}).colorData("class",{step:2}).fmtValue(function(e){var n=e.value||(isNaN(e)?0:e);return t(n)}).strings({legend:{close:i.lang.getAppString("LBL_CHART_LEGEND_CLOSE"),open:i.lang.getAppString("LBL_CHART_LEGEND_OPEN")},noData:i.lang.getAppString("LBL_CHART_NO_DATA")})},renderChart:function e(){if(!this._super()){return}this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".nv-funnelChart").append("svg").datum(this.chartData).transition().duration(500).call(this.chart)}});e.exports=d},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(31);var s=n(3),o=s.isForecastConfigValid,l=s.getForecastNotSetUpMessage,u=s.wrapAsyncCallback;var c=n(17);var d=a.extendComponent(r,{className:"chart-wrapper has-scroll",template:"forecastdetails",forecastConfig:null,isForecastSetup:false,isForecastsConfigValid:false,forecastsNotSetUpMsg:false,isAdmin:false,isTopLevelManager:false,showTargetQuota:false,spanCSS:"",detailsDataSet:null,responseDataAttr:null,initialize:function e(t){this._super(t);this.forecastConfig=i.metadata.getModule("Forecasts","config");this.isForecastSetup=this.forecastConfig.is_setup;this.isForecastsConfigValid=o();this.isAdmin=_.isUndefined(i.user.getAcls().Forecasts.admin);if(this.isForecastSetup){this.serverData=i.data.createBean("Forecasts");this.model=i.data.createBean("Forecasts");var n=this.forecastBy==="RevenueLineItems"?"likely_case":"amount";this.fieldDataAccess={likely:i.acl.hasAccess("read",this.forecastBy,{field:n}),best:i.acl.hasAccess("read",this.forecastBy,{field:"best_case"}),worst:i.acl.hasAccess("read",this.forecastBy,{field:"worst_case"})};this.spanCSS=_.compact([this.forecastConfig.show_worksheet_likely,this.forecastConfig.show_worksheet_best,this.forecastConfig.show_worksheet_worst]).length;this.spanCSS=_.compact([this.forecastConfig.show_worksheet_likely,this.forecastConfig.show_worksheet_best,this.forecastConfig.show_worksheet_worst]).length;this.model.set({opportunities:0,spanCSS:this.spanCSS,isForecastSetup:this.isForecastSetup,isForecastAdmin:this.isForecastAdmin});this.isTopLevelManager=i.user.get("is_top_level_manager");this.showTargetQuota=this.isManager&&!this.isTopLevelManager;this.detailsDataSet=this.getDetailsDataSet()}else{this.forecastsNotSetUpMsg=l(this.isAdmin)}},onAfterRender:function e(){this._super();this.$chartEl=this.$(".fd__wrapper")},loadData:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.isForecastSetup){return this._super(t)}this.hidePreloader();if(!this.loaded&&!t.byPtr){this.$chartEl.hideElement()}return c.resolve()},loadInitData:function e(t){var n=this;var a=this.options.parentModel;if(a&&!a.inSync){a.once("sync",function(){n.loadInitData(t)}).fetch();return}var r=a&&a.get("date_closed")||"current";asyncLib.parallel({loadTimeperiodOptions:function e(t){n.apiCall("read",i.api.buildURL("Forecasts/enum/selectedTimePeriod"),null,u(t))},loadCurrentTimeperiod:function e(t){n.apiCall("GET",i.api.buildURL("TimePeriods/"+r),null,u(t))}},function e(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}var o=r[0],l=r[1];if(o){t.apply(this,r);return}n.viewState.filtersDef.timeperiod=i.metadata.getView(null,"forecastdetails").timeperiod[0];n.viewState.filtersDef.timeperiod.options=l.loadTimeperiodOptions;n.setFilters({timePeriods:l.loadCurrentTimeperiod.id,selectedTimePeriod:l.loadCurrentTimeperiod.id});n._isChartInitialized=true;t(null,l)})},loadChartData:function e(t){var n=this.buildChartUrl();this.apiCall("read",n,null,u(t))},processData:function e(t){t=this.adjustDashletData(t);this.calculateData(t);this.render();this.applyCSSChanges();this.hidePreloader();this.$chartEl.showElement()},getDetailsDataSet:function e(){var t=i.metadata.getStrings("app_list_strings").forecasts_options_dataset||[];var n={};_.each(t,function e(t,i){if(this.forecastConfig["show_worksheet_"+i]===1){n[i]=t}},this);return n},buildChartUrl:function e(){var t=this.isManager?"progressManager":"progressRep";var n=["Forecasts",this.viewState.filters.get("selectedTimePeriod"),t,i.user.get("id")];var a={};if(this.isManager){a={target_quota:this.showTargetQuota?1:0}}return i.api.buildURL(n.join("/"),"create",null,a)},adjustDashletData:function e(t){if(this.isManager){t.likely=t.likely_adjusted||t.likely_case;t.best=t.best_adjusted||t.best_case;t.worst=t.worst_adjusted||t.worst_case}else{t.likely=t.amount;t.best=t.best_case;t.worst=t.worst_case;t.closed_amount=t.won_amount;if(_.isUndefined(t.closed_amount)){delete t.closed_amount}}return t},calculateData:function e(t){this.serverData.set(t);var n=_.extend({},t,this.serverData.toJSON());var a=this.forecastConfig;var r=i.user.getPreference("currency_id");this.likelyTotal=n.likely;this.bestTotal=n.best;this.worstTotal=n.worst;n.quota_amount_str=i.currency.formatAmountLocale(n.quota_amount,r);n.closed_amount_str=i.currency.formatAmountLocale(n.closed_amount,r);if(this.showTargetQuota){n.target_quota_amount_str=i.currency.formatAmountLocale(n.target_quota_amount,r)}else{this.serverData.unset("target_quota_amount_str")}n.showTargetQuota=this.showTargetQuota;n.deficit_amount=Math.abs(i.math.sub(n.quota_amount,n.closed_amount));n.deficit_amount_str=i.currency.formatAmountLocale(n.deficit_amount,r);n.is_deficit=parseFloat(n.quota_amount)>parseFloat(n.closed_amount);var s=n.is_deficit?"LBL_FORECAST_DETAILS_DEFICIT":"LBL_FORECAST_DETAILS_SURPLUS";n.deficit_label=i.lang.get(s,"Forecasts");n.detailsOpts=[];if(a.show_worksheet_worst){n.detailsOpts.push(this.getDetailsForCase("worst",this.worstTotal,n.quota_amount,n.closed_amount))}if(a.show_worksheet_likely){n.detailsOpts.push(this.getDetailsForCase("likely",this.likelyTotal,n.quota_amount,n.closed_amount))}if(a.show_worksheet_best){n.detailsOpts.push(this.getDetailsForCase("best",this.bestTotal,n.quota_amount,n.closed_amount))}if(this.isManager&&!_.isEmpty(i.user.get("reports_to_id"))){n.quota_label=i.lang.get("LBL_QUOTA_ADJUSTED","Forecasts")}else{n.quota_label=i.lang.get("LBL_QUOTA","Forecasts")}this.model.set(n,{silent:true})},getDetailsForCase:function e(t,n,a,r){var s={};var o=parseFloat(i.math.add(n,r));var l=parseFloat(a);var u=0;var c=i.user.getPreference("currency_id");s.label=i.lang.get("LBL_"+t.toUpperCase(),"Forecasts");s.spanCSS=this.spanCSS;s.case=t;s.shortOrExceed="&nbsp;";s.openPipeline="&nbsp;";s.feedbackLn1="";s.feedbackLn2="";s.hasAccess=true;if(!this.isManager&&!this.fieldDataAccess[t]){s.hasAccess=false}if(s.hasAccess){if(n){s.amount=i.currency.formatAmountLocale(n,c);s.labelAmount=s.label+": "+s.amount.toString()}if(o===0&&l===0){s.amount=i.lang.get("LBL_FORECAST_DETAILS_NO_DATA","Forecasts")}else if(o!==0&&l!==0&&o===l){s.shortOrExceed=i.lang.get("LBL_FORECAST_DETAILS_MEETING_QUOTA","Forecasts")}else{if(o>l){s.shortOrExceed=i.lang.get("LBL_FORECAST_DETAILS_EXCEED","Forecasts");u=i.math.sub(o,l)}else{s.shortOrExceed=i.lang.get("LBL_FORECAST_DETAILS_SHORT","Forecasts");u=i.math.sub(l,o)}s.percent=this.getPercent(u,l);s.openPipeline="("+i.currency.formatAmountLocale(u,c)+")"}s.feedbackLn1=s.shortOrExceed;if(s.percent){s.feedbackLn1+=" "+s.percent}s.feedbackLn2=s.openPipeline}return s},applyCSSChanges:function e(){this.checkPropertySetCSS("worst");this.checkPropertySetCSS("likely");this.checkPropertySetCSS("best");var t=this.model.get("is_deficit");var n="";if(t){n=this.getClassBasedOnAmount(0,1,"color")}else{n=this.getClassBasedOnAmount(1,0,"color")}if(n!==""){this.$el.find(".deficitRow").addClass(n)}},checkPropertySetCSS:function e(t){if(this.forecastConfig["show_worksheet_"+t]&&(this.isManager||!this.isManager&&this.fieldDataAccess[t])){var n=this.getClassBasedOnAmount(i.math.add(this.serverData.get(t),this.serverData.get("closed_amount")),this.model.get("quota_amount"),"background-color");if(n!==""){this.$el.find(".forecast_details_"+t+"_feedback").addClass(n)}}},getClassBasedOnAmount:function e(t,n,i){var a="";t=parseFloat(t);n=parseFloat(n);if(i==="color"){if(t===n){}else if(t>n){a="font-green"}else{a="font-red"}}else if(i==="background-color"){if(t===n&&t!==0){a="grayLight"}else if(t>n){a="green"}else if(t<n){a="red"}}return a},getPercent:function e(t,n){var i=0;if(n>0&&t>0){i=t/n*100;if(i>1){i=Math.round(i)}else{i=Math.round(i*100)/100}}return Math.abs(i)+"%"}});e.exports=d},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.wrapAsyncCallback;var s=n(2);var o=n(60);var l=s.extendComponent(o,{template:"donutchart",className:"opportunity-metrics-wrapper",initialize:function e(t){this._super(t);this.parentModel=t.parentModel||{}},loadChartData:function e(t){var n=i.api.buildURL(this.parentModel.module,"opportunity_stats",{id:this.parentModel.get("id")});this.apiCall("read",n,null,r(t))},evaluateResult:function e(t){var n=0;_.each(t,function(e,a){t[a].formattedAmount=i.currency.formatAmountLocale(e.amount_usdollar,null,0);t[a].cssClass=a==="won"?"won":a==="lost"?"lost":"active";t[a].dealLabel=a;t[a].stageLabel=i.lang.getAppListStrings("opportunity_metrics_dom")[a];n+=e.count});this.total=n;this.metricsCollection=t;this.chartData={data:_.map(this.metricsCollection,function(e,t){return{key:e.stageLabel,value:e.count,classes:t}})}},isDataEmpty:function e(t,n){var i=0;t=t||{};_.each(t,function(e,t){i+=e.count});return i===0}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.wrapAsyncCallback;var s=n(2);var o=n(38);var l=s.extendComponent(o,{responseDataAttr:"chartData",template:"saved-reports-chart",initialize:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}this._super("initialize",n);this.chartId=Math.floor(Math.random()*1e4)},loadChartData:function e(t){var n=this.meta.view.saved_report_id;this.apiCall("create",i.api.buildURL("Reports/chart/"+n),null,r(t))},isDataEmpty:function e(t){if(this._super(t)){return true}var n=t.chartData.properties[0].type;var i=this.getChartConfig(n);var a=this._getDataAttribute(i);return _.isEmpty(t.chartData[a])},processData:function e(t){if(t&&t.chartData){this.rawChartData=t.chartData}this._super(t)},prepareChartObject:function e(){var t=this.rawChartData;var n={minColumnWidth:120,show_title:true,show_legend:true,show_controls:false,show_tooltips:true,show_y_label:false,y_axis_label:"",show_x_label:false,x_axis_label:"",wrapTicks:true,staggerTicks:true,rotateTicks:true,reduceXTicks:false,overflowHandler:false,allowScroll:false,vertical:true,showValues:false,hideEmptyGroups:true,stacked:true,colorData:"default",margin:{top:10,right:10,bottom:10,left:10}};var a=t.properties[0].type;if(i.supportedFeatures.configurableSavedReportsChart){_.extend(n,this.meta.view);a=this.meta.view.chart_type}var r=this.getChartConfig(a);n.report_module=this.getReportModule(t);this.chartData=this.translateDataToD3(t,n,r);this.chart=this.getChartModel(n,r);this.chart.id(this.chartId).margin(n.margin).showTitle(n.show_title).showLegend(n.show_legend).tooltips(n.show_tooltips).tooltipContent(function(e,t,n,i,a){return"<h3>"+e+"</h3><p>"+n+"</p>"}).colorData(n.colorData).strings({legend:{close:i.lang.get("LBL_CHART_LEGEND_CLOSE"),open:i.lang.get("LBL_CHART_LEGEND_OPEN")},noData:i.lang.get("LBL_CHART_NO_DATA")});if(r.ReportModule){this.chart.legend.showAll(true)}},renderChart:function e(){if(!this._super()){return}this.chart.legend.rowsCount(this._maxLegendRows);d3.select(this.el).select(".nv-chart-reports").append("svg").datum(this.chartData).transition().duration(500).call(this.chart);this.$el.on("touchcancel",function(e){var t=d3.select(window);_.each(_.keys(window),function(e){var n=e.match(/^__on((?:touch|drag|select).+)$/);if(n){t.on(n[1],null)}})})},getChartModel:function e(t,n){var i=void 0;switch(n.chartType){case"pieChart":i=nv.models.pieChart();break;case"funnelChart":i=nv.models.funnelChart();break;case"lineChart":{i=nv.models.lineChart();i.useVoronoi(true).clipEdge(false).wrapTicks(t.wrapTicks).staggerTicks(t.staggerTicks).rotateTicks(t.rotateTicks);if(t.show_x_label){i.xAxis.axisLabel(t.x_axis_label)}if(t.show_y_label){i.yAxis.axisLabel(t.y_axis_label)}var a=[];var r=function e(t){return t};var s=function e(t){return t[0]};var o=function e(t){return t[1]};if(this.chartData.data.length){if(this.chartData.properties.labels){a=this.chartData.properties.labels.map(function(e){return e.l||e})}if(this.chartData.data[0].values.length&&this.chartData.data[0].values[0]instanceof Array){if(nv.utils.isValidDate(this.chartData.data[0].values[0][0])){r=function e(t){return d3.time.format("%x")(new Date(t))}}else if(a.length>0){r=function e(t){return a[t]||" "}}}else{s=function e(t){return t.x};o=function e(t){return t.y};if(a.length>0){r=function e(t){return a[t-1]||" "}}}}i.x(s).y(o);i.xAxis.tickFormat(r).highlightZero(false).reduceXTicks(false);break}case"barChart":i=nv.models.multiBarChart().vertical(n.orientation==="vertical").stacked(n.barType==="stacked"?true:true).showControls(t.show_controls).showValues(t.showValues).wrapTicks(t.wrapTicks).staggerTicks(t.staggerTicks).rotateTicks(t.rotateTicks).reduceXTicks(t.reduceXTicks);i.yAxis.tickSize(0);if(t.show_x_label){i.xAxis.axisLabel(t.x_axis_label)}if(t.show_y_label){i.yAxis.axisLabel(t.y_axis_label)}break;default:i=nv.models.multiBarChart();break}return i},getChartConfig:function e(t){var n=void 0;switch(t){case"pie chart":n={pieType:"basic",tip:"name",chartType:"pieChart"};break;case"line chart":n={lineType:"basic",tip:"name",chartType:"lineChart"};break;case"funnel chart":case"funnel chart 3D":n={lineType:"basic",tip:"name",chartType:"funnelChart"};break;case"stacked group by chart":n={orientation:"vertical",barType:"stacked",tip:"title",chartType:"barChart"};break;case"group by chart":n={orientation:"vertical",barType:"grouped",tip:"name",chartType:"barChart"};break;case"bar chart":n={orientation:"vertical",barType:"basic",tip:"label",chartType:"barChart"};break;case"horizontal group by chart":n={orientation:"horizontal",barType:"stacked",tip:"name",chartType:"barChart"};break;case"horizontal bar chart":case"horizontal":n={orientation:"horizontal",barType:"basic",tip:"label",chartType:"barChart"};break;default:n={orientation:"vertical",barType:"stacked",tip:"name",chartType:"barChart"};break}this.chartType=n.chartType;return n},getReportModule:function e(t){var n=_.isEmpty(t.properties)?{}:_.first(t.properties);var i="";if(!_.isEmpty(n)&&!_.isUndefined(n.base_module)){i=n.base_module}return i},translateDataToD3:function e(t,n,a){var r=this;var s=i.utils.versionCompare(i.metadata.getServerInfo().version,"7.10",">=");var o=[];var l=0;var u=_.filter(t.values,function(e){return e.values.length});var c=d3.max(u,function(e){return e.values.length})===1;var d=a.barType==="stacked"||a.barType==="grouped";var f=this._getDataAttribute(d,c);var h=t[f];var p=_.first(t.properties)||{};var m=void 0;var g=void 0;if(!_.isEmpty(u)){switch(a.chartType){case"barChart":m=this._getBarChartDataMapper({values:u,discreteValues:c,groupedBarType:d,params:n,useLabelDataMapper:s});g=this._getBarChartDataFilter({discreteValues:c,groupedBarType:d,useLabelDataMapper:s});break;case"pieChart":m=function e(t,n){return{key:r._pickLabel(t.label),value:r._sumValues(t.values)}};break;case"funnelChart":h=t[f].reverse();m=function e(t,n){return{key:r._pickLabel(t.label),count:t.values.length,values:[{label:t.valuelabels[0]?t.valuelabels[0]:t.values[0],x:0,y:r._sumValues(t.values)}]}};break;case"lineChart":m=function e(t,n){return{key:r._pickLabel(t.label),values:c?t.values.map(function(e,t){return[n,parseFloat(e)]}):t.values.map(function(e,t){return[t,parseFloat(e)]})}};break}}if(m){if(g){o=h.filter(g).map(m)}else{o=_.isFunction(m)?h.map(m):m}}return{properties:{title:p.title||this.meta.view.report_title,yDataType:p.yDataType,groups:a.chartType==="gaugeChart"?[{group:1,total:l}]:a.chartType==="lineChart"&&t.label?t.label.map(function(e,t){return{label:r._pickLabel(e)}}):u.map(function(e,t){return{label:r._pickLabel(e.label)}})},data:o}},_sumValues:function e(t){return t.reduce(function(e,t){return parseFloat(e)+parseFloat(t)},0)},_pickLabel:function e(t){var n=i.lang.get("LBL_CHART_UNDEFINED");var a=[].concat(t)[0];return a||n},_getBarChartDataMapper:function e(t){var n=this;var i=t.values,a=t.discreteValues,r=t.groupedBarType,s=t.params,o=t.useLabelDataMapper;var l=void 0;if(r&&!a){l=function e(t,a){return{key:n._pickLabel(t),type:"bar",values:i.map(function(e,t){return{x:t+1,y:parseFloat(e.values[a])||0}})}}}else if(r&&a||!r&&!a){l=o?function(e,t){return{key:e.values.length>1?e.label:n._pickLabel(e.label),type:"bar",values:i.map(function(e,i){return{x:i+1,y:t===i?n._sumValues(e.values):0}})}}:function(e,t){return{key:s.report_module||"Module",type:"bar",values:i.map(function(e,t){return{x:t+1,y:n._sumValues(e.values)}})}}}else{l=o?[{key:s.report_module||"Module",type:"bar",values:i.map(function(e,t){return{x:t+1,y:n._sumValues(e.values)}})}]:function(e,t){return{key:e.values.length>1?e.label:n._pickLabel(e.label),type:"bar",values:i.map(function(e,i){return{x:i+1,y:t===i?n._sumValues(e.values):0}})}}}return l},_getBarChartDataFilter:function e(t){var n=t.groupedBarType,i=t.discreteValues,a=t.useLabelDataMapper;if(n&&i&&!a){return function(e,t){return t===0}}},_getDataAttribute:function e(t,n){return t&&!n?"label":"values"}});e.exports=l},function(e,t,n){"use strict";var i=n(2);var a=n(40);var r=n(381);var s=i.extendComponent(a,{className:"twitter-wrapper",getListViewDef:function e(t,n){var i=_.extend({parentModel:n.parentModel},t,n.listParams);return{name:r,listParams:i,skipFetch:true,contextMenuOnSwipeDisabled:true,listItemTpl:"twitter-list-item"}}});e.exports=s},function(e,t,n){"use strict";var i=n(3);var a=n(2);var r=n(6);var s=n(39);var o=a.extendComponent(s,{className:"dashlet-webpage",template:"webpage",events:{"click .wp__container":function e(t){t.preventDefault();r.openWebPage(this.url)}},initialize:function e(t){this.url=i._normalizeUrl(t.meta.view.url);this.title=t.meta.view.title;this._super(t)},onInvokedFromDashboard:function e(){r.openWebPage(this.url)}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(7);var r=n(2);var s=n(6);var o=n(4);var l=r.extendComponent(o,{cacheDisabled:true,events:function e(){return{"click .field":"onClick","click .field-detail__value a":"openAddress"}},initialize:function e(t){this._super(t);this._subfieldStub={};this.model.on("error:validation",this._handleValidationError,this);this.model.on("acl:change:"+this.def.fields[0].name,this.handleAclChange,this);this.fieldNames=_.pluck(this.def.fields,"name");this.required=this.isRequired()},onClick:function e(){var t=this;if(this.isDisabled()){return}var n=new i.NomadBean;n.module=this.model.module;n.fields={};n.attributes=i.utils.deepCopy(this.model.attributes);_.each(this.def.fields,function(e){n.fields[e.name]=i.utils.deepCopy(t.model.fields[e.name]);n.attributes[e.name]=t.model.attributes[e.name]});var s=new a({editedFieldName:this.label,addressFields:this._prepareAddressFieldDefs(),parentModel:this.model,model:n,module:n.module,collection:new i.BeanCollection,skipFetch:true});s.prepare();this.addressEditView=i.controller.loadScreen({isDynamic:true,gaTrack:"address",view:r.getViewClass({baseType:"address-edit"}),headerConfig:{title:this.label,save:true,saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true},context:s,initOptions:{className:"edit-address"}})[0];this._disableSubfields()},_disableSubfields:function e(){var t=this;_.each(this._subfieldStub,function(e,n){if(e.isDisabled()){_.each(t.addressEditView.fields,function(e){if(e.name===n){e.setDisabled(true)}})}})},bindDataChange:function e(){if(this.model){_.each(this.def.fields,function e(t){this.model.on("change:"+t.name,this.render,this)},this)}},onBeforeRender:function e(){var t=[];var n=[];var a=/street/;_.each(this.def.fields,function e(r){var s=this.model.get(r.name);if(s){var o=r.name;if(a.exec(o)){if(!i.serverInfo.isSevenUp){s=s.replace(/(\n(\r)?)/g," ").replace(/\s{2,}/g," ");this.model.set(o,s)}t.push(s)}else{n.push(s)}}},this);this.addressValue=(t.length>0?t.join()+"\n":"")+n.join(" ");this._super()},isValueEmpty:function e(){return _.isEmpty(this.addressValue)},getErasedState:function e(){var t=this.model.get("_erased_fields");var n=_.some(this.def.fields,function(e){return _.contains(t,e.name)});return n&&this.isValueEmpty()},_checkAccessToAction:function e(t){return i.acl.hasAccessToModel(t,this.model,this.def.fields[0].name)},_handleValidationError:function e(t){var n={};var a=[];var r=this.$(".field");var s=this.model.module;_.each(t,function e(t,i){if(_.contains(this.fieldNames,i)){n[i]=t}},this);r.children(".field__error-message").remove();if(_.isEmpty(n)){return}r.addClass("error");_.each(n,function e(t,n){var r=_.find(this.def.fields,function(e){return e.name===n});var o=r?i.lang.get(r.label,s):n;_.each(t,function(e,t){a.push(o+" : "+i.error.getErrorString(t,e))})},this);var o=i.template.get("edit-field-error");r.append(o(a))},openAddress:function e(){var t={};t[this.name]=this.def.fields;var n=this.model.getAddresses(t);s.openAddress({addresses:n})},getSubfield:function e(t){var n=this;var a=_.findWhere(this.def.fields,{name:t});var r=void 0;if(!a){return null}if(this.addressEditView){r=_.findWhere(this.addressEditView.fields,{name:t})}else if(!this._subfieldStub[t]){this._subfieldStub[t]=i.view.createField({def:a,view:this.view,model:this.model});var s=this._subfieldStub[t].setRequired;this._subfieldStub[t].setRequired=function(e){var t=n.required;s.call(n,e);n.required=n.isRequired();if(t!==n.required){n.render()}}}return r||this._subfieldStub[t]},isRequired:function e(){var t=this._subfieldStub||{};return _.any(this.def.fields,function e(n){return t[n.name]?t[n.name].isRequired():n.required||i.metadata.getModule(this.module).fields[n.name].required},this)},_prepareAddressFieldDefs:function e(){return _.map(this.def.fields,function e(t){var n=this._subfieldStub[t.name];var i=t;if(n){i=_.extend({},t,{view:"edit",required:n.isRequired()})}return i},this)},_dispose:function e(){this._super();this._subfieldStub=null}});e.exports=l},function(e,t,n){"use strict";var i=n(2);var a=n(4);var r=i.extendComponent(a,{events:{"touchstart .checkbox_custom":"onTouchCheckbox"},format:function e(t){return t=="1"},onBeforeRender:function e(){this._super();if(this.model&&this.view.isEditView()&&!this.model.has(this.name)){this.model.set(this.name,false,{silent:true})}},unformat:function e(){return Boolean(this.$(this.fieldTag)[0].checked)},onTouchCheckbox:function e(t){t.stopPropagation()}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(42);var s=n(5);var o=a.extendComponent(r,{events:{"change select":"onCurrencySelection"},isFloat:true,initialize:function e(t){this._super(t);if(_.isEmpty(this.model.get("currency_id"))&&this.context.isCreate()&&i.metadata.getCurrency(i.user.getPreference("currency_id")).status==="Active"){this.model.set("currency_id",i.user.getPreference("currency_id"),{silent:true})}},onBeforeRender:function e(){this._super();if(_.isEmpty(this.model.get("currency_id"))){this.model.set("currency_id",i.user.getPreference("currency_id")||"-99",{silent:true})}this.availableCurrencies=this._getCurrencies()},_getCurrencies:function e(){var t=this.model;var n=t.get("currency_id");var a=i.user.getPreference("currency_id");var r={};var s=i.metadata.getCurrencies();var o=void 0;_.each(s,function(e,t){var i=_.clone(e);i.id=t;if(i.status==="Active"){r[t]=i;o=i}else if(i.id===n){i.disabled=true;r[t]=i}});var l="-99";if(n&&_.has(r,n)){l=n}else if(_.has(r,a)){l=a}var u=r[l]||o;if(u){u.selected="selected"}return r},onAfterRender:function e(){var t=this;this._super();if(i.supportedFeatures.enumViaActionSheet){var n=[];_.each(this.availableCurrencies,function(e){n.push(e.iso4217)});this.$ct=this.$el.find(".actionsheet-select");this.$ct.bind("click",function(){s.showActionSheet(n,{title:t.label,onSelectCb:function e(i){var a=null;var r=n[i];_.each(t.availableCurrencies,function(e,t){if(e.iso4217===r){a=t}});t.$ct.attr("value",a);t.$ct.text(r);t.onCurrencySelection()}})})}else{this.$ct=$("select",this.$el)}if(!this.model.get("currency_id")&&this.context.isCreate()){this.model.changeCurrencyId(this.$ct.val()||this.$ct.attr("value"),{silent:true})}},format:function e(t){if(!t&&t!==0||_.isString(t)&&t.trim().length===0){return""}var n=t;if(!isNaN(parseFloat(i.currency.unformatAmountLocale(t)))){var a=this.model.get("currency_id");var r=i.user.getPreference("currency_id");if(this.action==="list"&&a!==r){n=i.currency.formatAmountLocale(t,a)}else if((this.action==="edit"||this.action==="create")&&this.tplName!=="disabled"){var s=i.user.getPreference("decimal_separator");var o=i.user.getPreference("decimal_precision");var l=i.currency.formatAmount(t,a,o,"",s);var u=i.currency.getCurrencySymbol(a);n=l.replace(u,"")}else{n=i.currency.formatAmountLocale(t,a)}}return n},onCurrencySelection:function e(){this.model.changeCurrencyId(this.$ct.val()||this.$ct.attr("value"));var t=this.format(this.model.get(this.name));this.$("input").val(t)},onFieldChange:function e(){this.model.set(this.name,this.unformat(this._$fieldEl.val()),{disableRenderForContext:this.view})}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isValidDate;var s=n(2);var o=n(6);var l=n(62);var u=s.extendComponent(l,{initialize:function e(t){this._super(t);if(!u._tsFormat){u.initFormat()}},onBeforeRender:function e(){this._super();this.setDefaultValue();this.calculateAndBackupInputValues();this.setClearButtonVisibility()},bindDomChange:function e(){this.setInputs();if(u.nativeSupport){this.inputs.on($.browser.chromeWeb?"change":"blur",_.bind(this.handleValueChange,this))}},format:function e(t){var n=_.isEmpty(t);if(n||this.view.name==="edit"&&u.nativeSupport&&!this.isDisabled()){return t}return i.date.format(new Date(t),u._tsFormat)},unformat:function e(t){return t},setInputs:function e(){this.dateInput=this.$("input[data-type=date]");this.timeInput=this.$("input[data-type=time]");this.inputs=this.dateInput.add(this.timeInput)},calculateAndBackupInputValues:function e(){var t="";var n="";var a=this.getValue();var r=void 0;if(a){r=new Date(a);t=i.date.format(r,"Y-m-d");n=i.date.format(r,"H:i:00")}this.values={date:t,time:n};this.formattedValues=null;if(a&&this.shouldFormatValues){r=new Date(a);this.formattedValues={date:i.date.format(r,u._dateFormat),time:i.date.format(r,u._timeFormat)}}this._prevValues=this.values},handleValueChange:function e(t){this.setChanged();this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.calculateAndBackupInputValues();this.toggleControls()},setDefaultInputValues:function e(){var t=this.getDateInputValue();var n=this.getTimeInputValue();var a=this._prevValues.date&&!t;var r=this._prevValues.time&&!n;if(t&&!n&&!r){var s=i.date.format(new Date,"H:i");this.setTimeInputValue(s)}else if(n&&!t&&!a){var o=i.date.format(new Date,"Y-m-d");this.setDateInputValue(o)}else if(a){this.setTimeInputValue("")}else if(r){this.setDateInputValue("")}},onClick:function e(t){if(this.isOnClickLocked()){return false}var n=t.target.getAttribute("data-type");this.setOnClickBlocker();this.showDateTimePicker(n,t)},onBlur:function e(){this.toggleControls()},getTimeInputValue:function e(){var t=this.timeInput.val();if(t&&this.shouldFormatValues){var n=i.date.parse(t,u._timeFormat);t=i.date.format(n,"H:i")+":00"}return t},setTimeInputValue:function e(t){if(t&&this.shouldFormatValues){var n=i.date.parse(t,"H:i");t=i.date.format(n,u._timeFormat)}this.timeInput.val(t)},setModelValue:function e(t,n){var i="";var a=new Date(this.getValue());var r=void 0;var s=void 0;if(u.nativeSupport){s={disableRenderForContext:this.view}}if(t&&n){r=this._getDate(t+" "+n+":00",true);i=r.toISOString()}if(!(r&&r.getTime()===a.getTime())){this.model.set(this.name,i,s)}},showDateTimePicker:function e(t,n){var a=t==="date";var s=this.getDateInputValue()||i.date.format(new Date,"Y-m-d");var l=this.getTimeInputValue()||(this.def.default_current_time?i.date.format(new Date,"H:i"):"00:00");if(u.ios7){var c=this._getDate(s+" "+l+":00",true);if(!r(c)){c=new Date}var d={date:c,mode:a?"date":"time"};this._setPopoverCoordinates(d,n);this.setDateInputValue(s);this.setTimeInputValue(l);this.setModelValue(s,l);this.toggleControls();window.datePicker.show(d,_.bind(function e(t){this.clearOnClickBlocker();if(!t){return}if(a){var n=i.date.format(t,"Y-m-d H:i")+":00";this.setDateInputValue(n)}else{this.setTimeInputValue(t)}this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.toggleControls()},this));return}o.showDateTimePicker(a?s:l,{mode:a?"showDatePicker":"showTimePicker",callback:_.bind(function e(t){this.clearOnClickBlocker();if(a){this.setDateInputValue(t)}else{this.setTimeInputValue(t)}this.setDefaultInputValues();this.setModelValue(this.getDateInputValue(),this.getTimeInputValue());this.toggleControls()},this)})},_adjustDefaultValue:function e(t){return t.toISOString()},_getDate:function e(t,n){var i=t.split(/[^0-9]/);var a=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5]);var r=n?0:a.getTimezoneOffset()*6e4;return new Date(a.getTime()-r)},_dispose:function e(){this._super();if(this.inputs){this.inputs.off()}}},{initFormat:function e(){u._dateFormat=i.user.getPreference("datepref")||"Y-m-d";u._timeFormat=i.user.getPreference("timepref")||"H:i";u._tsFormat=u._dateFormat+" "+u._timeFormat}});i.events.on("app:sync:complete",function(){u.initFormat()}).on("app:init",function(){u.setNativeSupport()});e.exports=u},function(e,t,n){"use strict";var i=n(6);var a=n(5);var r=SUGAR.App;var s=n(2);var o=n(4);var l=s.extendComponent(o,{_errorIcon:'<span class="icondefault error-icon {0}></span>',events:{"click .actions-btn":"showActions","click .field-detail__value a":"sendEmail","click .field--email__add":"onNewEmailBtnClick",'keyup [email-id="-1"] input':"onNewEmailFieldKeyUp"},_getValue:function e(){return this.model.get(this.name)},_getPrimaryEmail:function e(){return _.findWhere(this._getValue(),{primary_address:true})},_render:function e(){var t=this._getValue();if(t&&t.length){_.each(t,function(e){_.each(["primary_address","opt_out","invalid_email"],function(t){e[t]=Boolean(Number(e[t]))})});t=_.sortBy(t,function(e){return-Number(e.primary_address)});this.model.set(this.name,t,{silent:true})}this._super()},onAfterRender:function e(){var t=this._getPrimaryEmail();if(!this.model.get("email1")&&t){this._setEmail1Value(t.email_address)}this._super()},_modelHasEmail1:function e(){return Boolean(this.model.fields.email1)},_setEmail1Value:function e(t){if(this._modelHasEmail1()){this.model.set("email1",t,{silent:true})}},_getEmailObject:function e(t){var n=t.closest("[email-id]").attr("email-id");return n!=-1&&this._getValue()[n]||null},setPrimaryEmail:function e(t){var n=this._getValue();var i=this._getPrimaryEmail();if(i){i.primary_address=false}this.$el.find(".primary-address").removeClass("primary-address");i=n[t];i.primary_address=true;this._setEmail1Value(i.email_address);this.$el.find('[email-id="'+t+'"]').addClass("primary-address")},_toggleAttr:function e(t,n){var i=this._getValue()[t];var a=n.replace("_","-");var r=!i[n];i[n]=r;this._getEmailFieldRow(t)[r?"addClass":"removeClass"](a)},toggleOptOut:function e(t){this._toggleAttr(t,"opt_out")},toggleInvalid:function e(t){this._toggleAttr(t,"invalid_email")},_getEmailFieldRow:function e(t){return this.$el.find('.field__controls--flex[email-id="'+t+'"]')},removeEmail:function e(t){var n=this._getValue();var i=n.splice(t,1)[0];if(i.primary_address){var a="";if(n.length){n[0].primary_address=true;a=n[0].email_address}this._setEmail1Value(a)}this.model.trigger("change:email")},_makeEmail:function e(t){var n=!this._getValue().length;if(_.isUndefined(t)){t=""}if(n){this._setEmail1Value(t)}return{email_address:t,primary_address:n,invalid_email:false,opt_out:false}},onFieldChange:function e(t){var n=$(t.currentTarget);var i=this._getEmailObject(n);var a=this.unformat(n.val());var r=void 0;if(i){i.email_address=a}else if(a){r=this._getValue();if(!r){r=[];this.model.set(this.name,r,{silent:true})}r.push(this._makeEmail(a))}this.model.trigger("change:email")},onNewEmailFieldKeyUp:function e(t){var n=$(t.currentTarget);var i=this.unformat(n.val());this.$el.find(".add-btn").css({visibility:i?"visible":"hidden"})},onNewEmailBtnClick:function e(t){var n=this.$el.find(".field--email__add + .field__controls--flex");n.showElement();n.find("input").focus()},_displayValidationMessage:function e(t){var n=this;var i=void 0;var a=[];var s=this.$(".field");s.children(".field__error-message").remove();s.removeClass("error");this.$("[email-address]").removeClass("error").remove("."+r.config.ui.icons.edit.error);if(t){var o=[];s.addClass("error");_.each(this._getValue(),function(e,n){if(_.contains(t.email,e.email_address)){o.push(n)}});_.each(o,function(e){n.$('[email-id="'+e+'"]').addClass("error").append(r.utils.formatString(n._errorIcon,[r.config.ui.icons.edit.error]))});_.each(t,function(e,t){a.push(r.error.getErrorString(t,e))});i=r.template.get("edit-field-error");s.append(i(a))}r.analytics.trackEvent({category:"validation",action:this.name})},showActions:function e(t){var n=$(t.currentTarget);n.addClass("active");var i=n.closest("[email-id]").attr("email-id");var s=this._getValue()[i];var o=[this.toggleOptOut,this.toggleInvalid,this.removeEmail];var l=[s.opt_out?"LBL_EMAIL_ACTION_SET_OPT_IN":"LBL_EMAIL_ACTION_SET_OPT_OUT",s.invalid_email?"LBL_EMAIL_ACTION_SET_VALID":"LBL_EMAIL_ACTION_SET_INVALID","LBL_REMOVE"];if(!s.primary_address){l.unshift("LBL_EMAIL_ACTION_SET_PRIMARY");o.unshift(this.setPrimaryEmail)}o=_.map(o,function e(t){return _.bind(t,this,i)},this);l=_.map(l,function(e){return r.lang.get(e)});var u=function e(){n.removeClass("active")};a.showActionSheet(l,{onSelectCb:function e(t){o[t]();u()},onCancelCb:u});return false},sendEmail:function e(t){var n=$(t.target);var a=n.data("index");var r=!_.isUndefined(a)&&!n.hasClass("email_type_invalid")&&!n.hasClass("email_type_opt-out");if(r){var s=this._getValue();if(_.isObject(s[a])){i.sendEmail([s[a].email_address])}}}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(5);var s=n(4);var o=n(3);var l=a.extendComponent(s,{cacheDisabled:true,initialize:function e(t){this.isEdit=t.view.isEditView()||t.def.view==="edit";if(i.supportedFeatures.enumViaActionSheet){_.extend(this,{_viaActionSheet:true,fieldTag:".actionsheet-select",events:{"click .actionsheet-select":"onFocus"}})}else{_.extend(this,{_viaActionSheet:false,fieldTag:"select",events:{"focusin select":"onFocus","focusout select":"onBlur"}});if(i.isNative&&$.os.ios&&!i.isTablet&&this.isEdit){this.events.touchend=function e(t){t.preventDefault()}}}this._super(t)},_sortResults:function e(t){if(this.def.sort_alpha){return _.sortBy(t,function(e){return e[1]})}if(!_.isEmpty(this.items)||this.def.visibility_grid){return t}return this._getSortedItems(t)},_getSortedItems:function e(t){var n=t.map(function(e){return e[0]});var i=this._getOrderedKeys();var a=this._getFilteredKeys();var r=a||i||n;if(this.module==="Leads"){var s="Converted";var o=this.model.get("status");if(!_.isUndefined(o)&&o!==s){r=_.filter(r,function(e){return e!==s})}}return _.map(r,function(e){return _.find(t,function(t){return t[0]===e})})},_getOrderedKeys:function e(){var t=i.lang.getAppListKeys(this.def.options);if(!_.isEmpty(t)){return _.map(t,function(e){return e.toString()})}},_getFilteredKeys:function e(){var t=i.metadata.getEditableDropdownFilter(this.def.options);var n=this.getValue();if(!_.isEmpty(t)){return _.chain(t).filter(function(e){return e[1]||n===e[0].toString()}).map(function(e){return e[0].toString()}).value()}},_getItemByValue:function e(t){return _.find(this.renderItems,function(e){return e[1]===t})},_getItemByKey:function e(t){return _.find(this.renderItems,function(e){return e[0]===t})},getItems:function e(){var t=this.def.options;if(!_.isEmpty(this.items)){t=this.items}else if(_.isString(this.def.options)){t=i.lang.getAppListStrings(this.def.options)}if(_.isEmpty(t)){return[]}if(_.isArray(t)){t=_.map(t,function(e,t){return[t.toString(),e]})}else{t=_.pairs(t)}return t},setRenderItems:function e(){var t=this.getItems();this.renderItems=[];if(!_.isEmpty(t)){this.renderItems=this._sortResults(t)}},onBeforeRender:function e(){this._super();var t=this.getValue();this.setRenderItems();if(this.isEdit){if(_.isEmpty(this.renderItems)){return}if(this.model&&_.isUndefined(t)){t=this.getDefaultValue();if(t!==""){this.model.set(this.name,t,{silent:true})}}else if(t===""&&!this.hasEmptyOption()){this.renderItems.unshift(["",""])}if(this._viaActionSheet){var n=this._getItemByKey(t);this.valueText=n?n[1]:t}}},onAfterRender:function e(){this._super();this.$placeholder=this.$el.find(".placeholder").eq(0);this.$placeholder.toggleElement(this.isEmptyValue());if(this.isEdit){this.$el.toggleElement(!_.isEmpty(this.renderItems))}},onFocus:function e(){this.$placeholder.hideElement();if(this._viaActionSheet){var t=this;var n=this.getValues(this.renderItems);r.showActionSheet(n,{onSelectCb:function e(i){var a=n[i];var r=t._getItemByValue(a)[0];t._$fieldEl.attr("value",r);t._$fieldEl.text(a);t.onFieldChange()}})}},onBlur:function e(){this.$placeholder.toggleElement(this.isEmptyValue());document.activeElement.blur()},onFieldChange:function e(){var t=this.unformat(this._$fieldEl.val()||this._$fieldEl.attr("value"));this.value=t;this.model.set(this.name,t,{disableRenderForContext:this.view});this.onBlur()},getValue:function e(){var t=this.model.get(this.name);return _.isNumber(t)?t.toString():t},isEmptyValue:function e(){return o.isEmptyValue(this.getValue())},getDefaultValue:function e(){var t=this.def.default;var n=this._getFilteredKeys()||this.getKeys();if(_.isNumber(t)){t=t.toString(10)}if(!_.contains(n,t)&&!_.isEmpty(n)){t=n[0]}return _.isNumber(t)?t.toString():t},hasEmptyOption:function e(){var t=this.getKeys();return _.contains(t,"")},getKeys:function e(){var t=[];if(_.isString(this.def.options)){t=i.lang.getAppListKeys(this.def.options)}else if(_.isObject(this.def.options)){t=_.keys(this.def.options)}return t},getValues:function e(t){return _.map(t,function(e){return e[1]})},format:function e(t){return _.isNumber(t)?t.toString():t}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(4);var s=a.extendComponent(r,{events:{"click .favorite-icon":"onClick"},onClick:function e(t){t.preventDefault();t.stopPropagation();i.alert.dismissAll();var n=$(t.currentTarget);var a=!n.hasClass("color-disabled");var r=this.model;var s=function e(){r.set("my_favorite",a)};r.favorite(!a,{error:s});return false}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(4);var s=a.extendComponent(r,{fields:null,subfields:"",initialize:function e(t){this._super(t);_.each(this.def.fields,function e(t){if(t.type==="label"){var n=t.css_class.match(/label_[^\s]+/);if(n.length>0){var i=n[0].substring(6);this.model.on("change:"+i,function e(){var t=this.model.get(i);if(t||t===0||t===""){this.$el.find(".label_"+i).showElement()}else{this.$el.find(".label_"+i).hideElement()}},this)}}},this)},_render:function e(){if(this.template===i.template.empty){this._super()}},getPlaceholder:function e(){var t="";var n=this;if(!this.fields){this.fields=[];_.each(this.def.fields,function(e){var a=i.view.createField({def:e,view:n.view,model:n.model});n.fields.push(a);t+=a.getPlaceholder()})}if(this.def.orientation==="horizontal"){this.subfields=new Handlebars.SafeString(t);return this._super()}return new Handlebars.SafeString(t)}});e.exports=s},function(e,t,n){"use strict";var i=n(2);var a=n(42);var r=i.extendComponent(a,{isFloat:true});e.exports=r},function(e,t,n){"use strict";var i=n(2);var a=n(4);var r=i.extendComponent(a,{events:{"click .follow-label":"onClick"},onClick:function e(t){t.preventDefault();t.stopPropagation();this.model.follow(!this.model.get("following"),{error:_.bind(this.onError,this)})},onError:function e(){this.model.set("following",!this.model.get("following"))}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(2);var s=n(63);var o=r.extendComponent(s,{supportedTypes:["image/jpeg","image/png","image/gif"],initialize:function e(t){this._super(t);this._canvas=document.createElement("canvas")},onAfterRender:function e(){this._super();if(this.value){this._showAndPositionImage()}},_setForcedRefresh:function e(t){this.cacheDisabled=t},_showAndPositionImage:function e(t){var n=this;var r=new Image;var s=this.$el;var o=s.find("div.avatar");var l=t||i.api.buildFileURL({field:this.name,module:this.module,id:this.model.id},a.getFileOptions())+"&_id="+this.model.get(this.name);var u=void 0;r.onload=function e(){n._setForcedRefresh(false);u=t||n._resizeWithCanvas(r);o.css({backgroundImage:"url("+u+")"})};r.onerror=function e(){n._setForcedRefresh(true);var t=n.context.get("name");var a=i.utils.formatString("url(img/offline-{0}.svg)",[t]);o.css({backgroundImage:a})};r.src=l},prepareFile:function e(){this.trigger("file:field:change",this.$fileInput,"preparing");asyncLib.series([_.bind(this._readFileData,this),_.bind(this._resizeImage,this),_.bind(this._applyPreview,this)],_.bind(function e(t){if(t){this.trigger("file:field:change",t.message||i.lang.get("ERR_MOBILE_FILE_PROCESSING"),"error")}else{this.$fileInput.fieldName=this.name;this._changeFieldState(true);this.trigger("file:field:change",this.$fileInput,"prepared")}},this))},_changeFieldState:function e(t){this.$el.find(".picture-icon").toggleElement(!t);this.$el.find(".placeholder").toggleElement(!t);if(!this.def.required){this.$fileRemoveBtn.toggleElement(t)}if(!t){this.$el.find("div.avatar").css({backgroundImage:"none"})}},_readFileData:function e(t){var n=this.$fileInput[0].files[0];if(n){var a=this;var r=new FileReader;var s=this._binaryToDataUri;r.onload=function e(i){a.$fileInput.fileData={name:n.name,size:n.size,type:n.type,binary:i.target.result,dataURI:s(i.target.result,n.type)};try{a._setImageOrientation(i.target.result,n.name)}catch(e){}finally{t()}};r.onerror=function e(n){var r=n.target.error;t({message:i.lang.get(a._fileErrorCodesToStrings[r.code]||"ERR_MOBILE_FILE_READ")});i.logger.error("Failed to read file: ["+r.code+"]")};r.readAsBinaryString(n)}else{t({message:"No file selected"})}},_applyPreview:function e(t){this.$el.find(".user-icon").hideElement();this._showAndPositionImage(this.$fileInput.fileData.dataURI);t()},_resizeWithCanvas:function e(t){var n=this._canvas;var a=i.config.files.resizeImagesOnUpload;var r=t.naturalWidth,s=t.naturalHeight;var o=Math.max(r,s);var l=$.os.ios?this._iosRenderWithCanvas:this._commonRenderWithCanvas;if(!a){a=o}var u=o<a?1:a/o;var c=Math.round(r*u);var d=Math.round(s*u);n.width=c;n.height=d;return l.call(this,t,n,{width:c,height:d,orientation:this.$fileInput.fileData?this.$fileInput.fileData.orientation:1})}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3);var r=n(2);var s=n(7);var o=n(4);var l=n(16);var u=r.extendComponent(o,{cacheDisabled:true,events:function e(){return{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"}},fieldTag:"invitees",onClick:function e(t){var n=this;if(t.defaultPrevented||this.isDisabled()){return false}var a=i.metadata.getModuleNames({filter:"visible",access:"list"});if(i.acl.hasAccess("list","Users")){a.push("Users")}var r=_.intersection(["Contacts","Leads","Users"],a);var o=_.map(r,function(e){return{value:e,label:i.lang.getModuleName(e,{plural:true}),module:e}}).sort(function(e,t){return e.label>t.label?1:-1});var u=new s({collection:new i.BeanCollection(o),skipFetch:true});var c=i.controller.loadScreen({isDynamic:true,gaTrack:"invitees-picker-list",view:l,context:u,headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),save:false},initOptions:{preset:"staticItems"}})[0];c.on("selection:change",function(e){var t=e[0];n.createListLayout(t.get("value"),n.model)})},createListLayout:function e(t){var n=this;var r=new s({module:t});r.prepare();var o=r.get("module");var u=i.lang.get("LBL_ASSOC",o,i.lang.getModuleName(o));var c=i.controller.loadScreen({isDynamic:true,gaTrack:"invitees-list",view:l,context:r,headerConfig:{title:u,cancel:true,save:true,search:true},initOptions:{multiselect:true}})[0];c.onHeaderSaveClick=function(){var e=c.getSelectedModels();e=_.map(e,function(e){var n=_.pick(e.attributes,"id","name");n.link=t.toLowerCase();n.isNameErased=a.isNameErased(e);return n});var r=_.compact(n.model.get("invitees"));var s=_.pluck(r,"id");s=_.map(s,function(e){return e.toString()});e=_.chain(e).reject(function(e){return _.include(s,e.id.toString())}).union(r).value();n.model.set("invitees",e);i.controller.disposeDynamic({layoutsToDispose:2})}},onSecondaryClick:function e(t){var n=this.model.get("invitees");var i=$(t.currentTarget).attr("uid");var a=_.reject(n,function(e){return e.id==i});this.model.set("invitees",a);return false}});e.exports=u},function(e,t,n){"use strict";var i=n(2);var a=n(4);var r=i.extendComponent(a,{onAfterRender:function e(){this._super();if(this.el){var t=this.el.className.match(/label_[^\s]+/);if(t.length>0){var n=this.model.get(t[0].substring(6));var i=n||n===0||n==="";this.$el.toggleElement(i)}}}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(4);var s=n(7);var o=n(54);var l=n(16);var u=a.extendComponent(r,{events:{"touchstart .multienum-list__remove":"highlightRemoveClick","click .multienum-list__remove":"onRemoveClick","click .field":"onClick"},onBeforeRender:function e(){var t=this.model.get(this.name);if(this.view.isEditView()&&_.isArray(t)&&t.length===1&&t[0]===""){this.model.set(this.name,[],{silent:true})}this._super()},onClick:function e(t){var n=this;if(t.defaultPrevented||this.isDisabled()){return false}var a=new s({collection:o.createBeanCollection(null,this._getItemsToShow()),skipFetch:true});var r=i.controller.loadScreen({isDynamic:true,gaTrack:"multienum",headerConfig:{title:i.lang.get("LBL_CHOOSE_ITEMS"),saveLabel:"LBL_DONE_BUTTON_LABEL",save:true},view:l,context:a,initOptions:{className:"multienum__list",preset:"staticItems",multiselect:true}})[0];r.onHeaderSaveClick=function(){var e=_.map(r.getSelectedModels(),function(e){return e.get("value")});var t=_.compact(n.model.get(n.name));n.model.set(n.name,_.union(t,e));i.controller.disposeDynamic()};t.preventDefault()},_getItemsToShow:function e(){var t=this.model.fields[this.name].options;var n=i.lang.getAppListStrings(this.def.options);var a=i.metadata.getEditableDropdownFilter(this.def.options);var r=[];if(_.isObject(t)&&!_.isEmpty(t)){n=_.pick(n,_.keys(t))}if(!_.isEmpty(a)){var s=_.chain(a).filter(function(e){return e[1]===false}).map(function(e){return e[0]}).value();n=_.omit(n,s)}_.each(n,function e(t,n){if(!_.contains(this.value,n)&&n!==""){r.push({label:t,value:n})}},this);return r},highlightRemoveClick:function e(t){$(t.target).addClass("selected-item")},onRemoveClick:function e(t){var n=this.model.get(this.name);var i=$(t.target).is("[item-id]")?$(t.target):$(t.target).closest("[item-id]");var a=i.attr("item-id");var r=_.without(n,a);this.model.set(this.name,r);return false}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3);var r=n(2);var s=n(7);var o=n(4);var l=n(16);var u=r.extendComponent(o,{events:{"click .secondary-btn":"onSecondaryClick","click .field":"onClick"},onBeforeRender:function e(){this._super();var t=this.model.get("parent_type");this.hasAccess=i.acl.hasAccess("read",t)&&!_.isEmpty(i.metadata.getModule(t));var n=this.model.get(this.def.id_name);this.link=!_.contains(i.config.modules.readonlyModules,t)&&n&&i.acl.hasAccess("view",t)?i.router.buildRoute(t,n):null},onClick:function e(t){var n=this;if(t.defaultPrevented||this.isDisabled()){return false}var a=i.lang.getAppListStrings(this.def.options)||{};var r=i.metadata.getModuleNames({filter:"visible"});var o=_.intersection(_.keys(a),r);if(_.contains(["Notes","Tasks"],this.module)){o=_.without(o,"Contacts")}o=_.filter(o,function(e){return i.acl.hasAccess("read",e)},this);var u=_.map(o,function(e){return{value:e,label:a[e],module:e}}).sort(function(e,t){return e.label>t.label?1:-1});var c=new s({collection:new i.BeanCollection(u),skipFetch:true});var d=i.controller.loadScreen({isDynamic:true,gaTrack:"parent-picker-list",headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),cancel:true,save:false,search:false},view:l,context:c,initOptions:{preset:"staticItems"}})[0];d.on("selection:change",function(e){var t=e[0];n.createParentListLayout(t.get("value"),n.model)})},createParentListLayout:function e(t,n){var a=new s({module:t}).prepare();var r=a.get("module");var o=i.controller.loadScreen({isDynamic:true,gaTrack:"parent-list",view:l,context:a,headerConfig:{title:i.lang.get("LBL_ASSIGN",r,i.lang.getModuleName(r)),rightMenu:true,save:false}})[0];o.on("selection:change",function(e){var a=e[0];var r=a.get("id");var s=a.get("name");n.set({parent_name:s,parent_id:r,parent_type:t,parent:{id:r,name:s,type:t,_acl:a.get("_acl"),_erased_fields:a.get("_erased_fields")}});i.controller.disposeDynamic({layoutsToDispose:2})})},onSecondaryClick:function e(t){this.model.set({parent_name:"",parent_id:"",parent_type:""});return false},getErasedState:function e(){if(this.model.get(this.name)){return false}var t=i.data.createBean(this.model.get("parent_type"),this.model.get("parent"));return a.isNameErased(t)}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(6);var s=n(5);var o=n(4);var l=a.extendComponent(o,{events:{"click .field-detail__value a":"onClickNumber"},availableActions:[{name:"sms",label:"LBL_SMS_BUTTON",action:function e(t){r.sendSms(t)}},{name:"call",label:"LBL_CALL_BUTTON",action:function e(t,n){r.callPhone(t,n)}}],onFieldChange:function e(){var t=this.format(this.unformat(this._$fieldEl.val()))||"";var n=this.model.get(this.name);this.model.set(this.name,t);if(n===t){this.model.trigger("change:"+this.name,this.model,t)}},onClickNumber:function e(){var t=this;var n=this.value;var a=_.map(this.availableActions,function(e){return i.lang.get(e.label)});s.showActionSheet(a,{title:n,onSelectCb:function e(i){t.availableActions[i].action(n,{model:t.model})}})}});e.exports=l},function(e,t,n){"use strict";var i=n(2);var a=n(4);var r=i.extendComponent(a,{events:{"click .btn-group .btn":"onClick"},onClick:function e(t){this.model.set(this.name,$(t.currentTarget).data("value"))}});e.exports=r},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(3);var s=n(2);var o=n(7);var l=n(4);var u=n(16);var c=s.extendComponent(l,{events:function e(){return{"click .secondary-btn":"onClearButtonClick","click .field":"onClick"}},bindDataChange:function e(){this._super();if(this.model){if(this.def.link){this.model.on("change:"+this.def.link,this.render,this)}else{this.model.on("change:_erased_fields",this.render,this)}}},onBeforeRender:function e(){this._super();var t=this.def.module;this.hasAccess=a.acl.hasAccess("read",t)&&!_.isEmpty(a.metadata.getModule(t));var n=this.model.get(this.def.id_name);this.link=!_.contains(a.config.modules.readonlyModules,t)&&n&&a.acl.hasAccess("view",t)?a.router.buildRoute(t,n):null;if(!this.hasAccess&&this.view.name==="edit"){this.action="disabled"}},onClick:function e(t){var n=this;if(t.defaultPrevented||this.isDisabled()){return false}var i=a.metadata.getModule(this.module).fields[this.name];var r=i.module;var s=new o({module:r}).prepare();var l=this.options.def;var c=void 0;if(l.initial_filter){c=_.pick(l,["initial_filter","filter_populate","filter_relate","initial_filter_label"]);c.relatedModel=this.model}var d=s.get("module");var f=a.controller.loadScreen({isDynamic:true,gaTrack:"relate",headerConfig:{title:a.lang.get("LBL_ASSIGN",d,a.lang.getModuleName(d)),rightMenu:true,save:false},view:u,context:s,initOptions:{initialFilter:c}})[0];f.on("selection:change",function(e){n.onRelatedItemSelected(e[0]);a.controller.disposeDynamic()})},onRelatedItemSelected:function e(t){var n={};var s=a.metadata.getModule(this.view.module),o=s.fields;var l=o[this.name];var u=t.get("id");var c=t.get("name");n[l.id_name]=u;n[l.name]=c;if(this.def.link){var d=this.def.link?o[this.def.link].name:this.def.name;n[d]={id:u,name:c,_acl:t.get("_acl"),_erased_fields:t.get("_erased_fields")}}else if(r.isNameErased(t)){var f=this.model.get("_erased_fields")||[];n._erased_fields=[l.name].concat(i(f))}if(l.populate_list&&l.auto_populate){_.each(l.populate_list,function e(i,r){r=_.isNumber(r)?i:r;var s=t.get(r);if(!_.isUndefined(s)&&a.acl.hasAccessToModel("edit",this.model,i)){n[i]=s}if(r==="currency_id"&&this.model.get("currency_id")!==s){this.model.changeCurrencyId(s)}},this)}this.model.set(n);if(_.isEmpty(this.model.get(l.name))&&_.isEmpty(n[l.name])){this.model.trigger("change:"+this.def.name)}},onClearButtonClick:function e(t){var n=false;if(_.isEmpty(this.model.get(this.name))){n=true}this.model.set(this.name,"");this.model.set(this.def.id_name,"");if(this.def.link){this.model.set(this.def.link,{})}else{var i=_.without(this.model.get("_erased_fields"),this.def.name);this.model.set("_erased_fields",i)}if(n){this.model.trigger("change:"+this.def.name)}return false},getErasedState:function e(){if(this.model.get(this.name)){return false}var t=this.view.module;var n=a.metadata.getModule(t),i=n.fields;var s=i[this.def.link];if(s){var o=this.model.get(s.name);var l=a.data.createBean(this.def.module,o);return r.isNameErased(l)}return _.contains(this.model.get("_erased_fields"),this.name)}});e.exports=c},function(e,t,n){"use strict";var i=n(2);var a=n(4);var r=i.extendComponent(a,{initialize:function e(t){if(t.view.name==="edit"){t.viewName="disabled"}this._super(t)}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(7);var s=n(4);var o=n(16);var l=a.extendComponent(s,{cacheDisabled:true,events:{"click .primary-btn":"onPrimaryClick","click .selected-btn":"onSelectedClick","click .remove-btn":"onRemoveClick","click .field":"onClick"},initialize:function e(t){this._super(t);this.isTBAEnabled=this.isTeamBasedAclEnabledForModule(this.module);this.model.on("change:team_name",function e(){this.$el.find("[team-id]").removeClass("active")},this)},isTeamBasedAclEnabledForModule:function e(t){return i.config.teamBasedAcl.enabled&&i.supportedFeatures.teamBasedAclServerSupport&&!_.contains(i.config.teamBasedAcl.unsupportedModules,t)&&i.metadata.getModule(t,"isTBAEnabled")},_render:function e(){var t=this.model.get(this.name);if(_.isArray(t)){t=_.sortBy(t,function(e){return e.primary!==true});this.model.set(this.name,t,{silent:true})}this._super()},onClick:function e(t){var n=this;if(t.defaultPrevented||this.isDisabled()){return false}var a="Teams";var s=new r({module:a}).prepare();var l=i.controller.loadScreen({isDynamic:true,gaTrack:"teamset",view:o,context:s,headerConfig:{title:i.lang.get("LBL_MOBILE_SELECT_TEAMS"),saveLabel:"LBL_DONE_BUTTON_LABEL"},initOptions:{multiselect:true,listItemTpl:"list-item-teamset"}})[0];l.onHeaderSaveClick=function(){var e=_.map(l.getSelectedModels(),function(e){return _.pick(e.attributes,"id","name","name_2")});var t=_.compact(n.model.get("team_name"));var a=_.pluck(t,"id");a=_.map(a,function(e){return e.toString()});var r=_.chain(e).reject(function(e){return _.include(a,e.id.toString())}).union(t).value();n.model.set("team_name",r);i.controller.goBack()}},onPrimaryClick:function e(t){var n=i.config.ui.icons.edit.teamsetPrimary;var a=i.config.ui.icons.edit.teamsetSecondary;var r=this.$el.find("[team-id].primary-btn.active");var s=r.removeClass("active").attr("team-id");var o=$(t.currentTarget);r.find(".icondefault").toggleClass(n,false).toggleClass(a,true);o.addClass("active").find(".icondefault").toggleClass(a,false).toggleClass(n,true);var l=_.find(this.model.get("team_name"),function(e){return e.id==s});if(l){l.primary=false}var u=$(t.currentTarget).attr("team-id");var c=_.find(this.model.get("team_name"),function(e){return e.id==u});c.primary=true;return false},onSelectedClick:function e(t){var n=$(t.currentTarget).attr("team-id");var a=_.find(this.model.get("team_name"),function(e){return e.id==n});if(a){a.selected=!a.selected;var r=i.config.ui.icons.edit.unlock;var s=i.config.ui.icons.edit.lock;var o=$(t.currentTarget).toggleClass("active",a.selected).find(".icondefault");if(a.selected){$(o).toggleClass(s,false);$(o).toggleClass(r,true)}else{$(o).toggleClass(r,false);$(o).toggleClass(s,true)}}return false},onRemoveClick:function e(t){var n=this.model.get("team_name");var i=$(t.currentTarget).attr("team-id");var a=_.reject(n,function(e){return e.id==i});this.model.set("team_name",a);return false}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(16);var r=n(2);var s=n(3),o=s.buildActionHandlerName;var l=r.extendComponent({parent:i.view.Layout},{initialize:function e(t){t.meta=t.meta||{};delete t.className;this._super(t);var n=this.prepareComponents(t);n=this.initComponents(n);var i=this.module||this.context&&this.context.get("module");var r=i?"layout__"+i:"";var s=this._getLayoutTypeCss(t);var o=!_.isEmpty(this.options.link);this.$el.addClass(r+" "+s+" layout__def"+(o?" related":""));if(n.length===1&&n[0]instanceof a){t.subType="selector"}if(t.subType){this.$el.attr("layout-name",t.subType)}_.each(n,function e(t){this.listenTo(t,"component:action",function e(n){this.handleComponentAction(t,n)})},this)},_getLayoutTypeCss:function e(t){var n=void 0;if(t.baseType){n=t.baseType}else{var i=_.first(t.views);if(i){n=i.prototype._stringType}}if(_.contains(["selection-list","filtered-list"],n)){n="list"}return n?"layout__"+n:""},prepareComponents:function e(t){var n=t.views;var i=void 0;if(n){if(!_.isArray(n)){n=[n]}i=_.map(n,function(e){return{view:{name:e}}})}return i},getComponent:function e(t){if(_.isFunction(t)){return _.find(this._components,function(e){return e instanceof t})}return this._super(t)},bindGlobalEvents:function e(){_.invoke(this._components,"bindGlobalEvents")},unbindGlobalEvents:function e(){_.invoke(this._components,"unbindGlobalEvents")},onDetachFromDom:function e(){this.unbindGlobalEvents();_.invoke(this._components,"onDetachFromDom")},onAppResume:function e(){_.invoke(this._components,"onAppResume")},onAppPause:function e(){_.invoke(this._components,"onAppPause")},render:function e(t){var n=this;t={animation:{enabled:false}};this._prepareBodyScroll();this._handleRenderWithAnimation(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++){t[a]=arguments[a]}i.view.Layout.prototype.render.apply(n,t)},t)},renderFromCache:function e(t){var n=this;this._prepareBodyScroll();this.$el.showElement();this._handleRenderWithAnimation(function(){_.each(n._components,function(e){_.each(e.fields,function(e){if(e.cacheDisabled===true||e.hasAccess!==e.getAccess()){e.render()}})})},t)},loadData:function e(t){if(this.disposed){return}_.find(this._components,function(e){if(e.name!=="header"){e.loadData(t);return true}})},loadDataPartial:function e(t){_.each(this._components,function(e){var n=e.options.meta&&e.options.meta.partialLoadEnabled;if(n){e.loadData(t)}})},onAfterShow:function e(){var t=_.getNested(this.constructor,"config.header.buttons.save");if(!_.isUndefined(t)&&this._header){this._header.setButtonVisible({save:t})}this.bindGlobalEvents();_.invoke(this._components,"onAfterShow")},getDefinition:function e(){return this.options.def},getOverlay$El:function e(){var t=this.getDefinition().appendTo.el.find(".background");return t.length?t:null},getDataById:function e(t){var n=this.context&&this.context.get("collection");if(this.model.id===t){return this.model.toJSON()}else if(n&&n.get(t)){return n.get(t).getSnapshot()}return null},_handleRenderWithAnimation:function e(t,n){var a=this.getOverlay$El();if(n.animation.enabled&&a){i.logger.debug("Overlay show '_handleRenderWithAnimation'");a.showElement();t();_.delay(function(){a.animate({opacity:0},{duration:n.animation.animationLength,complete:function e(){i.logger.debug("Overlay hide '_handleRenderWithAnimation'");a.hideElement();a.css("opacity",1)}})},n.animation.preAnimationDelay)}else{t();if(a){i.logger.debug("Overlay hide '_handleRenderWithAnimation'");a.hideElement()}}},_prepareBodyScroll:function e(){if(i.isBodyScrollRequired){var t=_.find(this._components,function(e){return e._bodyScroll});if(t){$("html").addClass((this.module==="Login"?"loginView":"")+" bodyScroll");_.defer(function(){document.body.scrollTop=0})}else{$("html").removeClass("bodyScroll loginView");var n=$("#alerts");n.remove();_.defer(function(){document.body.scrollTop=0;$("#nomad").append(n)})}}},_dispose:function e(){if(this.model){this.stopListening(this.model)}this.$el.off();i.view.Layout.prototype._dispose.call(this)},onBeforeLeave:function e(t){var n=_.chain(this._components).filter(function(e){return Boolean(e.onBeforeLeave)}).map(function(e){return function t(n){e.onBeforeLeave({callback:function e(t){n(t&&t.cancel,t)}})}}).value();asyncLib.parallel(n,function(e){t.callback({cancel:e})})},handleComponentAction:function e(t,n){var a=o(n.name);var r=this[a];var s=void 0;if(_.isFunction(r)){s=r.call(this,n.options)}if(!s){_.each(this._components,function(e){if(e!==t){e.handleComponentAction(a,n.options)}});if(_.isFunction(i.controller[a])){i.controller[a](n)}}},createComponentFromDef:function e(t,n,a){if(!(t.view&&_.isFunction(t.view.name))){return this._super(t,n,a)}n=n||this.context;a=a||this.module;if(t.context){if(t.context instanceof i.Context){n=t.context}else{n=n.getChildContext(t.context);n.prepare()}a=n.get("module")}var r=_.extend({},this.options,{context:n,module:a,def:t,loadModule:t.loadModule,type:t.view.type,name:t.view.name,primary:t.view.primary,layout:this});delete r.meta;if(this.options.initOptions){_.extend(r,this.options.initOptions)}return i.view.createView(r)}});i.view.NomadLayout=l;e.exports=l},function(e,t,n){"use strict";(function e(t){var i=n(344);var a={START:"start",FINISH:"finish"};var r={readCollection:function e(n){var r=this;var s=n.method,o=n.module,l=n.data,u=n.params,c=n.callbacks,d=n.options;var f=l&&l.relatedModule||o;var h=[];var p=void 0;t.offline.utils.callOnce(c);if(o==="Recents"){return i.readCollection(n,this._onReadCollectionComplete)}if(o==="TxLog"){u.skipServerSync=true}if(!u.skipOfflineRead){p=this._getOfflineReadParams(f,u);if(!p.skipOfflineRead){h.push(_.bind(function e(t){this._offlineRead(t,s,o,l,p,c,d)},this))}}if(t.offline.isOnline()){if(!u.skipServerSync){h.push(_.bind(function e(t){if(u.filter&&p&&!p.skipOfflineRead){u.fields=_.union(u.fields?u.fields.split(","):[],p.filterParsed.filterFields).join()}this._serverRead(t,s,o,l,u,c,d)},this))}}else if(c.error){var m=_.extend({request:{params:d}},t.offline.api.NO_CONNECTION_ERROR);c.error(m)}t.events.trigger("offline:collection:read",{status:a.START,apiOptions:d});asyncLib.waterfall(h,function(e,t){return r._onReadCollectionComplete(e,t,d,c)})},_offlineRead:function e(n,i,a,r,s,o){var l=arguments.length>6&&arguments[6]!==undefined?arguments[6]:{};t.offline.storage.sync("read",r,a,_.extend({collectionFields:l.collectionFields},s,{ts:t.utils.getTimestamp(),success:function e(i){var r=void 0;i=i||[];if(!_.isArray(i)){i=[i]}if(a==="TxLog"){var l=i.pop(),u=l.totalTransactions;i=_.map(i,function(e){e.id=e._tx_uid;return e});var c=(s.offset||0)+i.length;r=u>c?c:-1;t.offline.storage.fillTxLogData(i,function(){o.success({records:i,next_offset:r})})}else{r=s.max_num>i.length||s.serverNextOffset===-1?-1:(s.offset||0)+i.length;var d={records:i,next_offset:r};if(o.success){o.success(d)}}n()},error:function e(t){if(o.error){o.error(t)}n(t)},complete:o.complete}))},_getOfflineReadParams:function e(n,i){var a=t.utils.deepCopy(i);var r=t.offline.convertReadRecordsFilter(a,n);if(r){if(r.isSupported){a.filterParsed=r}else{a.skipOfflineRead=true}}return a},_serverRead:function e(n,i,a,r,s,o,l){var u=s.relate?"relationships":"records";t.offline.api.callOriginalApi(u,[i,a,r,t.offline.utils.getCleanedParams(s),{success:function e(i){if(o.success){o.success(i)}i=i||{};if(s.serverSyncSuccess&&i.records){s.serverSyncSuccess({records:i.records,next_offset:i.next_offset},s)}if(_.isEmpty(i.records)){n(null,{serverData:i})}else{t.offline.storage.saveRecords({module:a,serverData:i.records,relationshipData:s.relate?r:null,collectionFields:l.collectionFields,callback:function e(o,u){var c=!o&&u.isDataUpdated&&!s.skipOfflineRead;n(o,{serverData:i,isDataUpdated:c});if(c){t.trigger("offline:data:updated",{isCollection:true,action:"update",module:a,relationsData:r,serverNextOffset:i.next_offset,requestParams:s,cid:l.cid})}}})}},error:function e(t){if(o.error){o.error(t)}n(t)},complete:o.complete},l])},_onReadCollectionComplete:function e(n,i,r,s){i=i||{};if(n){if(s.error){s.error(n)}if(n instanceof t.offline.Error&&n!==t.offline.Error.OfflineDisabledError){t.logger.error("read_collection failed. "+n)}}else{t.trigger("offline:api:read:success")}if(s.complete){s.complete(i.serverData)}t.events.trigger("offline:collection:read",{status:a.FINISH,isDataUpdated:i.isDataUpdated,apiOptions:r})}};_.extend(t.offline.api,{readCollection:_.bind(r.readCollection,r),_readCollectionScope:r,ReadCollectionStatus:a})})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(25);var r="offline:bulkload:core:cache";var s=function e(){var t=i.cache.get(r)||{};_.extend(this,t)};s.prototype.save=function e(){i.cache.set(r,this)};var o={error412Handler:null,_status:{working:false,module:null,bucketName:null,count:0},cache:null,init:function e(){this.cache=new s;this.error412Handler=i.error.handleStatusCodesFallback.bind(i.error);if(_.isEmpty(this.cache)){this._initCacheValues()}},uninit:function e(){this.stop()},queueBuckets:function e(t){var n=this;t=_.isArray(t)?t:[t];if(!t.length){return}_.each(t,function(e){n.cache.queue.push(e);if(!_.contains(n.cache.queuedBuckets,e.name)){n.cache.queuedBuckets.push(e.name)}});this.cache.save()},start:function e(){if(this._status.working||!this.cache.queue.length){return}this._status.working=true;if(!this._loading){this._load()}},_stopCallback:null,stop:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){};var r=function e(){for(var r=arguments.length,s=Array(r),o=0;o<r;o++){s[o]=arguments[o]}i.events.trigger("offline:bulkload:progress",a.ProgressEventType.STOP);n.apply(t,s)};this._status.working=false;if(this._loading){this._stopCallback=r}else{r()}},_initCacheValues:function e(){this.cache.queue=[];this.cache.queuedBuckets=[];this.cache.status={};this.cache.pausedByUser=false;this.cache.lastCompletedTs=null;this.cache.save()},clearCache:function e(){i.cache.cut(r);if(this.cache){this._initCacheValues()}},resetModulesStatus:function e(){this.cache.status={};this.cache.save()},_loading:false,_load:function e(){var t=this;this._loading=true;var n=false;asyncLib.whilst(function(){if(t._status.working&&t.cache.queue.length){if(!n){i.events.trigger("offline:bulkload:progress",a.ProgressEventType.START);n=true}return true}},function(e){t._loadNextModule(e)},function(e){var n=t.cache.queue.length===0;var r=t._status.bucketName;t._loading=false;if(t._stopCallback){t._stopCallback();t._stopCallback=null}t._status={working:false,module:null,count:0};if(n){t.cache.lastCompletedTs=i.utils.getTimestamp();t.cache.save();i.events.trigger("offline:bulkload:progress",a.ProgressEventType.COMPLETE,r)}})},_loadNextModule:function e(t){var n=this.cache.queue;var i=n[0];if(i){var a=i.modules[0];this._status.bucketName=i.name;this._processModule(a,function(e){t()})}else{t()}},_processModule:function e(t,n){var r=this;var s=t.name;if(!this.cache.status[s]){this.cache.status[s]={status:a.ModuleStatus.IN_PROGRESS,currentCount:0,serverOffset:0,gtFilterTimestamp:null}}this.cache.status[s].status=a.ModuleStatus.IN_PROGRESS;this.cache.save();this._status.module=s;this._status.count=this.cache.status[s].currentCount;asyncLib.whilst(function(){return r._status.working&&_.getNested(r.cache.status,s+".status")===a.ModuleStatus.IN_PROGRESS},function(e){_.delay(function(){var n=t.name;var i=r.cache.status[n];if(r._status.working&&i){r._fetchAndSaveNextPage(t,e)}else{e()}},i.config.offline.bulkLoad.requestDelay)},n)},_fetchAndSaveNextPage:function e(t,n){var r=this;var s=t.name;var o=this.cache.status[s];var l=i.metadata.getModule(s);if(!l){this._onPageComplete(new Error("Module meta of '"+s+"' is empty."),t,null,n);return}var u=t.filter||[];if(o.gtFilterTimestamp){u.push({date_modified:{$gt:new Date(o.gtFilterTimestamp).toISOString()}})}var c=o.serverOffset||0;var d={fields:i.metadata.getModule(s,"mergedFields").join(),max_num:t.pageSize,order_by:"date_modified:desc",filter:u,offset:c,e2e_skip:i.config.scheme==="e2e",erased_fields:1};i.events.trigger("offline:bulkload:progress",a.ProgressEventType.PAGE_START);i.offline.api.callOriginalApi("records",["read",s,null,d,{success:function e(a){var s=a.records;if(s.length){if(c===0){o.firstRecordTimestamp=a.records[0].date_modified;r.cache.save()}i.offline.storage.saveRecords({module:t.name,serverData:s,backgroundMode:true,callback:function e(i){r._onPageComplete(i,t,a,n)}})}else{r._onPageComplete(null,t,a,n)}},error:function e(i){r._onPageComplete(i,t,null,n)}}])},_pageRetryCount:0,_retriesLim:3,_onPageComplete:function e(t,n,r,s){var o=n.name;var l=this.cache.status[o];var u=true;if(t){if(t instanceof i.offline.Error){if(t===i.offline.Error.OfflineDisabledError){this.stop()}else{i.logger.error("Bulk Loader ("+o+"): Failed to save records to database. "+t);l.status=a.ModuleStatus.OFFLINE_ERROR+".Code:"+t.code;l.currentCount=0;this._shiftQueue()}}else if(t.status===412){this.stop();i.logger.debug("Bulk Loader ("+o+"): metadata change detected. Invoking default handler.");this.error412Handler(t)}else if(i.utils.isConnectivityError(t)&&this._pageRetryCount<this._retriesLim){i.logger.debug("Bulk Loader("+o+"): Server connectivity error. Retrying.");this._pageRetryCount++;u=false}else{var c=_.isUndefined(t.status)?a.ModuleStatus.UNKNOWN_ERROR:t.status;i.logger.error("Bulk Loader ("+o+"): Server error - "+c);l.status=c;l.currentCount=0;this._shiftQueue()}}else{i.events.trigger("offline:bulkload:progress",a.ProgressEventType.PAGE_FINISH,{module:o});var d=r.records.length;if(d){l.currentCount+=d;l.serverOffset+=d;this._status.count=l.currentCount;this.cache.save()}if(r.next_offset===-1||l.currentCount>=n.limit){l.status=200;l.currentCount=0;if(r.next_offset===-1&&l.firstRecordTimestamp){l.gtFilterTimestamp=i.utils.getTimestamp(l.firstRecordTimestamp);l.serverOffset=0}l.firstRecordTimestamp=null;this._shiftQueue()}}if(u){this._pageRetryCount=0}s(t)},_shiftQueue:function e(){this.cache.queue[0].modules.shift();if(this.cache.queue[0].modules.length===0){this.cache.queue.shift()}this.cache.save()}};i.offline.syncManager.bulkLoader=o;e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3);var r=n(13);e.exports={LAST_SENT_TIMESTAMP:"offline:db_analytics:last_sent_timestamp",_onBulkLoadProgress:function e(t,a){var r=n(28);var s=n(25);if(t===s.ProgressEventType.COMPLETE&&a===s.BucketType.COMPLETE){var o=[];_.each(r.getCache().status,function(e,t){if(e.status!==200){o.push(_.extend({name:t},e))}});if(o.length===0){i.analytics.trackEvent({category:"bulkload",action:"success",value:null,label:i.clientInfo.device.uuid})}else{i.analytics.trackEvent({category:"bulkload",action:"failure",value:null,label:i.clientInfo.device.uuid});_.each(o,function(e){i.analytics.trackEvent({category:"bulkload-error-"+e.name,action:e.status,value:undefined,label:i.clientInfo.device.uuid})})}}},onOfflineToggled:function e(t){if(!i.config.analytics.enabled){return}if(t){var n=r.getSetting({store:r.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP});if(!n){r.setSetting({store:r.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP,value:(new Date).getTime()})}i.events.on("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.on("offline:cleanup:completed",this._trackModulesLimitHit,this)}else{i.events.off("offline:bulkload:progress",this._onBulkLoadProgress,this);i.events.off("offline:cleanup:completed",this._trackModulesLimitHit,this);r.removeSetting({store:r.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP})}},_trackModulesLimitHit:function e(t){_.each(t,function(e){i.analytics.trackEvent({category:"db-limit",action:e.moduleName,value:null,label:i.clientInfo.device.uuid})})},processPeriodicAnalytics:function e(t){if(!i.config.analytics.enabled){return}var n=r.getSetting({store:r.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP});var a=(new Date).getTime();var s=i.config.analytics.dbAnalyticsInterval*60*60*1e3;var o=a-n;if(o>=s){this._sendRecordsCountAnalytics(t);r.setSetting({store:r.Stores.LAST_STATE,name:this.LAST_SENT_TIMESTAMP,value:a})}},_sendRecordsCountAnalytics:function e(t){_.each(t.count,function(e,t){var n=a.getRange(e,1e3);i.analytics.trackEvent({category:"offline-count-"+t,action:n,value:undefined,label:i.clientInfo.device.uuid})});i.analytics.trackEvent({category:"offline-count",action:a.getRange(t.totalRecords,1e3),value:undefined,label:i.clientInfo.device.uuid})}}},function(e,t,n){"use strict";var i="db_cleanup";var a=n(10);var r=n(13);var s=SUGAR.App;e.exports={_working:false,_offlineConfirmedCacheKey:"offline:cleanup:confirmed",cleanUp:function e(t){var i=this;if(this._working){return Promise.resolve()}var a=n(32);var o=r.getSetting({store:r.Stores.LAST_STATE,name:this._offlineConfirmedCacheKey});var l=t?Promise.resolve(t):a.getOfflineDbStats();return l.then(function(e){var t=i._getModulesToCleanUp(e);if(_.isEmpty(t)){return null}return o?i.cleanUpStorage(t):i.showCleanupAlert(t)}).catch(function(e){return s.logger.error(e.message)})},showCleanupAlert:function e(t){var i=this;var a=n(5);return new Promise(function(e){a.showAlert(s.lang.get("ERR_OFFLINE_CLEAN_UP_CONFIRMATION"),{callback:function t(n){r.setSetting({store:r.Stores.LAST_STATE,name:i._offlineConfirmedCacheKey,value:true});s.nomad.dismissAlerts();e()}})}).then(function(){return i.cleanUpStorage(t)})},_getModulesToCleanUp:function e(t){var n=[];var i=s.config.offline.dbLimits;_.each(t.count,function(e,t){if(e>(i.modules[t]||i.default)){n.push({moduleName:t,recordsCount:e})}});return n},cleanUpStorage:function e(t){var n=this;return new Promise(function(e,r){var o=(new Date).getTime();var l=1e3*60*60*24;var u=new Date(o-l*s.config.offline.cleanUp.defaultPurgeInterval);n._working=true;u=s.utils.getTimestamp(u);a.show("offline:cleanup");s.alert.show(i,{level:"info",messages:s.lang.get("LBL_OFFLINE_DB_CLEANING_IN_PROGRESS"),autoClose:false,closable:false});s.offline.compactStorage({expirationDate:u,modules:t,callback:function o(l){a.hide("offline:cleanup",{animate:true});s.alert.dismiss(i);s.events.trigger("offline:cleanup:completed",t);n._working=false;if(l){r(l)}else{e()}}})}).then(function(){s.alert.show(i,{level:"success",messages:s.lang.get("LBL_OFFLINE_DB_CLEANING_COMPLETED"),autoClose:true,closable:true})}).catch(function(e){if(e!==s.offline.Error.OfflineDisabledError){s.alert.show(i,{level:"error",messages:s.lang.get("ERR_OFFLINE_DB_CLEANING_ERROR"),autoClose:true,closable:true})}})}}},function(e,t,n){"use strict";var i=function e(){this.stack=[];this.hash={}};i.prototype={clear:function e(){this.stack=[];this.hash={}},iterate:function e(t,n){_.each(this.stack,function e(n,i){t.call(this,n.item,i)},n)},remove:function e(t,n){var i=[];if(_.isFunction(t)){_.each(this.stack,function(e,a){var r=t.call(n,e.item,a);if(r){i.push(e)}},this);_.each(i,function e(t){this.remove(t.uid)},this)}else{var a=-1;var r=void 0;for(var s=0;s<this.stack.length;s++){if(_.isString(t)?this.stack[s].uid===t:this.stack[s].item===t){a=s;r=this.stack[s];break}}if(a>-1&&r){delete this.hash[r.uid];this.stack.splice(a,1)}}},shift:function e(){var t=this.stack.shift();delete this.hash[t.uid];return t.item},pop:function e(){var t=this.stack.pop();delete this.hash[t.uid];return t.item},push:function e(t,n){if(!this.hash[t]){this.stack.push({uid:t,item:n})}this.hash[t]=n},get:function e(t){return this.hash[t]},getByIndex:function e(t){var n=this.stack[t];return n?n.item:null},count:function e(){return this.stack.length},isEmpty:function e(){return!this.stack.length}};e.exports=i},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={saveUser:function e(){i.cache.set("user",i.user.toJSON())},restoreUser:function e(){i.user.set(i.cache.get("user")||{})}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(22);var r=n(2);var s=n(6);var o=n(9);var l=n(3),u=l.resolveUrl;var c=r.extendComponent(o,{_stringType:"about",events:{"click .legal a":function e(t){t.preventDefault();s.openUrl(t.target.href)},"click .support_email":function e(t){t.preventDefault();var n=i.isNative?"\n\n\nrequest ID: "+i.clientInfo.device.uuid:"";s.sendConsoleLog({email:i.config.about.supportEmail,subject:i.config.productName+" support request",body:n})},"click .support_website":function e(t){t.preventDefault();s.openUrl(i.config.about.support)},"click .server_url a":function e(t){t.preventDefault();s.openUrl(this._getServerUrl())},"swipeRight .support_website":function e(t){if(i.config.about.supportEmailVisible!=="concealed"){return}this._feedBack=(this._feedBack||0)+1;if(this._feedBack>=3){this.getField("support_email").$el.showElement()}}},onAfterRender:function e(){var t=this;if(i.config.about.supportEmailVisible==="visible"){this.getField("support_email").$el.showElement()}var n=["sdk_version","support_website","trial_until"];[!i.config.about.showSdkVersion,_.isEmpty(i.config.about.support),_.isEmpty(i.config.trialUntil)].forEach(function(e,i){if(e){t.getField(n[i]).$el.hideElement()}})},initialize:function e(t){var n=a.getServerVersion();this._super(t);_.extend(this,{showAttribution:i.config.about.showAttribution,_displayTrademarks:i.config.about.displayTrademarks,_copyrightText:i.config.about.copyrightText,_trademarkText:i.config.about.trademarkText,_trademark2Text:i.config.about.trademark2Text});var r=this._getServerUrl().replace(/(http:\/\/)|(https:\/\/)|(\/rest\/v10\/)/,"");this.model.set({app_version:a.getProductVersion(),trial_until:i.config.trialUntil,sdk_version:a.getSdkVersion(),server_version:n,server_url:r,support_email:i.config.about.supportEmail,support_website:i.config.about.support,privacy:i.config.about.privacy,tos:i.config.about.tos,thirdPartySoftware:i.config.about.thirdPartySoftware})},_getServerUrl:function e(){var t=void 0;var n=i.api.isAuthenticated()?i.loginManager.getSetting():i.loginManager.getTempSetting();if(i.isNative){t=n.loginUrl;if(!t&&!i.config.loginSettings.showLoginUrl&&i.config.loginSettings.defaultServerUrl){t=i.config.loginSettings.defaultServerUrl}}else{t=n.siteUrl;if(t.indexOf("..")===0){t=u(t,window.location.href)}}return t||""}});e.exports=c},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(66);var s=a.extendComponent(r,{events:function e(){var e=this._super();_.extend(e,{"click .rate-btn":"onSelect","click .submit-rate-app":"onRateAppSelect","click .cancel-rate-app":"onRateAppCancel"});return e},name:"nps-actionsheet",template:"nps-actionsheet",onRateAppSelect:function e(t){this.options.onRateAppSelect();this.remove()},onSelect:function e(t){var n=this;if(this.options.confirmVisible){return}var a=parseInt($(t.currentTarget).attr("data-index"),10)+1;this.options.onSelect({rateCount:a});if(!this.options.storeUrl||a<i.config.nps.minRatingForStore){_.extend(this.options,{confirmVisible:true,rateCount:a});this.render();_.delay(function(){n.remove()},i.config.nps.autoCloseTimeout)}else{_.extend(this.options,{rateAppVisible:true});this.render()}},onRateAppCancel:function e(t){this.remove()}},{show:function e(t){var n=t.onSelect,a=n===undefined?_.noop:n,r=t.onRateAppSelect,o=r===undefined?_.noop:r,l=t.onCancel,u=l===undefined?_.noop:l,c=t.storeUrl;return new s({onSelect:a,onRateAppSelect:o,onCancel:u,rateCount:0,ratingMsg:i.lang.get("LBL_NPS_RATING_MSG",null,{productName:i.config.productName}),storeUrl:c})}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(76);var s=a.extendComponent(r,{tpl:"alert",events:{click:"onClick"},initialize:function e(t){if(_.isUndefined(t.closeable)){t.closeable=t.level!=="info"}this._super(t)},close:function e(t){if(this.disposed){return}var n=this.dispose.bind(this);t=t||{};var i=!($.os.android&&this.options.level==="load");i=_.isUndefined(t.animate)?i:t.animate;if(i){this.$el.animate({minHeight:"0",height:"0",borderTop:"0"},500,"ease",function(){n()})}else{n()}},render:function e(){var t=this.options;var n=i.template.get(t.tpl||this.tpl)||i.template.empty;this.$el.html(n(t))},onClick:function e(){if(this.options.closeable){i.alert.dismiss(this.key)}}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(49);var s=n(27);var o=n(24);var l=n(3);var u=a.extendComponent(r,{_stringType:"dashboard",navigationName:s.DASHBOARD,template:"dashboard",lazyRender:true,lazyLoad:true,activeIndex:null,switcherCss:"dashboard-container",hiddenViewCss:"",events:function e(){return{"click .dashlets__list .dashlet__item":"_onDashletItemClick"}},globalEvents:{"app:orientation:changed":"_onOrientationChange"},_dashlets:null,_isRecordDashboard:false,_$dashboard:null,_dashletTypeMap:{"tabbed-dashlet":"tabbed-list-view-dashlet",dashablelist:"list-view-dashlet",casessummary:"cases-summary","sales-pipeline":"forecast-pipeline",twitter:"twitter-container-dashlet"},initialize:function e(t){var n=o.getDashboard(t.dashboardId||t.id);this._isRecordDashboard=n.get("dashboard_module")!=="Home"&&n.get("view_name")==="record";if(this._isRecordDashboard){var a=t.context.get("parentModel");this.parentModel=i.data.createBean(t.parentModule,a?a.toJSON():{id:t.parentModelId});t.parentModel=this.parentModel;if(!a){this.listenTo(this.parentModel,"sync",function e(){this.updateHeader()});this.parentModel.fetch()}}t.model=n;t.context.set({model:n,parentModel:this.parentModel});this._super(t)},_getDashboardName:function e(){var t=this._isRecordDashboard?this.parentModel:this.model;var n=l.isNameErased(t);if(n){return i.lang.get("LBL_VALUE_ERASED")}var a=t.get("name");var r=this._isRecordDashboard?this.module:"Home";return i.lang.get(a,r)||null},updateHeader:function e(){var t=this.currentView;var n=this._isRecordDashboard;var a={subtitle:n&&i.lang.getModuleName(this.parentModel.module),dashboardHome:Boolean(t&&!n),back:false,mainMenu:true,title:this._getDashboardName()||i.lang.get("LBL_LOADING"),offlineEnabled:i.offlineEnabled};var r=void 0;if(t){r=t.title;if(t.dataTitle){r+=t.dataTitle}}else{r=this._getDashboardName()}if(this._isRecordDashboard){this.setSubtitle(r);a.back=i.isTablet?!this.options.isRootScreen:true}else{a.title=r}i.controller.updateHeader(this,function(){return a})},showDashboardHome:function e(){i.controller.goUp()},loadData:function e(){},getFieldNames:function e(t){return null},onAfterShow:function e(){this.handleActiveDashlet();var t=this.options.isRootScreen;var n=this.options.isRecordVisible;var i=t&&n?"root":"record";this.setPaginatorVisible(i!=="root");this.updateHeader();this._super()},onHeaderDashboardHomeClick:function e(){this.showDashboardHome();return true},createSwitcher:function e(){this.omitSwitcherForOneView=false;this.viewSwitcher={switcherType:r.SwitcherTypes.PAGINATION,options:{$parentEl:this.$el,containerSelector:".dashlets__slider-area",settings:{wrapperClass:"dashlets__slider",slideClass:"dashlet__b",spaceBetween:2}}};this._super()},getViewDefs:function e(t){var n=t.model.get("metadata")||{};var i=[];this._dashlets=[];_.each(n.dashlets,function e(t,n){var a=t.view;this._dashlets.push({index:n,meta:t,title:o.getDashletTitle(a),icon:this._getDashletIcon(a)});i.push(this._getDashletViewCfg(t))},this);return i},_getDashletViewCfg:function e(t){var n=t.view.type;var r=i.metadata.getView(null,n);var s=this.options.parentModel||this.options.context.get("parentModel");var l=o.getDashletTypeRegistry();if(r&&r.tabs){n="tabbed-dashlet"}n=l[n]||this._dashletTypeMap[n]||n;var u=_.isFunction(n)?n:a.getViewClass({baseType:n,module:t.view.module});return{viewId:t.id,dashletId:t.id,name:u,meta:t,module:t.view.module,dashboardId:this.options.model.id,parentModel:s}},getActiveDashletId:function e(){var t=this._dashlets[this.activeIndex];return t&&t.meta.id},_checkSwiperUpdateRequired:function e(){if(i.navigation.manager.hasStepChanged()){this.viewSwitcher.update()}},handleActiveDashlet:function e(){var t=i.controller.getScreenContext().dashletId;var n=this.getActiveDashletId()===t;this._$dashboard=this._$dashboard||this.$el.parent(".layout__Dashboards");if(t){this.ensureDashlets(t);var a=!this.currentView||this.currentView.meta.id!==t;var r=this.currentView&&this.currentView._dataObsolete;this._checkSwiperUpdateRequired();if(a){var s=_.findIndex(this._dashlets,function(e){return e.meta.id===t});this.switchView({index:s,disableAnimation:n})}else if(r){this._loadView(this.currentView)}}else{this.home()}},ensureDashlets:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.options.dashletId;var n=this.shouldRenderDashlets;this.shouldRenderDashlets=Boolean(t);if(!n&&this.shouldRenderDashlets){this.render()}},home:function e(){this.setDashletsVisible(false);this.setSubtitleVisible(false);if(this.currentView){this.currentView.onBeforeHide()}this.abortActiveRequests();this._currentOrEachView(function(e){e.unbindGlobalEvents()});this.activeIndex=null;this.currentView=null;this.trigger("views:switch")},createView:function e(t){var n=this._super(t);n._dataObsolete=true;return n},_onDashletItemClick:function e(t){var n=$(t.currentTarget).data("dashlet-index");var i=this._dashlets[n];if(i.meta.view){_.extend(i.meta.view,{invokedFromDashboard:true})}this.navigateByIndex(n)},switchView:function e(t){if(this.currentView){this.currentView.onBeforeHide()}else{t.disableAnimation=true}this._super(t);var n=this._dashlets[this.activeIndex];if(n.meta.view.invokedFromDashboard){this.currentView.onInvokedFromDashboard();n.meta.view.invokedFromDashboard=false}this.setDashletsVisible(true);if(this._isRecordDashboard){this.setSubtitle(n.title);this.setSubtitleVisible(true)}this.updateHeader(this.currentView)},onSwitchView:function e(t){if(t.index!==this.activeIndex){this.navigateByIndex(t.index)}},navigateByIndex:function e(t){var n=String(this._dashlets[t].meta.id);this.navigateToDashlet(n)},navigateToDashlet:function e(t){var n=this.model;var a=i.controller.getScreenContext();var r=void 0;var s=void 0;var o=void 0;if(this._isRecordDashboard){if(a.link){s=[a.parentModule,a.parentModelId,"link",a.link,a.modelId,"Dashboards",n.id,t]}else if(a.moduleLink){s=[a.linkParentModule,a.linkParentModelId,"link",a.moduleLink,a.parentModelId,"Dashboards",a.dashboardId,t]}else{r=this.options.parentModelId||this.context.get("parentModelId");s=[n.get("dashboard_module"),r,"Dashboards",n.id,t];if(a.root){s.splice(0,0,i.controller.getScreenContextRoot())}}o=s.join("/")}else{o=i.router.buildRoute(this.module,n.id,t)}i.controller.navigate(o,{initiator:this.navigationName})},_getDashletIcon:function e(t){var n=o.getDashletTypeRegistry()[t.type];var a=n&&_.getNested(n.prototype,"iconKey");if(a){return a}var r=t.template==="tabbed-dashlet";var s=r?i.config.ui.icons.dashlets["tabbed-dashlet"]:i.config.ui.icons.dashlets;var l=r?"dashlets.tabbed-dashlet":"dashlets";return s[t.type]&&l+"."+t.type||"dashlets.default"},setSubtitle:function e(t){this.$el.find(".dashlets__title").text(t)},setSubtitleVisible:function e(t){this.$el.find(".dashlets__title").toggleElement(t)},setPaginatorVisible:function e(t){if(!this.currentView||this._dashlets.length===1){t=false}this._$dashboard.toggleClass("show-paginator",t)},setDashletsVisible:function e(t){this._$dashboard.toggleClass("show-dashlets",t);this.setPaginatorVisible(t)},_dispose:function e(){this._super();this._dashlets=null;this._$dashboard=null}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(2);var s=n(48);var o=n(49);var l=n(43);var u=n(151);var c=n(50);var d=r.extendComponent(s,{isRecSummaryVisisble:true,isRelatedRecsVisible:true,isActivityStreamVisible:true,isDashboardsTabVisible:true,getViewDefs:function e(t){this.isActivityStreamVisible=this.isActivityStreamVisible&&i.supportedFeatures.activities&&i.metadata.getModule(t.module).activityStreamEnabled;return[{view:l,viewId:"detail",module:t.module,overlayTarget:this.$el},{view:o,viewId:"tabs",className:"view__detail-tabs",partialLoadEnabled:true,views:this.getTabViews(t),viewSwitcher:o.SwitcherTypes.TABS}]},getTabViews:function e(t){var n=[];if(this.isRecSummaryVisisble){n.push(this.getRecSummaryViewDef(t))}if(this.isRelatedRecsVisible){n.push(this.getRelatedRecsViewDef(t))}if(this.isDashboardsTabVisible){n.push(this.getDashboardsDef(t))}if(this.isActivityStreamVisible){n.push(this.getActivityStreamViewDef(t))}return _.compact(n)},getRecSummaryViewDef:function e(t){return{title:i.lang.get("LBL_DETAILS"),view:c,viewId:"recordsummary",module:t.module,overlayTarget:this.$el}},getRelatedRecsViewDef:function e(t){return{title:i.lang.get("LBL_DETAIL_RELATED"),view:u,module:t.module,modelId:t.modelId,viewId:"relatedrecs",gaData:{category:"click",action:"tab-related"}}},getDashboardsDef:function e(t){var n=a.dashboards.getDashboards({module:t.module});var s=t.modelId;if(!i.config.dashboards.recordDashboardsEnabled||_.isEmpty(n)||!i.config.dashboards.enabled){return}var l=_.map(n,function(e){return{id:e.id,viewId:e.id,view:r.getViewClass({baseType:"dashboard"}),module:"Dashboards",title:i.lang.get(e.get("name"),t.module),parentModelId:s,parentModule:t.module,model:e}});return{title:i.lang.get("LBL_DASHBOARDS"),view:o,viewId:"recdashboard",views:l,viewSwitcher:o.SwitcherTypes.DROPDOWN,gaData:{category:"click",action:"tab-dashboard"}}},getActivityStreamViewDef:function e(t){return{title:i.lang.get("LBL_ACTIVITY_STREAM"),view:r.getViewClass({baseType:"list",module:"Activities"}),viewId:"activities",dashletName:"activitystream-dashlet",module:"Activities",parentModel:t.context.get("model"),gaData:{category:"click",action:"tab-activity-stream"}}}});e.exports=d},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(3),s=r.supportsFollowing;var o=n(2);var l=n(5);var u=n(8);var c=_.noop;var d=o.extendComponent(u,{events:{"click .delete:not(.disabled)":"rollbackRecord"},globalEvents:{"offline:tx:delete":"onTxDeleted"},template:"detail.TxLog",_render:function e(){if(!this.model.get("_tx_action")){return}this._super()},onBeforeRender:function e(){var t=this.model.get("_tx_bean_module");var n=parseInt(this.model.get("_tx_action"),10);var i=a.metadata.getModule(t);var r=i||{fields:{}};this.updatedFields=a.utils.deepCopy(this.model.get("_tx_updated_fields"));if(this.updatedFields){var o=this.updatedFields.currency_id;var l=this.updatedFields.parent_type;if(l){l=_.clone(l)}else if(this.updatedFields.parent_id){this.model.attributes.parent_type=this.model.attributes.bean.parent_type}var u=void 0;switch(n){case a.offline.SyncActions.CREATE:case a.offline.SyncActions.UPDATE:u=this._getViewableFields(t);this.updatedFields=u?_.pick(this.updatedFields,this._getViewableFields(t)):this.updatedFields}if(a.offline.SyncActions.LINK===n||a.offline.SyncActions.UNLINK===n){this.updatedFields.link=true}else{_.each(this.updatedFields,function e(n,u){if(u==="my_favorite"){n.vname="LBL_ACTION_FAVORITE";delete n.before;n.after=""+n.after}else if(u==="following"){if(s(this.model)){n.vname="LBL_ACTION_FOLLOW";delete n.before;n.after=""+n.after}else{delete this.updatedFields.following}}else{var c=_.contains(["assigned_user_id","deleted","currency_id"],u)||n.type==="id";if(i&&(!r.fields[u]||!a.config.offline.debug.render&&c)){delete this.updatedFields[u];return}n.vname=r.fields[u]||u;_.extend(n,r.fields[u]);var d={def:r.fields[u]||{type:"varchar",name:u},view:this,model:this.model,module:t};if(d.def.type==="email"){d.def=_.defaults({type:"varchar"},d.def);n.before=_.pluck(n.before,"email_address").join(", ");n.after=_.pluck(n.after,"email_address").join(", ")}var f=a.view.createField(d);var h=a.view.createField(d);if(n.before||n.before===0){f.model.set(u,n.before,{silent:true});if(n.type==="currency"&&o){f.model.set("currency_id",o.before,{silent:true})}else if(n.type==="parent"&&l){f.model.set("parent_type",l.before,{silent:true})}n.before=f.render()}h.model.set(u,n.after,{silent:true});if(n.type==="currency"&&o){h.model.set("currency_id",o.after,{silent:true})}else if(n.type==="parent"&&l){h.model.set("parent_type",l.after,{silent:true})}n.after=h.render()}},this)}}this.fields={};this._super()},_getViewableFields:function e(t){var n=a.metadata.getView(t,"edit");if(n){return _.reduce(n.panels,function(e,t){var n=[];_.each(t.fields,function(e){if(e.fields){n.push.apply(n,i(_.pluck(e.fields,"name")))}else{n.push(e.name)}});return _.union(e,n)},[])}return null},onAfterRender:function e(){this._super();_.each(this.updatedFields,function(e,t){if(t==="my_favorite"||t==="following"||!e){return}if(e.before){e.before.dispose();e.before=null}if(e.after){e.after.dispose();e.after=null}},this)},_rollbackTx:function e(){var t=this;l.showConfirm(a.lang.get("LBL_OFFLINE_ROLLBACK_PROMPT"),{callback:function e(n){if(n===2){a.offline.storage.rollbackTransaction(t.model.attributes,{},function(e){if(e){a.alert.show("rollback_success",{level:"error",messages:a.lang.get("LBL_OFFLINE_ROLLBACK_FAILED"),closeable:true,autoClose:true});a.logger.error(""+e)}else{t.collection.remove(t.collection.get(t.model.id));a.alert.show("rollback_success",{level:"success",messages:a.lang.get("LBL_OFFLINE_ROLLBACK_SUCCESS"),closeable:true,autoClose:true});a.controller.clean();a.controller.goBack()}})}}})},rollbackRecord:function e(t,n){if(a.offline.syncManager.isSyncing()){l.showAlert(a.lang.get("LBL_OFFLINE_SYNC_IN_PROGRESS"))}else{this._rollbackTx()}},onTxDeleted:function e(t){if(t.txOptions.txId===this.model.get("_tx_uid")){this.$el.find(".btn.delete").addClass("disabled").html(a.lang.get("LBL_OFFLINE_TRANSACTION_SYNCED"))}},loadData:function e(t){var n=this;this.model.sync=function e(t,i,r){var s=r.success;asyncLib.waterfall([function e(t){r.success=function e(n){t(null,n)};a.offline.storage.readTransactions(r,{id:i.id})},function e(t,n){if(t){a.offline.storage.fillTxLogData([t],function(){n(null,t)})}else{n(new c)}}],function(e,t){if(!e){s(t);n.render()}else if(e instanceof c){a.controller.clean();a.controller.goBack()}})};this.model.fetch(t)}});e.exports=d},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(67);var s=n(26);var o=a.extendComponent({parent:r},{_isDateRangeMode:false,initialize:function e(t){this._super(t);this._initDateRangeProperty();if(this._isDateRangeMode){this.model.addValidationTask("date_range_validation",_.bind(this._validateRange,this))}},_initDateRangeProperty:function e(){var t=["date_start","date_end"];this._isDateRangeMode=_.some(this.options.meta.panels[0].fields,function(e){return e.type==="fieldset"&&_.intersection(e.related_fields,t).length===t.length})},onAfterRender:function e(){if(!this.context.isCreate()){var t=this.getField("invitees");if(t){t.$el.hideElement()}}this._super();this._setDefaultDateValues()},setCallData:function e(t){this.model.set(t);if(this._isDateRangeMode){this._populateEndDateByDuration(t)}this._skipSetDefaults=true},save:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];t.push("send_invites");if(this._isDateRangeMode){if(_.intersection(this._getChangedFields(),["date_start","date_end"]).length){t.push("duration_hours","duration_minutes")}}else{this.model.unset("date_end")}this.sendInvites=this.model.get("send_invites");this._super(t)},_saveRecord:function e(t,n){n=_.without(n,"invitees");this._populateDurationValues();this._super(t,n)},_validateRange:function e(t,n,a){var r=this.model.get("date_start");var s=this.model.get("date_end");var o=void 0;var l=void 0;var u=void 0;if(r&&s){u=i.date.compare(r,s)<1;if(!u){o=this.getField("date_start");l=this.getField("date_end");n.date_start={isBefore:l.label};n.date_end={isAfter:o.label}}}a(null,t,n||{})},_setDefaultDateValues:function e(){var t=i.date().seconds(0);if(this._skipSetDefaults||!this.context.isCreate()){return}if(t.minutes()>30){t.add("h",1).minutes(0)}else if(t.minutes()>0){t.minutes(30)}this.model.set({date_start:t.formatServer(),duration_hours:0,duration_minutes:30});if(this._isDateRangeMode){this._populateEndDateByDuration()}this.model.set({send_invites:false});this._skipSetDefaults=true},_populateEndDateByDuration:function e(t){var n=this.model;var a=n.get("date_start");if(!a){return}var r=t?t.duration_hours:n.get("duration_hours");var s=t?t.duration_minutes:n.get("duration_minutes");var o=i.date(a).add("h",r).add("m",s).formatServer();n.set("date_end",o)},_populateDurationValues:function e(){if(!this._isDateRangeMode){return}var t=this.model;var n=i.date(t.get("date_end")).diff(t.get("date_start"));t.set("duration_hours",Math.floor(i.date.duration(n).asHours()));t.set("duration_minutes",i.date.duration(n).minutes())},_getSavingTasks:function e(t){var n=s.prototype._getSavingTasks.call(this,t);var a=this;var r=this.model.get("invitees");if(r){_.each(r,function(e){n.push(function(t){var n=i.data.createRelatedBean(a.model,e.id,e.link);n.save(null,{relate:true,fields:["id"],success:function e(){t()},error:function e(n){t(n)}})})})}if(this.sendInvites&&this.context.isCreate()){n.push(function(e){a.model.set({send_invites:true},{silent:true});a._saveRecord(e,["send_invites"])})}return n},onBeforeValidate:function e(){if(this.context.isCreate()){this.model.unset("send_invites",{silent:true})}},handleSaveError:function e(t){this._super(t);if(!t.isFileUploadError){if(this.model){this.model.set({send_invites:this.sendInvites},{silent:true})}}}});e.exports=o},function(e,t,n){"use strict";var i=n(2);var a=n(26);var r=i.extendComponent(a,{onAfterRender:function e(){this._super();var t=void 0;if(this.model.link){t=this.model.link.bean.id}if(this.context.isCreate()&&_.isEmpty(this.model.get("opportunity_id"))){this.model.set("opportunity_id",t)}}});e.exports=r},function(e,t,n){"use strict";var i=n(2);var a=n(26);var r=i.extendComponent(a,{initialize:function e(t){this._super(t);this.model.on("change:attachment_list",_.bind(this._onChangeAttachmentList,this))},_onChangeAttachmentList:function e(){if(this.model.hasChanged("picture")){this.trigger(this.ACTION_NAME,{name:"user:picture:change",options:{pictureId:this.model.get("picture")}})}}});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.stripLastEmptyStrings;var s=n(2);var o=n(9);var l=s.extendComponent(o,{_stringType:"textarea-edit",editElTag:"textarea",setValue:function e(t){var n=this.$(this.editElTag);var i=Boolean(this.context.get("isReadOnly"));n.val(t);if(i){n.attr("readOnly",i)}if(t||i){return}n.attr("tabindex",1e5).attr("name","somename").get(0).focus()},getValue:function e(){return this.$(this.editElTag).val()},save:function e(){var t=this.getValue();var n=r(t);this.context.get("parentModel").set(this.context.get("fieldName"),n);i.controller.goBack()},onHeaderSaveClick:function e(){this.save()}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(8);var s=a.extendComponent(r,{_stringType:"error-emulation",globalEvents:{"app:error:emulation:exceptions":"processExceptions"},events:{"click .error-emulation-check input":"onClick","change .error-emulation-select":"onSelectChange"},initialize:function e(t){var n=["app:error:emulation:offline","app:error:emulation:http","app:error:emulation:api","app:error:emulation:crud","app:error:emulation:exceptions"];_.each(n,function(e){i.events.unregister(i,e);i.events.register(e,i)});this._super(t)},loadData:function e(){},onBeforeRender:function e(){var t=i.config.errorEmulation;var n=t.emulationExceptions;var a=_.findWhere(t.http,{status:true});var r=_.keys(t.api);var s=void 0;var o=void 0;if(a){s=_.contains(_.keys(n),a.name);if(n[a.name]){o=_.difference(r,n[a.name].methods)}}this.crudDisabled=s;this.offlineErrorItems={};_.each(t.offline,function e(t,n){this.offlineErrorItems[n]=t.status},this);this.offlineDisabled=_.isEmpty(this.offlineErrorItems);this.httpErrorItems={};_.each(t.http,function e(t){this.httpErrorItems[t.name]=t.status},this);this.apiErrorItems={};_.each(t.api,function e(t,n){this.apiErrorItems[n]={status:t.status,crud:t.crud,disabled:o&&_.contains(o,n)}},this);if(!i.serverInfo.isSevenUp){delete this.apiErrorItems.follow}},onAfterRender:function e(){this.$crudSelects=this.$el.find("[data-type=crud]");this.$apiBoxes=this.$el.find("[data-type=api]")},onClick:function e(t){var n=$(t.target).data("type");var a=$(t.target).data("key");var r="app:error:emulation:"+n;i.config.errorEmulation[n][a].status=!i.config.errorEmulation[n][a].status;i.trigger(r,a)},onSelectChange:function e(t){var n=$(t.target).attr("data-type");var a=$(t.target).attr("data-parent-type");var r=t.target.value;var s="app:error:emulation:"+n;var o=a?i.config.errorEmulation.api[a][n]:i.config.errorEmulation[n];this.updateConfig(o,r);i.trigger(s,r)},updateConfig:function e(t,n){var i=_.findWhere(t,{name:n});_.each(t,function(e){e.status=false});if(n!=="default"){i.status=true}},processExceptions:function e(t){var n=this;if(t.code==="enableAll"){this.$crudSelects.prop("disabled",false);this.$apiBoxes.prop("disabled",false)}else{if(t.operation){this.$crudSelects.val(t.operation);_.each(this.$crudSelects,function(e){var a=$(e).attr("data-parent-type");var r=i.config.errorEmulation.api[a].crud;n.updateConfig(r,t.operation)});this.$crudSelects.prop("disabled","disabled")}if(t.methods){var a=_.map(t.methods,function(e){return"."+e}).join(", ");var r=this.$apiBoxes.not(a).prop("disabled","disabled").prop("checked",false);_.each(r,function(e){var t=$(e).data("key");i.config.errorEmulation.api[t].status=false})}}}});e.exports=s},function(e,t,n){"use strict";var i=n(22);var a=n(2);var r=n(6);var s=n(9);var o=a.extendComponent(s,{_stringType:"error",events:{"click #sugar_url":function e(t){t.preventDefault();r.openUrl(t.target.href)}},errors:{403:"ERR_MOBILE_NOT_AUTHORIZED"},defaultErrorLabel:"ERR_GENERIC_TITLE",onBeforeRender:function e(){if(this.options.backToSugar){this.showSugarBackLink=true;this.sugarLink=i.getDesktopUrl()+"#"+this.options.sugarRoute}this.errorCode=this.options.code;this.errorLabel=this.errors[this.errorCode]||this.defaultErrorLabel}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(69);var s=n(5);var o=n(46);var l=a.extendComponent(r,{events:{"click .header__btn--save":"onSaveClicked","click .header__btn--cancel":"onCancelClicked","click .header__btn--caret":"onCaretClicked"},initHeaderActions:function e(){this._super();var t={additionalAction:"additional:action"};_.extend(this.headerActions,t)},onBeforeRender:function e(){if(this.config.save&&!this.context.get("create")&&!i.controller.getScreenContext().isDynamic){this.config.saveHidden=true}},onAfterRender:function e(){this._super();this.addCancelSaveHandlers()},addCancelSaveHandlers:function e(){var t=this;this.model.on("data:sync:start",function(e,n,i){return t.setButtonsEnabled(false)},this).on("sync",function(e,n,i,a){return t.setButtonsEnabled(true,null,i.method)},this).on("data:sync:error",function(e,n,i){return t.setButtonsEnabled(true,i,e)},this)},setButtonsEnabled:function e(t,n,a){if(t){var r=this._hasAccessToSave();if(r){this._refreshHeaderActions()}this.$(".header__save-container").toggleElement(r);if(n&&(n.status===404||n.status===403&&a==="read"||a==="read"&&(!i.offlineEnabled||n instanceof i.offline.Error))){this.$(".header__save-container").hideElement()}if(!this._saveBtnDisabled){this.$(".header__btn--save").removeClass("disabled")}this.$(".header__btn--cancel").removeClass("disabled")}else{this.$(".header__btn--save").addClass("disabled");this.$(".header__btn--cancel").addClass("disabled")}},_refreshHeaderActions:function e(){this.availableAdditionalActions=o.getEditViewActions({view:this,model:this.model});var t=!_.isEmpty(this.availableAdditionalActions);this.$(".header__btn--caret").toggleElement(t);this.$(".header__btn--save").toggleClass("header__btn__save--combined",t)},onBackClicked:function e(){},onDashboardHomeClicked:function e(){},onHomeClicked:function e(){},onTitleClicked:function e(){},onCaretClicked:function e(t){var n=this;t.preventDefault();t.stopPropagation();var a=_.map(this.availableAdditionalActions,function(e){var t=e.label,a=e.name;return{name:_.unescape(i.lang.get(t,null,n)),googleAnalyticsName:a}});if(a.length){s._showGATrackedActionSheet(a,{title:i.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:function e(i){n._processAction(t,n.headerActions.additionalAction,{action:n.availableAdditionalActions[i].handler})}})}},_hasAccessToSave:function e(){return!this.model.get("id")||this.model.hasEditAccess()}});e.exports=l},function(e,t,n){"use strict";var i=n(2);var a=n(23);var r=n(14);e.exports=i.extendComponent(r,{template:"list",initialize:function e(t){this.itemsConfig={isModuleVisible:true};this._super(t);this.modContextData=a.getContextMeta("list");this.listViewId="listing-home"}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(33);var s=n(137);var o=n(142);var l=n(7);var u=a.extendComponent(r,{_stringType:"global-search",defaultSorting:{field:"date_modified",direction:"desc"},initialize:function e(t){this._super(t);this._ownContext=this.context},_dispose:function e(){this.context=this._ownContext;this._ownContext=null;this._super()},getListViewDef:function e(t){return[{view:o,viewId:"recentsList",module:"Recents",isEnabled:i.supportedFeatures.recents},{view:s,viewId:"searchList",module:"Search"}]},getViewContext:function e(t){var n=this.context;if(t.viewId==="recentsList"){n=new l({collection:i.data.createBeanCollection("Recents")});n.isDataFetched=function e(){var t=i.navigation.history.getPrevStep();var n=l.prototype.isDataFetched.call(this);return n?t&&t.screenOptions.root==="Search":false}}else if(t.viewId==="searchList"){n=new l({collection:i.data.createMixedBeanCollection()})}return n},onAfterRender:function e(){this._super();var t=i.supportedFeatures.recents;this.searchView=this.getViewById("searchList");this.recentsView=this.getViewById("recentsList");var n=t?this.recentsView:this.searchView;this.setActiveView(n)},setActiveView:function e(t){if(this.getCurrentList()===t){return}if(t===this.searchView){t.collection=this._adjustSearchCollectionParams(t.collection)}_.each(this.getListViews(),function(e){e.active=false});t.active=true;this.resetCollectionEvents();this.layout.context=t.context;this.context=t.context},getCurrentList:function e(){return _.find(this.getListViews(),function(e){return e.active})},filterChanged:function e(t){this.toggleSearchList(!t.recents);this._super(t)},search:function e(){var t=this;var n=this._searchBox.getPreparedState().q;var a=Boolean(n)||!this._getRecentsState();var r=this.getCurrentList().collection;if(i.supportedFeatures.recents){this.toggleSearchList(a)}r=this._adjustSearchCollectionParams(r,n);this.listenTo(r,"data:sync:complete",function(e,n,i){t._searchBox.hideProgress()});this._super()},_getRecentsState:function e(){return this._filter.getPreparedState().recents},onAfterShow:function e(){this._super();var t=this._getRecentsState();this.toggleSearchList(!t)},toggleSearchList:function e(t){var n=this.getCurrentList();var i=t?this.searchView:this.recentsView;if(n.collection.getFetchRequest()){n.collection.abortFetchRequest()}_.each(this.getListViews(),function(e){return e.getViewContainer().addClass("hide")});i.getViewContainer().removeClass("hide");this.setActiveView(i)},getFtsEnabledModules:function e(){if(i.supportedFeatures.fts){var t=[];_.each(i.metadata.getModules(),function(e,n){if(e.ftsEnabled){t.push(n)}},this);return t}return null},_adjustSearchCollectionParams:function e(t,n){t.orderBy=n?null:this.defaultSorting;delete t.limit;t.query=n;t.module_list=this.getFtsEnabledModules();return t},getFieldNames:function e(t){var n=i.metadata.getModuleNames({filter:"visible",access:"list"});var a=this._super(t);_.each(n,function(e){var t=i.metadata.getModule(e),n=t.mergedFields;if(n){a=_.union(a,n)}});return a}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(8);var s=n(59);var o=a.extendComponent(r,{template:"comments-list",events:{"click .comments-more-btn":"_showMoreComments"},_moreCommentsCount:0,initialize:function e(t){this._super(t);var n=this.options.parentModel;var a=[];if(n.get("last_comment").id){a.push(n.get("last_comment"))}this.collection=i.data.createRelatedCollection(n,"comments",a);this.listenTo(this.collection,"sync",this.onDataSyncSuccess);this.listenTo(this.collection,"data:sync:error",this.onDataSyncError);this._updateMoreCommentsCount(this.collection.length)},_updateMoreCommentsCount:function e(t){this._moreCommentsCount=this.options.parentModel.get("comment_count")-t;if(this._moreCommentsCount<0){this._moreCommentsCount=0}},_showMoreComments:function e(t){t.preventDefault();this.collection.paginate({relate:true,add:true})},onDataSyncSuccess:function e(){this._updateMoreCommentsCount(this.collection.length);this.render()},onCreateCommentItem:function e(t){var n=i.data.createRelatedBean(t,i.data.createBean("Comments"),"comments",{parent_id:t.get("id")});var a=this;s.createPost(n,{appendTo:"root",savePost:function e(t){n.save(null,{relate:true,fields:["parent_id","data"],success:function e(n){a.collection.unshift(n);a.render();t(null)},error:t})}})},onDataSyncError:function e(t){}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(11);var r=n(51);e.exports=a.extend(r,{listItemDataProvider:"lead-conversion-list-item-radio-selector",listItemTpl:"lead-conversion-list-item-radio-selector",multiselect:false,_selections:null,events:function e(){return _.extend({},this._super(),{"click .show-more-link":function e(t){this.toggleRecord(t,{expand:true})},"click .show-less-link":function e(t){this.toggleRecord(t,{expand:false})},"click .edit-link":function e(t){this.onEditClick(t)}})},initialize:function e(t){var n=this;this._super(t);var a=i.metadata.getModule(t.module,"views")["dupecheck-list"];if(a){this.additionalListFields=_.getNested(a,"meta.panels.0.fields")}this.button=this._buttonTypes.radio;this.action="dupecheck-list";this.listenTo(this.collection,"reset",function(){return n.render()})},toggleRecord:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=n.expand,a=i===undefined?true:i;t.stopPropagation();t.preventDefault();var r=$(t.target);var s=r.closest("article");s.find(".rest-fields").toggleElement(a);s.find(".show-more-link").toggleElement(!a);s.find(".show-less-link").toggleElement(a)},onEditClick:function e(t){t.preventDefault();t.stopPropagation();var n=$(t.target).closest("article");var i=n.attr("data-id");this.trigger("edit:click",this.getModel(i))},onItemElementClick:function e(t){if(!$(t.target).closest("a").length){return this._super(t)}}})},function(e,t,n){"use strict";var i=SUGAR.App;var a={name:"list-item",parent:null,prepareItemData:function e(t,n){var a=this.prepareFields(t,n);var r=n.itemsConfig;var s=Boolean(n.collection.query);var o=(i.acl.hasAccessToModel("view",t)?"has-access":"")+" "+(s?"search":"");var l={model:t,view:n,isMenuVisible:!n.contextMenuDisabled,isMenuGripVisible:!n.isListItemSwippable&&!n.contextMenuDisabled,moduleName:t.module,itemId:this.buildId(t),hasSearch:s,detailsCss:o,isModuleVisible:false};return _.extend(l,a,r)},buildId:function e(t){return t.id},extractId:function e(t){return t},prepareFields:function e(t,n){var i=t.module;var a=n.modContextData[i]||{};var r=a.additionalListFields;var s=n._getRelationshipFields();var o=s[0];if(n.collection.query){var l=t.searchInfo&&t.searchInfo.highlighted;if(l){r=_.filter(r,function(e){return!l[e.name]})}}return{titleField:a.listItemTitleField,relationshipField:o,additionalFields:_.isEmpty(r)?null:r,showLabel:n.config.ui.displayListFieldLabel}}};var r={storage:{},add:function e(t){var n=this.storage[t.parent]||t.parent||a;var r=_.extend({},n,t);var s=_.map(r.name.split("-"),i.utils.capitalize).join("");r.parent=r.name==="list-item"?null:n;this.storage[r.name]=r;this.storage[s]=r}};r.add({});r.add({name:"list-item-associate",prepareFields:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var r=a.prepareFields.apply(this,n);if(r.additionalFields){r.additionalFields=[r.additionalFields[0]]}return r}});r.add({name:"list-item-picker",prepareItemData:function e(t,n){return{view:n,model:t,label:t.get("label"),value:t.get("value"),module:t.get("module"),itemId:this.buildId(t)}},buildId:function e(t){return t.cid}});e.exports=r},function(e,t,n){"use strict";var i=n(2);var a=n(14);e.exports=i.extendComponent(a,{isPaginationEnabled:false,initialize:function e(t){this.itemsConfig={isModuleVisible:true};this._super(t)}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(5);var s=n(14);var o=a.extendComponent(s,{contextMenuActions:[{name:"delete",types:["context-menu"],label:"LBL_ROLLBACK_BUTTON",iconKey:"actions.delete",handler:function e(t,n){if(i.offline.syncManager.isSyncing()){r.showAlert(i.lang.get("LBL_OFFLINE_SYNC_IN_PROGRESS"))}else{t._rollbackTx(n)}}}],globalEvents:{"offline:tx:delete":"onTxDeleted"},listItemTpl:"list-item-tx-log",onAfterRender:function e(){this._super();this.toggleNoRecLbl()},onAfterShow:function e(){this._super();this.loadData()},_rollbackTx:function e(t){var n=this;r.showConfirm(i.lang.get("LBL_OFFLINE_ROLLBACK_PROMPT"),{callback:function e(a){if(a===2){i.offline.storage.rollbackTransaction(t.attributes,{},function(e){if(e){i.alert.show("rollback_success",{level:"error",messages:i.lang.get("LBL_OFFLINE_ROLLBACK_FAILED"),closeable:true,autoClose:true});i.logger.error(""+e)}else{n.collection.remove(n.collection.get(t.id));i.alert.show("rollback_success",{level:"success",messages:i.lang.get("LBL_OFFLINE_ROLLBACK_SUCCESS"),closeable:true,autoClose:true});i.controller.clean();if(i.controller.getScreenContext().modelId){i.controller.goBack()}n.toggleNoRecLbl()}})}}})},onTxDeleted:function e(t){var n=this.collection.where({_tx_uid:t.txOptions.txId})[0];this.collection.remove(n);this.toggleNoRecLbl();this.scroll.reflow()},toggleNoRecLbl:function e(){if(!this.collection.length){this.$(".no-records-found").show()}}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(23);var r=n(2);var s=n(14);var o=r.extendComponent(s,{events:{},fallbackFieldTemplate:"list",contextMenuDisabled:true,initialize:function e(t){t.meta=i.metadata.getView(t.module,"list");this._super(t);this.modContextData=a.getContextMeta("list")}});e.exports=o},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(21);var s=n(20);var o=n(9);var l=n(10);e.exports=a.extendComponent(o,{initialize:function e(t){this._super(t);this.showExternalLogin=i.config.loginSettings.externalLoginVisible;this.loginSettingsEditable=i.config.loginSettings.editable},checkButtonState:function e(){var t=this.$(".continue_btn");if(!t.is("[disabled=disabled]")){t.attr("disabled","disabled");t.html(Handlebars.templates.spinner());l.show("loginsettings");return true}},reEnableUpdateButton:function e(){l.hide("loginsettings");if(this.disposed){return}this.$(".continue_btn").text(i.lang.get(this.firstLaunch?"LBL_CONTINUE":"LBL_UPDATE"));this._updateSettingsBtnsState()},updateLoginSettings:function e(t){var n=this;i.alert.dismissAll("error");var a=r.getTempSetting();var o=function e(){var t=r.setTempSetting(a);r.applyLoginSettings(t)};var l=function e(){var t=r.getTempSetting();if(a.id!==t.id){s.resetCredentials()}};asyncLib.series([function(e){var t=!n.loginSettingsEditable||n.checkButtonState()&&!_.isEmpty($(".login_settings_server_url").val());e(!t)},function(e){var t=n.$(".login_settings_server_url").val();var s=n.$(".ssl_checkbox").attr("checked");var o=n.$(".sso_checkbox").attr("checked");var l={loginUrl:t||"",useHttps:s,isSSO:o};if(t!==a.loginUrl){l.loginName=""}r.applyLoginSettings(r.setTempSetting(l));r.verifyLoginSettings(function(t,a){if(t&r.LoginSettingsErrorCode.SSO_NOT_SUPPORTED){i.error.handleExternalLoginNotAvailable()}if(t&r.LoginSettingsErrorCode.SSL_NOT_SUPPORTED){n._showHttpMsg("ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN","error")}if(t&r.LoginSettingsErrorCode.SSL_AVAILABLE){n._showHttpMsg("ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN","error")}if(t&r.LoginSettingsErrorCode.OTHER_HTTP_ERROR){i.error.handleHttpError(a)}e(t)})}],function(e){n.reEnableUpdateButton();if(e){o()}else{var i=r.getTempSetting();if(!i.useHttps){n._showHttpMsg("ERR_MOBILE_HTTP_CONNECTION_USE_MSG","warning")}if(t){l();t()}}})},_updateSettingsBtnsState:function e(){if(_.isEmpty(this.$("input[type=url]").val())){this.$(".continue_btn").attr("disabled","disabled")}else{this.$(".continue_btn").removeAttr("disabled")}},_showHttpMsg:function e(t,n){i.alert.show("invalid_login_settings",{level:n,messages:i.lang.get(t),autoClose:true})}})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(12);var s=n(3),o=s.getOfflineStatusClass,l=s.isDirectionLTR,u=s.isErrorEmulationEnabled;var c=n(2);var d=n(6);var f=n(22);var h=n(9);var p=c.extendComponent(h,{_stringType:"main-menu",events:{"click #desktop":function e(t){t.preventDefault();d.openUrl(t.currentTarget.href)},"click .menu__item.disabled .menu-item__link":function e(t){t.preventDefault();t.stopPropagation()},'click .menu__item:not(.disabled) .menu-item__link:not([target="_blank"])':"onMenuItemClicked",swipe:function e(t){t.stopPropagation()}},globalEvents:{"app:logout":function e(){this.avatar=null},"offline:status:update":function e(t){var n=this.$el.find(".offline-icon");n.removeClass("status-success status-warning status-error status-default");n.addClass(o())},"app:view:change":function e(t){if(t.isDynamic){return}this.highlightActiveMenuItem(t);this.toggleMenu(false,true)},"app:orientation:changed":function e(){if(!a.isTablet){return}this.toggleMenu(false,true)}},offlineStatusIconPartial:"offline-status-icon",_isOpened:false,isOpened:function e(){return this._isOpened},initialize:function e(t){var n=this;var i=$(document.body);this.$menuLeft=a.$rootEl.find("#menu-left");this.$contentOverlay=a.$rootEl.find("#content-overlay");this._super(t);i.on("click.menu swipe.menu",function(){if(n.isOpened()){n.toggleMenu(false)}});this._isOpened=i.hasClass("show-menu-left")},start:function e(){this.render();this._loadUserPicture()},onMenuItemClicked:function e(t){var n=t.currentTarget;var i=n.getAttribute("href").substr(1);var r=_.findWhere(this.menuItems,{route:i});if(!a.isTablet){this.toggleMenu(false)}if(r&&_.isFunction(r.handler)){t.preventDefault();r.handler()}else{this.handleLinkClick(t)}},onBeforeRender:function e(){this._super();this.buildMenu()},onAfterRender:function e(){this._super();var t=a.controller.getScreenContext();this.highlightActiveMenuItem(t)},toggleMenu:function e(t,n,i){var r=this;var s=n||!a.supportedFeatures.menuAnimation?0:200;var o=$(document.body);var u=l()?1:-1;var c=u>0?"0px":"-100%";if(!i){i=i||_.noop}if(t===undefined){t=!this.isOpened()}var d={menuAnimation:{"-webkit-transform":t?"translate3d("+c+", 0, 0)":"translate3d("+u*-100+"%, 0, 0)"},overlayAnimation:{"-webkit-transform":t?"translate3d(0, 0, 0)":"translate3d("+u*-100+"%, 0, 0)"}};var f=function e(){o.toggleClass("show-menu-left",t);r._isOpened=t;if(t){r.onClose=function(){r.toggleMenu(false,n,i)};a.activeComponents.add(r)}else{r.onClose=undefined;a.activeComponents.remove(r)}i()};this.animateMenu({isShowing:t,data:d,callback:f,duration:s})},animateMenu:function e(t){var n=t.data,i=t.isShowing;if(i){$(document.body).addClass("show-menu-left")}this.$contentOverlay.animate(n.overlayAnimation,0);this.$menuLeft.animate(n.menuAnimation,t.duration,"ease-out",function(){if(t.callback){t.callback()}})},_loadUserPicture:function e(t){if(!a.api.isAuthenticated()){return}var n=a.api.buildFileURL({field:"picture",module:"Users",id:a.user.get("id")},r.getFileOptions());var i=new Image;var s=void 0;if(t){n+="&id="+t;s=true}if(!this.avatar){s=true}i.onload=_.bind(this._applyUserPicture,this,{img:i,url:n});if(s){i.src=n}else{this._applyUserPicture(this.avatar)}},_applyUserPicture:function e(t){if(this.disposed){return}var n=this.$("#me i");if(t.el){n.replaceWith(t.el);return}n.css({backgroundImage:"url("+t.url+")"}).addClass("withPicture");this.avatar={url:t.url,el:n}},highlightActiveMenuItem:function e(t){var n=t.root||t.module||t.parentModule;if(n==="TxLog"){n="Offline"}else if(n==="Dashboards"){n+="/"+t.dashboardId}this.$el.find("li").removeClass("current");this.$el.find("a[href='#"+n+"']").parent("li").addClass("current")},buildMenu:function e(){var t=[];_.each(r.dashboards.getDashboards({type:"home"}),function(e){var n=e.get("metadata");if(n&&n.dashlets.length){t.push({id:e.id,label:a.lang.getAppString(e.get("name"))||a.lang.getModString(e.get("name"),"Home")||e.get("name")})}});this.menuItems=this._getMenuItems();_.extend(this,{items:this.menuItems,userName:a.user.get("full_name"),userId:a.user.get("id"),desktopURI:f.getDesktopUrl(),offlineEnabled:a.offlineEnabled,errorEmulationEnabled:u(),offlineStatusIconPartial:this.offlineStatusIconPartial,offlineStatusClass:o(),dashboards:t.length?t:undefined,dashboardsSupported:a.supportedFeatures.dashboards,activitiesSupported:a.supportedFeatures.activities})},_getMenuItems:function e(){var t=n(11);var r=_.map(a.metadata.getModuleNames({filter:["visible","display_tab"],access:"list"}),function(e){return{route:e,label:a.lang.getModuleName(e,{plural:true}),rank:10}});var s=t.getCustomMainMenuItems();return _.sortBy([].concat(i(r),i(s)),"rank")},_dispose:function e(){a.events.off("app:user:picturechanged",null,this);$(document.body).off("click.menu swipe.menu")}});e.exports=p},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(8);var s=a.extendComponent(r,{_stringType:"offline-settings",_cacheKey:"offline_debug",events:function e(){return{"change .offline-property input":"onPropChange"}},initialize:function e(t){var n=this;this._super(t);this._restoreSettings();var a=i.config.offline.debug;this.sections={configProperties:{}};_.each(["online","forceMigrate","syncManagerEnabled","monitorStatus","outOfSpace"],function(e){n.sections.configProperties[e]={isBoolean:true,value:a[e]}});if(a.performanceTracing.enabled){this.sections.performanceTracing={enableZipkin:{isBoolean:true,value:a.performanceTracing.defaultReporter==="zipkin"},zipkinServerUrl:{isString:true,value:a.performanceTracing.zipkinServerUrl}}}},onPropChange:function e(t){var n=$(t.target);var i=n.data("section");var a=n.data("key");var r=this.sections[i][a].isBoolean?t.target.checked:n.val();if(i==="configProperties"){this._updateBaseConfig(a,r)}else{this._updatePerfConfig(a,r)}},_updateBaseConfig:function e(t,n){i.config.offline.debug[t]=n},_updatePerfConfig:function e(t,n){var a=i.config.offline.debug.performanceTracing;if(t==="enableZipkin"){a.defaultReporter=n?"zipkin":"console"}else{a.zipkinServerUrl=n}this._storeSettings()},_restoreSettings:function e(){var t=i.cache.get(this._cacheKey);_.extend(i.config.offline.debug.performanceTracing,t&&t.performanceTracing)},_storeSettings:function e(){i.cache.set(this._cacheKey,{performanceTracing:i.config.offline.debug.performanceTracing})}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(8);var s=n(28);var o=n(25);var l=n(21);var u=a.extendComponent(r,{_stringType:"offline-stats",globalEvents:{"offline:bulkload:progress":function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this._updateBulkLoaderView();var i=o.ProgressEventType;if(!(t===i.START||t===i.PAGE_START)){var a={modules:n.module?[n.module]:undefined,updateRecCount:true};this._updateDbStatsView(a)}},"offline:cleanup:completed":function e(){this._updateBulkLoaderView();this._updateDbStatsView({updateRecCount:true})}},dbStats:null,bulkLoaderEnabled:false,events:function e(){return{"click .offline__start-stop-btn":"_onStartStopButtClick","click .js-checkbox-toggle--cellular":"_onCellularCheckboxClick"}},useCellularData:false,showCellularCb:false,statusText:null,startStopButtText:null,initialize:function e(t){var n=this;this._super(t);this.bulkLoaderEnabled=i.config.offline.bulkLoad.enabled;if(this.bulkLoaderEnabled){this.useCellularData=Boolean(l.getSetting(o.SettingsKey.ALLOW_CELLULAR));this.showCellularCb=i.isNative||i.config.scheme==="e2e";this.listenTo(this,"render",function(){return n._updateBulkLoaderView()})}this._updateDbStatsView()},_toggleSpinner:function e(t){var n=t.state===o.State.WORKING;this.$el.find(".el__spinner").toggleElement(n)},_populateTimestamp:function e(){var t=this.$(".bh__timestamp");var n=s.getCache().lastCompletedTs;if(n){$("span",t).text(i.date.format(new Date(n),"m/d/Y g:iA"))}},_getStatusText:function e(t){switch(t.state){case o.State.WORKING:return i.lang.get("LBL_BULK_LOAD_STATUS_DOWNLOADING",null,{module:i.lang.getModuleName(t.module,{plural:true}),count:t.count});case o.State.IDLE:return i.lang.get("LBL_BULK_LOAD_STATUS_IDLE");case o.State.PAUSED_BY_CONNECTION:return i.lang.get("LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION");case o.State.PAUSED_BY_USER:return i.lang.get("LBL_BULK_LOAD_STATUS_PAUSED");default:return"Unknown error. Please connect support."}},_getButtonText:function e(t){switch(t.state){case o.State.WORKING:return i.lang.get("LBL_BULK_LOAD_BTN_PAUSE");case o.State.IDLE:return i.lang.get("LBL_BULK_LOAD_BTN_DOWNLOAD");case o.State.PAUSED_BY_CONNECTION:return i.lang.get("LBL_BULK_LOAD_BTN_PAUSE");case o.State.PAUSED_BY_USER:return i.lang.get("LBL_BULK_LOAD_BTN_RESUME");default:return"Error!"}},_updateBulkLoaderView:function e(){var t=s.getState();if(!(t.state===o.State.WORKING&&!t.module)){this.$el.find(".status-text").text(this._getStatusText(t))}this.$el.find(".offline__start-stop-btn").text(this._getButtonText(t));this._populateTimestamp(t);this._updateModuleIconsView()},_updateModuleIconsView:function e(){var t=this;var n=s.getCache().status;_.each(n,function(e,i){var a=n[i];var r=t.$("tr[data-id="+i+"] i");if(a.status===200){r.hideElement()}else{r.removeClass();var s=a.status==="in_progress"?"warning":"error";r.addClass("offline-icon status-"+s)}})},_onStartStopButtClick:function e(t){if(this.$el.find(".offline__start-stop-btn").hasClass("disabled")){return}var n=s.getState();switch(n.state){case o.State.WORKING:this._pauseBulkLoader();break;case o.State.IDLE:s.queueCompleteDownload();this._updateBulkLoaderView();break;case o.State.PAUSED_BY_CONNECTION:this._pauseBulkLoader();break;case o.State.PAUSED_BY_USER:s.userResume();this._updateBulkLoaderView();break;default:}},_pauseBulkLoader:function e(){var t=this;this.$el.find(".status-text").text(i.lang.get("LBL_BULK_LOAD_STATUS_STOPPING"));this.$el.find(".offline__start-stop-btn").toggleClass("disabled",true);s.userPause(function(){if(t.disposed){return}t.$el.find(".offline__start-stop-btn").toggleClass("disabled",false);t._updateDbStatsView()})},_updateDbStatsView:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i.offline.storage.getStats({modules:n.modules,success:function e(a){if(t.disposed){return}if(a.dbSize){i.logger.trace("Database size as calculated by offline.storage.getStats: "+a.dbSize)}var r=i.offline.utils.getOfflineModules({filter:"visible",includeStatic:true,checkAccess:true});var s=_.chain(r).map(function(e){var n=i.lang.getModuleName(e,{plural:true});var r=_.contains(i.config.offline.staticModules,e);var s=a.count[e];if(!_.isNumber(s)){s=t.dbStats?_.findWhere(t.dbStats.modules,{name:e}).count:0}return{moduleName:n,name:e,count:s,isStatic:r}}).sort(function(e,t){return e.isStatic===t.isStatic?e.moduleName.localeCompare(t.moduleName):e.isStatic?1:-1}).value();t.dbStats={modules:s,totalRecordsCount:_.reduce(s,function(e,t){return e+t.count},0)};if(n.updateRecCount){t._renderRecCount(a)}else{t.render()}}})},_renderRecCount:function e(t){var n=this;_.each(t.count,function(e,t){return n.$("tr[data-id="+t+"] span.lbl-count").text(e)});this.$("span.total-count").text(this.dbStats.totalRecordsCount)},_onCellularCheckboxClick:function e(){this.useCellularData=!this.useCellularData;l.setSetting(o.SettingsKey.ALLOW_CELLULAR,this.useCellularData);s.processChangingConnection()}});e.exports=u},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.getOfflineStatusClass;var s=n(2);var o=n(8);var l=s.extendComponent(o,{_stringType:"offline",_devMode:i.config.offline.debug.render,globalEvents:{"offline:status:update":"onOfflineStatusUpdated"},offlineStatusIconPartial:"offline-status-icon",offlineStatusBar:"offline-statusbar",initialize:function e(t){this._super(t);this.offlineDbEncrypted=i.cache.get("offline:encrypted")},render:function e(t){this.updatePropsForOfflineBar();this._super(t)},updatePropsForOfflineBar:function e(){this.offlineStatusClass=r();this.offlineMessage=this.getOfflineMessage();this.isSyncing=window.status.isSyncing},onOfflineStatusUpdated:function e(){var t=this.$el.find(".offline-statusbar");var n=i.template.get(this.offlineStatusBar);this.updatePropsForOfflineBar();t.html(n(this))},getOfflineMessage:function e(){var t=i.offline.status;var n="";var a="LBL_OFFLINE_STATUS_ONLINE";var r="LBL_OFFLINE_STATUS_NO_PENDING_TX";var s="ERR_OFFLINE_OUT_OF_SPACE";if(!t){return{message:"..."}}if(t.lastSyncTs&&t.totalTransactions>0){n=i.lang.get("LBL_OFFLINE_LAST_SYNC_TS",null,{ts:t.lastSyncTs.toLocaleString()})}if(!i.offline.isOnline()){a="LBL_OFFLINE_STATUS_OFFLINE"}else if(t.noConnection){a="LBL_OFFLINE_STATUS_BAD_NETWORK"}if(t.state===i.offline.State.ERROR){r="LBL_OFFLINE_STATUS_SYNC_FAILED"}else if(t.state===i.offline.State.WARNING&&t.totalTransactions>0){r="LBL_OFFLINE_STATUS_PENDING_TX"}return{isSyncing:t.isSyncing,message:(t.isOutOfSpace?i.lang.get(s)+" ":"")+i.lang.get(r),networkMessage:a,lastSyncMessage:n}}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=function e(t){i.analytics.trackEvent({category:"app",action:"ptr"});var n=_.isFunction(t.onPullDownToRefresh)?t.onPullDownToRefresh():t.loadData({forceFetch:true,byPtr:true});return n.catch(function(e){t.hidePtrSpinner();throw new Error(e.message)}).then(function(){return t.hidePtrSpinner()})};var r=function e(t){t._ptrHandler=null;if(!t.scroll){return}if(t.$el&&t.$el.pullToRefresh){t.$el.pullToRefresh("destroy")}t.scroll.destroy();t.scroll=null};var s=function e(t){if(t.scroll){t.scroll.reflow();return}if(!t.$easyScrollerParent){t.$el.wrap('<div class="easy-scroller-parent"><div class="easy-scroller-holder"></div></div>');t.$easyScrollerParent=t.$el.closest(".easy-scroller-parent")}var n=t.$easyScrollerParent;var a=n.get(0);var r=n.find(".easy-scroller-holder").get(0);t.scroll=new window.EasyScroller(r,a,{scrollingY:true,scrollingX:false});t.$el.pullToRefresh({callback:t._ptrHandler,template:i.template.get("ptr"),templateTarget:t.$easyScrollerParent,height:75,scroller:t.scroll.scroller,action:i.lang.get("LBL_MOBILE_PTR_RELEASE"),refresh:i.lang.get("LBL_LOADING")})};var o={_dispose:function e(){r(this)},onAfterRender:function e(){s(this)},hidePtrSpinner:function e(){if(this.$el){this.$el.pullToRefresh("hide")}this.reflowScroller()},reflowScroller:function e(){if(this.scroll){this.scroll.reflow()}}};e.exports=function(e){var t=e.view,n=e.handler,r=n===undefined?a:n;_.each(o,function(e,n){var i=t[n];t[n]=function t(){var n=void 0;for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}if(_.isFunction(i)){n=i.apply(this,r)}e.apply(this,r);return n}});t._ptrHandler=function(){return r(t)};t.listenTo(i,"app:orientation:changed",t.reflowScroller);t.listenTo(i,"app:keyboard:hide",t.reflowScroller)}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(23);var s=n(3),o=s.isOnline;var l=n(2);var u=n(8);e.exports=l.extendComponent(u,{className:"scroll",template:"related-records",initialize:function e(t){this._super(t);this._requestsInProgress={};var n=r.getContextMeta("detail",this.module);this.relatedList=_.chain(n.subpanels).filter(function(e){return i.acl.hasAccess("list",e.module)}).map(function e(t){return _.extend({canCreate:a.canCreateRelated(t.module,this.module,t.context.link)},t)},this).value()},loadData:function e(){if(i.supportedFeatures.bulkApi&&o()){this.getRelationshipData(function e(t,n){if(!t){this._prepareListData(n);this.render()}})}},getRelationshipData:function e(t,n){var r=this;var s=void 0;n=n||this;var o=_.map(this.relatedList,function e(t){return a.buildBulkRequest({module:this.module,limit:i.config.fetchLimit.bulkQueryRelatedRecords,attributes:{id:this.model.id,link:t.context.link},params:{fields:"id"}})},this);if(_.isEmpty(o)){return}var l={success:function e(i){t.call(n,null,i)},error:function e(a){i.logger.debug("Get related records error "+r.module+" : "+a);t.call(n,a)},complete:function e(){if(s){r._requestsInProgress[s.uid]=null}}};s=i.api.bulk({requests:o},l);if(s){this._requestsInProgress[s.uid]=s.uid}},_prepareListData:function e(t){this.relatedList=_.map(this.relatedList,function e(n,a){var r=t[a];n.recordsCount=undefined;if(r.status===200){var s=r.contents;if(_.isArray(s.records)){var o=s.records.length;var l=i.config.fetchLimit.bulkQueryRelatedRecords;n.recordsCount=o;if(s.next_offset!==-1){n.recordsCount=l+"+"}n.isEmpty=!o}}else{n.recordsCount="!";if(i.error.isAccessError(r)){this.trigger(this.ACTION_NAME,{name:"app:access:error",options:{module:n.module}})}}n.showCount=!_.isUndefined(n.recordsCount);return n},this)},_dispose:function e(){_.each(this._requestsInProgress,function(e,t){i.api.abortRequest(t)});this._super()}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(13);var s=n(2);var o=n(5);var l=n(8);var u=n(20);var c=n(28);var d=n(32);var f=n(3),h=f.isOnline;var p=n(10);var m=s.extendComponent(l,{_stringType:"settings",_bodyScroll:true,_defaultViewSplitter:":",_defaultViewFieldName:"default_view",events:{"change #touchid-toggle":"_enableTouchIdClicked"},initialize:function e(t){this._modelBackup=null;this._showOfflineButton=i.config.offline.enabled&&(i.config.offlineEnabled||i.config.offline.debug.ignoreEnabled)&&i.supportedFeatures.offline;this._offlineEnabled=i.offlineEnabled;this._configurableFontSize=i.config.ui.configurableFontSize;var n=new Backbone.Model(i.user.get("preferences"));var a=i.logger.levels[i.config.logger.level];if(a){n.set("logging",a.value-1)}var r=i.loginManager.getSetting("fontSize")||"normal";if(this._configurableFontSize&&r){n.set("fontSize",r)}this._showTouchIdButton=u.isTouchIdAuthenticationSupported();this._touchIdEnabled=u.isTouchIdForLoginSetup();this._isFaceIdSupported=Boolean(i.clientInfo.device.faceIdSupported);n.set("touchIdEnabled",this._touchIdEnabled);t.context.set("model",n);t.model=n;this._super(t);if(this._configurableFontSize){var s=this.getFieldMeta("fontSize");s.options={};_.each([["tiny","LBL_FONTSIZE_TINY"],["small","LBL_FONTSIZE_SMALL"],["normal","LBL_FONTSIZE_NORMAL"],["large","LBL_FONTSIZE_LARGE"],["larger","LBL_FONTSIZE_LARGER"],["huge","LBL_FONTSIZE_HUGE"],["extra_huge","LBL_FONTSIZE_EXTRA_HUGE"]],function(e){s.options[e[0]]=i.lang.get(e[1])})}else{this.meta.panels[0].fields=_.filter(this.meta.panels[0].fields,function(e){return e.name!=="fontSize"})}if(i.supportedFeatures.settingsDefaultView){this._defineDefaultViewFields();this._adjustDefaultViewOptions();this.applyDefaultViewOnModel()}this.listenTo(this.model,"change",this.onSettingChange)},isEditView:function e(){return true},_canSetValue:function e(t,n){if(!n.dependencies.length){return true}return Boolean(_.find(n.dependencies,function e(n){var i=this.model.get(n.parentField);return!n.result||_.has(n.result(i),t)},this))},_defineDefaultViewFields:function e(){var t=this.meta.panels[0].fields;this._defaultViewFields=[{name:"default_view",label:"LBL_MOBILE_DEFAULT_VIEW",options:{Modules:i.lang.get("LBL_MOBILE_SPECIFIC_MODULE")},view:"edit",type:"enum",dependencies:[]},{name:"default_module",label:"LBL_MOBILE_DEFAULT_MODULE",options:{},view:"edit",type:"enum",dependencies:[{parentField:"default_view",condition:function e(t){var n=t.get(this.parentField);return n==="Modules"},result:function e(){var t=i.metadata.getModuleNames({filter:"visible"});return _.object(t,_.map(t,function(e){return i.lang.getModuleName(e,{plural:true})}))}}]},{name:"default_dashboard",label:"LBL_MOBILE_DEFAULT_DASHBOARD",options:{},view:"edit",type:"enum",dependencies:[{parentField:"default_view",condition:function e(t){var n=t.get(this.parentField);return n==="Dashboards"},result:function e(){var t={};_.each(a.dashboards.getDashboards({type:"home"}),function(e){t[e.id]=i.lang.get(e.get("name"),"Home")});return t}}]},{name:"default_dashlet",label:"LBL_MOBILE_DEFAULT_DASHLET",options:{},view:"edit",default:"-1",type:"enum",dependencies:[{parentField:"default_dashboard",condition:function e(t){var n=t.get("default_view");return n==="Dashboards"},result:this._getDashboardDashlets}]}];_.each(this._defaultViewFields,function(e){var n=_.find(t,function(t){return t.name===e.name});if(!n){t.push(e)}},this);this._defaultViewFieldNames=_.pluck(this._defaultViewFields,"name")},resetDefaultView:function e(){this.defaultView=i.config.ui.defaultViewScheme;_.each(this._defaultViewFields,function e(t){this.model.unset(t.name,{silent:true})},this);this.applyDefaultViewOnModel()},applyDefaultViewOnModel:function e(){this.defaultView=this.defaultView||i.loginManager.getSetting(this._defaultViewFieldName)||i.config.ui.defaultViewScheme;if(!this.defaultView){return}var t=this.defaultView.split(this._defaultViewSplitter);_.find(this._defaultViewFields,function e(n){var i=!_.isEmpty(n.dependencies)&&n.dependencies[0].parentField;var a=this.model.get(i);var r=true;var s=void 0;if(a){r=Boolean(_.find(n.dependencies,function e(t){return t.condition(this.model)},this))}if(r){s=t.shift();if(!this._canSetValue(s,n)){this.resetDefaultView();return true}this.model.set(n.name,s,{silent:true})}return _.isEmpty(t)},this)},onSettingChange:function e(t){var n=_.keys(t.changed);var i=_.intersection(this._defaultViewFieldNames,n);_.each(i,function e(t){this._onDefaultViewChange(t)},this)},_adjustDefaultViewOptions:function e(){var t=_.find(this.meta.panels[0].fields,function e(t){return t.name===this._defaultViewFieldName},this);if(i.supportedFeatures.dashboards){var n=a.dashboards.getDashboards({type:"home"});t.options.Search=i.lang.get("LBL_MOBILE_GLOBAL_SEARCH");if(!_.isEmpty(n)){t.options.Dashboards=i.lang.get("LBL_MOBILE_SPECIFIC_DASHBOARD")}}if(i.supportedFeatures.activities){t.options.Activities=i.lang.get("LBL_ACTIVITY_STREAM")}},_getDependentFields:function e(t){var n=[];_.each(this._defaultViewFields,function(e){if(_.contains(_.pluck(e.dependencies,"parentField"),t)){n.push(e)}});return n},_getDashboardDashlets:function e(t){var n=a.dashboards.getDashboard(t).get("metadata");var r=n.dashlets;var s=_.chain(r).pluck("view").pluck("label").value();s=_.map(s,function(e,t){var n=r[t].view;var i=_.defaults({label:e},n);return a.dashboards.getDashletTitle(i)});var o=_.object(_.pluck(r,"id"),s);o[-1]=i.lang.get("LBL_ALL_DASHLETS");return o},_onDefaultViewChange:function e(t,n){var i=this.getField(t);var a=i.getValue();var r=this._getDependentFields(t);_.each(r,function e(t){var i=t.name;var r=this.getField(i);var s={};if(!r){return}_.each(t.dependencies,function e(t){if(t.condition(this.model)){s=t.result;if(_.isFunction(s)&&!_.isUndefined(a)){s=s(a)}}},this);this._adjustSubviewGrid(r,s,n)},this)},_adjustSubviewGrid:function e(t,n,i){if(_.isObject(n)){t.def.options=n;if(!i&&!_.isEmpty(this.model.changed)||_.isUndefined(this.model.get(t.name))){this.model.set(t.name,t.getDefaultValue())}t.render()}},onAfterRender:function e(){var t=this.$(".pad");var n=this.$(".settings__other-fields");var a=this.$(".modal-footer");this.backupModel();this.$touchidItem=this.$("#touchid-toggle");if(!i.config.ui.showLogLevelSetting){this.getField("logging").remove()}_.each(this._defaultViewFieldNames,function e(t){this.getField(t).$el.detach().appendTo(n);this._onDefaultViewChange(t,true)},this);a.detach().appendTo(t)},onHeaderSaveClick:function e(){this.save()},save:function e(){this.setFontSize();var t=this;var n=this.model.get("language");var r=this.$el.find("#offline-toggle").attr("checked");var s=r!==i.offlineEnabled;var o=false;var l=this.$touchidItem.attr("checked");var d=false;var f=false;var h=_.once(function(){i.controller.clean()});var m=[function e(){return t._showOfflineButton&&s},function e(){return t.model.get("fontSize")!==t._modelBackup.fontSize},function e(){var n=false;_.each(t._defaultViewFieldNames,function(e){if(n){return}var i=t.model.get(e);if(i){n=i!==t._modelBackup[e]}},this);return n},function e(){return t.model.get("logging")!==t._modelBackup.logging},function e(){var t=n!==i.user.getLanguage();if(t){f=true}return t},function e(){var n=t._showOfflineButton&&s;if(n&&r){f=true}return n},function e(){d=t._showTouchIdButton&&(l&&u.getTempCredential()||l!==Boolean(t._modelBackup.touchIdEnabled));return d}];var g=[function e(n){t._showOfflineToggleConfirm(!i.offlineEnabled,function(e){if(e){o=e}n()})},function e(n){var a=t.model?t.model.get("fontSize"):t._modelBackup.fontSize;i.loginManager.setSetting("fontSize",a);n(null)},function e(n){var a=t._modelBackup.default_view;if(t.model){a=_.reduce(t._defaultViewFieldNames,function(e,n){var i=t.model.get(n);if(n==="default_dashlet"&&parseInt(i,10)===-1){return e}if(i){e.push(t.model.get(n))}return e},[]).join(t._defaultViewSplitter)}i.loginManager.setSetting(t._defaultViewFieldName,a);n(null)},function e(n){var a=t.getField("logging");i.config.logger.level=a.options.def.options[a.value];i.config.debugSugarApi=a.value<=1;n(null)},function e(t){h();i.lang.setLanguage(n,function(e){t(e)})},function e(n){if(o){h();t.toggleOffline(!i.offlineEnabled,n)}else{n()}},function e(t){if(d){if(l){u.moveTempCredentialsToStorage()}else{u.resetCredentials()}}t()}];var v=_.select(g,function(e,n){return m[n].call(t)});if(v.length){if(f){p.show("app:sync",{template:"preloader-panel"})}asyncLib.series(v,function(e){p.hide("app:sync");if(!e){if(i.offlineEnabled&&o){c.setupBulkLoad(function(){a.mainMenu.render();i.controller.goUp()})}else{a.mainMenu.render();i.controller.goUp()}}})}else{i.controller.goUp()}},onHeaderCancelClick:function e(){this.cancel()},cancel:function e(){a.setFontSize(i.loginManager.getSetting("fontSize"));u.resetTempCredential();this.restoreModel()},backupModel:function e(){var t=JSON.stringify(this.model.toJSON());this._modelBackup=JSON.parse(t)},restoreModel:function e(){i.user.set("preferences",this._modelBackup)},toggleOffline:function e(t,n){var a=this;if(t&&!h()){this.showOfflineConnectionError(n);return false}i.logger.debug("Offline enabled: "+t);this.toggleOfflineUserSetting(t);if(t){d.start().then(function(){return a.onOfflineEnabled()}).catch(function(e){return a.onOfflineFailure(e)}).finally(n)}else{this.stopOffline(n)}},showOfflineConnectionError:function e(t){var n="offline_enable_error";i.alert.show(n,{level:"error",messages:i.lang.get("ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR"),autoClose:true});if(t){t(n)}},onOfflineEnabled:function e(t){if(t){c.start({isInitialBulkLoad:true})}},onOfflineFailure:function e(t){this.toggleOfflineUserSetting(false);if(!t.err){return}if(t.err.status===0&&_.contains(["error","abort","timeout"],t.err.textStatus)){i.alert.dismiss("offline_error");this.showOfflineConnectionError()}this.stopOffline()},toggleOfflineUserSetting:function e(t){i.offline.userEnabled=t;r.setSetting({store:r.Stores.SETTINGS,name:"offlineEnabled",value:t})},stopOffline:function e(t){var n=[function(e){return a.dashboards.cleanDashletsCache(e)},function(e){return d.stop({dropStorage:true}).then(function(){return e()}).catch(e)}];asyncLib.parallel(n,t||_.noop)},_showOfflineToggleConfirm:function e(t,n){var a=t?"LBL_OFFLINE_ENABLE_PROMPT":"LBL_OFFLINE_DISABLE_PROMPT";o.showConfirm(i.lang.get(a),{callback:function e(t){n(t===2)}})},_enableTouchIdClicked:function e(t){if(this.$touchidItem.attr("checked")){var n=this;u.performTouchIdSetup(function(e){if(!e){n.$touchidItem.prop("checked",false);n.$touchidItem.next(".checkbox-icon").removeClass(i.config.ui.icons.edit.checkboxOn).addClass(i.config.ui.icons.edit.checkboxOff)}})}},setFontSize:function e(){var t=this.model.get("fontSize");a.setFontSize(t)}});e.exports=m},function(e,t,n){"use strict";e.exports={_isTouchIdEnrolled:function e(t){t(false)},_performTouchId:function e(t,n){},_storeCredentials:function e(t,n){},_resetCredentials:function e(){}}},function(e,t,n){"use strict";var i=n(29);var a="";var r={};var s=function e(t){return a+t};var o=_.extend({},store,{cut:store.remove,cutAll:store.clear});var l=function e(t){return new Function("return "+t)()};var u=function e(t){if(t.has("uniqueKey")){return}var n={};for(var i=0,a=localStorage.length;i<a;i++){var s=localStorage.key(i);n[s]=localStorage[s]}_.each(n,function(e,n){try{JSON.parse(e);e=t.store.deserialize(e)}catch(t){e=l(e)}if(e===null){e=undefined}t.store.set(n,e)});t.set("uniqueKey",r.uniqueKey)};var c=_.extend({},Backbone.Events,{store:o,init:function e(){a=r.env+":"+r.appId+":";u(this);if(this.get("uniqueKey")!==r.uniqueKey){this.cutAll(true);this.set("uniqueKey",r.uniqueKey)}i.register("cache:clean",this)},has:function e(t){return this.store.has(s(t))},get:function e(t){return this.store.get(s(t))},set:function e(t,n){t=s(t);try{this.store.set(t,n)}catch(e){if(e.name.toLowerCase().indexOf("quota")>-1){this.clean();this.store.set(t,n)}}},clean:function e(){var t=[];var n={};this.trigger("cache:clean",function(e){t=_.union(e,t)});_.each(t,function(e){n[e]=this.get(e)},this);this.cutAll();_.each(n,function(e,t){if(!_.isUndefined(e)){this.set(t,e)}},this)},cut:function e(t){t=s(t);if(this.store.has(t)){this.store.cut(t)}},cutAll:function e(t){if(t===true){return this.store.cutAll()}var n=this.store.getAll();_.each(n,function(e,t){if(t.indexOf(a)===0){this.store.cut(t)}},this)}});e.exports=function(e){r=e||{};return c}},function(e,t,n){"use strict";var i=n(77);var a=n(15);var r=n(18);function s(e,t,n){if(t){t.apply(l,_.union([e],n||[]))}else{l.handleStatusCodesFallback(e)}}function o(e,t){var n="handle"+a.classify(e.code)+"Error";(l[n]||t||l.handleStatusCodesFallback).call(l,e)}var l={init:function e(){this.enableOnError();Object.defineProperty(this,"remoteLogging",{get:function e(){SUGAR.App.logger.warn("`Core.Error#remoteLogging` property has been deprecated since 7.10.");return false},configurable:true})},initialize:function e(t){SUGAR.App.logger.warn("The function `Core.Error#initialize` is deprecated in 7.10. "+"Please do not use it. The function initializing the component is `Core.Error#init`");t=t||{};this.statusCodes=t.statusCodes?_.extend(this.statusCodes,t.statusCodes):this.statusCodes;if(!t.disableOnError){this.enableOnError()}},statusCodes:{0:function e(t,n,i){if(t.textStatus==="timeout"){s(t,this.handleTimeoutError)}else{this.handleStatusCodesFallback(t,n,i)}},400:function e(t){o(t,this.handleUnspecified400Error)},401:function e(t){o(t,this.handleUnauthorizedError)},403:function e(t){s(t,this.handleForbiddenError)},404:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e){s(e,this.handleNotFoundError,_.rest(arguments))}),405:function e(t){s(t,this.handleMethodNotAllowedError)},409:function e(t){s(t,this.handleMethodConflictError)},412:function e(t){s(t,this.handleHeaderPreconditionFailed)},422:function(e){function t(t,n){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e,t){e.model=t;s(e,this.handleValidationError,_.rest(arguments))}),424:function(e){function t(t,n){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(e,t){e.model=t;s(e,this.handleMethodFailureError,_.rest(arguments))}),500:function e(t){s(t,this.handleServerError)},502:function e(t){s(t,this.handleServerError)},503:function e(t){s(t,this.handleServerError)}},errorName2Keys:{maxValue:"ERROR_MAXVALUE",minValue:"ERROR_MINVALUE",maxLength:"ERROR_MAX_FIELD_LENGTH",minLength:"ERROR_MIN_FIELD_LENGTH",datetime:"ERROR_DATETIME",required:"ERROR_FIELD_REQUIRED",email:"ERROR_EMAIL",primaryEmail:"ERROR_PRIMARY_EMAIL",duplicateEmail:"ERROR_DUPLICATE_EMAIL",number:"ERROR_NUMBER",isBefore:"ERROR_IS_BEFORE",isAfter:"ERROR_IS_AFTER",greaterThan:"ERROR_IS_GREATER_THAN",lessThan:"ERROR_IS_LESS_THAN"},getErrorString:function e(t,n){var i=n.module||"";return r.get(this.errorName2Keys[t]||t,i,n)},handleValidationError:function e(t){var n=t.responseText;i.dismissAll();_.each(n,function(e,t){var n="";if(_.isObject(e)){_.each(e,function(e,t){n+="(Message) "+this.getErrorString(t,e)+"\n"},this)}else{n=e}SUGAR.App.logger.debug("validation failed for field `"+t+"`:\n"+n)},this)},handleHttpError:function e(t,n,i){if(l.statusCodes[t.status]){l.statusCodes[t.status].call(l,t,n,i)}else{l.handleStatusCodesFallback(t)}},handleUnhandledError:function e(t,n,i){SUGAR.App.logger.fatal(t+" at "+n+" on line "+i)},handleStatusCodesFallback:function e(t){SUGAR.App.logger.error(t.toString())},handleRenderError:function e(t,n,s){var o="render_error_"+t.module+"_"+t.name;var l="error";var u;var c;switch(n){case"_renderHtml":u=r.get("ERR_RENDER_FAILED_TITLE");c=[r.get("ERR_RENDER_FAILED_MSG"),r.get("ERR_CONTACT_TECH_SUPPORT")];break;case"_renderField":u=r.get("ERR_RENDER_FIELD_FAILED_TITLE");c=[a.formatString(r.get("ERR_RENDER_FIELD_FAILED_MSG"),[s.name]),r.get("ERR_CONTACT_TECH_SUPPORT")];break;case"view_render_denied":u=r.get("ERR_NO_VIEW_ACCESS_TITLE");l="warning";var d=r.getModuleName(t.module,{plural:true});c=[a.formatString(r.get("ERR_NO_VIEW_ACCESS_MSG"),[d])];break;case"layout_render":u=r.get("ERR_LAYOUT_RENDER_TITLE");c=[r.get("ERR_LAYOUT_RENDER_MSG")];break;default:u=r.get("ERR_GENERIC_TITLE");c=[r.get("ERR_INTERNAL_ERR_MSG"),r.get("ERR_CONTACT_TECH_SUPPORT")];SUGAR.App.logger.error("handleRenderError called for render error caught in "+n+", but we have no corresponding handler!");break}i.show(o,{level:l,title:u,messages:c})},enableOnError:function e(t,n){var i;var a=this;if(this.overloaded){return false}i=window.onerror;window.onerror=function(e,r,s){if(t){t.call(n)}else{a.handleUnhandledError(e,r,s)}if(i){i()}};this.overloaded=true;return true},throwErrorWithCallStack:function e(t,n){SUGAR.App.logger.warn("The function `Core.Error#throwErrorWithCallStack` is deprecated in 7.10. "+"Please do not use it.");if(_.isString(t)){t=new Error(t)}t.message=t.message+"; "+t.stack;if(n){return t}throw t},_callCustomHandler:function e(t,n,i){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Error#_callCustomHandler is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Error#_callCustomHandler is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return s(t,n,i)},_handleFineGrainedError:function e(t,n){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Core.Error#_handleFineGrainedError is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Core.Error#_handleFineGrainedError is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return o(t,n)}};e.exports=l},function(e,t,n){"use strict";var i=n(74);var a=n(29);var r={beforeRoute:function e(t,n){if(!this.triggerBefore("route",{route:t,args:n})){return false}if(_.indexOf(SUGAR.App.config.unsecureRoutes,t)>=0){return true}if(!SUGAR.App.api.isAuthenticated()){SUGAR.App.router.login();return false}else if(!SUGAR.App.isSynced){Backbone.history.stop();SUGAR.App.sync();return false}return true},after:function e(t,n){},start:function e(){var t={};SUGAR.App.augment("router",new SUGAR.App.Router(t),false);a.trigger("router:start",SUGAR.App.router);SUGAR.App.router.init();SUGAR.App.router.start()},stop:function e(){SUGAR.App.logger.warn("`Core.Routing#stop` method is deprecated since 7.10. Please use "+"`Core.Router#stop` instead.");SUGAR.App.router.stop()}};_.extend(r,i);e.exports=r},function(e,t,n){"use strict";var i=n(44);var a=n(53);e.exports=a.extend({initialize:function e(t,n){this._linkedCollections={};n=n||{};if(n.links){if(!n.parentBean){SUGAR.App.logger.error("You cannot instantiate a mixed-bean-collection with linked collections "+"but without a parent bean.");return}this._parentBean=n.parentBean;this._collectionField=n.collectionField;_.each(n.links,function(e,t){if(_.isString(e)){this._linkedCollections[t]=SUGAR.App.data.createBeanCollection(e)}else{this._linkedCollections[t]=e}this.listenTo(this._linkedCollections[t],"add",this._onLinkAdd);this.listenTo(this._linkedCollections[t],"remove",this._onLinkRemove);this.listenTo(this._linkedCollections[t],"reset",this._onLinkReset)},this);delete n.links}a.prototype.initialize.call(this,t,n)},_prepareModel:function e(t,n){var r=t instanceof i?t.module:t._module;this.model=SUGAR.App.data.getBeanClass(r);return a.prototype._prepareModel.call(this,t,n)},_onLinkAdd:function e(t,n,i){if(this._updating){return}a.prototype.set.call(this,t,{merge:false,add:true,remove:false})},_onLinkRemove:function e(t,n,i){if(this._updating){return}a.prototype.remove.call(this,t)},_onLinkReset:function e(t){var n=_.groupBy(this.models,function(e){return e instanceof i?e.get("_link"):e._link});var r=_.findKey(this._linkedCollections,function(e){return e===t});var s={};var o={merge:false,add:true,remove:false};if(this._updating){_.extend(s,{silent:true});_.extend(o,{silent:true})}a.prototype.remove.call(this,n[r],s);a.prototype.set.call(this,t.models,o)},set:function e(t,n){t=Backbone.Collection.prototype.set.call(this,t,n);if(!this._parentBean){return t}this._updating=true;n=n||{};if(!_.isUndefined(t)&&!_.isArray(t)){t=[t]}_.each(t,function(e){var t=e.get("_link");if(!t){return}if(this._linkedCollections[t]){this._linkedCollections[t].add(e,n)}},this);this._updating=false;return t},remove:function e(t,n){t=Backbone.Collection.prototype.remove.call(this,t,n);if(!this._parentBean){return t}this._updating=true;n=n||{};if(!_.isUndefined(t)&&!_.isArray(t)){t=[t]}_.each(t,function(e){var t=e.get("_link");if(t){if(this._linkedCollections[t]){this._linkedCollections[t].remove(e,n)}}else{_.each(this._linkedCollections,function(t){var a=e instanceof i?e.get("module"):e._module;if(t.module===a){t.remove(e,n)}})}},this);this._updating=false;return t},reset:function e(t,n){if(!this._parentBean){return Backbone.Collection.prototype.reset.call(this,t,n)}n=n?_.clone(n):{};if(!_.isUndefined(t)&&!_.isArray(t)){t=[t]}var a=_.groupBy(t,function(e){return e instanceof i?e.get("_link"):e._link});this._updating=true;_.each(this._linkedCollections,function(e,t){e.reset(a[t],_.omit(n,"silent"))},this);this._updating=false;if(!n.silent){this.trigger("reset",this,n)}return t},getDelta:function e(){var t={};_.each(this._linkedCollections,function(e,n){if(!e.hasDelta()){return}t[n]=e.getDelta()},this);return t},hasDelta:function e(){return _.some(this._linkedCollections,function(e){return e.hasDelta()})},resetDelta:function e(){_.each(this._linkedCollections,function(e,t){e.resetDelta()})},fetch:function e(t){t=t||{};t.module_list=this.module_list=t.module_list||this.module_list||SUGAR.App.metadata.getModuleNames({filter:"visible"});return a.prototype.fetch.call(this,t)},groupByModule:function e(){return _.groupBy(this.models,function(e){return e.module})},toString:function e(){return"mcoll:"+this.length},paginate:function e(t){t=t||{};if(this._parentBean){_.extend(t,{collectionField:this._collectionField,beanId:this._parentBean.id,module:this._parentBean.module,offset:this.offset})}return a.prototype.paginate.call(this,t)},resetPagination:function e(){if(!this._parentBean){return a.prototype.resetPagination.call(this)}this.offset=this.next_offset={}}})},function(e,t,n){"use strict";var i=n(55);var a=n(19);var r=n(15);var s=n(18);function o(){var e=function e(t,n,i){var a=_.isUndefined(t[i])?t.validation?t.validation[i]:null:t[i];if(_.contains(["int","float","decimal","currency"],t.type)&&_.isFinite(a)){if(t.type=="int"){n=parseInt(n)}else{n=parseFloat(n)}if(i=="max"){if(n>a)return a}else if(i=="min"){if(n<a)return a}else if(i=="greaterthan"){if(n<=a)return a}else if(i=="lessthan"){if(n>=a)return a}}};var t=function e(t,n,i,a){if(_.indexOf(["date","datetimecombo"],t.type)!==-1&&t.validation&&t.validation.type===i){var r=a.fields[t.validation.compareto];if(!_.isUndefined(r)&&_.indexOf(["date","datetimecombo"],r.type)!=-1){var o=Date.parse(a.get(r.name));n=Date.parse(n.toString());if(!_.isNaN(o)&&!_.isNaN(n)){var l=s.get(r.label||r.vname||r.name,a.module);if(i=="isbefore"){return o<n?l:undefined}if(i=="isafter"){return o>n?l:undefined}}}}};return{maxLength:function e(t,n){if(_.isNumber(n)){n=n.toString()}if(_.isNumber(t.len)&&_.isString(n)){var e=t.len;n=n||"";n=n.toString();if(n.length>e){return e}}},minLength:function e(t,n){if(_.isNumber(t.minlen)){var e=t.minlen;n=n||"";n=n.toString();if(n.length<e){return e}}},url:function e(t,n){SUGAR.App.logger.warn("The function `app.validation.validators.url()` is deprecated since 7.10 "+"because it has no effect.")},email:function e(t,n){var i;if(t.type=="email"||t.type==="email-text"){if(n.length>0){_.each(n,function(e){if(e.email_address===""&&(_.isUndefined(t.required)||!t.required)){return}if(!r.isValidEmailAddress(e.email_address)){if(!i)i=[];i.push(e.email_address)}})}if(i&&i.length>0){return i}}},primaryEmail:function e(t,n){if(t.type=="email"){if(n.length>0&&!_.find(n,function(e){return e.primary_address=="1"})){return true}}},duplicateEmail:function e(t,n){if(t.type=="email"){var i=_.pluck(n,"email_address"),a=[],r=i.length,s,o;for(s=0;s<r;s++){for(o=s+1;o<r;o++){if(i[s]==i[o])a.push(i[s])}}if(a&&a.length>0){return a}}},datetime:function e(t,n){var r,s,o,l,u,c,d,f;function h(e,t,n){var i=parseInt(e,10);return!isNaN(i)&&i>=t&&i<=n}if(t.type==="date"||t.type==="datetimecombo"){if(_.isNaN(Date.parse(n))&&_.isNaN(Date.parse(n.replace(/[\.\-]/g,"/")))){return n}else{if(!i.isIso(n)){c=n.replace(/[\.\-]/g,"/").split("/");s=_.filter(c,function(e){return e.length===3||e.length>4});if(s.length){return n}if(/([\.\/\-])\1/.test(n)===true){return n}o=a.getPreference("datepref");l=o.match(/[.\/\-\s].*?/);u=o.split(l);for(d=0,f=u.length;d<f;d++){r=c[d];switch(u[d].toLowerCase().charAt(0)){case"m":if(!h(r,1,12)){return n}break;case"d":if(!h(r,1,31)){return n}break}}}else{if(n.charAt(0)==="0")return n}}}},minValue:function t(n,i){return e(n,i,"min")},maxValue:function t(n,i){return e(n,i,"max")},greaterThan:function t(n,i){return e(n,i,"greaterthan")},lessThan:function t(n,i){return e(n,i,"lessthan")},number:function e(t,n){if(_.indexOf(["int","float","decimal","currency"],t.type)!=-1){return _.isBoolean(n)||_.isString(n)&&!n.trim().length||isNaN(parseFloat(n))||!_.isFinite(n)?true:undefined}},isBefore:function e(n,i,a){return t(n,i,"isbefore",a)},isAfter:function e(n,i,a){return t(n,i,"isafter",a)}}}function l(e){return _.every(e,_.isEmpty)}var u={validators:o(),requiredValidator:function e(t,n,i,a){if(t.required===true&&n!=="id"&&t.type!=="image"&&_.isUndefined(t.auto_increment)){var r=i.get(n);var s=_.isUndefined(r);var o=_.isNull(a)||a===""||a===false||_.isArray(a)&&l(a)||a instanceof Backbone.Collection&&!a.length;if(s&&_.isUndefined(a)||o){return true}}},_isArrayEmpty:function e(t){if(!SUGAR.App.config.sidecarCompatMode){SUGAR.App.logger.error("Data.Validation#_isArrayEmpty is a private method that you are not allowed "+"to access. Please use only the public API.");return}SUGAR.App.logger.warn("Data.Validation#_isArrayEmpty is a private method that you should not access. "+"You will NOT be allowed to access it in the next release. Please update your code to rely on the public "+"API only.");return l(t)}};e.exports=u},function(e,t,n){"use strict";var i=n(160);var a=n(19);var r=n(15);e.exports={getBaseCurrencyId:function e(){return SUGAR.App.metadata.getBaseCurrencyId()},getBaseCurrency:function e(){var t=SUGAR.App.metadata.getBaseCurrencyId(),n=SUGAR.App.metadata.getCurrency(t);n.currency_id=t;return n},getCurrenciesSelector:function e(t){var n={};_.each(SUGAR.App.metadata.getCurrencies(),function(e,i){n[i]=t(e)});return n},getCurrencySymbol:function e(t){var n=SUGAR.App.metadata.getCurrency(t);return n?n.symbol:""},formatAmount:function e(t,n,i,a,s,o){if(!_.isFinite(t)){return t}var l;var u=SUGAR.App.metadata.getConfig();n=n||this.getBaseCurrencyId();o=o||"";if(!_.isFinite(i)){if(_.isFinite(u.defaultCurrencySignificantDigits)){i=u.defaultCurrencySignificantDigits}else{i=2}}s=s||u.defaultDecimalSeparator||".";a=!_.isUndefined(a)?a:u.defaultNumberGroupingSeparator||",";l=this.getCurrencySymbol(n)||this.getCurrencySymbol(this.getBaseCurrencyId());t=r.formatNumber(t,i,i,a,s);return l+o+t},formatAmountLocale:function e(t,n,i){var r=a.getPreference("decimal_separator");var s=a.getPreference("number_grouping_separator");var o=a.getPreference("decimal_precision");i=_.isFinite(i)?i:o;return this.formatAmount(t,n,i,s,r)},unformatAmount:function e(t,n,i,a){a=a||false;t=t.toString().replace(/^[^\d\.\,-]+/,"");return r.unformatNumberString(t,n,i,a)},unformatAmountLocale:function e(t,n){var i,r,s=SUGAR.App.metadata.getConfig();i=a.getPreference("decimal_separator")||s.defaultDecimalSeparator||".";var o=a.getPreference("number_grouping_separator");r=o||s.defaultNumberGroupingSeparator||",";return this.unformatAmount(t,r,i,n)},convertAmount:function e(t,n,a){var r;var s;if(n==a){return i.round(t,undefined,true)}r=SUGAR.App.metadata.getCurrency(n);s=SUGAR.App.metadata.getCurrency(a);return this.convertWithRate(t,r.conversion_rate,s.conversion_rate)},convertToBase:function e(t,n){return this.convertAmount(t,n,this.getBaseCurrencyId())},convertFromBase:function e(t,n){return this.convertAmount(t,this.getBaseCurrencyId(),n)},convertWithRate:function e(t,n,a){n=n||1;a=a||1;return i.mul(i.div(t,n,undefined,true),a,undefined,true)}}},function(e,t,n){"use strict";var i=n(19);e.exports={_math:function e(t,n,i,a,r){a=_.isFinite(a)&&a>=0?parseInt(a):6;Big.E_NEG=-1*(a+1);r=r||false;var s;if(!_.isFinite(n)){return n}try{switch(t){case"round":s=Big(n).round(a);break;case"add":s=Big(n).plus(i);break;case"sub":s=Big(n).minus(i);break;case"mul":s=Big(n).times(i).round(a);break;case"div":s=Big(n).div(i).round(a);break;default:return n}}catch(e){if(e.name=="BigError"){return n}}if(r&&!_.isString(s)){return s.toFixed(a)}else if(!_.isString(s)){return s.toString()}else{return s}},round:function e(t,n,i){return this._math("round",t,null,n,i)},add:function e(t,n,i,a){return this._math("add",t,n,i,a)},sub:function e(t,n,i,a){return this._math("sub",t,n,i,a)},mul:function e(t,n,i,a){return this._math("mul",t,n,i,a)},div:function e(t,n,i,a){return this._math("div",t,n,i,a)},isDifferentWithPrecision:function e(t,n,a){var r=SUGAR.App.metadata.getConfig();var s=a||i.getPreference("decimal_precision");a=_.isFinite(s)?s:r.defaultCurrencySignificantDigits||2;var o=this._math("round",this.getDifference(t,n,true),null,a);var l=a===0?"0":this._math("div",.1,Math.pow(10,a-1));return o==="0"?false:parseFloat(o)>=parseFloat(l)},getDifference:function e(t,n,i){var a=this._math("sub",t,n);i=_.isUndefined(i)?false:i;return i?Math.abs(a):a}}},function(e,t,n){"use strict";var i=n(34);var a=n(45);var r=n(35);var s=n(18);var o=n(30);var l=a.extend({fieldTag:"input",initialize:function e(t){r.attach(this,"field");a.prototype.initialize.call(this,t);this.sfId=t.sfId;this.view=t.view;this.viewDefs=t.viewDefs||{};this.name=this.viewDefs.name||t.def&&t.def.name;var n=this.model&&this.model.fields?this.model.fields[this.name]:null;this.fieldDefs=_.extend({},n,this.viewDefs.defs);this.def=_.extend({},n,t.def);this.type=this.viewDefs.type||this.def.type||this.fieldDefs.type;var i=this.def.label||this.def.vname||this.name;this.label=s.get(this.viewDefs.label||i,this.module);this.template=o.empty;if(this.model){this.model.on("error:validation:"+this.name,this.handleValidationError,this);this.model.on("validation:start attributes:revert",this.removeValidationErrors,this);this.model.on("acl:change:"+this.name,this.handleAclChange,this)}},viewFallbackMap:{edit:"detail"},handleAclChange:function e(){this._resetAction();this.render()},_resetAction:function e(){this.action=void 0},_checkAccessToAction:function e(t){return i.hasAccessToModel(t,this.model,this.name)},_getFallbackTemplate:function e(t){return this.isDisabled()&&t==="disabled"?"edit":this.view.fallbackFieldTemplate||"detail"},_loadTemplate:function e(){var t;var n=this.options.viewName||this.options.def.view||(this.view.meta&&this.view.meta.type?this.view.meta.type:this.view.name);var i=this.action;if(this.isDisabled()&&n==="edit"){n=this.action}else{i=this.action||(this.view.action&&this.view.name!=this.view.action?this.view.action:n)}while(n){if(this._checkAccessToAction(i))break;n=this.viewFallbackMap[n];i=n}if(n){var a=this.module||this.context.get("module");t=this._getFallbackTemplate(n);this.template=o.getField(this.type,n,a,t)||o.getField("base",n,a,t)||o.empty}else{this.template=o.empty}this.tplName=n;this.action=i},delegateEvents:function e(t){t=t||_.result(this,"events")||(this.def?this.def.events:null);if(!t)return;t=_.clone(t);_.each(t,function(e,n){var i=this[e];if(!i&&_.isString(e)){i=_.bind(function(t){if(_.isFunction(this.triggerMetadataEvent)){this.triggerMetadataEvent(t,e)}},this);this["callback_"+n]=i;t[n]="callback_"+n}if(!_.isFunction(e)&&!i){delete t[n]}},this);Backbone.View.prototype.delegateEvents.call(this,t)},_render:function e(){this._loadTemplate();if(this.model instanceof Backbone.Model){this.value=this.getFormattedValue()}this.dir=_.result(this,"direction");if(s.direction===this.dir){delete this.dir}this.unbindDom();this.$el.html(this.template(this)||"");if(this.def&&this.def.css_class){this.getFieldElement().addClass(this.def.css_class)}this.$(this.fieldTag).attr("dir",this.dir);this.bindDomChange();return this},getFieldElement:function e(){return this.$el},bindDomChange:function e(){if(!(this.model instanceof Backbone.Model))return;var t=this;var n=this.$el.find(this.fieldTag);n.on("change",function(){t.model.set(t.name,t.unformat(n.val()))})},bindDataChange:function e(){if(this.model){this.model.on("change:"+this.name,function(e,t){if(this.action==="edit"){this.$(this.fieldTag).val(this.format(t))}else{this.render()}},this)}},hasChanged:function e(){return!_.isEqual(this.format(this.model.getSynced(this.name)),this.format(this.model.get(this.name)))},format:function e(t){return t},unformat:function e(t){return t},getFormattedValue:function e(){return this.format(this.model.has(this.name)?this.model.get(this.name):null)},handleValidationError:function e(t){},removeValidationErrors:function e(){},getPlaceholder:function e(){return new Handlebars.SafeString('<span sfuuid="'+this.sfId+'"></span>')},setDisabled:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t=_.isUndefined(t)?true:t;var i=false;if(t&&this.isDisabled()===false){this._previousAction=this.action;this.action="disabled";this.render();i=true}else if(t===false&&this.isDisabled()){this.action=this._previousAction;delete this._previousAction;this.render();i=true}if(i&&n.trigger){this.context.trigger("field:disabled",this.name,t,this)}},isDisabled:function e(){return this.action==="disabled"},setViewName:function e(t){this.options.viewName=t},setMode:function e(t){if(this.isDisabled()){this._previousAction=t}else{this.action=t}this.setViewName(t);this.render()},unbindDom:function e(){this.$el.find(this.fieldTag).off()},_dispose:function e(){r.detach(this,"field");this.unbindDom();a.prototype._dispose.call(this)},toString:function e(){return"field-"+this.name+"-"+this.sfId+"-"+a.prototype.toString.call(this)},_show:function e(){this.getFieldElement().removeClass("hide").show();this.updateVisibleState(true)},_hide:function e(){this.getFieldElement().addClass("hide").hide();this.updateVisibleState(false)},equals:function e(t){return this.type===t.type&&_.isEqual(this.getFormattedValue(),t.getFormattedValue())},closestComponent:function e(t){if(!this.view){return}if(this.view.name===t){return this.view}return this.view.closestComponent(t)}});e.exports=l},function(e,t,n){"use strict";var i=n(45);var a=n(35);var r=n(30);var s=n(36);var o=i.extend({initialize:function e(t){a.attach(this,"layout");i.prototype.initialize.call(this,t);this._components=[];this.meta=this.meta||{};this.type=this.meta.type||this.options.type;this.name=this.meta.name||this.options.name||this.type||"";if(this.meta.label){this.label=this.meta.label}else if(this.options.def&&this.options.def.label){this.label=this.options.def.label}else if(this.options.label){this.label=this.options.label}else{this.label=""}this.layout=this.options.layout;this._loadTemplate(t);if(this.template){this.$el.append(this.template(this,t));this.placeComponentsFromTemplate()}if(this.meta.lazy_loaded){this._componentsMeta=this.meta.components;this.meta.components=[]}SUGAR.App.events.on("app:locale:change",function(){this.render()},this)},_loadTemplate:function e(t){t=t||{};if(this.meta.template){this.template=r.getLayout(this.meta.template,this.module)||r.getLayout(this.meta.template,t.loadModule);return}var n=r.getLayout(this.name,this.module)||r.getLayout(this.type,this.module);if(!n){if(t.loadModule){n=r.getLayout(this.name,t.loadModule)||r.getLayout(this.type,t.loadModule)}else{n=r.getLayout(this.name)||r.getLayout(this.type)}}this.template=n},placeComponentsFromTemplate:function e(){var t={};if(_.isEmpty(this._components)){return}this.$("span[cid]").each(function(){var e=$(this),n=e.attr("cid");t[n]=e});_.each(this._components,function(e){var n=t[e.cid];if(n){n.replaceWith(e.el)}},this)},initComponents:function e(t,n,i){if(this.disposed){return}var a,r;t=t||this.meta.components;r=this._components.length;this._addComponentsFromDef(t,n,i);a=this._components.slice(r);_.each(a,function(e){if(_.isFunction(e.initComponents)){e.initComponents()}});this.trigger("init");return a},createComponentFromDef:function e(t,n,i){n=n||this.context;i=i||this.module;if(t.context){if(t.context instanceof SUGAR.App.Context){n=t.context}else{n=n.getChildContext(t.context);n.prepare()}i=n.get("module")}if(t.view){if(_.isString(t.view)){return s.createView({context:n,name:t.view,def:t,module:i,loadModule:t.loadModule,primary:t.primary,layout:this})}else if(_.isObject(t.view)){return s.createView({context:n,module:i,loadModule:t.loadModule,meta:t.view,type:t.view.type,name:t.view.name,primary:t.view.primary,def:t,layout:this})}}else if(t.layout){if(_.isString(t.layout)){return s.createLayout({context:n,name:t.layout,def:t,module:i,loadModule:t.loadModule,layout:this})}else if(_.isObject(t.layout)){return s.createLayout({context:n,module:i,loadModule:t.loadModule,meta:t.layout,type:t.layout.type,name:t.layout.name,def:t,layout:this})}}else{SUGAR.App.logger.warn("Invalid layout definition:\n"+t.layout)}},_addComponentsFromDef:function e(t,n,i){t=t||[];_.each(t,function(e){if(e.initializedInTemplate){delete e.initializedInTemplate;return}if(e.view||e.layout){this.addComponent(this.createComponentFromDef(e,n,i),e)}},this)},addComponent:function e(t,n){if(!t.layout)t.layout=this;this._components.push(t);this._placeComponent(t,n)},_placeComponent:function e(t){this.$el.append(t.el)},removeComponent:function e(t){var n=_.isNumber(t)?t:this._components.indexOf(t);if(n>-1){var i=this._components.splice(n,1);i[0].layout=null}},getComponent:function e(t){return _.find(this._components,function(e){return e.name===t})},_render:function e(){if(this._components&&this._components.length>0){_.each(this._components,function(e){e.render()},this)}else{SUGAR.App.logger.info("Can't render anything because the layout has no components: "+this.toString()+"\nEither supply metadata or override Layout.render method")}return this},loadData:function e(t){if(this.disposed){return}this.context.loadData(t);_.each(this._components,function(e){e.loadData(t)},this)},getFieldNames:function e(t){var n=[];t=t||this.module;_.each(this._components,function(e){if(e.module==t){n=_.union(n,e.getFieldNames(null,true))}},this);return n},getFields:function e(t){var n={};_.each(this._components,function(e){_.extend(n,e.getFields(t))});return n},closestComponent:function e(t){if(!this.layout){return}if(this.layout.name===t){return this.layout}return this.layout.closestComponent(t)},_show:function e(){i.prototype._show.call(this);_.each(this._components,function(e){e.updateVisibleState(true)})},_hide:function e(){i.prototype._hide.call(this);_.each(this._components,function(e){e.updateVisibleState(true)})},_dispose:function e(){a.detach(this,"layout");this._disposeComponents();i.prototype._dispose.call(this)},_disposeComponents:function e(){_.each(this._components,function(e){e.dispose()});this._components=[]},toString:function e(){return"layout-"+(this.options.type||this.options.name)+"-"+i.prototype.toString.call(this)}});e.exports=o},function(e,t){e.exports=function(e){var t=[];t.toString=function t(){return this.map(function(t){var i=n(t,e);if(t[2]){return"@media "+t[2]+"{"+i+"}"}else{return i}}).join("")};t.i=function(e,n){if(typeof e==="string")e=[[null,e,""]];var i={};for(var a=0;a<this.length;a++){var r=this[a][0];if(typeof r==="number")i[r]=true}for(a=0;a<e.length;a++){var s=e[a];if(typeof s[0]!=="number"||!i[s[0]]){if(n&&!s[2]){s[2]=n}else if(n){s[2]="("+s[2]+") and ("+n+")"}t.push(s)}}};return t};function n(e,t){var n=e[1]||"";var a=e[3];if(!a){return n}if(t&&typeof btoa==="function"){var r=i(a);var s=a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"});return[n].concat(s).concat([r]).join("\n")}return[n].join("\n")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));var n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+n+" */"}},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){if(e<12){return n?"vm":"VM"}else{return n?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"};var n=function(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5};var i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]};var a=function(e){return function(t,a,r,s){var o=n(t),l=i[e][n(t)];if(o===2){l=l[a?0:1]}return l.replace(/%d/i,t)}};var r=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];var s=e.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){if(e<12){return"ص"}else{return"م"}},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}});return s})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"};var n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};var i=e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){if(e<12){return"ص"}else{return"م"}},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"};var n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};var i=function(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5};var a={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]};var r=function(e){return function(t,n,r,s){var o=i(t),l=a[e][i(t)];if(o===2){l=l[n?0:1]}return l.replace(/%d/i,t)}};var s=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"];var o=e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){if(e<12){return"ص"}else{return"م"}},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}});return o})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};var n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"gecə"}else if(e<12){return"səhər"}else if(e<17){return"gündüz"}else{return"axşam"}},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(e===0){return e+"-ıncı"}var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:n?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};if(i==="m"){return n?"хвіліна":"хвіліну"}else if(i==="h"){return n?"гадзіна":"гадзіну"}else{return e+" "+t(a[i],+e)}}var i=e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:n,mm:n,h:n,hh:n,d:"дзень",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"ночы"}else if(e<12){return"раніцы"}else if(e<17){return"дня"}else{return"вечара"}},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return(e%10===2||e%10===3)&&(e%100!==12&&e%100!==13)?e+"-і":e+"-ы";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;if(e===0){return e+"-ев"}else if(n===0){return e+"-ен"}else if(n>10&&n<20){return e+"-ти"}else if(t===1){return e+"-ви"}else if(t===2){return e+"-ри"}else if(t===7||t===8){return e+"-ми"}else{return e+"-ти"}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"};var n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};var i=e.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="রাত"&&e>=4||t==="দুপুর"&&e<5||t==="বিকাল"){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return"রাত"}else if(e<10){return"সকাল"}else if(e<17){return"দুপুর"}else if(e<20){return"বিকাল"}else{return"রাত"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"};var n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};var i=e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="མཚན་མོ"&&e>=4||t==="ཉིན་གུང"&&e<5||t==="དགོང་དག"){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return"མཚན་མོ"}else if(e<10){return"ཞོགས་ཀས"}else if(e<17){return"ཉིན་གུང"}else if(e<20){return"དགོང་དག"}else{return"མཚན་མོ"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+a(i[n],e)}function n(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){if(e>9){return i(e%10)}return e}function a(e,t){if(t===2){return r(e)}return e}function r(e){var t={m:"v",b:"v",d:"z"};if(t[e.charAt(0)]===undefined){return e}return t[e.charAt(0)]+e.substring(1)}var s=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=e===1?"añ":"vet";return e+t},week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){i+="minuta"}else if(e===2||e===3||e===4){i+="minute"}else{i+="minuta"}return i;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){i+="sat"}else if(e===2||e===3||e===4){i+="sata"}else{i+="sati"}return i;case"dd":if(e===1){i+="dan"}else{i+="dana"}return i;case"MM":if(e===1){i+="mjesec"}else if(e===2||e===3||e===4){i+="mjeseca"}else{i+="mjeseci"}return i;case"yy":if(e===1){i+="godina"}else if(e===2||e===3||e===4){i+="godine"}else{i+="godina"}return i}}var n=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:true,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=e===1?"r":e===2?"n":e===3?"r":e===4?"t":"è";if(t==="w"||t==="W"){n="a"}return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_");var n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");function i(e){return e>1&&e<5&&~~(e/10)!==1}function a(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pár sekund":"pár sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":if(t||a){return r+(i(e)?"minuty":"minut")}else{return r+"minutami"}break;case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":if(t||a){return r+(i(e)?"hodiny":"hodin")}else{return r+"hodinami"}break;case"d":return t||a?"den":"dnem";case"dd":if(t||a){return r+(i(e)?"dny":"dní")}else{return r+"dny"}break;case"M":return t||a?"měsíc":"měsícem";case"MM":if(t||a){return r+(i(e)?"měsíce":"měsíců")}else{return r+"měsíci"}break;case"y":return t||a?"rok":"rokem";case"yy":if(t||a){return r+(i(e)?"roky":"let")}else{return r+"lety"}break}}var r=e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++){i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i")}return i}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++){n[t]=new RegExp("^"+e[t]+"$","i")}return n}(t),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пӗр-ик ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(t>20){if(t===40||t===50||t===60||t===80||t===100){n="fed"}else{n="ain"}}else if(t>0){n=i[t]}return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"];var n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];var i=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){if(e<12){return"މކ"}else{return"މފ"}},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}var n=e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){if(!e){return this._monthsNominativeEl}else if(typeof t==="string"&&/D/.test(t.substring(0,t.indexOf("MMMM")))){return this._monthsGenitiveEl[e.month()]}else{return this._monthsNominativeEl[e.month()]}},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){if(e>11){return n?"μμ":"ΜΜ"}else{return n?"πμ":"ΠΜ"}},isPM:function(e){return(e+"").toLowerCase()[0]==="μ"},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var i=this._calendarEl[e],a=n&&n.hours();if(t(i)){i=i.apply(n)}return i.replace("{}",a%12===1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return e.charAt(0).toLowerCase()==="p"},meridiem:function(e,t,n){if(e>11){return n?"p.t.m.":"P.T.M."}else{return n?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_");var n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i];var a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;var r=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_");var n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY H:mm",LLLL:"dddd, MMMM [de] D [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_");var n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");var i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i];var a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;var r=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};if(t){return a[n][2]?a[n][2]:a[n][1]}return i?a[n][0]:a[n][1]}var n=e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:true,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"};var n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};var i=e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){if(e<12){return"قبل از ظهر"}else{return"بعد از ظهر"}},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" ");var n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function i(e,t,n,i){var r="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":r=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":r=i?"tunnin":"tuntia";break;case"d":return i?"päivän":"päivä";case"dd":r=i?"päivän":"päivää";break;case"M":return i?"kuukauden":"kuukausi";case"MM":r=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":r=i?"vuoden":"vuotta";break}r=a(e,i)+" "+r;return r}function a(e,i){return e<10?i?n[e]:t[e]:e}var r=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(e===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_");var n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");var i=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsParseExact:true,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"];var n=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"];var i=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"];var a=["Did","Dil","Dim","Dic","Dia","Dih","Dis"];var r=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];var s=e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:true,weekdays:i,weekdaysShort:a,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=e===1?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:true,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(this.hours()!==1?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){if(e.indexOf("un")===0){return"n"+e}return"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?a[n][0]:a[n][1]}var n=e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="rati"){return e<4?e:e+12}else if(t==="sokalli"){return e}else if(t==="donparam"){return e>12?e:e+12}else if(t==="sanje"){return e+12}},meridiem:function(e,t,n){if(e<4){return"rati"}else if(e<12){return"sokalli"}else if(e<16){return"donparam"}else if(e<20){return"sanje"}else{return"rati"}}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"};var n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};var i=e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:true,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પેહલા",s:"અમુક પળો",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="રાત"){return e<4?e:e+12}else if(t==="સવાર"){return e}else if(t==="બપોર"){return e>=10?e:e+12}else if(t==="સાંજ"){return e+12}},meridiem:function(e,t,n){if(e<4){return"રાત"}else if(e<10){return"સવાર"}else if(e<17){return"બપોર"}else if(e<20){return"સાંજ"}else{return"રાત"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){if(e===2){return"שעתיים"}return e+" שעות"},d:"יום",dd:function(e){if(e===2){return"יומיים"}return e+" ימים"},M:"חודש",MM:function(e){if(e===2){return"חודשיים"}return e+" חודשים"},y:"שנה",yy:function(e){if(e===2){return"שנתיים"}else if(e%10===0&&e!==10){return e+" שנה"}return e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){if(e<5){return"לפנות בוקר"}else if(e<10){return"בבוקר"}else if(e<12){return n?'לפנה"צ':"לפני הצהריים"}else if(e<18){return n?'אחה"צ':"אחרי הצהריים"}else{return"בערב"}}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"};var n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};var i=e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:true,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="रात"){return e<4?e:e+12}else if(t==="सुबह"){return e}else if(t==="दोपहर"){return e>=10?e:e+12}else if(t==="शाम"){return e+12}},meridiem:function(e,t,n){if(e<4){return"रात"}else if(e<10){return"सुबह"}else if(e<17){return"दोपहर"}else if(e<20){return"शाम"}else{return"रात"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){i+="minuta"}else if(e===2||e===3||e===4){i+="minute"}else{i+="minuta"}return i;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){i+="sat"}else if(e===2||e===3||e===4){i+="sata"}else{i+="sati"}return i;case"dd":if(e===1){i+="dan"}else{i+="dana"}return i;case"MM":if(e===1){i+="mjesec"}else if(e===2||e===3||e===4){i+="mjeseca"}else{i+="mjeseci"}return i;case"yy":if(e===1){i+="godina"}else if(e===2||e===3||e===4){i+="godine"}else{i+="godina"}return i}}var n=e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,i){var a=e,r;switch(n){case"s":return i||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return a+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" óra":" órája");case"hh":return a+(i||t?" óra":" órája");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return a+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hónap":" hónapja");case"MM":return a+(i||t?" hónap":" hónapja");case"y":return"egy"+(i||t?" év":" éve");case"yy":return a+(i||t?" év":" éve")}return""}function i(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}var a=e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return e.charAt(1).toLowerCase()==="u"},meridiem:function(e,t,n){if(e<12){return n===true?"de":"DE"}else{return n===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,false)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){if(e<4){return"գիշերվա"}else if(e<12){return"առավոտվա"}else if(e<17){return"ցերեկվա"}else{return"երեկոյան"}},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":if(e===1){return e+"-ին"}return e+"-րդ";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="siang"){return e>=11?e:e+12}else if(t==="sore"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"siang"}else if(e<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e){if(e%100===11){return true}else if(e%10===1){return false}return true}function n(e,n,i,a){var r=e+" ";switch(i){case"s":return n||a?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return n?"mínúta":"mínútu";case"mm":if(t(e)){return r+(n||a?"mínútur":"mínútum")}else if(n){return r+"mínúta"}return r+"mínútu";case"hh":if(t(e)){return r+(n||a?"klukkustundir":"klukkustundum")}return r+"klukkustund";case"d":if(n){return"dagur"}return a?"dag":"degi";case"dd":if(t(e)){if(n){return r+"dagar"}return r+(a?"daga":"dögum")}else if(n){return r+"dagur"}return r+(a?"dag":"degi");case"M":if(n){return"mánuður"}return a?"mánuð":"mánuði";case"MM":if(t(e)){if(n){return r+"mánuðir"}return r+(a?"mánuði":"mánuðum")}else if(n){return r+"mánuður"}return r+(a?"mánuð":"mánuði");case"y":return n||a?"ár":"ári";case"yy":if(t(e)){return r+(n||a?"ár":"árum")}return r+(n||a?"ár":"ári")}}var i=e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return e==="午後"},meridiem:function(e,t,n){if(e<12){return"午前"}else{return"午後"}},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="enjing"){return e}else if(t==="siyang"){return e>=11?e:e+12}else if(t==="sonten"||t==="ndalu"){return e+12}},meridiem:function(e,t,n){if(e<11){return"enjing"}else if(e<15){return"siyang"}else if(e<19){return"sonten"}else{return"ndalu"}},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){if(/(წამი|წუთი|საათი|დღე|თვე)/.test(e)){return e.replace(/(ი|ე)$/,"ის უკან")}if(/წელი/.test(e)){return e.replace(/წელი$/,"წლის უკან")}},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){if(e===0){return e}if(e===1){return e+"-ლი"}if(e<20||e<=100&&e%20===0||e%100===0){return"მე-"+e}return e+"-ე"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};var n=e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"};var n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};var i=e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬ_ಅಕ್ಟೋಬ_ನವೆಂಬ_ಡಿಸೆಂಬ".split("_"),monthsParseExact:true,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="ರಾತ್ರಿ"){return e<4?e:e+12}else if(t==="ಬೆಳಿಗ್ಗೆ"){return e}else if(t==="ಮಧ್ಯಾಹ್ನ"){return e>=10?e:e+12}else if(t==="ಸಂಜೆ"){return e+12}},meridiem:function(e,t,n){if(e<4){return"ರಾತ್ರಿ"}else if(e<10){return"ಬೆಳಿಗ್ಗೆ"}else if(e<17){return"ಮಧ್ಯಾಹ್ನ"}else if(e<20){return"ಸಂಜೆ"}else{return"ರಾತ್ರಿ"}},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return e==="오후"},meridiem:function(e,t,n){return e<12?"오전":"오후"}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};var n=e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?a[n][0]:a[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));if(a(t)){return"a "+e}return"an "+e}function i(e){var t=e.substr(0,e.indexOf(" "));if(a(t)){return"viru "+e}return"virun "+e}function a(e){e=parseInt(e,10);if(isNaN(e)){return false}if(e<0){return true}else if(e<10){if(4<=e&&e<=7){return true}return false}else if(e<100){var t=e%10,n=e/10;if(t===0){return a(n)}return a(t)}else if(e<1e4){while(e>=10){e=e/10}return a(e)}else{e=e/1e3;return a(e)}}var r=e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return e==="ຕອນແລງ"},meridiem:function(e,t,n){if(e<12){return"ຕອນເຊົ້າ"}else{return"ຕອນແລງ"}},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,i){if(t){return"kelios sekundės"}else{return i?"kelių sekundžių":"kelias sekundes"}}function i(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function a(e){return e%10===0||e>10&&e<20}function r(e){return t[e].split("_")}function s(e,t,n,s){var o=e+" ";if(e===1){return o+i(e,t,n[0],s)}else if(t){return o+(a(e)?r(n)[1]:r(n)[0])}else{if(s){return o+r(n)[1]}else{return o+(a(e)?r(n)[1]:r(n)[2])}}}var o=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:n,m:i,mm:s,h:i,hh:s,d:i,dd:s,M:i,MM:s,y:i,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return o})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){if(n){return t%10===1&&t%100!==11?e[2]:e[3]}else{return t%10===1&&t%100!==11?e[0]:e[1]}}function i(e,i,a){return e+" "+n(t[a],e,i)}function a(e,i,a){return n(t[a],e,i)}function r(e,t){return t?"dažas sekundes":"dažām sekundēm"}var s=e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:r,m:a,mm:i,h:a,hh:i,d:a,dd:i,M:a,MM:i,y:a,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];if(i.length===1){return n?a[0]:a[1]}else{return e+" "+t.correctGrammaticalCase(e,a)}}};var n=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;if(e===0){return e+"-ев"}else if(n===0){return e+"-ен"}else if(n>10&&n<20){return e+"-ти"}else if(t===1){return e+"-ви"}else if(t===2){return e+"-ри"}else if(t===7||t===8){return e+"-ми"}else{return e+"-ти"}},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:true,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){if(e===12){e=0}if(t==="രാത്രി"&&e>=4||t==="ഉച്ച കഴിഞ്ഞ്"||t==="വൈകുന്നേരം"){return e+12}else{return e}},meridiem:function(e,t,n){if(e<4){return"രാത്രി"}else if(e<12){return"രാവിലെ"}else if(e<17){return"ഉച്ച കഴിഞ്ഞ്"}else if(e<20){return"വൈകുന്നേരം"}else{return"രാത്രി"}}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"};var n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function i(e,t,n,i){var a="";if(t){switch(n){case"s":a="काही सेकंद";break;case"m":a="एक मिनिट";break;case"mm":a="%d मिनिटे";break;case"h":a="एक तास";break;case"hh":a="%d तास";break;case"d":a="एक दिवस";break;case"dd":a="%d दिवस";break;case"M":a="एक महिना";break;case"MM":a="%d महिने";break;case"y":a="एक वर्ष";break;case"yy":a="%d वर्षे";break}}else{switch(n){case"s":a="काही सेकंदां";break;case"m":a="एका मिनिटा";break;case"mm":a="%d मिनिटां";break;case"h":a="एका तासा";break;case"hh":a="%d तासां";break;case"d":a="एका दिवसा";break;case"dd":a="%d दिवसां";break;case"M":a="एका महिन्या";break;case"MM":a="%d महिन्यां";break;case"y":a="एका वर्षा";break;case"yy":a="%d वर्षां";break}}return a.replace(/%d/i,e)}var a=e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:true,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="रात्री"){return e<4?e:e+12}else if(t==="सकाळी"){return e}else if(t==="दुपारी"){return e>=10?e:e+12}else if(t==="सायंकाळी"){return e+12}},meridiem:function(e,t,n){if(e<4){return"रात्री"}else if(e<10){return"सकाळी"}else if(e<17){return"दुपारी"}else if(e<20){return"सायंकाळी"}else{return"रात्री"}},week:{dow:0,doy:6}});return a})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function(e,t,n){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"};var n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};var i=e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:true,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"};var n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};var i=e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:true,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="राति"){return e<4?e:e+12}else if(t==="बिहान"){return e}else if(t==="दिउँसो"){return e>=10?e:e+12}else if(t==="साँझ"){return e+12}},meridiem:function(e,t,n){if(e<3){return"राति"}else if(e<12){return"बिहान"}else if(e<16){return"दिउँसो"}else if(e<20){return"साँझ"}else{return"राति"}},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_");var n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i];var a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;var r=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_");var n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");var i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i];var a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;var r=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){if(!e){return t}else if(/-MMM-/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"};var n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};var i=e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="ਰਾਤ"){return e<4?e:e+12}else if(t==="ਸਵੇਰ"){return e}else if(t==="ਦੁਪਹਿਰ"){return e>=10?e:e+12}else if(t==="ਸ਼ਾਮ"){return e+12}},meridiem:function(e,t,n){if(e<4){return"ਰਾਤ"}else if(e<10){return"ਸਵੇਰ"}else if(e<17){return"ਦੁਪਹਿਰ"}else if(e<20){return"ਸ਼ਾਮ"}else{return"ਰਾਤ"}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_");var n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function a(e,t,n){var a=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return a+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return a+(i(e)?"godziny":"godzin");case"MM":return a+(i(e)?"miesiące":"miesięcy");case"yy":return a+(i(e)?"lata":"lat")}}var r=e.defineLocale("pl",{months:function(e,i){if(!e){return t}else if(i===""){return"("+n[e.month()]+"|"+t[e.month()]+")"}else if(/D MMMM/.test(i)){return n[e.month()]}else{return t[e.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:a,mm:a,h:a,hh:a,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},a=" ";if(e%100>=20||e>=100&&e%100===0){a=" de "}return e+a+i[n]}var n=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};if(i==="m"){return n?"минута":"минуту"}else{return e+" "+t(a[i],+e)}}var i=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];var a=e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}}else{if(this.day()===2){return"[Во] dddd [в] LT"}else{return"[В] dddd [в] LT"}}},lastWeek:function(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}}else{if(this.day()===2){return"[Во] dddd [в] LT"}else{return"[В] dddd [в] LT"}}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"ночи"}else if(e<12){return"утра"}else if(e<17){return"дня"}else{return"вечера"}},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}});return a})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"];var n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];var i=e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){if(e<12){return"صبح"}return"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return e==="ප.ව."||e==="පස් වරු"},meridiem:function(e,t,n){if(e>11){return n?"ප.ව.":"පස් වරු"}else{return n?"පෙ.ව.":"පෙර වරු"}}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_");var n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function a(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pár sekúnd":"pár sekundami";case"m":return t?"minúta":a?"minútu":"minútou";case"mm":if(t||a){return r+(i(e)?"minúty":"minút")}else{return r+"minútami"}break;case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":if(t||a){return r+(i(e)?"hodiny":"hodín")}else{return r+"hodinami"}break;case"d":return t||a?"deň":"dňom";case"dd":if(t||a){return r+(i(e)?"dni":"dní")}else{return r+"dňami"}break;case"M":return t||a?"mesiac":"mesiacom";case"MM":if(t||a){return r+(i(e)?"mesiace":"mesiacov")}else{return r+"mesiacmi"}break;case"y":return t||a?"rok":"rokom";case"yy":if(t||a){return r+(i(e)?"roky":"rokov")}else{return r+"rokmi"}break}}var r=e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":if(e===1){a+=t?"minuta":"minuto"}else if(e===2){a+=t||i?"minuti":"minutama"}else if(e<5){a+=t||i?"minute":"minutami"}else{a+=t||i?"minut":"minutami"}return a;case"h":return t?"ena ura":"eno uro";case"hh":if(e===1){a+=t?"ura":"uro"}else if(e===2){a+=t||i?"uri":"urama"}else if(e<5){a+=t||i?"ure":"urami"}else{a+=t||i?"ur":"urami"}return a;case"d":return t||i?"en dan":"enim dnem";case"dd":if(e===1){a+=t||i?"dan":"dnem"}else if(e===2){a+=t||i?"dni":"dnevoma"}else{a+=t||i?"dni":"dnevi"}return a;case"M":return t||i?"en mesec":"enim mesecem";case"MM":if(e===1){a+=t||i?"mesec":"mesecem"}else if(e===2){a+=t||i?"meseca":"mesecema"}else if(e<5){a+=t||i?"mesece":"meseci"}else{a+=t||i?"mesecev":"meseci"}return a;case"y":return t||i?"eno leto":"enim letom";case"yy":if(e===1){a+=t||i?"leto":"letom"}else if(e===2){a+=t||i?"leti":"letoma"}else if(e<5){a+=t||i?"leta":"leti"}else{a+=t||i?"let":"leti"}return a}}var n=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:true,meridiemParse:/PD|MD/,isPM:function(e){return e.charAt(0)==="M"},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];if(i.length===1){return n?a[0]:a[1]}else{return e+" "+t.correctGrammaticalCase(e,a)}}};var n=e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:true,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){var e=["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var a=t.words[i];if(i.length===1){return n?a[0]:a[1]}else{return e+" "+t.correctGrammaticalCase(e,a)}}};var n=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){var e=["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){if(e<11){return"ekuseni"}else if(e<15){return"emini"}else if(e<19){return"entsambama"}else{return"ebusuku"}},meridiemHour:function(e,t){if(e===12){e=0}if(t==="ekuseni"){return e}else if(t==="emini"){return e>=11?e:e+12}else if(t==="entsambama"||t==="ebusuku"){if(e===0){return 0}return e+12}},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"};var n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};var i=e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){if(e<2){return" யாமம்"}else if(e<6){return" வைகறை"}else if(e<10){return" காலை"}else if(e<14){return" நண்பகல்"}else if(e<18){return" எற்பாடு"}else if(e<22){return" மாலை"}else{return" யாமம்"}},meridiemHour:function(e,t){if(e===12){e=0}if(t==="யாமம்"){return e<2?e:e+12}else if(t==="வைகறை"||t==="காலை"){return e}else if(t==="நண்பகல்"){return e>=10?e:e+12}else{return e+12}},week:{dow:0,doy:6}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:true,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="రాత్రి"){return e<4?e:e+12}else if(t==="ఉదయం"){return e}else if(t==="మధ్యాహ్నం"){return e>=10?e:e+12}else if(t==="సాయంత్రం"){return e+12}},meridiem:function(e,t,n){if(e<4){return"రాత్రి"}else if(e<10){return"ఉదయం"}else if(e<17){return"మధ్యాహ్నం"}else if(e<20){return"సాయంత్రం"}else{return"రాత్రి"}},week:{dow:0,doy:6}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:true,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return e==="หลังเที่ยง"},meridiem:function(e,t,n){if(e<12){return"ก่อนเที่ยง"}else{return"หลังเที่ยง"}},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"leS":e.indexOf("jar")!==-1?t.slice(0,-3)+"waQ":e.indexOf("DIS")!==-1?t.slice(0,-3)+"nem":t+" pIq";return t}function i(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"Hu’":e.indexOf("jar")!==-1?t.slice(0,-3)+"wen":e.indexOf("DIS")!==-1?t.slice(0,-3)+"ben":t+" ret";return t}function a(e,t,n,i){var a=r(e);switch(n){case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}function r(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),a=e%10,r="";if(n>0){r+=t[n]+"vatlh"}if(i>0){r+=(r!==""?" ":"")+t[i]+"maH"}if(a>0){r+=(r!==""?" ":"")+t[a]}return r===""?"pagh":r}var s=e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:true,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:i,s:"puS lup",m:"wa’ tup",mm:a,h:"wa’ rep",hh:a,d:"wa’ jaj",dd:a,M:"wa’ jar",MM:a,y:"wa’ DIS",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};var n=e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(e===0){return e+"'ıncı"}var n=e%10,i=e%100-n,a=e>=100?100:null;return e+(t[n]||t[i]||t[a])},week:{dow:1,doy:7}});return n})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){if(e>11){return n?"d'o":"D'O"}else{return n?"d'a":"D'A"}},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function n(e,t,n,i){var a={s:["viensas secunds","'iensas secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",""+e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",""+e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return i?a[n][0]:t?a[n][0]:a[n][1]}return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,i){var a={mm:n?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:n?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};if(i==="m"){return n?"хвилина":"хвилину"}else if(i==="h"){return n?"година":"годину"}else{return e+" "+t(a[i],+e)}}function i(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};if(!e){return n["nominative"]}var i=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]}function a(e){return function(){return e+"о"+(this.hours()===11?"б":"")+"] LT"}}var r=e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:i,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:a("[Сьогодні "),nextDay:a("[Завтра "),lastDay:a("[Вчора "),nextWeek:a("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[Минулої] dddd [").call(this);case 1:case 2:case 4:return a("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){if(e<4){return"ночі"}else if(e<12){return"ранку"}else if(e<17){return"дня"}else{return"вечора"}},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}});return r})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"];var n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];var i=e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){if(e<12){return"صبح"}return"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}});return i})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:true,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:true,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){if(e<12){return n?"sa":"SA"}else{return n?"ch":"CH"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:true,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="凌晨"||t==="早上"||t==="上午"){return e}else if(t==="下午"||t==="晚上"){return e+12}else{return e>=11?e:e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return"凌晨"}else if(i<900){return"早上"}else if(i<1130){return"上午"}else if(i<1230){return"中午"}else if(i<1800){return"下午"}else{return"晚上"}},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="凌晨"||t==="早上"||t==="上午"){return e}else if(t==="中午"){return e>=11?e:e+12}else if(t==="下午"||t==="晚上"){return e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return"凌晨"}else if(i<900){return"早上"}else if(i<1130){return"上午"}else if(i<1230){return"中午"}else if(i<1800){return"下午"}else{return"晚上"}},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});return t})},function(e,t,n){(function(e,t){true?t(n(1)):typeof define==="function"&&define.amd?define(["../moment"],t):t(e.moment)})(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){if(e===12){e=0}if(t==="凌晨"||t==="早上"||t==="上午"){return e}else if(t==="中午"){return e>=11?e:e+12}else if(t==="下午"||t==="晚上"){return e+12}},meridiem:function(e,t,n){var i=e*100+t;if(i<600){return"凌晨"}else if(i<900){return"早上"}else if(i<1130){return"上午"}else if(i<1230){return"中午"}else if(i<1800){return"下午"}else{return"晚上"}},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}});return t})},function(e,t,n){var i={};var a=function(e){var t;return function(){if(typeof t==="undefined")t=e.apply(this,arguments);return t}};var r=a(function(){return window&&document&&document.all&&!window.atob});var s=function(e){var t={};return function(n){if(typeof t[n]==="undefined"){var i=e.call(this,n);if(i instanceof window.HTMLIFrameElement){try{i=i.contentDocument.head}catch(e){i=null}}t[n]=i}return t[n]}}(function(e){return document.querySelector(e)});var o=null;var l=0;var u=[];var c=n(594);e.exports=function(e,t){if(typeof DEBUG!=="undefined"&&DEBUG){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}t=t||{};t.attrs=typeof t.attrs==="object"?t.attrs:{};if(!t.singleton)t.singleton=r();if(!t.insertInto)t.insertInto="head";if(!t.insertAt)t.insertAt="bottom";var n=f(e,t);d(n,t);return function e(a){var r=[];for(var s=0;s<n.length;s++){var o=n[s];var l=i[o.id];l.refs--;r.push(l)}if(a){var u=f(a,t);d(u,t)}for(var s=0;s<r.length;s++){var l=r[s];if(l.refs===0){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}};function d(e,t){for(var n=0;n<e.length;n++){var a=e[n];var r=i[a.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++){r.parts[s](a.parts[s])}for(;s<a.parts.length;s++){r.parts.push(v(a.parts[s],t))}}else{var o=[];for(var s=0;s<a.parts.length;s++){o.push(v(a.parts[s],t))}i[a.id]={id:a.id,refs:1,parts:o}}}}function f(e,t){var n=[];var i={};for(var a=0;a<e.length;a++){var r=e[a];var s=t.base?r[0]+t.base:r[0];var o=r[1];var l=r[2];var u=r[3];var c={css:o,media:l,sourceMap:u};if(!i[s])n.push(i[s]={id:s,parts:[c]});else i[s].parts.push(c)}return n}function h(e,t){var n=s(e.insertInto);if(!n){throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.")}var i=u[u.length-1];if(e.insertAt==="top"){if(!i){n.insertBefore(t,n.firstChild)}else if(i.nextSibling){n.insertBefore(t,i.nextSibling)}else{n.appendChild(t)}u.push(t)}else if(e.insertAt==="bottom"){n.appendChild(t)}else if(typeof e.insertAt==="object"&&e.insertAt.before){var a=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,a)}else{throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n")}}function p(e){if(e.parentNode===null)return false;e.parentNode.removeChild(e);var t=u.indexOf(e);if(t>=0){u.splice(t,1)}}function m(e){var t=document.createElement("style");e.attrs.type="text/css";g(t,e.attrs);h(e,t);return t}function _(e){var t=document.createElement("link");e.attrs.type="text/css";e.attrs.rel="stylesheet";g(t,e.attrs);h(e,t);return t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function v(e,t){var n,i,a,r;if(t.transform&&e.css){r=t.transform(e.css);if(r){e.css=r}else{return function(){}}}if(t.singleton){var s=l++;n=o||(o=m(t));i=y.bind(null,n,s,false);a=y.bind(null,n,s,true)}else if(e.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){n=_(t);i=S.bind(null,n,t);a=function(){p(n);if(n.href)URL.revokeObjectURL(n.href)}}else{n=m(t);i=x.bind(null,n);a=function(){p(n)}}i(e);return function t(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap){return}i(e=n)}else{a()}}}var b=function(){var e=[];return function(t,n){e[t]=n;return e.filter(Boolean).join("\n")}}();function y(e,t,n,i){var a=n?"":i.css;if(e.styleSheet){e.styleSheet.cssText=b(t,a)}else{var r=document.createTextNode(a);var s=e.childNodes;if(s[t])e.removeChild(s[t]);if(s.length){e.insertBefore(r,s[t])}else{e.appendChild(r)}}}function x(e,t){var n=t.css;var i=t.media;if(i){e.setAttribute("media",i)}if(e.styleSheet){e.styleSheet.cssText=n}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(n))}}function S(e,t,n){var i=n.css;var a=n.sourceMap;var r=t.convertToAbsoluteUrls===undefined&&a;if(t.convertToAbsoluteUrls||r){i=c(i)}if(a){i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}var s=new Blob([i],{type:"text/css"});var o=e.href;e.href=URL.createObjectURL(s);if(o)URL.revokeObjectURL(o)}},function(e,t,n){var i=Function.prototype.apply;t.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function a(e,t){this._id=e;this._clearFn=t}a.prototype.unref=a.prototype.ref=function(){};a.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};n(591);t.setImmediate=setImmediate;t.clearImmediate=clearImmediate},function(e,t,n){var i,a;(function(){var n=this;var r=n._;var s=Array.prototype,o=Object.prototype,l=Function.prototype;var u=s.push,c=s.slice,d=o.toString,f=o.hasOwnProperty;var h=Array.isArray,p=Object.keys,m=l.bind,_=Object.create;var g=function(){};var v=function(e){if(e instanceof v)return e;if(!(this instanceof v))return new v(e);this._wrapped=e};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=v}t._=v}else{n._=v}v.VERSION="1.8.3";var b=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)}}return function(){return e.apply(t,arguments)}};var y=function(e,t,n){if(e==null)return v.identity;if(v.isFunction(e))return b(e,t,n);if(v.isObject(e))return v.matcher(e);return v.property(e)};v.iteratee=function(e,t){return y(e,t,Infinity)};var x=function(e,t){return function(n){var i=arguments.length;if(i<2||n==null)return n;for(var a=1;a<i;a++){var r=arguments[a],s=e(r),o=s.length;for(var l=0;l<o;l++){var u=s[l];if(!t||n[u]===void 0)n[u]=r[u]}}return n}};var S=function(e){if(!v.isObject(e))return{};if(_)return _(e);g.prototype=e;var t=new g;g.prototype=null;return t};var w=function(e){return function(t){return t==null?void 0:t[e]}};var L=Math.pow(2,53)-1;var E=w("length");var M=function(e){var t=E(e);return typeof t=="number"&&t>=0&&t<=L};v.each=v.forEach=function(e,t,n){t=b(t,n);var i,a;if(M(e)){for(i=0,a=e.length;i<a;i++){t(e[i],i,e)}}else{var r=v.keys(e);for(i=0,a=r.length;i<a;i++){t(e[r[i]],r[i],e)}}return e};v.map=v.collect=function(e,t,n){t=y(t,n);var i=!M(e)&&v.keys(e),a=(i||e).length,r=Array(a);for(var s=0;s<a;s++){var o=i?i[s]:s;r[s]=t(e[o],o,e)}return r};function k(e){function t(t,n,i,a,r,s){for(;r>=0&&r<s;r+=e){var o=a?a[r]:r;i=n(i,t[o],o,t)}return i}return function(n,i,a,r){i=b(i,r,4);var s=!M(n)&&v.keys(n),o=(s||n).length,l=e>0?0:o-1;if(arguments.length<3){a=n[s?s[l]:l];l+=e}return t(n,i,a,s,l,o)}}v.reduce=v.foldl=v.inject=k(1);v.reduceRight=v.foldr=k(-1);v.find=v.detect=function(e,t,n){var i;if(M(e)){i=v.findIndex(e,t,n)}else{i=v.findKey(e,t,n)}if(i!==void 0&&i!==-1)return e[i]};v.filter=v.select=function(e,t,n){var i=[];t=y(t,n);v.each(e,function(e,n,a){if(t(e,n,a))i.push(e)});return i};v.reject=function(e,t,n){return v.filter(e,v.negate(y(t)),n)};v.every=v.all=function(e,t,n){t=y(t,n);var i=!M(e)&&v.keys(e),a=(i||e).length;for(var r=0;r<a;r++){var s=i?i[r]:r;if(!t(e[s],s,e))return false}return true};v.some=v.any=function(e,t,n){t=y(t,n);var i=!M(e)&&v.keys(e),a=(i||e).length;for(var r=0;r<a;r++){var s=i?i[r]:r;if(t(e[s],s,e))return true}return false};v.contains=v.includes=v.include=function(e,t,n,i){if(!M(e))e=v.values(e);if(typeof n!="number"||i)n=0;return v.indexOf(e,t,n)>=0};v.invoke=function(e,t){var n=c.call(arguments,2);var i=v.isFunction(t);return v.map(e,function(e){var a=i?t:e[t];return a==null?a:a.apply(e,n)})};v.pluck=function(e,t){return v.map(e,v.property(t))};v.where=function(e,t){return v.filter(e,v.matcher(t))};v.findWhere=function(e,t){return v.find(e,v.matcher(t))};v.max=function(e,t,n){var i=-Infinity,a=-Infinity,r,s;if(t==null&&e!=null){e=M(e)?e:v.values(e);for(var o=0,l=e.length;o<l;o++){r=e[o];if(r>i){i=r}}}else{t=y(t,n);v.each(e,function(e,n,r){s=t(e,n,r);if(s>a||s===-Infinity&&i===-Infinity){i=e;a=s}})}return i};v.min=function(e,t,n){var i=Infinity,a=Infinity,r,s;if(t==null&&e!=null){e=M(e)?e:v.values(e);for(var o=0,l=e.length;o<l;o++){r=e[o];if(r<i){i=r}}}else{t=y(t,n);v.each(e,function(e,n,r){s=t(e,n,r);if(s<a||s===Infinity&&i===Infinity){i=e;a=s}})}return i};v.shuffle=function(e){var t=M(e)?e:v.values(e);var n=t.length;var i=Array(n);for(var a=0,r;a<n;a++){r=v.random(0,a);if(r!==a)i[a]=i[r];i[r]=t[a]}return i};v.sample=function(e,t,n){if(t==null||n){if(!M(e))e=v.values(e);return e[v.random(e.length-1)]}return v.shuffle(e).slice(0,Math.max(0,t))};v.sortBy=function(e,t,n){t=y(t,n);return v.pluck(v.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria;var i=t.criteria;if(n!==i){if(n>i||n===void 0)return 1;if(n<i||i===void 0)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,i){var a={};n=y(n,i);v.each(t,function(i,r){var s=n(i,r,t);e(a,i,s)});return a}};v.groupBy=A(function(e,t,n){if(v.has(e,n))e[n].push(t);else e[n]=[t]});v.indexBy=A(function(e,t,n){e[n]=t});v.countBy=A(function(e,t,n){if(v.has(e,n))e[n]++;else e[n]=1});v.toArray=function(e){if(!e)return[];if(v.isArray(e))return c.call(e);if(M(e))return v.map(e,v.identity);return v.values(e)};v.size=function(e){if(e==null)return 0;return M(e)?e.length:v.keys(e).length};v.partition=function(e,t,n){t=y(t,n);var i=[],a=[];v.each(e,function(e,n,r){(t(e,n,r)?i:a).push(e)});return[i,a]};v.first=v.head=v.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];return v.initial(e,e.length-t)};v.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))};v.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return v.rest(e,Math.max(0,e.length-t))};v.rest=v.tail=v.drop=function(e,t,n){return c.call(e,t==null||n?1:t)};v.compact=function(e){return v.filter(e,v.identity)};var T=function(e,t,n,i){var a=[],r=0;for(var s=i||0,o=E(e);s<o;s++){var l=e[s];if(M(l)&&(v.isArray(l)||v.isArguments(l))){if(!t)l=T(l,t,n);var u=0,c=l.length;a.length+=c;while(u<c){a[r++]=l[u++]}}else if(!n){a[r++]=l}}return a};v.flatten=function(e,t){return T(e,t,false)};v.without=function(e){return v.difference(e,c.call(arguments,1))};v.uniq=v.unique=function(e,t,n,i){if(!v.isBoolean(t)){i=n;n=t;t=false}if(n!=null)n=y(n,i);var a=[];var r=[];for(var s=0,o=E(e);s<o;s++){var l=e[s],u=n?n(l,s,e):l;if(t){if(!s||r!==u)a.push(l);r=u}else if(n){if(!v.contains(r,u)){r.push(u);a.push(l)}}else if(!v.contains(a,l)){a.push(l)}}return a};v.union=function(){return v.uniq(T(arguments,true,true))};v.intersection=function(e){var t=[];var n=arguments.length;for(var i=0,a=E(e);i<a;i++){var r=e[i];if(v.contains(t,r))continue;for(var s=1;s<n;s++){if(!v.contains(arguments[s],r))break}if(s===n)t.push(r)}return t};v.difference=function(e){var t=T(arguments,true,true,1);return v.filter(e,function(e){return!v.contains(t,e)})};v.zip=function(){return v.unzip(arguments)};v.unzip=function(e){var t=e&&v.max(e,E).length||0;var n=Array(t);for(var i=0;i<t;i++){n[i]=v.pluck(e,i)}return n};v.object=function(e,t){var n={};for(var i=0,a=E(e);i<a;i++){if(t){n[e[i]]=t[i]}else{n[e[i][0]]=e[i][1]}}return n};function C(e){return function(t,n,i){n=y(n,i);var a=E(t);var r=e>0?0:a-1;for(;r>=0&&r<a;r+=e){if(n(t[r],r,t))return r}return-1}}v.findIndex=C(1);v.findLastIndex=C(-1);v.sortedIndex=function(e,t,n,i){n=y(n,i,1);var a=n(t);var r=0,s=E(e);while(r<s){var o=Math.floor((r+s)/2);if(n(e[o])<a)r=o+1;else s=o}return r};function D(e,t,n){return function(i,a,r){var s=0,o=E(i);if(typeof r=="number"){if(e>0){s=r>=0?r:Math.max(r+o,s)}else{o=r>=0?Math.min(r+1,o):r+o+1}}else if(n&&r&&o){r=n(i,a);return i[r]===a?r:-1}if(a!==a){r=t(c.call(i,s,o),v.isNaN);return r>=0?r+s:-1}for(r=e>0?s:o-1;r>=0&&r<o;r+=e){if(i[r]===a)return r}return-1}}v.indexOf=D(1,v.findIndex,v.sortedIndex);v.lastIndexOf=D(-1,v.findLastIndex);v.range=function(e,t,n){if(t==null){t=e||0;e=0}n=n||1;var i=Math.max(Math.ceil((t-e)/n),0);var a=Array(i);for(var r=0;r<i;r++,e+=n){a[r]=e}return a};var R=function(e,t,n,i,a){if(!(i instanceof t))return e.apply(n,a);var r=S(e.prototype);var s=e.apply(r,a);if(v.isObject(s))return s;return r};v.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2);var i=function(){return R(e,i,t,this,n.concat(c.call(arguments)))};return i};v.partial=function(e){var t=c.call(arguments,1);var n=function(){var i=0,a=t.length;var r=Array(a);for(var s=0;s<a;s++){r[s]=t[s]===v?arguments[i++]:t[s]}while(i<arguments.length)r.push(arguments[i++]);return R(e,n,this,this,r)};return n};v.bindAll=function(e){var t,n=arguments.length,i;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++){i=arguments[t];e[i]=v.bind(e[i],e)}return e};v.memoize=function(e,t){var n=function(i){var a=n.cache;var r=""+(t?t.apply(this,arguments):i);if(!v.has(a,r))a[r]=e.apply(this,arguments);return a[r]};n.cache={};return n};v.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};v.defer=v.partial(v.delay,v,1);v.throttle=function(e,t,n){var i,a,r;var s=null;var o=0;if(!n)n={};var l=function(){o=n.leading===false?0:v.now();s=null;r=e.apply(i,a);if(!s)i=a=null};return function(){var u=v.now();if(!o&&n.leading===false)o=u;var c=t-(u-o);i=this;a=arguments;if(c<=0||c>t){if(s){clearTimeout(s);s=null}o=u;r=e.apply(i,a);if(!s)i=a=null}else if(!s&&n.trailing!==false){s=setTimeout(l,c)}return r}};v.debounce=function(e,t,n){var i,a,r,s,o;var l=function(){var u=v.now()-s;if(u<t&&u>=0){i=setTimeout(l,t-u)}else{i=null;if(!n){o=e.apply(r,a);if(!i)r=a=null}}};return function(){r=this;a=arguments;s=v.now();var u=n&&!i;if(!i)i=setTimeout(l,t);if(u){o=e.apply(r,a);r=a=null}return o}};v.wrap=function(e,t){return v.partial(t,e)};v.negate=function(e){return function(){return!e.apply(this,arguments)}};v.compose=function(){var e=arguments;var t=e.length-1;return function(){var n=t;var i=e[t].apply(this,arguments);while(n--)i=e[n].call(this,i);return i}};v.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};v.before=function(e,t){var n;return function(){if(--e>0){n=t.apply(this,arguments)}if(e<=1)t=null;return n}};v.once=v.partial(v.before,2);var O=!{toString:null}.propertyIsEnumerable("toString");var I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function F(e,t){var n=I.length;var i=e.constructor;var a=v.isFunction(i)&&i.prototype||o;var r="constructor";if(v.has(e,r)&&!v.contains(t,r))t.push(r);while(n--){r=I[n];if(r in e&&e[r]!==a[r]&&!v.contains(t,r)){t.push(r)}}}v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)if(v.has(e,n))t.push(n);if(O)F(e,t);return t};v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(O)F(e,t);return t};v.values=function(e){var t=v.keys(e);var n=t.length;var i=Array(n);for(var a=0;a<n;a++){i[a]=e[t[a]]}return i};v.mapObject=function(e,t,n){t=y(t,n);var i=v.keys(e),a=i.length,r={},s;for(var o=0;o<a;o++){s=i[o];r[s]=t(e[s],s,e)}return r};v.pairs=function(e){var t=v.keys(e);var n=t.length;var i=Array(n);for(var a=0;a<n;a++){i[a]=[t[a],e[t[a]]]}return i};v.invert=function(e){var t={};var n=v.keys(e);for(var i=0,a=n.length;i<a;i++){t[e[n[i]]]=n[i]}return t};v.functions=v.methods=function(e){var t=[];for(var n in e){if(v.isFunction(e[n]))t.push(n)}return t.sort()};v.extend=x(v.allKeys);v.extendOwn=v.assign=x(v.keys);v.findKey=function(e,t,n){t=y(t,n);var i=v.keys(e),a;for(var r=0,s=i.length;r<s;r++){a=i[r];if(t(e[a],a,e))return a}};v.pick=function(e,t,n){var i={},a=e,r,s;if(a==null)return i;if(v.isFunction(t)){s=v.allKeys(a);r=b(t,n)}else{s=T(arguments,false,false,1);r=function(e,t,n){return t in n};a=Object(a)}for(var o=0,l=s.length;o<l;o++){var u=s[o];var c=a[u];if(r(c,u,a))i[u]=c}return i};v.omit=function(e,t,n){if(v.isFunction(t)){t=v.negate(t)}else{var i=v.map(T(arguments,false,false,1),String);t=function(e,t){return!v.contains(i,t)}}return v.pick(e,t,n)};v.defaults=x(v.allKeys,true);v.create=function(e,t){var n=S(e);if(t)v.extendOwn(n,t);return n};v.clone=function(e){if(!v.isObject(e))return e;return v.isArray(e)?e.slice():v.extend({},e)};v.tap=function(e,t){t(e);return e};v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(e==null)return!i;var a=Object(e);for(var r=0;r<i;r++){var s=n[r];if(t[s]!==a[s]||!(s in a))return false}return true};var N=function(e,t,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof v)e=e._wrapped;if(t instanceof v)t=t._wrapped;var a=d.call(e);if(a!==d.call(t))return false;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r=a==="[object Array]";if(!r){if(typeof e!="object"||typeof t!="object")return false;var s=e.constructor,o=t.constructor;if(s!==o&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(o)&&o instanceof o)&&("constructor"in e&&"constructor"in t)){return false}}n=n||[];i=i||[];var l=n.length;while(l--){if(n[l]===e)return i[l]===t}n.push(e);i.push(t);if(r){l=e.length;if(l!==t.length)return false;while(l--){if(!N(e[l],t[l],n,i))return false}}else{var u=v.keys(e),c;l=u.length;if(v.keys(t).length!==l)return false;while(l--){c=u[l];if(!(v.has(t,c)&&N(e[c],t[c],n,i)))return false}}n.pop();i.pop();return true};v.isEqual=function(e,t){return N(e,t)};v.isEmpty=function(e){if(e==null)return true;if(M(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e)))return e.length===0;return v.keys(e).length===0};v.isElement=function(e){return!!(e&&e.nodeType===1)};v.isArray=h||function(e){return d.call(e)==="[object Array]"};v.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}});if(!v.isArguments(arguments)){v.isArguments=function(e){return v.has(e,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){v.isFunction=function(e){return typeof e=="function"||false}}v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};v.isNaN=function(e){return v.isNumber(e)&&e!==+e};v.isBoolean=function(e){return e===true||e===false||d.call(e)==="[object Boolean]"};v.isNull=function(e){return e===null};v.isUndefined=function(e){return e===void 0};v.has=function(e,t){return e!=null&&f.call(e,t)};v.noConflict=function(){n._=r;return this};v.identity=function(e){return e};v.constant=function(e){return function(){return e}};v.noop=function(){};v.property=w;v.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}};v.matcher=v.matches=function(e){e=v.extendOwn({},e);return function(t){return v.isMatch(t,e)}};v.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var a=0;a<e;a++)i[a]=t(a);return i};v.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};v.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var U=v.invert(B);var P=function(e){var t=function(t){return e[t]};var n="(?:"+v.keys(e).join("|")+")";var i=RegExp(n);var a=RegExp(n,"g");return function(e){e=e==null?"":""+e;return i.test(e)?e.replace(a,t):e}};v.escape=P(B);v.unescape=P(U);v.result=function(e,t,n){var i=e==null?void 0:e[t];if(i===void 0){i=n}return v.isFunction(i)?i.call(e):i};var Y=0;v.uniqueId=function(e){var t=++Y+"";return e?e+t:t};v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/;var G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var V=/\\|'|\r|\n|\u2028|\u2029/g;var j=function(e){return"\\"+G[e]};v.template=function(e,t,n){if(!t&&n)t=n;t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g");var a=0;var r="__p+='";e.replace(i,function(t,n,i,s,o){r+=e.slice(a,o).replace(V,j);a=o+t.length;if(n){r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(i){r+="'+\n((__t=("+i+"))==null?'':__t)+\n'"}else if(s){r+="';\n"+s+"\n__p+='"}return t});r+="';\n";if(!t.variable)r="with(obj||{}){\n"+r+"}\n";r="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(t.variable||"obj","_",r)}catch(e){e.source=r;throw e}var o=function(e){return s.call(this,e,v)};var l=t.variable||"obj";o.source="function("+l+"){\n"+r+"}";return o};v.chain=function(e){var t=v(e);t._chain=true;return t};var z=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];u.apply(e,arguments);return z(this,n.apply(v,e))}})};v.mixin(v);v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];v.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e==="shift"||e==="splice")&&n.length===0)delete n[0];return z(this,n)}});v.each(["concat","join","slice"],function(e){var t=s[e];v.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}});v.prototype.value=function(){return this._wrapped};v.prototype.valueOf=v.prototype.toJSON=v.prototype.value;v.prototype.toString=function(){return""+this._wrapped};if(true){!(i=[],a=function(){return v}.apply(t,i),a!==undefined&&(e.exports=a))}}).call(this)},function(e,t){var n=function(){var e,t,n,i,a=[],r=a.slice,s=a.filter,o=window.document,l={},u={},c={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},d=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=/^(?:body|html)$/i,m=/([A-Z])/g,_=["val","css","html","text","data","width","height","offset"],g=["after","prepend","before","append"],v=o.createElement("table"),b=o.createElement("tr"),y={tr:o.createElement("tbody"),tbody:v,thead:v,tfoot:v,td:b,th:b,"*":o.createElement("div")},x=/complete|loaded|interactive/,S=/^[\w-]*$/,w={},L=w.toString,E={},M,k,A=o.createElement("div"),T={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C=Array.isArray||function(e){return e instanceof Array};E.matches=function(e,t){if(!t||!e||e.nodeType!==1)return false;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,a=e.parentNode,r=!a;if(r)(a=A).appendChild(e);i=~E.qsa(a,t).indexOf(e);r&&A.removeChild(e);return i};function D(e){return e==null?String(e):w[L.call(e)]||"object"}function R(e){return D(e)=="function"}function O(e){return e!=null&&e==e.window}function I(e){return e!=null&&e.nodeType==e.DOCUMENT_NODE}function F(e){return D(e)=="object"}function N(e){return F(e)&&!O(e)&&Object.getPrototypeOf(e)==Object.prototype}function B(e){return typeof e.length=="number"}function U(e){return s.call(e,function(e){return e!=null})}function P(e){return e.length>0?n.fn.concat.apply([],e):e}M=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})};function Y(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}k=function(e){return s.call(e,function(t,n){return e.indexOf(t)==n})};function H(e){return e in u?u[e]:u[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function G(e,t){return typeof t=="number"&&!c[Y(e)]?t+"px":t}function V(e){var t,n;if(!l[e]){t=o.createElement(e);o.body.appendChild(t);n=getComputedStyle(t,"").getPropertyValue("display");t.parentNode.removeChild(t);n=="none"&&(n="block");l[e]=n}return l[e]}function j(e){return"children"in e?r.call(e.children):n.map(e.childNodes,function(e){if(e.nodeType==1)return e})}E.fragment=function(t,i,a){var s,l,u;if(f.test(t))s=n(o.createElement(RegExp.$1));if(!s){if(t.replace)t=t.replace(h,"<$1></$2>");if(i===e)i=d.test(t)&&RegExp.$1;if(!(i in y))i="*";u=y[i];u.innerHTML=""+t;s=n.each(r.call(u.childNodes),function(){u.removeChild(this)})}if(N(a)){l=n(s);n.each(a,function(e,t){if(_.indexOf(e)>-1)l[e](t);else l.attr(e,t)})}return s};E.Z=function(e,t){e=e||[];e.__proto__=n.fn;e.selector=t||"";return e};E.isZ=function(e){return e instanceof E.Z};E.init=function(t,i){var a;if(!t)return E.Z();else if(typeof t=="string"){t=t.trim();if(t[0]=="<"&&d.test(t))a=E.fragment(t,RegExp.$1,i),t=null;else if(i!==e)return n(i).find(t);else a=E.qsa(o,t)}else if(R(t))return n(o).ready(t);else if(E.isZ(t))return t;else{if(C(t))a=U(t);else if(F(t))a=[t],t=null;else if(d.test(t))a=E.fragment(t.trim(),RegExp.$1,i),t=null;else if(i!==e)return n(i).find(t);else a=E.qsa(o,t)}return E.Z(a,t)};n=function(e,t){return E.init(e,t)};function z(n,i,a){for(t in i)if(a&&(N(i[t])||C(i[t]))){if(N(i[t])&&!N(n[t]))n[t]={};if(C(i[t])&&!C(n[t]))n[t]=[];z(n[t],i[t],a)}else if(i[t]!==e)n[t]=i[t]}n.extend=function(e){var t,n=r.call(arguments,1);if(typeof e=="boolean"){t=e;e=n.shift()}n.forEach(function(n){z(e,n,t)});return e};E.qsa=function(e,t){var n,i=t[0]=="#",a=!i&&t[0]==".",s=i||a?t.slice(1):t,o=S.test(s);return I(e)&&o&&i?(n=e.getElementById(s))?[n]:[]:e.nodeType!==1&&e.nodeType!==9?[]:r.call(o&&!i?a?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))};function $(e,t){return t==null?n(e):n(e).filter(t)}n.contains=o.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t&&(t=t.parentNode))if(t===e)return true;return false};function q(e,t,n,i){return R(t)?t.call(e,n,i):t}function W(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function K(t,n){var i=t.className||"",a=i&&i.baseVal!==e;if(n===e)return a?i.baseVal:i;a?i.baseVal=n:t.className=n}function J(e){try{return e?e=="true"||(e=="false"?false:e=="null"?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}n.type=D;n.isFunction=R;n.isWindow=O;n.isArray=C;n.isPlainObject=N;n.isEmptyObject=function(e){var t;for(t in e)return false;return true};n.inArray=function(e,t,n){return a.indexOf.call(t,e,n)};n.camelCase=M;n.trim=function(e){return e==null?"":String.prototype.trim.call(e)};n.uuid=0;n.support={};n.expr={};n.map=function(e,t){var n,i=[],a,r;if(B(e))for(a=0;a<e.length;a++){n=t(e[a],a);if(n!=null)i.push(n)}else for(r in e){n=t(e[r],r);if(n!=null)i.push(n)}return P(i)};n.each=function(e,t){var n,i;if(B(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===false)return e}else{for(i in e)if(t.call(e[i],i,e[i])===false)return e}return e};n.grep=function(e,t){return s.call(e,t)};if(window.JSON)n.parseJSON=JSON.parse;n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){w["[object "+t+"]"]=t.toLowerCase()});n.fn={forEach:a.forEach,reduce:a.reduce,push:a.push,sort:a.sort,indexOf:a.indexOf,concat:a.concat,map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(r.apply(this,arguments))},ready:function(e){if(x.test(o.readyState)&&o.body)e(n);else o.addEventListener("DOMContentLoaded",function(){e(n)},false);return this},get:function(t){return t===e?r.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this)})},each:function(e){a.every.call(this,function(t,n){return e.call(t,n,t)!==false});return this},filter:function(e){if(R(e))return this.not(this.not(e));return n(s.call(this,function(t){return E.matches(t,e)}))},add:function(e,t){return n(k(this.concat(n(e,t))))},is:function(e){return this.length>0&&E.matches(this[0],e)},not:function(t){var i=[];if(R(t)&&t.call!==e)this.each(function(e){if(!t.call(this,e))i.push(this)});else{var a=typeof t=="string"?this.filter(t):B(t)&&R(t.item)?r.call(t):n(t);this.forEach(function(e){if(a.indexOf(e)<0)i.push(e)})}return n(i)},has:function(e){return this.filter(function(){return F(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!F(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!F(e)?e:n(e)},find:function(e){var t,i=this;if(!e)t=n();else if(typeof e=="object")t=n(e).filter(function(){var e=this;return a.some.call(i,function(t){return n.contains(t,e)})});else if(this.length==1)t=n(E.qsa(this[0],e));else t=this.map(function(){return E.qsa(this,e)});return t},closest:function(e,t){var i=this[0],a=false;if(typeof e=="object")a=n(e);while(i&&!(a?a.indexOf(i)>=0:E.matches(i,e)))i=i!==t&&!I(i)&&i.parentNode;return n(i)},parents:function(e){var t=[],i=this;while(i.length>0)i=n.map(i,function(e){if((e=e.parentNode)&&!I(e)&&t.indexOf(e)<0){t.push(e);return e}});return $(t,e)},parent:function(e){return $(k(this.pluck("parentNode")),e)},children:function(e){return $(this.map(function(){return j(this)}),e)},contents:function(){return this.map(function(){return r.call(this.childNodes)})},siblings:function(e){return $(this.map(function(e,t){return s.call(j(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display="");if(getComputedStyle(this,"").getPropertyValue("display")=="none")this.style.display=V(this.nodeName)})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=R(e);if(this[0]&&!t)var i=n(e).get(0),a=i.parentNode||this.length>1;return this.each(function(r){n(this).wrapAll(t?e.call(this,r):a?i.cloneNode(true):i)})},wrapAll:function(e){if(this[0]){n(this[0]).before(e=n(e));var t;while((t=e.children()).length)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=R(e);return this.each(function(i){var a=n(this),r=a.contents(),s=t?e.call(this,i):e;r.length?r.wrapAll(s):a.append(s)})},unwrap:function(){this.parent().each(function(){n(this).replaceWith(n(this).children())});return this},clone:function(){return this.map(function(){return this.cloneNode(true)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var i=n(this);(t===e?i.css("display")=="none":t)?i.show():i.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var i=this.innerHTML;n(this).empty().append(q(this,e,t,i))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=q(this,e,t,this.textContent);this.textContent=n==null?"":""+n}):0 in this?this[0].textContent:null},attr:function(n,i){var a;return typeof n=="string"&&!(1 in arguments)?!this.length||this[0].nodeType!==1?e:!(a=this[0].getAttribute(n))&&n in this[0]?this[0][n]:a:this.each(function(e){if(this.nodeType!==1)return;if(F(n))for(t in n)W(this,t,n[t]);else W(this,n,q(this,i,e,this.getAttribute(n)))})},removeAttr:function(e){return this.each(function(){this.nodeType===1&&e.split(" ").forEach(function(e){W(this,e)},this)})},prop:function(e,t){e=T[e]||e;return 1 in arguments?this.each(function(n){this[e]=q(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(t,n){var i="data-"+t.replace(m,"-$1").toLowerCase();var a=1 in arguments?this.attr(i,n):this.attr(i);return a!==null?J(a):e},val:function(e){return 0 in arguments?this.each(function(t){this.value=q(this,e,t,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var i=n(this),a=q(this,e,t,i.offset()),r=i.offsetParent().offset(),s={top:a.top-r.top,left:a.left-r.left};if(i.css("position")=="static")s["position"]="relative";i.css(s)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,i){if(arguments.length<2){var a,r=this[0];if(!r)return;a=getComputedStyle(r,"");if(typeof e=="string")return r.style[M(e)]||a.getPropertyValue(e);else if(C(e)){var s={};n.each(e,function(e,t){s[t]=r.style[M(t)]||a.getPropertyValue(t)});return s}}var o="";if(D(e)=="string"){if(!i&&i!==0)this.each(function(){this.style.removeProperty(Y(e))});else o=Y(e)+":"+G(e,i)}else{for(t in e)if(!e[t]&&e[t]!==0)this.each(function(){this.style.removeProperty(Y(t))});else o+=Y(t)+":"+G(t,e[t])+";"}return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){if(!e)return false;return a.some.call(this,function(e){return this.test(K(e))},H(e))},addClass:function(e){if(!e)return this;return this.each(function(t){if(!("className"in this))return;i=[];var a=K(this),r=q(this,e,t,a);r.split(/\s+/g).forEach(function(e){if(!n(this).hasClass(e))i.push(e)},this);i.length&&K(this,a+(a?" ":"")+i.join(" "))})},removeClass:function(t){return this.each(function(n){if(!("className"in this))return;if(t===e)return K(this,"");i=K(this);q(this,t,n,i).split(/\s+/g).forEach(function(e){i=i.replace(H(e)," ")});K(this,i.trim())})},toggleClass:function(t,i){if(!t)return this;return this.each(function(a){var r=n(this),s=q(this,t,a,K(this));s.split(/\s+/g).forEach(function(t){(i===e?!r.hasClass(t):i)?r.addClass(t):r.removeClass(t)})})},scrollTop:function(t){if(!this.length)return;var n="scrollTop"in this[0];if(t===e)return n?this[0].scrollTop:this[0].pageYOffset;return this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})},scrollLeft:function(t){if(!this.length)return;var n="scrollLeft"in this[0];if(t===e)return n?this[0].scrollLeft:this[0].pageXOffset;return this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})},position:function(){if(!this.length)return;var e=this[0],t=this.offsetParent(),i=this.offset(),a=p.test(t[0].nodeName)?{top:0,left:0}:t.offset();i.top-=parseFloat(n(e).css("margin-top"))||0;i.left-=parseFloat(n(e).css("margin-left"))||0;a.top+=parseFloat(n(t[0]).css("border-top-width"))||0;a.left+=parseFloat(n(t[0]).css("border-left-width"))||0;return{top:i.top-a.top,left:i.left-a.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.body;while(e&&!p.test(e.nodeName)&&n(e).css("position")=="static")e=e.offsetParent;return e})}};n.fn.detach=n.fn.remove;["width","height"].forEach(function(t){var i=t.replace(/./,function(e){return e[0].toUpperCase()});n.fn[t]=function(a){var r,s=this[0];if(a===e)return O(s)?s["inner"+i]:I(s)?s.documentElement["scroll"+i]:(r=this.offset())&&r[t];else return this.each(function(e){s=n(this);s.css(t,q(this,a,e,s[t]()))})}});function X(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)X(e.childNodes[n],t)}g.forEach(function(e,t){var i=t%2;n.fn[e]=function(){var e,a=n.map(arguments,function(t){e=D(t);return e=="object"||e=="array"||t==null?t:E.fragment(t)}),r,s=this.length>1;if(a.length<1)return this;return this.each(function(e,l){r=i?l:l.parentNode;l=t==0?l.nextSibling:t==1?l.firstChild:t==2?l:null;var u=n.contains(o.documentElement,r);a.forEach(function(e){if(s)e=e.cloneNode(true);else if(!r)return n(e).remove();r.insertBefore(e,l);if(u)X(e,function(e){if(e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript")&&!e.src)window["eval"].call(window,e.innerHTML)})})})};n.fn[i?e+"To":"insert"+(t?"Before":"After")]=function(t){n(t)[e](this);return this}});E.Z.prototype=n.fn;E.uniq=k;E.deserializeValue=J;n.zepto=E;return n}();window.Zepto=n;window.$===undefined&&(window.$=n)},function(e,t,n){"use strict";if(true){window.d3=n(290)}window._=n(284);_.mixin(n(596));window.Big=n(403);_.getNested=function e(t){return function e(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++){i[a]=arguments[a]}var r=i[1];i[1]=_.isArray(r)?r:String(r);return t.apply(this,i)}}(_.getNested);window.Promise=n(17);window.moment=n(1);window.asyncLib=window.async=n(306);window.store=n(296);window.MegaPixImage=n(289);window.FastClick=n(288);window.Raven=n(293);if(true){window.JPEGEncoder=n(406);window.JpegMeta=n(407);n(291)}n(285);n(598);n(599);n(600);n(601);n(300);n(602);n(301);n(304);n(303);n(302);n(292);n(298);n(299);if(true){window.ScrollFix=n(294);n(295);n(592)}window.Backbone=n(402);window.Backbone.$=window.$;window.Handlebars=n(588);window.version_compare=n(603);window.SUGAR=n(395);SUGAR.Api=n(305);window.App=window.SUGAR.App;n(604);n(605);n(606);n(353);n(350);n(349);n(352);n(360);n(341);n(345);n(118);n(343);n(342);n(340);n(119);n(354);n(355);n(351);n(356);n(347);n(346);n(348);n(359);n(358);n(357);if(true){var i=n.p;n.p="js/";n(593);n.p=i}window.SUGAR.App.augment("config",n(589),false);if(false){window.SUGAR.App.config.logger.level="FATAL"}if(true){n(389)}n(297);if(true){n(312)}n(334);n(335);window.SUGAR.App.nomad=n(12);window.SUGAR.App.nomad.utils=n(3);var a=window.SUGAR.App.nomad;n(32);n(308);n(321);n(322);n(320);n(314);n(310);n(58);n(319);n(87);a.dashboards=n(24);n(313);n(309);n(336);n(20);n(37);n(21);n(323);n(324);n(325);n(326);n(327);n(11);n(21);n(122);n(117);n(8);n(73);n(71);n(69);n(136);n(146);n(124);n(152);n(149);n(147);n(148);n(126);n(52);n(68);n(72);n(151);n(387);n(388);n(66);n(125);n(10);n(14);n(33);n(138);n(16);n(137);n(51);n(139);n(144);n(70);n(142);n(143);n(375);n(43);n(50);n(128);n(129);n(26);n(67);n(130);n(131);n(132);n(39);n(38);n(40);n(61);n(31);n(90);n(88);n(91);n(59);n(94);n(92);n(95);n(96);n(60);n(93);n(89);n(127);n(4);n(98);n(42);n(41);n(99);n(62);n(100);n(42);n(108);n(63);n(107);n(105);n(106);n(102);n(101);n(112);n(64);n(113);n(114);n(110);n(103);n(104);n(116);n(111);n(65);n(109);n(97);n(115);n(333);n(332);n(331);n(365);n(372);n(373);n(311);if(true){n(393);n(153);n(392)}else{require("%app.js%/native/nomad");require("%app.js%/native/local-security");require("%app.js%/native/keychain");require("%app.js%/native/translation");require("%app.js%/native/login-manager");require("%app.core%/mdm-manager")}if(["e2e","debug","qa"].indexOf("store")!==-1){n(361);n(134)}window.Handlebars.templates=window.Handlebars.templates||{};if(true){n(307)}if(false){require("%app%/entries/custom")}if(false){e.hot.accept("%app%/less/bootstrap-mobile.less")}if(false){require("%app.views%/offline/offline-data-generation-view.js");require("%app.js%/utils/performance/logger.js")}if(false){window.sinon=require("imports-loader?global=>window!%app.lib%/sinon-server.js");require("%cukes%/tests/client/dialog-overriding")}if(false){require("%nomad-specs%/nomad-specs-entry")}},function(e,t,n){var i={"./dashlets/activity-item.hbs":416,"./dashlets/activity-list.hbs":417,"./dashlets/activity-post.hbs":418,"./dashlets/bubblechart-tooltip.hbs":419,"./dashlets/bubblechart.hbs":420,"./dashlets/dashlet-options.hbs":421,"./dashlets/donutchart.hbs":422,"./dashlets/emails-user-activity-list-item.hbs":423,"./dashlets/forecast-pareto.hbs":424,"./dashlets/forecast-pipeline.hbs":425,"./dashlets/forecastdetails.hbs":426,"./dashlets/saved-reports-chart.hbs":427,"./dashlets/user-activity-list-item.hbs":428,"./dashlets/webpage.hbs":429,"./fields/address/detail.hbs":430,"./fields/address/edit.hbs":431,"./fields/address/readonly.hbs":432,"./fields/base/detail-erased.hbs":433,"./fields/base/detail.hbs":434,"./fields/base/edit.hbs":435,"./fields/base/list-erased.hbs":436,"./fields/base/list.hbs":437,"./fields/base/login.hbs":438,"./fields/base/readonly.hbs":439,"./fields/bool/detail.hbs":440,"./fields/bool/edit.hbs":441,"./fields/bool/list.hbs":442,"./fields/bool/readonly.hbs":443,"./fields/currency/edit.hbs":444,"./fields/date/edit.hbs":445,"./fields/datetimecombo/edit.hbs":446,"./fields/email-recipients/list.hbs":447,"./fields/email-sender/list.hbs":448,"./fields/email/detail.hbs":449,"./fields/email/edit.hbs":450,"./fields/email/list.hbs":451,"./fields/email/readonly.hbs":452,"./fields/enum/detail.hbs":453,"./fields/enum/edit.hbs":454,"./fields/enum/list.hbs":455,"./fields/enum/readonly.hbs":456,"./fields/favorite/detail.hbs":457,"./fields/favorite/list.hbs":458,"./fields/fieldset/detail.hbs":459,"./fields/fieldset/readonly.hbs":460,"./fields/file/detail.hbs":461,"./fields/file/edit.hbs":462,"./fields/file/list.hbs":463,"./fields/file/readonly.hbs":464,"./fields/float/edit.hbs":465,"./fields/follow/detail.hbs":466,"./fields/html/readonly.hbs":467,"./fields/htmleditable/detail.hbs":468,"./fields/htmleditable/readonly.hbs":469,"./fields/image/detail.hbs":470,"./fields/image/edit.hbs":471,"./fields/image/list.hbs":472,"./fields/image/readonly.hbs":473,"./fields/int/edit.hbs":474,"./fields/invitees/edit.hbs":475,"./fields/label/detail.hbs":476,"./fields/multienum/detail.hbs":477,"./fields/multienum/edit.hbs":478,"./fields/multienum/list.hbs":479,"./fields/multienum/readonly.hbs":480,"./fields/parent/detail.hbs":481,"./fields/parent/edit.hbs":482,"./fields/parent/list.hbs":483,"./fields/parent/readonly.hbs":484,"./fields/password/login.hbs":485,"./fields/phone/detail.hbs":486,"./fields/phone/edit.hbs":487,"./fields/phone/list.hbs":488,"./fields/phone/readonly.hbs":489,"./fields/radioenum/detail.hbs":490,"./fields/radioenum/edit.hbs":491,"./fields/radioenum/list.hbs":492,"./fields/radioenum/readonly.hbs":493,"./fields/relate/detail.hbs":494,"./fields/relate/edit.hbs":495,"./fields/relate/list.hbs":496,"./fields/relate/readonly.hbs":497,"./fields/relationship/list.hbs":498,"./fields/tag/detail.hbs":499,"./fields/tag/list.hbs":500,"./fields/tag/readonly.hbs":501,"./fields/teamset-name/list.hbs":502,"./fields/teamset/detail.hbs":503,"./fields/teamset/edit.hbs":504,"./fields/teamset/list.hbs":505,"./fields/teamset/readonly.hbs":506,"./fields/textarea/detail.hbs":507,"./fields/textarea/edit.hbs":508,"./fields/textarea/list.hbs":509,"./fields/textarea/readonly.hbs":510,"./fields/url/about.hbs":511,"./fields/url/detail.hbs":512,"./fields/url/edit.hbs":513,"./fields/url/list.hbs":514,"./fields/url/readonly.hbs":515,"./ui-elements/icon-module.hbs":516,"./ui-elements/icon.hbs":517,"./ui-elements/ptr-spinner.hbs":518,"./ui-elements/sugarcrm-copyright-logo.hbs":519,"./views/about/about.hbs":520,"./views/actionsheet/actionsheet.hbs":521,"./views/actionsheet/nps-actionsheet.hbs":522,"./views/alert/alert.hbs":523,"./views/bulk-load-setup/bulk-load-setup.hbs":524,"./views/container/dropdown-switcher.hbs":525,"./views/container/pagination-switcher.hbs":526,"./views/container/switch-container.hbs":527,"./views/container/tab-switcher.hbs":528,"./views/context-menu/context-menu.hbs":529,"./views/dashboard/dashboard.hbs":530,"./views/detail/modules/detail-TxLog.hbs":531,"./views/detail/record-card.hbs":532,"./views/detail/record-summary.hbs":533,"./views/edit/address-edit.hbs":534,"./views/edit/edit-field-error.hbs":535,"./views/edit/edit.hbs":536,"./views/edit/html-edit.hbs":537,"./views/edit/textarea-edit.hbs":538,"./views/error/error-emulation.hbs":539,"./views/error/error.hbs":540,"./views/filters/filters.hbs":541,"./views/header/header.hbs":542,"./views/lead-conversion/lead-conversion-list-item-radio-selector.hbs":543,"./views/lead-conversion/lead-conversion-list-switcher.hbs":544,"./views/lead-conversion/lead-conversion-navigation-view.hbs":545,"./views/lead-conversion/lead-conversion-view.hbs":546,"./views/list/comments-list.hbs":547,"./views/list/emails-list-item.hbs":548,"./views/list/leads-list-item.hbs":549,"./views/list/list-item-picker.hbs":550,"./views/list/list-item-teamset.hbs":551,"./views/list/list-item-tx-log.hbs":552,"./views/list/list-item.hbs":553,"./views/list/list-no-records.hbs":554,"./views/list/list-not-authorized.hbs":555,"./views/list/list-picker.hbs":556,"./views/list/list-show-more-bottom.hbs":557,"./views/list/list-show-more-top.hbs":558,"./views/list/list.hbs":559,"./views/list/menu-list-item.hbs":560,"./views/list/twitter-list-item.hbs":561,"./views/login-settings/login-settings-section.hbs":562,"./views/login-settings/login-settings.hbs":563,"./views/login/login.hbs":564,"./views/main-menu/main-menu.hbs":565,"./views/offline/offline-data-generation.hbs":566,"./views/offline/offline-settings.hbs":567,"./views/offline/offline-stats.hbs":568,"./views/offline/offline-status-icon.hbs":569,"./views/offline/offline-statusbar.hbs":570,"./views/offline/offline.hbs":571,"./views/overlay/overlay-default.hbs":572,"./views/overlay/overlay-record.hbs":573,"./views/overlay/preloader-convert-lead.hbs":574,"./views/overlay/preloader-panel.hbs":575,"./views/overlay/spinner.hbs":576,"./views/ptr.hbs":577,"./views/record/record-action-button.hbs":578,"./views/record/record-actions.hbs":579,"./views/related-records/related-records.hbs":580,"./views/right-menu/right-menu.hbs":581,"./views/search-box/search-box.hbs":582,"./views/settings/settings.hbs":583,"./views/taggable/taggable.hbs":584,"./views/touchid-setup/touchid-setup.hbs":585,"./views/tutorial/tutorial-message.hbs":586,"./views/tutorial/tutorial.hbs":587};function a(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(i)};a.resolve=r;e.exports=a;a.id=287},function(e,t,n){var i;(function(){"use strict";function a(e,t){var n;t=t||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=t.touchBoundary||10;this.layer=e;this.tapDelay=t.tapDelay||200;this.tapTimeout=t.tapTimeout||700;if(a.notNeeded(e)){return}function i(e,t){return function(){return e.apply(t,arguments)}}var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var o=this;for(var l=0,u=r.length;l<u;l++){o[r[l]]=i(o[r[l]],o)}if(s){e.addEventListener("mouseover",this.onMouse,true);e.addEventListener("mousedown",this.onMouse,true);e.addEventListener("mouseup",this.onMouse,true)}e.addEventListener("click",this.onClick,true);e.addEventListener("touchstart",this.onTouchStart,false);e.addEventListener("touchmove",this.onTouchMove,false);e.addEventListener("touchend",this.onTouchEnd,false);e.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,n,i){var a=Node.prototype.removeEventListener;if(t==="click"){a.call(e,t,n.hijacked||n,i)}else{a.call(e,t,n,i)}};e.addEventListener=function(t,n,i){var a=Node.prototype.addEventListener;if(t==="click"){a.call(e,t,n.hijacked||(n.hijacked=function(e){if(!e.propagationStopped){n(e)}}),i)}else{a.call(e,t,n,i)}}}if(typeof e.onclick==="function"){n=e.onclick;e.addEventListener("click",function(e){n(e)},false);e.onclick=null}}var r=navigator.userAgent.indexOf("Windows Phone")>=0;var s=navigator.userAgent.indexOf("Android")>0&&!r;var o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r;var l=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var u=o&&/OS [6-7]_\d/.test(navigator.userAgent);var c=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(o&&e.type==="file"||e.disabled){return true}break;case"label":case"iframe":case"video":return true}return/\bneedsclick\b/.test(e.className)};a.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!s;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};a.prototype.sendClick=function(e,t){var n,i;if(document.activeElement&&document.activeElement!==e&&!$(e).hasClass("clear-button")){document.activeElement.blur()}i=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent(this.determineEventType(e),true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n)};a.prototype.determineEventType=function(e){if(s&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};a.prototype.focus=function(e){var t;if(o&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"&&e.type!=="month"){t=e.value.length;e.setSelectionRange(t,t)}else{e.focus()}};a.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n;e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(t){t.fastClickLastScrollTop=t.scrollTop}};a.prototype.getTargetElementFromEventTarget=function(e){if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};a.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);n=e.targetTouches[0];if(o){i=window.getSelection();if(i.rangeCount&&!i.isCollapsed){return true}if(!l){if(n.identifier&&n.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if(e.timeStamp-this.lastClickTime<this.tapDelay){e.preventDefault()}return true};a.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n){return true}return false};a.prototype.onTouchMove=function(e){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};a.prototype.findControl=function(e){if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};a.prototype.onTouchEnd=function(e){var t,n,i,a,r,c=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}if(e.timeStamp-this.trackingClickStart>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(u){r=e.changedTouches[0];c=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||c;c.fastClickScrollParent=this.targetElement.fastClickScrollParent}i=c.tagName.toLowerCase();if(i==="label"){t=this.findControl(c);if(t){this.focus(c);if(s){return false}c=t}}else if(this.needsFocus(c)){if(e.timeStamp-n>100||o&&window.top!==window&&i==="input"){this.targetElement=null;return false}this.focus(c);this.sendClick(c,e);if(!o||i!=="select"){this.targetElement=null;e.preventDefault()}return false}if(o&&!l){a=c.fastClickScrollParent;if(a&&a.fastClickLastScrollTop!==a.scrollTop){return true}}if(!this.needsClick(c)){e.preventDefault();this.sendClick(c,e)}return false};a.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};a.prototype.onMouse=function(e){if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};a.prototype.onClick=function(e){var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};a.prototype.destroy=function(){var e=this.layer;if(s){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};a.notNeeded=function(e){var t;var n;var i;var a;if(typeof window.ontouchstart==="undefined"){return true}n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(s){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(n>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(c){i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(i[1]>=10&&i[2]>=3){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(e.style.msTouchAction==="none"||e.style.touchAction==="manipulation"){return true}a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(a>=27){t=document.querySelector("meta[name=viewport]");if(t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(e.style.touchAction==="none"||e.style.touchAction==="manipulation"){return true}return false};a.attach=function(e,t){return new a(e,t)};if(true){!(i=function(){return a}.call(t,n,t,e),i!==undefined&&(e.exports=i))}else if(typeof e!=="undefined"&&e.exports){e.exports=a.attach;e.exports.FastClick=a}else{window.FastClick=a}})()},function(e,t,n){var i,a;(function(){function n(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1024*1024){var i=document.createElement("canvas");i.width=i.height=1;var a=i.getContext("2d");a.drawImage(e,-t+1,0);return a.getImageData(0,0,1,1).data[3]===0}else{return false}}function r(e,t,n){var i=document.createElement("canvas");i.width=1;i.height=n;var a=i.getContext("2d");a.drawImage(e,0,0);var r=a.getImageData(0,0,1,n).data;var s=0;var o=n;var l=n;while(l>s){var u=r[(l-1)*4+3];if(u===0){o=l}else{s=l}l=o+s>>1}var c=l/n;return c===0?1:c}function s(e,t){var n=document.createElement("canvas");o(e,n,t);return n.toDataURL("image/jpeg",t.quality||.8)}function o(e,t,i){var a=e.naturalWidth,s=e.naturalHeight;var o=i.width,u=i.height;var c=t.getContext("2d");c.save();l(t,o,u,i.orientation);var d=n(e);if(d){a/=2;s/=2}var f=1024;var h=document.createElement("canvas");h.width=h.height=f;var p=h.getContext("2d");var m=r(e,a,s);var _=0;while(_<s){var g=_+f>s?s-_:f;var v=0;while(v<a){var b=v+f>a?a-v:f;p.clearRect(0,0,f,f);p.drawImage(e,-v,-_);var y=v*o/a<<0;var x=Math.ceil(b*o/a);var S=_*u/s/m<<0;var w=Math.ceil(g*u/s/m);c.drawImage(h,0,0,b,g,y,S,x,w);v+=f}_+=f}c.restore();h=p=null}function l(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n;e.height=t;break;default:e.width=t;e.height=n}var a=e.getContext("2d");switch(i){case 2:a.translate(t,0);a.scale(-1,1);break;case 3:a.translate(t,n);a.rotate(Math.PI);break;case 4:a.translate(0,n);a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI);a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI);a.translate(0,-n);break;case 7:a.rotate(.5*Math.PI);a.translate(t,-n);a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI);a.translate(-t,0);break;default:break}}function u(e){if(e instanceof Blob){var t=new Image;var n=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!n){throw Error("No createObjectURL function found to create blob url")}t.src=n.createObjectURL(e);e=t}if(!e.naturalWidth&&!e.naturalHeight){var i=this;e.onload=function(){var e=i.imageLoadListeners;if(e){i.imageLoadListeners=null;for(var t=0,n=e.length;t<n;t++){e[t]()}}};this.imageLoadListeners=[]}this.srcImage=e}u.prototype.render=function(e,t){if(this.imageLoadListeners){var n=this;this.imageLoadListeners.push(function(){n.render(e,t)});return}t=t||{};var i=this.srcImage.naturalWidth,a=this.srcImage.naturalHeight,r=t.width,l=t.height,u=t.maxWidth,c=t.maxHeight;if(r&&!l){l=a*r/i<<0}else if(l&&!r){r=i*l/a<<0}else{r=i;l=a}if(u&&r>u){r=u;l=a*r/i<<0}if(c&&l>c){l=c;r=i*l/a<<0}var d={width:r,height:l};for(var f in t)d[f]=t[f];var h=e.tagName.toLowerCase();if(h==="img"){e.src=s(this.srcImage,d)}else if(h==="canvas"){o(this.srcImage,e,d)}if(typeof this.onrender==="function"){this.onrender(e)}};if(true){!(i=[],a=function(){return u}.apply(t,i),a!==undefined&&(e.exports=a))}else{window.MegaPixImage=u}})()},function(e,t,n){var i,a;!function(){function r(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function s(e){return null===e?0/0:+e}function o(e){return!isNaN(e)}function l(e){return{left:function(t,n,i,a){for(arguments.length<3&&(i=0),arguments.length<4&&(a=t.length);a>i;){var r=i+a>>>1;e(t[r],n)<0?i=r+1:a=r}return i},right:function(t,n,i,a){for(arguments.length<3&&(i=0),arguments.length<4&&(a=t.length);a>i;){var r=i+a>>>1;e(t[r],n)>0?a=r:i=r+1}return i}}}function u(e){return e.length}function c(e){for(var t=1;e*t%1;)t*=10;return t}function d(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function f(){this._=Object.create(null)}function h(e){return(e+="")===bs||e[0]===ys?ys+e:e}function p(e){return(e+="")[0]===ys?e.slice(1):e}function m(e){return h(e)in this._}function _(e){return(e=h(e))in this._&&delete this._[e]}function g(){var e=[];for(var t in this._)e.push(p(t));return e}function v(){var e=0;for(var t in this._)++e;return e}function b(){for(var e in this._)return!1;return!0}function y(){this._=Object.create(null)}function x(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function S(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=xs.length;i>n;++n){var a=xs[n]+t;if(a in e)return a}}function w(){}function L(){}function E(e){function t(){for(var t,i=n,a=-1,r=i.length;++a<r;)(t=i[a].on)&&t.apply(this,arguments);return e}var n=[],i=new f;return t.on=function(t,a){var r,s=i.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,r=n.indexOf(s)).concat(n.slice(r+1)),i.remove(t)),a&&n.push(i.set(t,{on:a})),e)},t}function M(){ss.event.preventDefault()}function k(){for(var e,t=ss.event;e=t.sourceEvent;)t=e;return t}function A(e){for(var t=new L,n=0,i=arguments.length;++n<i;)t[arguments[n]]=E(t);return t.of=function(n,i){return function(a){try{var r=a.sourceEvent=ss.event;a.target=e,ss.event=a,t[a.type].apply(n,i)}finally{ss.event=r}}},t}function T(e){return ws(e,As),e}function C(e){return"function"==typeof e?e:function(){return Ls(e,this)}}function D(e){return"function"==typeof e?e:function(){return Es(e,this)}}function R(e,t){function n(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,t)}function r(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ss.ns.qualify(e),null==t?e.local?i:n:"function"==typeof t?e.local?o:s:e.local?r:a}function O(e){return e.trim().replace(/\s+/g," ")}function I(e){return new RegExp("(?:^|\\s+)"+ss.requote(e)+"(?:\\s+|$)","g")}function F(e){return(e+"").trim().split(/^|\s+/)}function N(e,t){function n(){for(var n=-1;++n<a;)e[n](this,t)}function i(){for(var n=-1,i=t.apply(this,arguments);++n<a;)e[n](this,i)}e=F(e).map(B);var a=e.length;return"function"==typeof t?i:n}function B(e){var t=I(e);return function(n,i){if(a=n.classList)return i?a.add(e):a.remove(e);var a=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(a)||n.setAttribute("class",O(a+" "+e))):n.setAttribute("class",O(a.replace(t," ")))}}function U(e,t,n){function i(){this.style.removeProperty(e)}function a(){this.style.setProperty(e,t,n)}function r(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}return null==t?i:"function"==typeof t?r:a}function P(e,t){function n(){delete this[e]}function i(){this[e]=t}function a(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?a:i}function Y(e){return"function"==typeof e?e:(e=ss.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function H(){var e=this.parentNode;e&&e.removeChild(this)}function G(e){return{__data__:e}}function V(e){return function(){return ks(this,e)}}function j(e){return arguments.length||(e=r),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function z(e,t){for(var n=0,i=e.length;i>n;n++)for(var a,r=e[n],s=0,o=r.length;o>s;s++)(a=r[s])&&t(a,s,n);return e}function $(e){return ws(e,Cs),e}function q(e){var t,n;return function(i,a,r){var s,o=e[r].update,l=o.length;for(r!=n&&(n=r,t=0),a>=t&&(t=a+1);!(s=o[t])&&++t<l;);return s}}function W(e,t,n){function i(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function a(){var a=l(t,ls(arguments));i.call(this),this.addEventListener(e,this[s]=a,a.$=n),a._=t}function r(){var t,n=new RegExp("^__on([^.]+)"+ss.requote(e)+"$");for(var i in this)if(t=i.match(n)){var a=this[i];this.removeEventListener(t[1],a,a.$),delete this[i]}}var s="__on"+e,o=e.indexOf("."),l=K;o>0&&(e=e.slice(0,o));var u=Rs.get(e);return u&&(e=u,l=J),o?t?a:i:t?w:r}function K(e,t){return function(n){var i=ss.event;ss.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ss.event=i}}}function J(e,t){var n=K(e,t);return function(e){var t=this,i=e.relatedTarget;i&&(i===t||8&i.compareDocumentPosition(t))||n.call(t,e)}}function X(){var e=".dragsuppress-"+ ++Is,t="click"+e,n=ss.select(ds).on("touchmove"+e,M).on("dragstart"+e,M).on("selectstart"+e,M);if(Os){var i=cs.style,a=i[Os];i[Os]="none"}return function(r){if(n.on(e,null),Os&&(i[Os]=a),r){var s=function(){n.on(t,null)};n.on(t,function(){M(),s()},!0),setTimeout(s,0)}}}function Z(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(0>Fs&&(ds.scrollX||ds.scrollY)){n=ss.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();Fs=!(a.f||a.e),n.remove()}return Fs?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}function Q(){return ss.event.changedTouches[0].identifier}function ee(){return ss.event.target}function te(){return ds}function ne(e){return e>0?1:0>e?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ae(e){return e>1?0:-1>e?Us:Math.acos(e)}function re(e){return e>1?Hs:-1>e?-Hs:Math.asin(e)}function se(e){return((e=Math.exp(e))-1/e)/2}function oe(e){return((e=Math.exp(e))+1/e)/2}function le(e){return((e=Math.exp(2*e))-1)/(e+1)}function ue(e){return(e=Math.sin(e/2))*e}function ce(){}function de(e,t,n){return this instanceof de?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof de?new de(e.h,e.s,e.l):Ee(""+e,Me,de):new de(e,t,n)}function fe(e,t,n){function i(e){return e>360?e-=360:0>e&&(e+=360),60>e?r+(s-r)*e/60:180>e?s:240>e?r+(s-r)*(240-e)/60:r}function a(e){return Math.round(255*i(e))}var r,s;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+t):n+t-n*t,r=2*n-s,new xe(a(e+120),a(e),a(e-120))}function he(e,t,n){return this instanceof he?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof he?new he(e.h,e.c,e.l):e instanceof me?ge(e.l,e.a,e.b):ge((e=ke((e=ss.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new he(e,t,n)}function pe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new me(n,Math.cos(e*=Gs)*t,Math.sin(e)*t)}function me(e,t,n){return this instanceof me?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof me?new me(e.l,e.a,e.b):e instanceof he?pe(e.h,e.c,e.l):ke((e=xe(e)).r,e.g,e.b):new me(e,t,n)}function _e(e,t,n){var i=(e+16)/116,a=i+t/500,r=i-n/200;return a=ve(a)*Qs,i=ve(i)*eo,r=ve(r)*to,new xe(ye(3.2404542*a-1.5371385*i-.4985314*r),ye(-.969266*a+1.8760108*i+.041556*r),ye(.0556434*a-.2040259*i+1.0572252*r))}function ge(e,t,n){return e>0?new he(Math.atan2(n,t)*Vs,Math.sqrt(t*t+n*n),e):new he(0/0,0/0,e)}function ve(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function be(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ye(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function xe(e,t,n){return this instanceof xe?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof xe?new xe(e.r,e.g,e.b):Ee(""+e,xe,fe):new xe(e,t,n)}function Se(e){return new xe(e>>16,255&e>>8,255&e)}function we(e){return Se(e)+""}function Le(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ee(e,t,n){var i,a,r,s=0,o=0,l=0;if(i=/([a-z]+)\((.*)\)/i.exec(e))switch(a=i[2].split(","),i[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(Te(a[0]),Te(a[1]),Te(a[2]))}return(r=ao.get(e))?t(r.r,r.g,r.b):(null==e||"#"!==e.charAt(0)||isNaN(r=parseInt(e.slice(1),16))||(4===e.length?(s=(3840&r)>>4,s=s>>4|s,o=240&r,o=o>>4|o,l=15&r,l=l<<4|l):7===e.length&&(s=(16711680&r)>>16,o=(65280&r)>>8,l=255&r)),t(s,o,l))}function Me(e,t,n){var i,a,r=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),o=s-r,l=(s+r)/2;return o?(a=.5>l?o/(s+r):o/(2-s-r),i=e==s?(t-n)/o+(n>t?6:0):t==s?(n-e)/o+2:(e-t)/o+4,i*=60):(i=0/0,a=l>0&&1>l?0:i),new de(i,a,l)}function ke(e,t,n){e=Ae(e),t=Ae(t),n=Ae(n);var i=be((.4124564*e+.3575761*t+.1804375*n)/Qs),a=be((.2126729*e+.7151522*t+.072175*n)/eo),r=be((.0193339*e+.119192*t+.9503041*n)/to);return me(116*a-16,500*(i-a),200*(a-r))}function Ae(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Te(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ce(e){return"function"==typeof e?e:function(){return e}}function De(e){return e}function Re(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Oe(t,n,e,i)}}function Oe(e,t,n,i){function a(){var e,t=l.status;if(!t&&Fe(l)||t>=200&&300>t||304===t){try{e=n.call(r,l)}catch(e){return s.error.call(r,e),void 0}s.load.call(r,e)}else s.error.call(r,l)}var r={},s=ss.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,u=null;return!ds.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(e){var t=ss.event;ss.event=e;try{s.progress.call(r,l)}finally{ss.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?o[e]:(null==t?delete o[e]:o[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(u=e,r):u},r.response=function(e){return n=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(ls(arguments)))}}),r.send=function(n,i,a){if(2===arguments.length&&"function"==typeof i&&(a=i,i=null),l.open(n,e,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var c in o)l.setRequestHeader(c,o[c]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=u&&(l.responseType=u),null!=a&&r.on("error",a).on("load",function(e){a(null,e)}),s.beforesend.call(r,l),l.send(null==i?null:i),r},r.abort=function(){return l.abort(),r},ss.rebind(r,s,"on"),null==i?r:r.get(Ie(i))}function Ie(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Fe(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ne(){var e=Be(),t=Ue()-e;t>24?(isFinite(t)&&(clearTimeout(lo),lo=setTimeout(Ne,t)),oo=0):(oo=1,co(Ne))}function Be(){var e=Date.now();for(uo=ro;uo;)e>=uo.t&&(uo.f=uo.c(e-uo.t)),uo=uo.n;return e}function Ue(){for(var e,t=ro,n=1/0;t;)t.f?t=e?e.n=t.n:ro=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return so=e,n}function Pe(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ye(e,t){var n=Math.pow(10,3*vs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function He(e){var t=e.decimal,n=e.thousands,i=e.grouping,a=e.currency,r=i&&n?function(e,t){for(var a=e.length,r=[],s=0,o=i[0],l=0;a>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),r.push(e.substring(a-=o,a+o)),!((l+=o+1)>t));)o=i[s=(s+1)%i.length];return r.reverse().join(n)}:De;return function(e){var n=ho.exec(e),i=n[1]||" ",s=n[2]||">",o=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],h=n[9],p=1,m="",_="",g=!1,v=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),h){case"n":d=!0,h="g";break;case"%":p=100,_="%",h="f";break;case"p":p=100,_="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+h.toLowerCase());case"c":v=!1;case"d":g=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(m=a[0],_=a[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=po.get(h)||Ge;var b=u&&d;return function(e){var n=_;if(g&&e%1)return"";var a=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===o?"":o;if(0>p){var l=ss.formatPrefix(e,f);e=l.scale(e),n=l.symbol+_}else e*=p;e=h(e,f);var y,x,S=e.lastIndexOf(".");if(0>S){var w=v?e.lastIndexOf("e"):-1;0>w?(y=e,x=""):(y=e.substring(0,w),x=e.substring(w))}else y=e.substring(0,S),x=t+e.substring(S+1);!u&&d&&(y=r(y,1/0));var L=m.length+y.length+x.length+(b?0:a.length),E=c>L?new Array(L=c-L+1).join(i):"";return b&&(y=r(E+y,E.length?c-x.length:1/0)),a+=m,e=y+x,("<"===s?a+e+E:">"===s?E+a+e:"^"===s?E.substring(0,L>>=1)+a+e+E.substring(L):a+(b?e:E+e))+n}}}function Ge(e){return e+""}function Ve(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function je(e,t,n){function i(t){var n=e(t),i=r(n,1);return i-t>t-n?n:i}function a(n){return t(n=e(new _o(n-1)),1),n}function r(e,n){return t(e=new _o(+e),n),e}function s(e,i,r){var s=a(e),o=[];if(r>1)for(;i>s;)n(s)%r||o.push(new Date(+s)),t(s,1);else for(;i>s;)o.push(new Date(+s)),t(s,1);return o}function o(e,t,n){try{_o=Ve;var i=new Ve;return i._=e,s(i,t,n)}finally{_o=Date}}e.floor=e,e.round=i,e.ceil=a,e.offset=r,e.range=s;var l=e.utc=ze(e);return l.floor=l,l.round=ze(i),l.ceil=ze(a),l.offset=ze(r),l.range=o,e}function ze(e){return function(t,n){try{_o=Ve;var i=new Ve;return i._=t,e(i,n)._}finally{_o=Date}}}function $e(e){function t(e){function t(t){for(var n,a,r,s=[],o=-1,l=0;++o<i;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(a=vo[n=e.charAt(++o)])&&(n=e.charAt(++o)),(r=A[n])&&(n=r(t,null==a?"e"===n?" ":"0":a)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}var i=e.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=n(i,e,t,0);if(a!=t.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var r=null!=i.Z&&_o!==Ve,s=new(r?Ve:_o);return"j"in i?s.setFullYear(i.y,0,i.j):"w"in i&&("W"in i||"U"in i)?(s.setFullYear(i.y,0,1),s.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(s.getDay()+5)%7:i.w+7*i.U-(s.getDay()+6)%7)):s.setFullYear(i.y,i.m,i.d),s.setHours(i.H+(0|i.Z/100),i.M+i.Z%100,i.S,i.L),r?s._:s},t.toString=function(){return e},t}function n(e,t,n,i){for(var a,r,s,o=0,l=t.length,u=n.length;l>o;){if(i>=u)return-1;if(a=t.charCodeAt(o++),37===a){if(s=t.charAt(o++),r=T[s in vo?t.charAt(o++):s],!r||(i=r(e,n,i))<0)return-1}else if(a!=n.charCodeAt(i++))return-1}return i}function i(e,t,n){S.lastIndex=0;var i=S.exec(t.slice(n));return i?(e.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function a(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function r(e,t,n){M.lastIndex=0;var i=M.exec(t.slice(n));return i?(e.m=k.get(i[0].toLowerCase()),n+i[0].length):-1}function s(e,t,n){L.lastIndex=0;var i=L.exec(t.slice(n));return i?(e.m=E.get(i[0].toLowerCase()),n+i[0].length):-1}function o(e,t,i){return n(e,A.c.toString(),t,i)}function l(e,t,i){return n(e,A.x.toString(),t,i)}function u(e,t,i){return n(e,A.X.toString(),t,i)}function c(e,t,n){var i=b.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)}var d=e.dateTime,f=e.date,h=e.time,p=e.periods,m=e.days,_=e.shortDays,g=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{_o=Ve;var t=new _o;return t._=e,i(t)}finally{_o=Date}}var i=t(e);return n.parse=function(e){try{_o=Ve;var t=i.parse(e);return t&&t._}finally{_o=Date}},n.toString=i.toString,n},t.multi=t.utc.multi=ft;var b=ss.map(),y=We(m),x=Ke(m),S=We(_),w=Ke(_),L=We(g),E=Ke(g),M=We(v),k=Ke(v);p.forEach(function(e,t){b.set(e.toLowerCase(),t)});var A={a:function(e){return _[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return g[e.getMonth()]},c:t(d),d:function(e,t){return qe(e.getDate(),t,2)},e:function(e,t){return qe(e.getDate(),t,2)},H:function(e,t){return qe(e.getHours(),t,2)},I:function(e,t){return qe(e.getHours()%12||12,t,2)},j:function(e,t){return qe(1+mo.dayOfYear(e),t,3)},L:function(e,t){return qe(e.getMilliseconds(),t,3)},m:function(e,t){return qe(e.getMonth()+1,t,2)},M:function(e,t){return qe(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return qe(e.getSeconds(),t,2)},U:function(e,t){return qe(mo.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qe(mo.mondayOfYear(e),t,2)},x:t(f),X:t(h),y:function(e,t){return qe(e.getFullYear()%100,t,2)},Y:function(e,t){return qe(e.getFullYear()%1e4,t,4)},Z:ct,"%":function(){return"%"}},T={a:i,A:a,b:r,B:s,c:o,d:at,e:at,H:st,I:st,j:rt,L:ut,m:it,M:ot,p:c,S:lt,U:Xe,w:Je,W:Ze,x:l,X:u,y:et,Y:Qe,Z:tt,"%":dt};return t}function qe(e,t,n){var i=0>e?"-":"",a=(i?-e:e)+"",r=a.length;return i+(n>r?new Array(n-r+1).join(t)+a:a)}function We(e){return new RegExp("^(?:"+e.map(ss.requote).join("|")+")","i")}function Ke(e){for(var t=new f,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Je(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Xe(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Ze(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Qe(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function et(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+2));return i?(e.y=nt(+i[0]),n+i[0].length):-1}function tt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function nt(e){return e+(e>68?1900:2e3)}function it(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function at(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function rt(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function st(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function ot(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function lt(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ut(e,t,n){bo.lastIndex=0;var i=bo.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function ct(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=0|vs(t)/60,a=vs(t)%60;return n+qe(i,"0",2)+qe(a,"0",2)}function dt(e,t,n){yo.lastIndex=0;var i=yo.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function ft(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}function ht(){}function pt(e,t,n){var i=n.s=e+t,a=i-e,r=i-a;n.t=e-r+(t-a)}function mt(e,t){e&&Lo.hasOwnProperty(e.type)&&Lo[e.type](e,t)}function _t(e,t,n){var i,a=-1,r=e.length-n;for(t.lineStart();++a<r;)i=e[a],t.point(i[0],i[1],i[2]);t.lineEnd()}function gt(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)_t(e[n],t,1);t.polygonEnd()}function vt(){function e(e,t){e*=Gs,t=t*Gs/2+Us/4;var n=e-i,s=n>=0?1:-1,o=s*n,l=Math.cos(t),u=Math.sin(t),c=r*u,d=a*l+c*Math.cos(o),f=c*s*Math.sin(o);Mo.add(Math.atan2(f,d)),i=e,a=l,r=u}var t,n,i,a,r;ko.point=function(s,o){ko.point=e,i=(t=s)*Gs,a=Math.cos(o=(n=o)*Gs/2+Us/4),r=Math.sin(o)},ko.lineEnd=function(){e(t,n)}}function bt(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function yt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function xt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function St(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Lt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Et(e){return[Math.atan2(e[1],e[0]),re(e[2])]}function Mt(e,t){return vs(e[0]-t[0])<Ns&&vs(e[1]-t[1])<Ns}function kt(e,t){e*=Gs;var n=Math.cos(t*=Gs);At(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function At(e,t,n){++Ao,Co+=(e-Co)/Ao,Do+=(t-Do)/Ao,Ro+=(n-Ro)/Ao}function Tt(){function e(e,a){e*=Gs;var r=Math.cos(a*=Gs),s=r*Math.cos(e),o=r*Math.sin(e),l=Math.sin(a),u=Math.atan2(Math.sqrt((u=n*l-i*o)*u+(u=i*s-t*l)*u+(u=t*o-n*s)*u),t*s+n*o+i*l);To+=u,Oo+=u*(t+(t=s)),Io+=u*(n+(n=o)),Fo+=u*(i+(i=l)),At(t,n,i)}var t,n,i;Po.point=function(a,r){a*=Gs;var s=Math.cos(r*=Gs);t=s*Math.cos(a),n=s*Math.sin(a),i=Math.sin(r),Po.point=e,At(t,n,i)}}function Ct(){Po.point=kt}function Dt(){function e(e,t){e*=Gs;var n=Math.cos(t*=Gs),s=n*Math.cos(e),o=n*Math.sin(e),l=Math.sin(t),u=a*l-r*o,c=r*s-i*l,d=i*o-a*s,f=Math.sqrt(u*u+c*c+d*d),h=i*s+a*o+r*l,p=f&&-ae(h)/f,m=Math.atan2(f,h);No+=p*u,Bo+=p*c,Uo+=p*d,To+=m,Oo+=m*(i+(i=s)),Io+=m*(a+(a=o)),Fo+=m*(r+(r=l)),At(i,a,r)}var t,n,i,a,r;Po.point=function(s,o){t=s,n=o,Po.point=e,s*=Gs;var l=Math.cos(o*=Gs);i=l*Math.cos(s),a=l*Math.sin(s),r=Math.sin(o),At(i,a,r)},Po.lineEnd=function(){e(t,n),Po.lineEnd=Ct,Po.point=kt}}function Rt(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),n}function Ot(){return!0}function It(e,t,n,i,a){var r=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Mt(n,i)){a.lineStart();for(var o=0;t>o;++o)a.point((n=e[o])[0],n[1]);return a.lineEnd(),void 0}var l=new Nt(n,e,null,!0),u=new Nt(n,null,l,!1);l.o=u,r.push(l),s.push(u),l=new Nt(i,e,null,!1),u=new Nt(i,null,l,!0),l.o=u,r.push(l),s.push(u)}}),s.sort(t),Ft(r),Ft(s),r.length){for(var o=0,l=n,u=s.length;u>o;++o)s[o].e=l=!l;for(var c,d,f=r[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var o=0,u=c.length;u>o;++o)a.point((d=c[o])[0],d[1]);else i(h.x,h.n.x,1,a);h=h.n}else{if(p){c=h.p.z;for(var o=c.length-1;o>=0;--o)a.point((d=c[o])[0],d[1])}else i(h.x,h.p.x,-1,a);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);a.lineEnd()}}}function Ft(e){if(t=e.length){for(var t,n,i=0,a=e[0];++i<t;)a.n=n=e[i],n.p=a,a=n;a.n=n=e[0],n.p=a}}function Nt(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Bt(e,t,n,i){return function(a,r){function s(t,n){var i=a(t,n);e(t=i[0],n=i[1])&&r.point(t,n)}function o(e,t){var n=a(e,t);_.point(n[0],n[1])}function l(){v.point=o,_.lineStart()}function u(){v.point=s,_.lineEnd()}function c(e,t){m.push([e,t]);var n=a(e,t);y.point(n[0],n[1])}function d(){y.lineStart(),m=[]}function f(){c(m[0][0],m[0][1]),y.lineEnd();var e,t=y.clean(),n=b.buffer(),i=n.length;if(m.pop(),p.push(m),m=null,i)if(1&t){e=n[0];var a,i=e.length-1,s=-1;if(i>0){for(x||(r.polygonStart(),x=!0),r.lineStart();++s<i;)r.point((a=e[s])[0],a[1]);r.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ut))}var h,p,m,_=t(r),g=a.invert(i[0],i[1]),v={point:s,lineStart:l,lineEnd:u,polygonStart:function(){v.point=c,v.lineStart=d,v.lineEnd=f,h=[],p=[]},polygonEnd:function(){v.point=s,v.lineStart=l,v.lineEnd=u,h=ss.merge(h);var e=jt(g,p);h.length?(x||(r.polygonStart(),x=!0),It(h,Yt,e,n,r)):e&&(x||(r.polygonStart(),x=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),h=p=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}},b=Pt(),y=t(b),x=!1;return v}}function Ut(e){return e.length>1}function Pt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Yt(e,t){return((e=e.x)[0]<0?e[1]-Hs-Ns:Hs-e[1])-((t=t.x)[0]<0?t[1]-Hs-Ns:Hs-t[1])}function Ht(e){var t,n=0/0,i=0/0,a=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(r,s){var o=r>0?Us:-Us,l=vs(r-n);vs(l-Us)<Ns?(e.point(n,i=(i+s)/2>0?Hs:-Hs),e.point(a,i),e.lineEnd(),e.lineStart(),e.point(o,i),e.point(r,i),t=0):a!==o&&l>=Us&&(vs(n-a)<Ns&&(n-=a*Ns),vs(r-o)<Ns&&(r-=o*Ns),i=Gt(n,i,r,s),e.point(a,i),e.lineEnd(),e.lineStart(),e.point(o,i),t=0),e.point(n=r,i=s),a=o},lineEnd:function(){e.lineEnd(),n=i=0/0},clean:function(){return 2-t}}}function Gt(e,t,n,i){var a,r,s=Math.sin(e-n);return vs(s)>Ns?Math.atan((Math.sin(t)*(r=Math.cos(i))*Math.sin(n)-Math.sin(i)*(a=Math.cos(t))*Math.sin(e))/(a*r*s)):(t+i)/2}function Vt(e,t,n,i){var a;if(null==e)a=n*Hs,i.point(-Us,a),i.point(0,a),i.point(Us,a),i.point(Us,0),i.point(Us,-a),i.point(0,-a),i.point(-Us,-a),i.point(-Us,0),i.point(-Us,a);else if(vs(e[0]-t[0])>Ns){var r=e[0]<t[0]?Us:-Us;a=n*r/2,i.point(-r,a),i.point(0,a),i.point(r,a)}else i.point(t[0],t[1])}function jt(e,t){var n=e[0],i=e[1],a=[Math.sin(n),-Math.cos(n),0],r=0,s=0;Mo.reset();for(var o=0,l=t.length;l>o;++o){var u=t[o],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Us/4,p=Math.sin(h),m=Math.cos(h),_=1;;){_===c&&(_=0),e=u[_];var g=e[0],v=e[1]/2+Us/4,b=Math.sin(v),y=Math.cos(v),x=g-f,S=x>=0?1:-1,w=S*x,L=w>Us,E=p*b;if(Mo.add(Math.atan2(E*S*Math.sin(w),m*y+E*Math.cos(w))),r+=L?x+S*Ps:x,L^f>=n^g>=n){var M=xt(bt(d),bt(e));Lt(M);var k=xt(a,M);Lt(k);var A=(L^x>=0?-1:1)*re(k[2]);(i>A||i===A&&(M[0]||M[1]))&&(s+=L^x>=0?1:-1)}if(!_++)break;f=g,p=b,m=y,d=e}}return(-Ns>r||Ns>r&&0>Mo)^1&s}function zt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>r}function n(e){var n,r,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],m=t(d,f),_=s?m?0:a(d,f):m?a(d+(0>d?Us:-Us),f):0;if(!n&&(u=l=m)&&e.lineStart(),m!==l&&(h=i(n,p),(Mt(n,h)||Mt(p,h))&&(p[0]+=Ns,p[1]+=Ns,m=t(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),h=i(p,n),e.point(h[0],h[1])):(h=i(n,p),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(o&&n&&s^m){var g;_&r||!(g=i(p,n,!0))||(c=0,s?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||n&&Mt(n,p)||e.point(p[0],p[1]),n=p,l=m,r=_},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(e,t,n){var i=bt(e),a=bt(t),s=[1,0,0],o=xt(i,a),l=yt(o,o),u=o[0],c=l-u*u;if(!c)return!n&&e;var d=r*l/c,f=-r*u/c,h=xt(s,o),p=wt(s,d),m=wt(o,f);St(p,m);var _=h,g=yt(p,_),v=yt(_,_),b=g*g-v*(yt(p,p)-1);if(!(0>b)){var y=Math.sqrt(b),x=wt(_,(-g-y)/v);if(St(x,p),x=Et(x),!n)return x;var S,w=e[0],L=t[0],E=e[1],M=t[1];w>L&&(S=w,w=L,L=S);var k=L-w,A=vs(k-Us)<Ns,T=A||Ns>k;if(!A&&E>M&&(S=E,E=M,M=S),T?A?E+M>0^x[1]<(vs(x[0]-w)<Ns?E:M):E<=x[1]&&x[1]<=M:k>Us^(w<=x[0]&&x[0]<=L)){var C=wt(_,(-g+y)/v);return St(C,p),[x,Et(C)]}}}function a(t,n){var i=s?e:Us-e,a=0;return-i>t?a|=1:t>i&&(a|=2),-i>n?a|=4:n>i&&(a|=8),a}var r=Math.cos(e),s=r>0,o=vs(r)>Ns,l=bn(e,6*Gs);return Bt(t,n,l,s?[0,-e]:[-Us,e-Us])}function $t(e,t,n,i){return function(a){var r,s=a.a,o=a.b,l=s.x,u=s.y,c=o.x,d=o.y,f=0,h=1,p=c-l,m=d-u;if(r=e-l,p||!(r>0)){if(r/=p,0>p){if(f>r)return;h>r&&(h=r)}else if(p>0){if(r>h)return;r>f&&(f=r)}if(r=n-l,p||!(0>r)){if(r/=p,0>p){if(r>h)return;r>f&&(f=r)}else if(p>0){if(f>r)return;h>r&&(h=r)}if(r=t-u,m||!(r>0)){if(r/=m,0>m){if(f>r)return;h>r&&(h=r)}else if(m>0){if(r>h)return;r>f&&(f=r)}if(r=i-u,m||!(0>r)){if(r/=m,0>m){if(r>h)return;r>f&&(f=r)}else if(m>0){if(f>r)return;h>r&&(h=r)}return f>0&&(a.a={x:l+f*p,y:u+f*m}),1>h&&(a.b={x:l+h*p,y:u+h*m}),a}}}}}}function qt(e,t,n,i){function a(i,a){return vs(i[0]-e)<Ns?a>0?0:3:vs(i[0]-n)<Ns?a>0?2:1:vs(i[1]-t)<Ns?a>0?1:0:a>0?3:2}function r(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function l(e){for(var t=0,n=_.length,i=e[1],a=0;n>a;++a)for(var r,s=1,o=_[a],l=o.length,u=o[0];l>s;++s)r=o[s],u[1]<=i?r[1]>i&&ie(u,r,e)>0&&++t:r[1]<=i&&ie(u,r,e)<0&&--t,u=r;return 0!==t}function u(r,o,l,u){var c=0,d=0;if(null==r||(c=a(r,l))!==(d=a(o,l))||s(r,o)<0^l>0){do{u.point(0===c||3===c?e:n,c>1?i:t)}while((c=(c+l+4)%4)!==d)}else u.point(o[0],o[1])}function c(a,r){return a>=e&&n>=a&&r>=t&&i>=r}function d(e,t){c(e,t)&&o.point(e,t)}function f(){T.point=p,_&&_.push(g=[]),L=!0,w=!1,x=S=0/0}function h(){m&&(p(v,b),y&&w&&k.rejoin(),m.push(k.buffer())),T.point=d,w&&o.lineEnd()}function p(e,t){e=Math.max(-Ho,Math.min(Ho,e)),t=Math.max(-Ho,Math.min(Ho,t));var n=c(e,t);if(_&&g.push([e,t]),L)v=e,b=t,y=n,L=!1,n&&(o.lineStart(),o.point(e,t));else if(n&&w)o.point(e,t);else{var i={a:{x:x,y:S},b:{x:e,y:t}};A(i)?(w||(o.lineStart(),o.point(i.a.x,i.a.y)),o.point(i.b.x,i.b.y),n||o.lineEnd(),E=!1):n&&(o.lineStart(),o.point(e,t),E=!1)}x=e,S=t,w=n}var m,_,g,v,b,y,x,S,w,L,E,M=o,k=Pt(),A=$t(e,t,n,i),T={point:d,lineStart:f,lineEnd:h,polygonStart:function(){o=k,m=[],_=[],E=!0},polygonEnd:function(){o=M,m=ss.merge(m);var t=l([e,i]),n=E&&t,a=m.length;(n||a)&&(o.polygonStart(),n&&(o.lineStart(),u(null,null,1,o),o.lineEnd()),a&&It(m,r,t,u,o),o.polygonEnd()),m=_=g=null}};return T}}function Wt(e){var t=0,n=Us/3,i=dn(e),a=i(t,n);return a.parallels=function(e){return arguments.length?i(t=e[0]*Us/180,n=e[1]*Us/180):[180*(t/Us),180*(n/Us)]},a}function Kt(e,t){function n(e,t){var n=Math.sqrt(r-2*a*Math.sin(t))/a;return[n*Math.sin(e*=a),s-n*Math.cos(e)]}var i=Math.sin(e),a=(i+Math.sin(t))/2,r=1+i*(2*a-i),s=Math.sqrt(r)/a;return n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/a,re((r-(e*e+n*n)*a*a)/(2*a))]},n}function Jt(){function e(e,t){Vo+=a*e-i*t,i=e,a=t}var t,n,i,a;Wo.point=function(r,s){Wo.point=e,t=i=r,n=a=s},Wo.lineEnd=function(){e(t,n)}}function Xt(e,t){jo>e&&(jo=e),e>$o&&($o=e),zo>t&&(zo=t),t>qo&&(qo=t)}function Zt(){function e(e,t){s.push("M",e,",",t,r)}function t(e,t){s.push("M",e,",",t),o.point=n}function n(e,t){s.push("L",e,",",t)}function i(){o.point=e}function a(){s.push("Z")}var r=Qt(4.5),s=[],o={point:e,lineStart:function(){o.point=t},lineEnd:i,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=i,o.point=e},pointRadius:function(e){return r=Qt(e),o},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return o}function Qt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function en(e,t){Co+=e,Do+=t,++Ro}function tn(){function e(e,i){var a=e-t,r=i-n,s=Math.sqrt(a*a+r*r);Oo+=s*(t+e)/2,Io+=s*(n+i)/2,Fo+=s,en(t=e,n=i)}var t,n;Jo.point=function(i,a){Jo.point=e,en(t=i,n=a)}}function nn(){Jo.point=en}function an(){function e(e,t){var n=e-i,r=t-a,s=Math.sqrt(n*n+r*r);Oo+=s*(i+e)/2,Io+=s*(a+t)/2,Fo+=s,s=a*e-i*t,No+=s*(i+e),Bo+=s*(a+t),Uo+=3*s,en(i=e,a=t)}var t,n,i,a;Jo.point=function(r,s){Jo.point=e,en(t=i=r,n=a=s)},Jo.lineEnd=function(){e(t,n)}}function rn(e){function t(t,n){e.moveTo(t+s,n),e.arc(t,n,s,0,Ps)}function n(t,n){e.moveTo(t,n),o.point=i}function i(t,n){e.lineTo(t,n)}function a(){o.point=t}function r(){e.closePath()}var s=4.5,o={point:t,lineStart:function(){o.point=n},lineEnd:a,polygonStart:function(){o.lineEnd=r},polygonEnd:function(){o.lineEnd=a,o.point=t},pointRadius:function(e){return s=e,o},result:w};return o}function sn(e){function t(e){return(o?i:n)(e)}function n(t){return un(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})}function i(t){function n(n,i){n=e(n,i),t.point(n[0],n[1])}function i(){b=0/0,L.point=r,t.lineStart()}function r(n,i){var r=bt([n,i]),s=e(n,i);a(b,y,v,x,S,w,b=s[0],y=s[1],v=n,x=r[0],S=r[1],w=r[2],o,t),t.point(b,y)}function s(){L.point=n,t.lineEnd()}function l(){i(),L.point=u,L.lineEnd=c}function u(e,t){r(d=e,f=t),h=b,p=y,m=x,_=S,g=w,L.point=r}function c(){a(b,y,v,x,S,w,h,p,d,m,_,g,o,t),L.lineEnd=s,s()}var d,f,h,p,m,_,g,v,b,y,x,S,w,L={point:n,lineStart:i,lineEnd:s,polygonStart:function(){t.polygonStart(),L.lineStart=l},polygonEnd:function(){t.polygonEnd(),L.lineStart=i}};return L}function a(t,n,i,o,l,u,c,d,f,h,p,m,_,g){var v=c-t,b=d-n,y=v*v+b*b;if(y>4*r&&_--){var x=o+h,S=l+p,w=u+m,L=Math.sqrt(x*x+S*S+w*w),E=Math.asin(w/=L),M=vs(vs(w)-1)<Ns||vs(i-f)<Ns?(i+f)/2:Math.atan2(S,x),k=e(M,E),A=k[0],T=k[1],C=A-t,D=T-n,R=b*C-v*D;(R*R/y>r||vs((v*C+b*D)/y-.5)>.3||s>o*h+l*p+u*m)&&(a(t,n,i,o,l,u,A,T,M,x/=L,S/=L,w,_,g),g.point(A,T),a(A,T,M,x,S,w,c,d,f,h,p,m,_,g))}}var r=.5,s=Math.cos(30*Gs),o=16;return t.precision=function(e){return arguments.length?(o=(r=e*e)>0&&16,t):Math.sqrt(r)},t}function on(e){var t=sn(function(t,n){return e([t*Vs,n*Vs])});return function(e){return fn(t(e))}}function ln(e){this.stream=e}function un(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function cn(e){return dn(function(){return e})()}function dn(e){function t(e){return e=o(e[0]*Gs,e[1]*Gs),[e[0]*f+l,u-e[1]*f]}function n(e){return e=o.invert((e[0]-l)/f,(u-e[1])/f),e&&[e[0]*Vs,e[1]*Vs]}function i(){o=Rt(s=mn(g,v,b),r);var e=r(m,_);return l=h-e[0]*f,u=p+e[1]*f,a()}function a(){return c&&(c.valid=!1,c=null),t}var r,s,o,l,u,c,d=sn(function(e,t){return e=r(e,t),[e[0]*f+l,u-e[1]*f]}),f=150,h=480,p=250,m=0,_=0,g=0,v=0,b=0,y=Yo,x=De,S=null,w=null;return t.stream=function(e){return c&&(c.valid=!1),c=fn(y(s,d(x(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(y=null==e?(S=e,Yo):zt((S=+e)*Gs),a()):S},t.clipExtent=function(e){return arguments.length?(w=e,x=e?qt(e[0][0],e[0][1],e[1][0],e[1][1]):De,a()):w},t.scale=function(e){return arguments.length?(f=+e,i()):f},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],i()):[h,p]},t.center=function(e){return arguments.length?(m=e[0]%360*Gs,_=e[1]%360*Gs,i()):[m*Vs,_*Vs]},t.rotate=function(e){return arguments.length?(g=e[0]%360*Gs,v=e[1]%360*Gs,b=e.length>2?e[2]%360*Gs:0,i()):[g*Vs,v*Vs,b*Vs]},ss.rebind(t,d,"precision"),function(){return r=e.apply(this,arguments),t.invert=r.invert&&n,i()}}function fn(e){return un(e,function(t,n){e.point(t*Gs,n*Gs)})}function hn(e,t){return[e,t]}function pn(e,t){return[e>Us?e-Ps:-Us>e?e+Ps:e,t]}function mn(e,t,n){return e?t||n?Rt(gn(e),vn(t,n)):gn(e):t||n?vn(t,n):pn}function _n(e){return function(t,n){return t+=e,[t>Us?t-Ps:-Us>t?t+Ps:t,n]}}function gn(e){var t=_n(e);return t.invert=_n(-e),t}function vn(e,t){function n(e,t){var n=Math.cos(t),o=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*i+o*a;return[Math.atan2(l*r-c*s,o*i-u*a),re(c*r+l*s)]}var i=Math.cos(e),a=Math.sin(e),r=Math.cos(t),s=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),o=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*r-l*s;return[Math.atan2(l*r+u*s,o*i+c*a),re(c*i-o*a)]},n}function bn(e,t){var n=Math.cos(e),i=Math.sin(e);return function(a,r,s,o){var l=s*t;null!=a?(a=yn(n,a),r=yn(n,r),(s>0?r>a:a>r)&&(a+=s*Ps)):(a=e+s*Ps,r=e-.5*l);for(var u,c=a;s>0?c>r:r>c;c-=l)o.point((u=Et([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function yn(e,t){var n=bt(t);n[0]-=e,Lt(n);var i=ae(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ns)%(2*Math.PI)}function xn(e,t,n){var i=ss.range(e,t-Ns,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Sn(e,t,n){var i=ss.range(e,t-Ns,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function wn(e){return e.source}function Ln(e){return e.target}function En(e,t,n,i){var a=Math.cos(t),r=Math.sin(t),s=Math.cos(i),o=Math.sin(i),l=a*Math.cos(e),u=a*Math.sin(e),c=s*Math.cos(n),d=s*Math.sin(n),f=2*Math.asin(Math.sqrt(ue(i-t)+a*s*ue(n-e))),h=1/Math.sin(f),p=f?function(e){var t=Math.sin(e*=f)*h,n=Math.sin(f-e)*h,i=n*l+t*c,a=n*u+t*d,s=n*r+t*o;return[Math.atan2(a,i)*Vs,Math.atan2(s,Math.sqrt(i*i+a*a))*Vs]}:function(){return[e*Vs,t*Vs]};return p.distance=f,p}function Mn(){function e(e,a){var r=Math.sin(a*=Gs),s=Math.cos(a),o=vs((e*=Gs)-t),l=Math.cos(o);Xo+=Math.atan2(Math.sqrt((o=s*Math.sin(o))*o+(o=i*r-n*s*l)*o),n*r+i*s*l),t=e,n=r,i=s}var t,n,i;Zo.point=function(a,r){t=a*Gs,n=Math.sin(r*=Gs),i=Math.cos(r),Zo.point=e},Zo.lineEnd=function(){Zo.point=Zo.lineEnd=w}}function kn(e,t){function n(t,n){var i=Math.cos(t),a=Math.cos(n),r=e(i*a);return[r*a*Math.sin(t),r*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),a=t(i),r=Math.sin(a),s=Math.cos(a);return[Math.atan2(e*r,i*s),Math.asin(i&&n*r/i)]},n}function An(e,t){function n(e,t){s>0?-Hs+Ns>t&&(t=-Hs+Ns):t>Hs-Ns&&(t=Hs-Ns);var n=s/Math.pow(a(t),r);return[n*Math.sin(r*e),s-n*Math.cos(r*e)]}var i=Math.cos(e),a=function(e){return Math.tan(Us/4+e/2)},r=e===t?Math.sin(e):Math.log(i/Math.cos(t))/Math.log(a(t)/a(e)),s=i*Math.pow(a(e),r)/r;return r?(n.invert=function(e,t){var n=s-t,i=ne(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(s/i,1/r))-Hs]},n):Cn}function Tn(e,t){function n(e,t){var n=r-t;return[n*Math.sin(a*e),r-n*Math.cos(a*e)]}var i=Math.cos(e),a=e===t?Math.sin(e):(i-Math.cos(t))/(t-e),r=i/a+e;return vs(a)<Ns?hn:(n.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/a,r-ne(a)*Math.sqrt(e*e+n*n)]},n)}function Cn(e,t){return[e,Math.log(Math.tan(Us/4+t/2))]}function Dn(e){var t,n=cn(e),i=n.scale,a=n.translate,r=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=a.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=r.apply(n,arguments);if(s===n){if(t=null==e){var o=Us*i(),l=a();r([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(s=null);return s},n.clipExtent(null)}function Rn(e,t){return[Math.log(Math.tan(Us/4+t/2)),-e]}function On(e){return e[0]}function In(e){return e[1]}function Fn(e){for(var t=e.length,n=[0,1],i=2,a=2;t>a;a++){for(;i>1&&ie(e[n[i-2]],e[n[i-1]],e[a])<=0;)--i;n[i++]=a}return n.slice(0,i)}function Nn(e,t){return e[0]-t[0]||e[1]-t[1]}function Bn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Un(e,t,n,i){var a=e[0],r=n[0],s=t[0]-a,o=i[0]-r,l=e[1],u=n[1],c=t[1]-l,d=i[1]-u,f=(o*(l-u)-d*(a-r))/(d*s-o*c);return[a+f*s,l+f*c]}function Pn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Yn(){oi(this),this.edge=this.site=this.circle=null}function Hn(e){var t=cl.pop()||new Yn;return t.site=e,t}function Gn(e){Zn(e),ol.remove(e),cl.push(e),oi(e)}function Vn(e){var t=e.circle,n=t.x,i=t.cy,a={x:n,y:i},r=e.P,s=e.N,o=[e];Gn(e);for(var l=r;l.circle&&vs(n-l.circle.x)<Ns&&vs(i-l.circle.cy)<Ns;)r=l.P,o.unshift(l),Gn(l),l=r;o.unshift(l),Zn(l);for(var u=s;u.circle&&vs(n-u.circle.x)<Ns&&vs(i-u.circle.cy)<Ns;)s=u.N,o.push(u),Gn(u),u=s;o.push(u),Zn(u);var c,d=o.length;for(c=1;d>c;++c)u=o[c],l=o[c-1],ai(u.edge,l.site,u.site,a);l=o[0],u=o[d-1],u.edge=ni(l.site,u.site,null,a),Xn(l),Xn(u)}function jn(e){for(var t,n,i,a,r=e.x,s=e.y,o=ol._;o;)if(i=zn(o,s)-r,i>Ns)o=o.L;else{if(a=r-$n(o,s),!(a>Ns)){i>-Ns?(t=o.P,n=o):a>-Ns?(t=o,n=o.N):t=n=o;break}if(!o.R){t=o;break}o=o.R}var l=Hn(e);if(ol.insert(t,l),t||n){if(t===n)return Zn(t),n=Hn(t.site),ol.insert(l,n),l.edge=n.edge=ni(t.site,l.site),Xn(t),Xn(n),void 0;if(!n)return l.edge=ni(t.site,l.site),void 0;Zn(t),Zn(n);var u=t.site,c=u.x,d=u.y,f=e.x-c,h=e.y-d,p=n.site,m=p.x-c,_=p.y-d,g=2*(f*_-h*m),v=f*f+h*h,b=m*m+_*_,y={x:(_*v-h*b)/g+c,y:(f*b-m*v)/g+d};ai(n.edge,u,p,y),l.edge=ni(u,e,null,y),n.edge=ni(e,p,null,y),Xn(t),Xn(n)}}function zn(e,t){var n=e.site,i=n.x,a=n.y,r=a-t;if(!r)return i;var s=e.P;if(!s)return-1/0;n=s.site;var o=n.x,l=n.y,u=l-t;if(!u)return o;var c=o-i,d=1/r-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+a-r/2)))/d+i:(i+o)/2}function $n(e,t){var n=e.N;if(n)return zn(n,t);var i=e.site;return i.y===t?i.x:1/0}function qn(e){this.site=e,this.edges=[]}function Wn(e){for(var t,n,i,a,r,s,o,l,u,c,d=e[0][0],f=e[1][0],h=e[0][1],p=e[1][1],m=sl,_=m.length;_--;)if(r=m[_],r&&r.prepare())for(o=r.edges,l=o.length,s=0;l>s;)c=o[s].end(),i=c.x,a=c.y,u=o[++s%l].start(),t=u.x,n=u.y,(vs(i-t)>Ns||vs(a-n)>Ns)&&(o.splice(s,0,new ri(ii(r.site,c,vs(i-d)<Ns&&p-a>Ns?{x:d,y:vs(t-d)<Ns?n:p}:vs(a-p)<Ns&&f-i>Ns?{x:vs(n-p)<Ns?t:f,y:p}:vs(i-f)<Ns&&a-h>Ns?{x:f,y:vs(t-f)<Ns?n:h}:vs(a-h)<Ns&&i-d>Ns?{x:vs(n-h)<Ns?t:d,y:h}:null),r.site,null)),++l)}function Kn(e,t){return t.angle-e.angle}function Jn(){oi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,a=e.site,r=n.site;if(i!==r){var s=a.x,o=a.y,l=i.x-s,u=i.y-o,c=r.x-s,d=r.y-o,f=2*(l*d-u*c);if(!(f>=-Bs)){var h=l*l+u*u,p=c*c+d*d,m=(d*h-u*p)/f,_=(l*p-c*h)/f,d=_+o,g=dl.pop()||new Jn;g.arc=e,g.site=a,g.x=m+s,g.y=d+Math.sqrt(m*m+_*_),g.cy=d,e.circle=g;for(var v=null,b=ul._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}ul.insert(v,g),v||(ll=g)}}}}function Zn(e){var t=e.circle;t&&(t.P||(ll=t.N),ul.remove(t),dl.push(t),oi(t),e.circle=null)}function Qn(e){for(var t,n=rl,i=$t(e[0][0],e[0][1],e[1][0],e[1][1]),a=n.length;a--;)t=n[a],(!ei(t,e)||!i(t)||vs(t.a.x-t.b.x)<Ns&&vs(t.a.y-t.b.y)<Ns)&&(t.a=t.b=null,n.splice(a,1))}function ei(e,t){var n=e.b;if(n)return!0;var i,a,r=e.a,s=t[0][0],o=t[1][0],l=t[0][1],u=t[1][1],c=e.l,d=e.r,f=c.x,h=c.y,p=d.x,m=d.y,_=(f+p)/2,g=(h+m)/2;if(m===h){if(s>_||_>=o)return;if(f>p){if(r){if(r.y>=u)return}else r={x:_,y:l};n={x:_,y:u}}else{if(r){if(r.y<l)return}else r={x:_,y:u};n={x:_,y:l}}}else if(i=(f-p)/(m-h),a=g-i*_,-1>i||i>1)if(f>p){if(r){if(r.y>=u)return}else r={x:(l-a)/i,y:l};n={x:(u-a)/i,y:u}}else{if(r){if(r.y<l)return}else r={x:(u-a)/i,y:u};n={x:(l-a)/i,y:l}}else if(m>h){if(r){if(r.x>=o)return}else r={x:s,y:i*s+a};n={x:o,y:i*o+a}}else{if(r){if(r.x<s)return}else r={x:o,y:i*o+a};n={x:s,y:i*s+a}}return e.a=r,e.b=n,!0}function ti(e,t){this.l=e,this.r=t,this.a=this.b=null}function ni(e,t,n,i){var a=new ti(e,t);return rl.push(a),n&&ai(a,e,t,n),i&&ai(a,t,e,i),sl[e.i].edges.push(new ri(a,e,t)),sl[t.i].edges.push(new ri(a,t,e)),a}function ii(e,t,n){var i=new ti(e,null);return i.a=t,i.b=n,rl.push(i),i}function ai(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function ri(e,t,n){var i=e.a,a=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(a.x-i.x,i.y-a.y):Math.atan2(i.x-a.x,a.y-i.y)}function si(){this._=null}function oi(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function li(e,t){var n=t,i=t.R,a=n.U;a?a.L===n?a.L=i:a.R=i:e._=i,i.U=a,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ui(e,t){var n=t,i=t.L,a=n.U;a?a.L===n?a.L=i:a.R=i:e._=i,i.U=a,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ci(e){for(;e.L;)e=e.L;return e}function di(e,t){var n,i,a,r=e.sort(fi).pop();for(rl=[],sl=new Array(e.length),ol=new si,ul=new si;;)if(a=ll,r&&(!a||r.y<a.y||r.y===a.y&&r.x<a.x))(r.x!==n||r.y!==i)&&(sl[r.i]=new qn(r),jn(r),n=r.x,i=r.y),r=e.pop();else{if(!a)break;Vn(a.arc)}t&&(Qn(t),Wn(t));var s={cells:sl,edges:rl};return ol=ul=rl=sl=null,s}function fi(e,t){return t.y-e.y||t.x-e.x}function hi(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function pi(e){return e.x}function mi(e){return e.y}function _i(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gi(e,t,n,i,a,r){if(!e(t,n,i,a,r)){var s=.5*(n+a),o=.5*(i+r),l=t.nodes;l[0]&&gi(e,l[0],n,i,s,o),l[1]&&gi(e,l[1],s,i,a,o),l[2]&&gi(e,l[2],n,o,s,r),l[3]&&gi(e,l[3],s,o,a,r)}}function vi(e,t,n,i,a,r,s){var o,l=1/0;return function e(u,c,d,f,h){if(!(c>r||d>s||i>f||a>h)){if(p=u.point){var p,m=t-p[0],_=n-p[1],g=m*m+_*_;if(l>g){var v=Math.sqrt(l=g);i=t-v,a=n-v,r=t+v,s=n+v,o=p}}for(var b=u.nodes,y=.5*(c+f),x=.5*(d+h),S=t>=y,w=n>=x,L=w<<1|S,E=L+4;E>L;++L)if(u=b[3&L])switch(3&L){case 0:e(u,c,d,y,x);break;case 1:e(u,y,d,f,x);break;case 2:e(u,c,x,y,h);break;case 3:e(u,y,x,f,h)}}}(e,i,a,r,s),o}function bi(e,t){e=ss.rgb(e),t=ss.rgb(t);var n=e.r,i=e.g,a=e.b,r=t.r-n,s=t.g-i,o=t.b-a;return function(e){return"#"+Le(Math.round(n+r*e))+Le(Math.round(i+s*e))+Le(Math.round(a+o*e))}}function yi(e,t){var n,i={},a={};for(n in e)n in t?i[n]=wi(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in i)a[n]=i[n](e);return a}}function xi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Si(e,t){var n,i,a,r=hl.lastIndex=pl.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(n=hl.exec(e))&&(i=pl.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:xi(n,i)})),r=pl.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;t>i;++i)o[(n=l[i]).i]=n.x(e);return o.join("")})}function wi(e,t){for(var n,i=ss.interpolators.length;--i>=0&&!(n=ss.interpolators[i](e,t)););return n}function Li(e,t){var n,i=[],a=[],r=e.length,s=t.length,o=Math.min(e.length,t.length);for(n=0;o>n;++n)i.push(wi(e[n],t[n]));for(;r>n;++n)a[n]=e[n];for(;s>n;++n)a[n]=t[n];return function(e){for(n=0;o>n;++n)a[n]=i[n](e);return a}}function Ei(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Mi(e){return function(t){return 1-e(1-t)}}function ki(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Ai(e){return e*e}function Ti(e){return e*e*e}function Ci(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Di(e){return function(t){return Math.pow(t,e)}}function Ri(e){return 1-Math.cos(e*Hs)}function Oi(e){return Math.pow(2,10*(e-1))}function Ii(e){return 1-Math.sqrt(1-e*e)}function Fi(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ps*Math.asin(1/e):(e=1,n=t/4),function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Ps/t)}}function Ni(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Bi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ui(e,t){e=ss.hcl(e),t=ss.hcl(t);var n=e.h,i=e.c,a=e.l,r=t.h-n,s=t.c-i,o=t.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?t.c:i),isNaN(r)?(r=0,n=isNaN(n)?t.h:n):r>180?r-=360:-180>r&&(r+=360),function(e){return pe(n+r*e,i+s*e,a+o*e)+""}}function Pi(e,t){e=ss.hsl(e),t=ss.hsl(t);var n=e.h,i=e.s,a=e.l,r=t.h-n,s=t.s-i,o=t.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?t.s:i),isNaN(r)?(r=0,n=isNaN(n)?t.h:n):r>180?r-=360:-180>r&&(r+=360),function(e){return fe(n+r*e,i+s*e,a+o*e)+""}}function Yi(e,t){e=ss.lab(e),t=ss.lab(t);var n=e.l,i=e.a,a=e.b,r=t.l-n,s=t.a-i,o=t.b-a;return function(e){return _e(n+r*e,i+s*e,a+o*e)+""}}function Hi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Gi(e){var t=[e.a,e.b],n=[e.c,e.d],i=ji(t),a=Vi(t,n),r=ji(zi(n,t,-a))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,a*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Vs,this.translate=[e.e,e.f],this.scale=[i,r],this.skew=r?Math.atan2(a,r)*Vs:0}function Vi(e,t){return e[0]*t[0]+e[1]*t[1]}function ji(e){var t=Math.sqrt(Vi(e,e));return t&&(e[0]/=t,e[1]/=t),t}function zi(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function $i(e,t){var n,i=[],a=[],r=ss.transform(e),s=ss.transform(t),o=r.translate,l=s.translate,u=r.rotate,c=s.rotate,d=r.skew,f=s.skew,h=r.scale,p=s.scale;return o[0]!=l[0]||o[1]!=l[1]?(i.push("translate(",null,",",null,")"),a.push({i:1,x:xi(o[0],l[0])},{i:3,x:xi(o[1],l[1])})):l[0]||l[1]?i.push("translate("+l+")"):i.push(""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),a.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:xi(u,c)})):c&&i.push(i.pop()+"rotate("+c+")"),d!=f?a.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:xi(d,f)}):f&&i.push(i.pop()+"skewX("+f+")"),h[0]!=p[0]||h[1]!=p[1]?(n=i.push(i.pop()+"scale(",null,",",null,")"),a.push({i:n-4,x:xi(h[0],p[0])},{i:n-2,x:xi(h[1],p[1])})):(1!=p[0]||1!=p[1])&&i.push(i.pop()+"scale("+p+")"),n=a.length,function(e){for(var t,r=-1;++r<n;)i[(t=a[r]).i]=t.x(e);return i.join("")}}function qi(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Wi(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Ki(e){for(var t=e.source,n=e.target,i=Xi(t,n),a=[t];t!==i;)t=t.parent,a.push(t);for(var r=a.length;n!==i;)a.splice(r,0,n),n=n.parent;return a}function Ji(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Xi(e,t){if(e===t)return e;for(var n=Ji(e),i=Ji(t),a=n.pop(),r=i.pop(),s=null;a===r;)s=a,a=n.pop(),r=i.pop();return s}function Zi(e){e.fixed|=2}function Qi(e){e.fixed&=-7}function ea(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ta(e){e.fixed&=-5}function na(e,t,n){var i=0,a=0;if(e.charge=0,!e.leaf)for(var r,s=e.nodes,o=s.length,l=-1;++l<o;)r=s[l],null!=r&&(na(r,t,n),e.charge+=r.charge,i+=r.charge*r.cx,a+=r.charge*r.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,i+=u*e.point.x,a+=u*e.point.y}e.cx=i/e.charge,e.cy=a/e.charge}function ia(e,t){return ss.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ua,e}function aa(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(a=e.children)&&(i=a.length))for(var i,a;--i>=0;)n.push(a[i])}function ra(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(r=e.children)&&(a=r.length))for(var a,r,s=-1;++s<a;)n.push(r[s]);for(;null!=(e=i.pop());)t(e)}function sa(e){return e.children}function oa(e){return e.value}function la(e,t){return t.value-e.value}function ua(e){return ss.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ca(e){return e.x}function da(e){return e.y}function fa(e,t,n){e.y0=t,e.y=n}function ha(e){return ss.range(e.length)}function pa(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function ma(e){for(var t,n=1,i=0,a=e[0][1],r=e.length;r>n;++n)(t=e[n][1])>a&&(i=n,a=t);return i}function _a(e){return e.reduce(ga,0)}function ga(e,t){return e+t[1]}function va(e,t){return ba(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ba(e,t){for(var n=-1,i=+e[0],a=(e[1]-i)/t,r=[];++n<=t;)r[n]=a*n+i;return r}function ya(e){return[ss.min(e),ss.max(e)]}function xa(e,t){return e.value-t.value}function Sa(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function wa(e,t){e._pack_next=t,t._pack_prev=e}function La(e,t){var n=t.x-e.x,i=t.y-e.y,a=e.r+t.r;return.999*a*a>n*n+i*i}function Ea(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(u=n.length)){var n,i,a,r,s,o,l,u,c=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(Ma),i=n[0],i.x=-i.r,i.y=0,t(i),u>1&&(a=n[1],a.x=a.r,a.y=0,t(a),u>2))for(r=n[2],Ta(i,a,r),t(r),Sa(i,r),i._pack_prev=r,Sa(r,a),a=i._pack_next,s=3;u>s;s++){Ta(i,a,r=n[s]);var p=0,m=1,_=1;for(o=a._pack_next;o!==a;o=o._pack_next,m++)if(La(o,r)){p=1;break}if(1==p)for(l=i._pack_prev;l!==o._pack_prev&&!La(l,r);l=l._pack_prev,_++);p?(_>m||m==_&&a.r<i.r?wa(i,a=o):wa(i=l,a),s--):(Sa(i,r),a=r,t(r))}var g=(c+d)/2,v=(f+h)/2,b=0;for(s=0;u>s;s++)r=n[s],r.x-=g,r.y-=v,b=Math.max(b,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=b,n.forEach(ka)}}function Ma(e){e._pack_next=e._pack_prev=e}function ka(e){delete e._pack_next,delete e._pack_prev}function Aa(e,t,n,i){var a=e.children;if(e.x=t+=i*e.x,e.y=n+=i*e.y,e.r*=i,a)for(var r=-1,s=a.length;++r<s;)Aa(a[r],t,n,i)}function Ta(e,t,n){var i=e.r+n.r,a=t.x-e.x,r=t.y-e.y;if(i&&(a||r)){var s=t.r+n.r,o=a*a+r*r;s*=s,i*=i;var l=.5+(i-s)/(2*o),u=Math.sqrt(Math.max(0,2*s*(i+o)-(i-=o)*i-s*s))/(2*o);n.x=e.x+l*a+u*r,n.y=e.y+l*r-u*a}else n.x=e.x+i,n.y=e.y}function Ca(e,t){return e.parent==t.parent?1:2}function Da(e){var t=e.children;return t.length?t[0]:e.t}function Ra(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Oa(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Ia(e){for(var t,n=0,i=0,a=e.children,r=a.length;--r>=0;)t=a[r],t.z+=n,t.m+=n,n+=t.s+(i+=t.c)}function Fa(e,t,n){return e.a.parent===t.parent?e.a:n}function Na(e){return 1+ss.max(e,function(e){return e.y})}function Ba(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ua(e){var t=e.children;return t&&t.length?Ua(t[0]):e}function Pa(e){var t,n=e.children;return n&&(t=n.length)?Pa(n[t-1]):e}function Ya(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ha(e,t){var n=e.x+t[3],i=e.y+t[0],a=e.dx-t[1]-t[3],r=e.dy-t[0]-t[2];return 0>a&&(n+=a/2,a=0),0>r&&(i+=r/2,r=0),{x:n,y:i,dx:a,dy:r}}function Ga(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Va(e){return e.rangeExtent?e.rangeExtent():Ga(e.range())}function ja(e,t,n,i){var a=n(e[0],e[1]),r=i(t[0],t[1]);return function(e){return r(a(e))}}function za(e,t){var n,i=0,a=e.length-1,r=e[i],s=e[a];return r>s&&(n=i,i=a,a=n,n=r,r=s,s=n),e[i]=t.floor(r),e[a]=t.ceil(s),e}function $a(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:El}function qa(e,t,n,i){var a=[],r=[],s=0,o=Math.min(e.length,t.length)-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=o;)a.push(n(e[s-1],e[s])),r.push(i(t[s-1],t[s]));return function(t){var n=ss.bisect(e,t,1,o)-1;return r[n](a[n](t))}}function Wa(e,t,n,i){function a(){var a=Math.min(e.length,t.length)>2?qa:ja,l=i?Wi:qi;return s=a(e,t,l,n),o=a(t,e,l,wi),r}function r(e){return s(e)}var s,o;return r.invert=function(e){return o(e)},r.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},r.range=function(e){return arguments.length?(t=e,a()):t},r.rangeRound=function(e){return r.range(e).interpolate(Hi)},r.clamp=function(e){return arguments.length?(i=e,a()):i},r.interpolate=function(e){return arguments.length?(n=e,a()):n},r.ticks=function(t){return Za(e,t)},r.tickFormat=function(t,n){return Qa(e,t,n)},r.nice=function(t){return Ja(e,t),a()},r.copy=function(){return Wa(e,t,n,i)},a()}function Ka(e,t){return ss.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ja(e,t){return za(e,$a(Xa(e,t)[2]))}function Xa(e,t){null==t&&(t=10);var n=Ga(e),i=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),r=t/i*a;return.15>=r?a*=10:.35>=r?a*=5:.75>=r&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function Za(e,t){return ss.range.apply(ss,Xa(e,t))}function Qa(e,t,n){var i=Xa(e,t);if(n){var a=ho.exec(n);if(a.shift(),"s"===a[8]){var r=ss.formatPrefix(Math.max(vs(i[0]),vs(i[1])));return a[7]||(a[7]="."+er(r.scale(i[2]))),a[8]="f",n=ss.format(a.join("")),function(e){return n(r.scale(e))+r.symbol}}a[7]||(a[7]="."+tr(a[8],i)),n=a.join("")}else n=",."+er(i[2])+"f";return ss.format(n)}function er(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function tr(e,t){var n=er(t[2]);return e in Ml?Math.abs(n-er(Math.max(vs(t[0]),vs(t[1]))))+ +("e"!==e):n-2*("%"===e)}function nr(e,t,n,i){function a(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function r(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(a(t))}return s.invert=function(t){return r(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((i=t.map(Number)).map(a)),s):i},s.base=function(n){return arguments.length?(t=+n,e.domain(i.map(a)),s):t},s.nice=function(){var t=za(i.map(a),n?Math:Al);return e.domain(t),i=t.map(r),s},s.ticks=function(){var e=Ga(i),s=[],o=e[0],l=e[1],u=Math.floor(a(o)),c=Math.ceil(a(l)),d=t%1?2:t;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;d>f;f++)s.push(r(u)*f);s.push(r(u))}else for(s.push(r(u));u++<c;)for(var f=d-1;f>0;f--)s.push(r(u)*f);for(u=0;s[u]<o;u++);for(c=s.length;s[c-1]>l;c--);s=s.slice(u,c)}return s},s.tickFormat=function(e,t){if(!arguments.length)return kl;arguments.length<2?t=kl:"function"!=typeof t&&(t=ss.format(t));var i,o=Math.max(.1,e/s.ticks().length),l=n?(i=1e-12,Math.ceil):(i=-1e-12,Math.floor);return function(e){return e/r(l(a(e)+i))<=o?t(e):""}},s.copy=function(){return nr(e.copy(),t,n,i)},Ka(s,e)}function ir(e,t,n){function i(t){return e(a(t))}var a=ar(t),r=ar(1/t);return i.invert=function(t){return r(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(a)),i):n},i.ticks=function(e){return Za(n,e)},i.tickFormat=function(e,t){return Qa(n,e,t)},i.nice=function(e){return i.domain(Ja(n,e))},i.exponent=function(s){return arguments.length?(a=ar(t=s),r=ar(1/t),e.domain(n.map(a)),i):t},i.copy=function(){return ir(e.copy(),t,n)},Ka(i,e)}function ar(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function rr(e,t){function n(n){return r[((a.get(n)||("range"===t.t?a.set(n,e.push(n)):0/0))-1)%r.length]}function i(t,n){return ss.range(e.length).map(function(e){return t+n*e})}var a,r,s;return n.domain=function(i){if(!arguments.length)return e;e=[],a=new f;for(var r,s=-1,o=i.length;++s<o;)a.has(r=i[s])||a.set(r,e.push(r));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(r=e,s=0,t={t:"range",a:arguments},n):r},n.rangePoints=function(a,o){arguments.length<2&&(o=0);var l=a[0],u=a[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+o);return r=i(l+c*o/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(a,o){arguments.length<2&&(o=0);var l=a[0],u=a[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):0|(u-l)/(e.length-1+o);return r=i(l+Math.round(c*o/2+(u-l-(e.length-1+o)*c)/2),c),s=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(a,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=a[1]<a[0],c=a[u-0],d=a[1-u],f=(d-c)/(e.length-o+2*l);return r=i(c+f*l,f),u&&r.reverse(),s=f*(1-o),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var u=a[1]<a[0],c=a[u-0],d=a[1-u],f=Math.floor((d-c)/(e.length-o+2*l));return r=i(c+Math.round((d-c-(e.length-o)*f)/2),f),u&&r.reverse(),s=Math.round(f*(1-o)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return Ga(t.a[0])},n.copy=function(){return rr(e,t)},n.domain(e)}function sr(e,t){function n(){var n=0,r=t.length;for(a=[];++n<r;)a[n-1]=ss.quantile(e,n/r);return i}function i(e){return isNaN(e=+e)?void 0:t[ss.bisect(a,e)]}var a;return i.domain=function(t){return arguments.length?(e=t.map(s).filter(o).sort(r),n()):e},i.range=function(e){return arguments.length?(t=e,n()):t},i.quantiles=function(){return a},i.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?a[n-1]:e[0],n<a.length?a[n]:e[e.length-1]]},i.copy=function(){return sr(e,t)},n()}function or(e,t,n){function i(t){return n[Math.max(0,Math.min(s,Math.floor(r*(t-e))))]}function a(){return r=n.length/(t-e),s=n.length-1,i}var r,s;return i.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},i.range=function(e){return arguments.length?(n=e,a()):n},i.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/r+e,[t,t+1/r]},i.copy=function(){return or(e,t,n)},a()}function lr(e,t){function n(n){return n>=n?t[ss.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return lr(e,t)},n}function ur(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Za(e,t)},t.tickFormat=function(t,n){return Qa(e,t,n)},t.copy=function(){return ur(e)},t}function cr(){return 0}function dr(e){return e.innerRadius}function fr(e){return e.outerRadius}function hr(e){return e.startAngle}function pr(e){return e.endAngle}function mr(e){return e&&e.padAngle}function _r(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function gr(e,t,n,i,a){var r=e[0]-t[0],s=e[1]-t[1],o=(a?i:-i)/Math.sqrt(r*r+s*s),l=o*s,u=-o*r,c=e[0]+l,d=e[1]+u,f=t[0]+l,h=t[1]+u,p=(c+f)/2,m=(d+h)/2,_=f-c,g=h-d,v=_*_+g*g,b=n-i,y=c*h-f*d,x=(0>g?-1:1)*Math.sqrt(b*b*v-y*y),S=(y*g-_*x)/v,w=(-y*_-g*x)/v,L=(y*g+_*x)/v,E=(-y*_+g*x)/v,M=S-p,k=w-m,A=L-p,T=E-m;return M*M+k*k>A*A+T*T&&(S=L,w=E),[[S-l,w-u],[S*n/b,w*n/b]]}function vr(e){function t(t){function s(){u.push("M",r(e(c),o))}for(var l,u=[],c=[],d=-1,f=t.length,h=Ce(n),p=Ce(i);++d<f;)a.call(this,l=t[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(s(),c=[]);return c.length&&s(),u.length?u.join(""):null}var n=On,i=In,a=Ot,r=br,s=r.key,o=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?r=e:(r=Il.get(e)||br).key,t):s},t.tension=function(e){return arguments.length?(o=e,t):o},t}function br(e){return e.join("L")}function yr(e){return br(e)+"Z"}function xr(e){for(var t=0,n=e.length,i=e[0],a=[i[0],",",i[1]];++t<n;)a.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);return n>1&&a.push("H",i[0]),a.join("")}function Sr(e){for(var t=0,n=e.length,i=e[0],a=[i[0],",",i[1]];++t<n;)a.push("V",(i=e[t])[1],"H",i[0]);return a.join("")}function wr(e){for(var t=0,n=e.length,i=e[0],a=[i[0],",",i[1]];++t<n;)a.push("H",(i=e[t])[0],"V",i[1]);return a.join("")}function Lr(e,t){return e.length<4?br(e):e[1]+kr(e.slice(1,-1),Ar(e,t))}function Er(e,t){return e.length<3?br(e):e[0]+kr((e.push(e[0]),e),Ar([e[e.length-2]].concat(e,[e[1]]),t))}function Mr(e,t){return e.length<3?br(e):e[0]+kr(e,Ar(e,t))}function kr(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return br(e);var n=e.length!=t.length,i="",a=e[0],r=e[1],s=t[0],o=s,l=1;if(n&&(i+="Q"+(r[0]-2*s[0]/3)+","+(r[1]-2*s[1]/3)+","+r[0]+","+r[1],a=e[1],l=2),t.length>1){o=t[1],r=e[l],l++,i+="C"+(a[0]+s[0])+","+(a[1]+s[1])+","+(r[0]-o[0])+","+(r[1]-o[1])+","+r[0]+","+r[1];for(var u=2;u<t.length;u++,l++)r=e[l],o=t[u],i+="S"+(r[0]-o[0])+","+(r[1]-o[1])+","+r[0]+","+r[1]}if(n){var c=e[l];i+="Q"+(r[0]+2*o[0]/3)+","+(r[1]+2*o[1]/3)+","+c[0]+","+c[1]}return i}function Ar(e,t){for(var n,i=[],a=(1-t)/2,r=e[0],s=e[1],o=1,l=e.length;++o<l;)n=r,r=s,s=e[o],i.push([a*(s[0]-n[0]),a*(s[1]-n[1])]);return i}function Tr(e){if(e.length<3)return br(e);var t=1,n=e.length,i=e[0],a=i[0],r=i[1],s=[a,a,a,(i=e[1])[0]],o=[r,r,r,i[1]],l=[a,",",r,"L",Or(Bl,s),",",Or(Bl,o)];for(e.push(e[n-1]);++t<=n;)i=e[t],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),Ir(l,s,o);return e.pop(),l.push("L",i),l.join("")}function Cr(e){if(e.length<4)return br(e);for(var t,n=[],i=-1,a=e.length,r=[0],s=[0];++i<3;)t=e[i],r.push(t[0]),s.push(t[1]);for(n.push(Or(Bl,r)+","+Or(Bl,s)),--i;++i<a;)t=e[i],r.shift(),r.push(t[0]),s.shift(),s.push(t[1]),Ir(n,r,s);return n.join("")}function Dr(e){for(var t,n,i=-1,a=e.length,r=a+4,s=[],o=[];++i<4;)n=e[i%a],s.push(n[0]),o.push(n[1]);for(t=[Or(Bl,s),",",Or(Bl,o)],--i;++i<r;)n=e[i%a],s.shift(),s.push(n[0]),o.shift(),o.push(n[1]),Ir(t,s,o);return t.join("")}function Rr(e,t){var n=e.length-1;if(n)for(var i,a,r=e[0][0],s=e[0][1],o=e[n][0]-r,l=e[n][1]-s,u=-1;++u<=n;)i=e[u],a=u/n,i[0]=t*i[0]+(1-t)*(r+a*o),i[1]=t*i[1]+(1-t)*(s+a*l);return Tr(e)}function Or(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ir(e,t,n){e.push("C",Or(Fl,t),",",Or(Fl,n),",",Or(Nl,t),",",Or(Nl,n),",",Or(Bl,t),",",Or(Bl,n))}function Fr(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Nr(e){for(var t=0,n=e.length-1,i=[],a=e[0],r=e[1],s=i[0]=Fr(a,r);++t<n;)i[t]=(s+(s=Fr(a=r,r=e[t+1])))/2;return i[t]=s,i}function Br(e){for(var t,n,i,a,r=[],s=Nr(e),o=-1,l=e.length-1;++o<l;)t=Fr(e[o],e[o+1]),vs(t)<Ns?s[o]=s[o+1]=0:(n=s[o]/t,i=s[o+1]/t,a=n*n+i*i,a>9&&(a=3*t/Math.sqrt(a),s[o]=a*n,s[o+1]=a*i));for(o=-1;++o<=l;)a=(e[Math.min(l,o+1)][0]-e[Math.max(0,o-1)][0])/(6*(1+s[o]*s[o])),r.push([a||0,s[o]*a||0]);return r}function Ur(e){return e.length<3?br(e):e[0]+kr(e,Br(e))}function Pr(e){for(var t,n,i,a=-1,r=e.length;++a<r;)t=e[a],n=t[0],i=t[1]-Hs,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function Yr(e){function t(t){function l(){m.push("M",o(e(g),d),c,u(e(_.reverse()),d),"Z")}for(var f,h,p,m=[],_=[],g=[],v=-1,b=t.length,y=Ce(n),x=Ce(a),S=n===i?function(){return h}:Ce(i),w=a===r?function(){return p}:Ce(r);++v<b;)s.call(this,f=t[v],v)?(_.push([h=+y.call(this,f,v),p=+x.call(this,f,v)]),g.push([+S.call(this,f,v),+w.call(this,f,v)])):_.length&&(l(),_=[],g=[]);return _.length&&l(),m.length?m.join(""):null}var n=On,i=On,a=0,r=In,s=Ot,o=br,l=o.key,u=o,c="L",d=.7;return t.x=function(e){return arguments.length?(n=i=e,t):i},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=r=e,t):r},t.y0=function(e){return arguments.length?(a=e,t):a},t.y1=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?o=e:(o=Il.get(e)||br).key,u=o.reverse||o,c=o.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Hr(e){return e.radius}function Gr(e){return[e.x,e.y]}function Vr(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Hs;return[n*Math.cos(i),n*Math.sin(i)]}}function jr(){return 64}function zr(){return"circle"}function $r(e){var t=Math.sqrt(e/Us);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function qr(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?(delete t[t.active],t.active+=.5):delete this[e],n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wr(e,t,n){return ws(e,jl),e.namespace=t,e.id=n,e}function Kr(e,t,n,i){var a=e.id,r=e.namespace;return z(e,"function"==typeof n?function(e,s,o){e[r][a].tween.set(t,i(n.call(e,e.__data__,s,o)))}:(n=i(n),function(e){e[r][a].tween.set(t,n)}))}function Jr(e){return null==e&&(e=""),function(){this.textContent=e}}function Xr(e){return null==e?"__transition__":"__transition_"+e+"__"}function Zr(e,t,n,i,a){var r=e[n]||(e[n]={active:0,count:0}),s=r[i];if(!s){var o=a.time;s=r[i]={tween:new f,time:o,delay:a.delay,duration:a.duration,ease:a.ease,index:t},a=null,++r.count,ss.timer(function(a){function l(n){if(r.active>i)return c();var a=r[r.active];a&&(--r.count,delete r[r.active],a.event&&a.event.interrupt.call(e,e.__data__,a.index)),r.active=i,s.event&&s.event.start.call(e,e.__data__,t),s.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&m.push(i)}),f=s.ease,d=s.duration,ss.timer(function(){return p.c=u(n||1)?Ot:u,1},0,o)}function u(n){if(r.active!==i)return 1;for(var a=n/d,o=f(a),l=m.length;l>0;)m[--l].call(e,o);return a>=1?(s.event&&s.event.end.call(e,e.__data__,t),c()):void 0}function c(){return--r.count?delete r[i]:delete e[n],1}var d,f,h=s.delay,p=uo,m=[];return p.t=h+o,a>=h?l(a-h):(p.c=l,void 0)},0,o)}}function Qr(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function es(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}function ts(e){return e.toISOString()}function ns(e,t,n){function i(t){return e(t)}function a(e,n){var i=e[1]-e[0],a=i/n,r=ss.bisect(Ql,a);return r==Ql.length?[t.year,Xa(e.map(function(e){return e/31536e6}),n)[2]]:r?t[a/Ql[r-1]<Ql[r]/a?r-1:r]:[nu,Xa(e,n)[2]]}return i.invert=function(t){return is(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(is)},i.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,is(+n+1),t).length}var r=i.domain(),s=Ga(r),o=null==e?a(s,10):"number"==typeof e&&a(s,e);return o&&(e=o[0],t=o[1]),i.domain(za(r,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=is(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=is(+t+1);return t}}:e))},i.ticks=function(e,t){var n=Ga(i.domain()),r=null==e?a(n,10):"number"==typeof e?a(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],is(+n[1]+1),1>t?1:t)},i.tickFormat=function(){return n},i.copy=function(){return ns(e.copy(),t,n)},Ka(i,e)}function is(e){return new Date(e)}function as(e){return JSON.parse(e.responseText)}function rs(e){var t=us.createRange();return t.selectNode(us.body),t.createContextualFragment(e.responseText)}var ss={version:"3.5.2"};Date.now||(Date.now=function(){return+new Date});var os=[].slice,ls=function(e){return os.call(e)},us=document,cs=us.documentElement,ds=window;try{ls(cs.childNodes)[0].nodeType}catch(e){ls=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{us.createElement("div").style.setProperty("opacity",0,"")}catch(e){var fs=ds.Element.prototype,hs=fs.setAttribute,ps=fs.setAttributeNS,ms=ds.CSSStyleDeclaration.prototype,_s=ms.setProperty;fs.setAttribute=function(e,t){hs.call(this,e,t+"")},fs.setAttributeNS=function(e,t,n){ps.call(this,e,t,n+"")},ms.setProperty=function(e,t,n){_s.call(this,e,t+"",n)}}ss.ascending=r,ss.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},ss.min=function(e,t){var n,i,a=-1,r=e.length;if(1===arguments.length){for(;++a<r;)if(null!=(i=e[a])&&i>=i){n=i;break}for(;++a<r;)null!=(i=e[a])&&n>i&&(n=i)}else{for(;++a<r;)if(null!=(i=t.call(e,e[a],a))&&i>=i){n=i;break}for(;++a<r;)null!=(i=t.call(e,e[a],a))&&n>i&&(n=i)}return n},ss.max=function(e,t){var n,i,a=-1,r=e.length;if(1===arguments.length){for(;++a<r;)if(null!=(i=e[a])&&i>=i){n=i;break}for(;++a<r;)null!=(i=e[a])&&i>n&&(n=i)}else{for(;++a<r;)if(null!=(i=t.call(e,e[a],a))&&i>=i){n=i;break}for(;++a<r;)null!=(i=t.call(e,e[a],a))&&i>n&&(n=i)}return n},ss.extent=function(e,t){var n,i,a,r=-1,s=e.length;if(1===arguments.length){for(;++r<s;)if(null!=(i=e[r])&&i>=i){n=a=i;break}for(;++r<s;)null!=(i=e[r])&&(n>i&&(n=i),i>a&&(a=i))}else{for(;++r<s;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=a=i;break}for(;++r<s;)null!=(i=t.call(e,e[r],r))&&(n>i&&(n=i),i>a&&(a=i))}return[n,a]},ss.sum=function(e,t){var n,i=0,a=e.length,r=-1;if(1===arguments.length)for(;++r<a;)o(n=+e[r])&&(i+=n);else for(;++r<a;)o(n=+t.call(e,e[r],r))&&(i+=n);return i},ss.mean=function(e,t){var n,i=0,a=e.length,r=-1,l=a;if(1===arguments.length)for(;++r<a;)o(n=s(e[r]))?i+=n:--l;else for(;++r<a;)o(n=s(t.call(e,e[r],r)))?i+=n:--l;return l?i/l:void 0},ss.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),a=+e[i-1],r=n-i;return r?a+r*(e[i]-a):a},ss.median=function(e,t){var n,i=[],a=e.length,l=-1;if(1===arguments.length)for(;++l<a;)o(n=s(e[l]))&&i.push(n);else for(;++l<a;)o(n=s(t.call(e,e[l],l)))&&i.push(n);return i.length?ss.quantile(i.sort(r),.5):void 0},ss.variance=function(e,t){var n,i,a=e.length,r=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)o(n=s(e[u]))&&(i=n-r,r+=i/++c,l+=i*(n-r));else for(;++u<a;)o(n=s(t.call(e,e[u],u)))&&(i=n-r,r+=i/++c,l+=i*(n-r));return c>1?l/(c-1):void 0},ss.deviation=function(){var e=ss.variance.apply(this,arguments);return e?Math.sqrt(e):e};var gs=l(r);ss.bisectLeft=gs.left,ss.bisect=ss.bisectRight=gs.right,ss.bisector=function(e){return l(1===e.length?function(t,n){return r(e(t),n)}:e)},ss.shuffle=function(e,t,n){(r=arguments.length)<3&&(n=e.length,2>r&&(t=0));for(var i,a,r=n-t;r;)a=0|Math.random()*r--,i=e[r+t],e[r+t]=e[a+t],e[a+t]=i;return e},ss.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},ss.pairs=function(e){for(var t,n=0,i=e.length-1,a=e[0],r=new Array(0>i?0:i);i>n;)r[n]=[t=a,a=e[++n]];return r},ss.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=ss.min(arguments,u),n=new Array(t);++e<t;)for(var i,a=-1,r=n[e]=new Array(i);++a<i;)r[a]=arguments[a][e];return n},ss.transpose=function(e){return ss.zip.apply(ss,e)},ss.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ss.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ss.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ss.merge=function(e){for(var t,n,i,a=e.length,r=-1,s=0;++r<a;)s+=e[r].length;for(n=new Array(s);--a>=0;)for(i=e[a],t=i.length;--t>=0;)n[--s]=i[t];return n};var vs=Math.abs;ss.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),1/0===(t-e)/n)throw new Error("infinite range");var i,a=[],r=c(vs(n)),s=-1;if(e*=r,t*=r,n*=r,0>n)for(;(i=e+n*++s)>t;)a.push(i/r);else for(;(i=e+n*++s)<t;)a.push(i/r);return a},ss.map=function(e,t){var n=new f;if(e instanceof f)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,a=-1,r=e.length;if(1===arguments.length)for(;++a<r;)n.set(a,e[a]);else for(;++a<r;)n.set(t.call(e,i=e[a],a),i)}else for(var s in e)n.set(s,e[s]);return n};var bs="__proto__",ys="\0";d(f,{has:m,get:function(e){return this._[h(e)]},set:function(e,t){return this._[h(e)]=t},remove:_,keys:g,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:p(t),value:this._[t]});return e},size:v,empty:b,forEach:function(e){for(var t in this._)e.call(this,p(t),this._[t])}}),ss.nest=function(){function e(t,s,o){if(o>=r.length)return i?i.call(a,s):n?s.sort(n):s;for(var l,u,c,d,h=-1,p=s.length,m=r[o++],_=new f;++h<p;)(d=_.get(l=m(u=s[h])))?d.push(u):_.set(l,[u]);return t?(u=t(),c=function(n,i){u.set(n,e(t,i,o))}):(u={},c=function(n,i){u[n]=e(t,i,o)}),_.forEach(c),u}function t(e,n){if(n>=r.length)return e;var i=[],a=s[n++];return e.forEach(function(e,a){i.push({key:e,values:t(a,n)})}),a?i.sort(function(e,t){return a(e.key,t.key)}):i}var n,i,a={},r=[],s=[];return a.map=function(t,n){return e(n,t,0)},a.entries=function(n){return t(e(ss.map,n,0),0)},a.key=function(e){return r.push(e),a},a.sortKeys=function(e){return s[r.length-1]=e,a},a.sortValues=function(e){return n=e,a},a.rollup=function(e){return i=e,a},a},ss.set=function(e){var t=new y;if(e)for(var n=0,i=e.length;i>n;++n)t.add(e[n]);return t},d(y,{has:m,add:function(e){return this._[h(e+="")]=!0,e},remove:_,values:g,size:v,empty:b,forEach:function(e){for(var t in this._)e.call(this,p(t))}}),ss.behavior={},ss.rebind=function(e,t){for(var n,i=1,a=arguments.length;++i<a;)e[n=arguments[i]]=x(e,t,t[n]);return e};var xs=["webkit","ms","moz","Moz","o","O"];ss.dispatch=function(){for(var e=new L,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=E(e);return e},L.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},ss.event=null,ss.requote=function(e){return e.replace(Ss,"\\$&")};var Ss=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ws={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Ls=function(e,t){return t.querySelector(e)},Es=function(e,t){return t.querySelectorAll(e)},Ms=cs.matches||cs[S(cs,"matchesSelector")],ks=function(e,t){return Ms.call(e,t)};"function"==typeof Sizzle&&(Ls=function(e,t){return Sizzle(e,t)[0]||null},Es=Sizzle,ks=Sizzle.matchesSelector),ss.selection=function(){return Ds};var As=ss.selection.prototype=[];As.select=function(e){var t,n,i,a,r=[];e=C(e);for(var s=-1,o=this.length;++s<o;){r.push(t=[]),t.parentNode=(i=this[s]).parentNode;for(var l=-1,u=i.length;++l<u;)(a=i[l])?(t.push(n=e.call(a,a.__data__,l,s)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return T(r)},As.selectAll=function(e){var t,n,i=[];e=D(e);for(var a=-1,r=this.length;++a<r;)for(var s=this[a],o=-1,l=s.length;++o<l;)(n=s[o])&&(i.push(t=ls(e.call(n,n.__data__,o,a))),t.parentNode=n);return T(i)};var Ts={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ss.ns={prefix:Ts,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Ts.hasOwnProperty(n)?{space:Ts[n],local:e}:e}},As.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ss.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(R(t,e[t]));return this}return this.each(R(e,t))},As.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=F(e)).length,a=-1;if(t=n.classList){for(;++a<i;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<i;)if(!I(e[a]).test(t))return!1;return!0}for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},As.style=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t="");for(n in e)this.each(U(n,e[n],t));return this}if(2>i)return ds.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(U(e,t,n))},As.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},As.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},As.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},As.append=function(e){return e=Y(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},As.insert=function(e,t){return e=Y(e),t=C(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},As.remove=function(){return this.each(H)},As.data=function(e,t){function n(e,n){var i,a,r,s=e.length,c=n.length,d=Math.min(s,c),h=new Array(c),p=new Array(c),m=new Array(s);if(t){var _,g=new f,v=new Array(s);for(i=-1;++i<s;)g.has(_=t.call(a=e[i],a.__data__,i))?m[i]=a:g.set(_,a),v[i]=_;for(i=-1;++i<c;)(a=g.get(_=t.call(n,r=n[i],i)))?a!==!0&&(h[i]=a,a.__data__=r):p[i]=G(r),g.set(_,!0);for(i=-1;++i<s;)g.get(v[i])!==!0&&(m[i]=e[i])}else{for(i=-1;++i<d;)a=e[i],r=n[i],a?(a.__data__=r,h[i]=a):p[i]=G(r);for(;c>i;++i)p[i]=G(n[i]);for(;s>i;++i)m[i]=e[i]}p.update=h,p.parentNode=h.parentNode=m.parentNode=e.parentNode,o.push(p),l.push(h),u.push(m)}var i,a,r=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(i=this[0]).length);++r<s;)(a=i[r])&&(e[r]=a.__data__);return e}var o=$([]),l=T([]),u=T([]);if("function"==typeof e)for(;++r<s;)n(i=this[r],e.call(i,i.parentNode.__data__,r));else for(;++r<s;)n(i=this[r],e);return l.enter=function(){return o},l.exit=function(){return u},l},As.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},As.filter=function(e){var t,n,i,a=[];"function"!=typeof e&&(e=V(e));for(var r=0,s=this.length;s>r;r++){a.push(t=[]),t.parentNode=(n=this[r]).parentNode;for(var o=0,l=n.length;l>o;o++)(i=n[o])&&e.call(i,i.__data__,o,r)&&t.push(i)}return T(a)},As.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],a=i.length-1,r=i[a];--a>=0;)(n=i[a])&&(r&&r!==n.nextSibling&&r.parentNode.insertBefore(n,r),r=n);return this},As.sort=function(e){e=j.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},As.each=function(e){return z(this,function(t,n,i){e.call(t,t.__data__,n,i)})},As.call=function(e){var t=ls(arguments);return e.apply(t[0]=this,t),this},As.empty=function(){return!this.node()},As.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],i=0,a=n.length;a>i;i++){var r=n[i];if(r)return r}return null},As.size=function(){var e=0;return z(this,function(){++e}),e};var Cs=[];ss.selection.enter=$,ss.selection.enter.prototype=Cs,Cs.append=As.append,Cs.empty=As.empty,Cs.node=As.node,Cs.call=As.call,Cs.size=As.size,Cs.select=function(e){for(var t,n,i,a,r,s=[],o=-1,l=this.length;++o<l;){i=(a=this[o]).update,s.push(t=[]),t.parentNode=a.parentNode;for(var u=-1,c=a.length;++u<c;)(r=a[u])?(t.push(i[u]=n=e.call(a.parentNode,r.__data__,u,o)),n.__data__=r.__data__):t.push(null)}return T(s)},Cs.insert=function(e,t){return arguments.length<2&&(t=q(this)),As.insert.call(this,e,t)},ss.select=function(e){var t=["string"==typeof e?Ls(e,us):e];return t.parentNode=cs,T([t])},ss.selectAll=function(e){var t=ls("string"==typeof e?Es(e,us):e);return t.parentNode=cs,T([t])};var Ds=ss.select(cs);As.on=function(e,t,n){var i=arguments.length;if(3>i){if("string"!=typeof e){2>i&&(t=!1);for(n in e)this.each(W(n,e[n],t));return this}if(2>i)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(W(e,t,n))};var Rs=ss.map({mouseenter:"mouseover",mouseleave:"mouseout"});Rs.forEach(function(e){"on"+e in us&&Rs.remove(e)});var Os="onselectstart"in us?null:S(cs.style,"userSelect"),Is=0;ss.mouse=function(e){return Z(e,k())};var Fs=/WebKit/.test(ds.navigator.userAgent)?-1:0;ss.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=k().changedTouches),t)for(var i,a=0,r=t.length;r>a;++a)if((i=t[a]).identifier===n)return Z(e,i)},ss.behavior.drag=function(){function e(){this.on("mousedown.drag",a).on("touchstart.drag",r)}function t(e,t,a,r,s){return function(){function o(){var e,n,i=t(f,m);i&&(e=i[0]-b[0],n=i[1]-b[1],p|=e|n,b=i,h({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:e,dy:n}))}function l(){t(f,m)&&(g.on(r+_,null).on(s+_,null),v(p&&ss.event.target===d),h({type:"dragend"}))}var u,c=this,d=ss.event.target,f=c.parentNode,h=n.of(c,arguments),p=0,m=e(),_=".drag"+(null==m?"":"-"+m),g=ss.select(a()).on(r+_,o).on(s+_,l),v=X(),b=t(f,m);i?(u=i.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],h({type:"dragstart"})}}var n=A(e,"drag","dragstart","dragend"),i=null,a=t(w,ss.mouse,te,"mousemove","mouseup"),r=t(Q,ss.touch,ee,"touchmove","touchend");return e.origin=function(t){return arguments.length?(i=t,e):i},ss.rebind(e,n,"on")},ss.touches=function(e,t){return arguments.length<2&&(t=k().touches),t?ls(t).map(function(t){var n=Z(e,t);return n.identifier=t.identifier,n}):[]};var Ns=1e-6,Bs=Ns*Ns,Us=Math.PI,Ps=2*Us,Ys=Ps-Ns,Hs=Us/2,Gs=Us/180,Vs=180/Us,js=Math.SQRT2,zs=2,$s=4;ss.interpolateZoom=function(e,t){function n(e){var t=e*v;if(g){var n=oe(m),s=r/(zs*f)*(n*le(js*t+m)-se(m));return[i+s*u,a+s*c,r*n/oe(js*t+m)]}return[i+e*u,a+e*c,r*Math.exp(js*t)]}var i=e[0],a=e[1],r=e[2],s=t[0],o=t[1],l=t[2],u=s-i,c=o-a,d=u*u+c*c,f=Math.sqrt(d),h=(l*l-r*r+$s*d)/(2*r*zs*f),p=(l*l-r*r-$s*d)/(2*l*zs*f),m=Math.log(Math.sqrt(h*h+1)-h),_=Math.log(Math.sqrt(p*p+1)-p),g=_-m,v=(g||Math.log(l/r))/js;return n.duration=1e3*v,n},ss.behavior.zoom=function(){function e(e){e.on(C,c).on(Ks+".zoom",f).on("dblclick.zoom",h).on(O,d)}function t(e){return[(e[0]-w.x)/w.k,(e[1]-w.y)/w.k]}function n(e){return[e[0]*w.k+w.x,e[1]*w.k+w.y]}function i(e){w.k=Math.max(E[0],Math.min(E[1],e))}function a(e,t){t=n(t),w.x+=e[0]-t[0],w.y+=e[1]-t[1]}function r(t,n,r,s){t.__chart__={x:w.x,y:w.y,k:w.k},i(Math.pow(2,s)),a(m=n,r),t=ss.select(t),k>0&&(t=t.transition().duration(k)),t.call(e.event)}function s(){y&&y.domain(b.range().map(function(e){return(e-w.x)/w.k}).map(b.invert)),S&&S.domain(x.range().map(function(e){return(e-w.y)/w.k}).map(x.invert))}function o(e){T++||e({type:"zoomstart"})}function l(e){s(),e({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function u(e){--T||e({type:"zoomend"}),m=null}function c(){function e(){c=1,a(ss.mouse(i),f),l(s)}function n(){d.on(D,null).on(R,null),h(c&&ss.event.target===r),u(s)}var i=this,r=ss.event.target,s=I.of(i,arguments),c=0,d=ss.select(ds).on(D,e).on(R,n),f=t(ss.mouse(i)),h=X();Vl.call(i),o(s)}function d(){function e(){var e=ss.touches(p);return h=w.k,e.forEach(function(e){e.identifier in _&&(_[e.identifier]=t(e))}),e}function n(){var t=ss.event.target;ss.select(t).on(y,s).on(x,f),S.push(t);for(var n=ss.event.changedTouches,i=0,a=n.length;a>i;++i)_[n[i].identifier]=null;var o=e(),l=Date.now();if(1===o.length){if(500>l-v){var u=o[0];r(p,u,_[u.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),M()}v=l}else if(o.length>1){var u=o[0],c=o[1],d=u[0]-c[0],h=u[1]-c[1];g=d*d+h*h}}function s(){var e,t,n,r,s=ss.touches(p);Vl.call(p);for(var o=0,u=s.length;u>o;++o,r=null)if(n=s[o],r=_[n.identifier]){if(t)break;e=n,t=r}if(r){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,d=g&&Math.sqrt(c/g);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(d*h)}v=null,a(e,t),l(m)}function f(){if(ss.event.touches.length){for(var t=ss.event.changedTouches,n=0,i=t.length;i>n;++n)delete _[t[n].identifier];for(var a in _)return void e()}ss.selectAll(S).on(b,null),L.on(C,c).on(O,d),E(),u(m)}var h,p=this,m=I.of(p,arguments),_={},g=0,b=".zoom-"+ss.event.changedTouches[0].identifier,y="touchmove"+b,x="touchend"+b,S=[],L=ss.select(p),E=X();n(),o(m),L.on(C,null).on(O,n)}function f(){var e=I.of(this,arguments);g?clearTimeout(g):(p=t(m=_||ss.mouse(this)),Vl.call(this),o(e)),g=setTimeout(function(){g=null,u(e)},50),M(),i(Math.pow(2,.002*qs())*w.k),a(m,p),l(e)}function h(){var e=ss.mouse(this),n=Math.log(w.k)/Math.LN2;r(this,e,t(e),ss.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,m,_,g,v,b,y,x,S,w={x:0,y:0,k:1},L=[960,500],E=Ws,k=250,T=0,C="mousedown.zoom",D="mousemove.zoom",R="mouseup.zoom",O="touchstart.zoom",I=A(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=I.of(this,arguments),t=w;Hl?ss.select(this).transition().each("start.zoom",function(){w=this.__chart__||{x:0,y:0,k:1},o(e)}).tween("zoom:zoom",function(){var n=L[0],i=L[1],a=m?m[0]:n/2,r=m?m[1]:i/2,s=ss.interpolateZoom([(a-w.x)/w.k,(r-w.y)/w.k,n/w.k],[(a-t.x)/t.k,(r-t.y)/t.k,n/t.k]);return function(t){var i=s(t),o=n/i[2];this.__chart__=w={x:a-i[0]*o,y:r-i[1]*o,k:o},l(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=w,o(e),l(e),u(e))})},e.translate=function(t){return arguments.length?(w={x:+t[0],y:+t[1],k:w.k},s(),e):[w.x,w.y]},e.scale=function(t){return arguments.length?(w={x:w.x,y:w.y,k:+t},s(),e):w.k},e.scaleExtent=function(t){return arguments.length?(E=null==t?Ws:[+t[0],+t[1]],e):E},e.center=function(t){return arguments.length?(_=t&&[+t[0],+t[1]],e):_},e.size=function(t){return arguments.length?(L=t&&[+t[0],+t[1]],e):L},e.duration=function(t){return arguments.length?(k=+t,e):k},e.x=function(t){return arguments.length?(y=t,b=t.copy(),w={x:0,y:0,k:1},e):y},e.y=function(t){return arguments.length?(S=t,x=t.copy(),w={x:0,y:0,k:1},e):S},ss.rebind(e,I,"on")};var qs,Ws=[0,1/0],Ks="onwheel"in us?(qs=function(){return-ss.event.deltaY*(ss.event.deltaMode?120:1)},"wheel"):"onmousewheel"in us?(qs=function(){return ss.event.wheelDelta},"mousewheel"):(qs=function(){return-ss.event.detail},"MozMousePixelScroll");ss.color=ce,ce.prototype.toString=function(){return this.rgb()+""},ss.hsl=de;var Js=de.prototype=new ce;Js.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new de(this.h,this.s,this.l/e)},Js.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new de(this.h,this.s,e*this.l)},Js.rgb=function(){return fe(this.h,this.s,this.l)},ss.hcl=he;var Xs=he.prototype=new ce;Xs.brighter=function(e){return new he(this.h,this.c,Math.min(100,this.l+Zs*(arguments.length?e:1)))},Xs.darker=function(e){return new he(this.h,this.c,Math.max(0,this.l-Zs*(arguments.length?e:1)))},Xs.rgb=function(){return pe(this.h,this.c,this.l).rgb()},ss.lab=me;var Zs=18,Qs=.95047,eo=1,to=1.08883,no=me.prototype=new ce;no.brighter=function(e){return new me(Math.min(100,this.l+Zs*(arguments.length?e:1)),this.a,this.b)},no.darker=function(e){return new me(Math.max(0,this.l-Zs*(arguments.length?e:1)),this.a,this.b)},no.rgb=function(){return _e(this.l,this.a,this.b)},ss.rgb=xe;var io=xe.prototype=new ce;io.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,a=30;return t||n||i?(t&&a>t&&(t=a),n&&a>n&&(n=a),i&&a>i&&(i=a),new xe(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new xe(a,a,a)},io.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new xe(e*this.r,e*this.g,e*this.b)},io.hsl=function(){return Me(this.r,this.g,this.b)},io.toString=function(){return"#"+Le(this.r)+Le(this.g)+Le(this.b)};var ao=ss.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ao.forEach(function(e,t){ao.set(e,Se(t))}),ss.functor=Ce,ss.xhr=Re(De),ss.dsv=function(e,t){function n(e,n,r){arguments.length<3&&(r=n,n=null);var s=Oe(e,t,null==n?i:a(n),r);return s.row=function(e){return arguments.length?s.response(null==(n=e)?i:a(e)):n},s}function i(e){return n.parse(e.responseText)}function a(e){return function(t){return n.parse(t.responseText,e)}}function r(t){return t.map(s).join(e)}function s(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var o=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var i;return n.parseRows(e,function(e,n){if(i)return i(e,n-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");i=t?function(e,n){return t(a(e),n)}:a})},n.parseRows=function(e,t){function n(){if(c>=u)return s;if(a)return a=!1,r;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var i=e.charCodeAt(n+1);return 13===i?(a=!0,10===e.charCodeAt(n+2)&&++c):10===i&&(a=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u>c;){var i=e.charCodeAt(c++),o=1;if(10===i)a=!0;else if(13===i)a=!0,10===e.charCodeAt(c)&&(++c,++o);else if(i!==l)continue;return e.slice(t,c-o)}return e.slice(t)}for(var i,a,r={},s={},o=[],u=e.length,c=0,d=0;(i=n())!==s;){for(var f=[];i!==r&&i!==s;)f.push(i),i=n();t&&null==(f=t(f,d++))||o.push(f)}return o},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var i=new y,a=[];return t.forEach(function(e){for(var t in e)i.has(t)||a.push(i.add(t))}),[a.map(s).join(e)].concat(t.map(function(t){return a.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(r).join("\n")},n},ss.csv=ss.dsv(",","text/csv"),ss.tsv=ss.dsv("\t","text/tab-separated-values");var ro,so,oo,lo,uo,co=ds[S(ds,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ss.timer=function(e,t,n){var i=arguments.length;2>i&&(t=0),3>i&&(n=Date.now());var a=n+t,r={c:e,t:a,f:!1,n:null};so?so.n=r:ro=r,so=r,oo||(lo=clearTimeout(lo),oo=1,co(Ne))},ss.timer.flush=function(){Be(),Ue()},ss.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var fo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ye);ss.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=ss.round(e,Pe(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),fo[8+n/3]};var ho=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,po=ss.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ss.round(e,Pe(e,t))).toFixed(Math.max(0,Math.min(20,Pe(e*(1+1e-15),t))))}}),mo=ss.time={},_o=Date;Ve.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){go.setUTCDate.apply(this._,arguments)},setDay:function(){go.setUTCDay.apply(this._,arguments)},setFullYear:function(){go.setUTCFullYear.apply(this._,arguments)},setHours:function(){go.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){go.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){go.setUTCMinutes.apply(this._,arguments)},setMonth:function(){go.setUTCMonth.apply(this._,arguments)},setSeconds:function(){go.setUTCSeconds.apply(this._,arguments)},setTime:function(){go.setTime.apply(this._,arguments)}};var go=Date.prototype;mo.year=je(function(e){return e=mo.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),mo.years=mo.year.range,mo.years.utc=mo.year.utc.range,mo.day=je(function(e){var t=new _o(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),mo.days=mo.day.range,mo.days.utc=mo.day.utc.range,mo.dayOfYear=function(e){var t=mo.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=mo[e]=je(function(e){return(e=mo.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=mo.year(e).getDay();return Math.floor((mo.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});mo[e+"s"]=n.range,mo[e+"s"].utc=n.utc.range,mo[e+"OfYear"]=function(e){var n=mo.year(e).getDay();return Math.floor((mo.dayOfYear(e)+(n+t)%7)/7)}}),mo.week=mo.sunday,mo.weeks=mo.sunday.range,mo.weeks.utc=mo.sunday.utc.range,mo.weekOfYear=mo.sundayOfYear;var vo={"-":"",_:" ",0:"0"},bo=/^\s*\d+/,yo=/^%/;ss.locale=function(e){return{numberFormat:He(e),timeFormat:$e(e)}};var xo=ss.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ss.format=xo.numberFormat,ss.geo={},ht.prototype={s:0,t:0,add:function(e){pt(e,this.t,So),pt(So.s,this.s,this),this.s?this.t+=So.t:this.s=So.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var So=new ht;ss.geo.stream=function(e,t){e&&wo.hasOwnProperty(e.type)?wo[e.type](e,t):mt(e,t)};var wo={Feature:function(e,t){mt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,a=n.length;++i<a;)mt(n[i].geometry,t)}},Lo={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,a=n.length;++i<a;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){_t(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,a=n.length;++i<a;)_t(n[i],t,0)},Polygon:function(e,t){gt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,a=n.length;++i<a;)gt(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,a=n.length;++i<a;)mt(n[i],t)}};ss.geo.area=function(e){return Eo=0,ss.geo.stream(e,ko),Eo};var Eo,Mo=new ht,ko={sphere:function(){Eo+=4*Us},point:w,lineStart:w,lineEnd:w,polygonStart:function(){Mo.reset(),ko.lineStart=vt},polygonEnd:function(){var e=2*Mo;Eo+=0>e?4*Us+e:e,ko.lineStart=ko.lineEnd=ko.point=w}};ss.geo.bounds=function(){function e(e,t){b.push(y=[c=e,f=e]),d>t&&(d=t),t>h&&(h=t)}function t(t,n){var i=bt([t*Gs,n*Gs]);if(g){var a=xt(g,i),r=[a[1],-a[0],0],s=xt(r,a);Lt(s),s=Et(s);var l=t-p,u=l>0?1:-1,m=s[0]*Vs*u,_=vs(l)>180;if(_^(m>u*p&&u*t>m)){var v=s[1]*Vs;v>h&&(h=v)}else if(m=(m+360)%360-180,_^(m>u*p&&u*t>m)){var v=-s[1]*Vs;d>v&&(d=v)}else d>n&&(d=n),n>h&&(h=n);_?p>t?o(c,t)>o(c,f)&&(f=t):o(t,f)>o(c,f)&&(c=t):f>=c?(c>t&&(c=t),t>f&&(f=t)):t>p?o(c,t)>o(c,f)&&(f=t):o(t,f)>o(c,f)&&(c=t)}else e(t,n);g=i,p=t}function n(){x.point=t}function i(){y[0]=c,y[1]=f,x.point=e,g=null}function a(e,n){if(g){var i=e-p;v+=vs(i)>180?i+(i>0?360:-360):i}else m=e,_=n;ko.point(e,n),t(e,n)}function r(){ko.lineStart()}function s(){a(m,_),ko.lineEnd(),vs(v)>Ns&&(c=-(f=180)),y[0]=c,y[1]=f,g=null}function o(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,d,f,h,p,m,_,g,v,b,y,x={point:e,lineStart:n,lineEnd:i,polygonStart:function(){x.point=a,x.lineStart=r,x.lineEnd=s,v=0,ko.polygonStart()},polygonEnd:function(){ko.polygonEnd(),x.point=e,x.lineStart=n,x.lineEnd=i,0>Mo?(c=-(f=180),d=-(h=90)):v>Ns?h=90:-Ns>v&&(d=-90),y[0]=c,y[1]=f}};return function(e){h=f=-(c=d=1/0),b=[],ss.geo.stream(e,x);var t=b.length;if(t){b.sort(l);for(var n,i=1,a=b[0],r=[a];t>i;++i)n=b[i],u(n[0],a)||u(n[1],a)?(o(a[0],n[1])>o(a[0],a[1])&&(a[1]=n[1]),o(n[0],a[1])>o(a[0],a[1])&&(a[0]=n[0])):r.push(a=n);for(var s,n,p=-1/0,t=r.length-1,i=0,a=r[t];t>=i;a=n,++i)n=r[i],(s=o(a[1],n[0]))>p&&(p=s,c=n[0],f=a[1])}return b=y=null,1/0===c||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[c,d],[f,h]]}}(),ss.geo.centroid=function(e){Ao=To=Co=Do=Ro=Oo=Io=Fo=No=Bo=Uo=0,ss.geo.stream(e,Po);var t=No,n=Bo,i=Uo,a=t*t+n*n+i*i;return Bs>a&&(t=Oo,n=Io,i=Fo,Ns>To&&(t=Co,n=Do,i=Ro),a=t*t+n*n+i*i,Bs>a)?[0/0,0/0]:[Math.atan2(n,t)*Vs,re(i/Math.sqrt(a))*Vs]};var Ao,To,Co,Do,Ro,Oo,Io,Fo,No,Bo,Uo,Po={sphere:w,point:kt,lineStart:Tt,lineEnd:Ct,polygonStart:function(){Po.lineStart=Dt},polygonEnd:function(){Po.lineStart=Tt}},Yo=Bt(Ot,Ht,Vt,[-Us,-Us/2]),Ho=1e9;ss.geo.clipExtent=function(){var e,t,n,i,a,r,s={stream:function(e){return a&&(a.valid=!1),a=r(e),a.valid=!0,a},extent:function(o){return arguments.length?(r=qt(e=+o[0][0],t=+o[0][1],n=+o[1][0],i=+o[1][1]),a&&(a.valid=!1,a=null),s):[[e,t],[n,i]]}};return s.extent([[0,0],[960,500]])},(ss.geo.conicEqualArea=function(){return Wt(Kt)}).raw=Kt,ss.geo.albers=function(){return ss.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ss.geo.albersUsa=function(){function e(e){var r=e[0],s=e[1];return t=null,n(r,s),t||(i(r,s),t)||a(r,s),t}var t,n,i,a,r=ss.geo.albers(),s=ss.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=ss.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&.234>a&&i>=-.425&&-.214>i?s:a>=.166&&.234>a&&i>=-.214&&-.115>i?o:r).invert(e)},e.stream=function(e){var t=r.stream(e),n=s.stream(e),i=o.stream(e);return{point:function(e,a){t.point(e,a),n.point(e,a),i.point(e,a)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},e.precision=function(t){return arguments.length?(r.precision(t),s.precision(t),o.precision(t),e):r.precision()},e.scale=function(t){return arguments.length?(r.scale(t),s.scale(.35*t),o.scale(t),e.translate(r.translate())):r.scale()},e.translate=function(t){if(!arguments.length)return r.translate();var u=r.scale(),c=+t[0],d=+t[1];return n=r.translate(t).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,i=s.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Ns,d+.12*u+Ns],[c-.214*u-Ns,d+.234*u-Ns]]).stream(l).point,a=o.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Ns,d+.166*u+Ns],[c-.115*u-Ns,d+.234*u-Ns]]).stream(l).point,e},e.scale(1070)};var Go,Vo,jo,zo,$o,qo,Wo={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Vo=0,Wo.lineStart=Jt},polygonEnd:function(){Wo.lineStart=Wo.lineEnd=Wo.point=w,Go+=vs(Vo/2)}},Ko={point:Xt,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Jo={point:en,lineStart:tn,lineEnd:nn,polygonStart:function(){Jo.lineStart=an},polygonEnd:function(){Jo.point=en,Jo.lineStart=tn,Jo.lineEnd=nn}};ss.geo.path=function(){function e(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),s&&s.valid||(s=a(r)),ss.geo.stream(e,s)),r.result()}function t(){return s=null,e}var n,i,a,r,s,o=4.5;return e.area=function(e){return Go=0,ss.geo.stream(e,a(Wo)),Go},e.centroid=function(e){return Co=Do=Ro=Oo=Io=Fo=No=Bo=Uo=0,ss.geo.stream(e,a(Jo)),Uo?[No/Uo,Bo/Uo]:Fo?[Oo/Fo,Io/Fo]:Ro?[Co/Ro,Do/Ro]:[0/0,0/0]},e.bounds=function(e){return $o=qo=-(jo=zo=1/0),ss.geo.stream(e,a(Ko)),[[jo,zo],[$o,qo]]},e.projection=function(e){return arguments.length?(a=(n=e)?e.stream||on(e):De,t()):n},e.context=function(e){return arguments.length?(r=null==(i=e)?new Zt:new rn(e),"function"!=typeof o&&r.pointRadius(o),t()):i},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),e):o},e.projection(ss.geo.albersUsa()).context(null)},ss.geo.transform=function(e){return{stream:function(t){var n=new ln(t);for(var i in e)n[i]=e[i];return n}}},ln.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ss.geo.projection=cn,ss.geo.projectionMutator=dn,(ss.geo.equirectangular=function(){return cn(hn)}).raw=hn.invert=hn,ss.geo.rotation=function(e){function t(t){return t=e(t[0]*Gs,t[1]*Gs),t[0]*=Vs,t[1]*=Vs,t}return e=mn(e[0]%360*Gs,e[1]*Gs,e.length>2?e[2]*Gs:0),t.invert=function(t){return t=e.invert(t[0]*Gs,t[1]*Gs),t[0]*=Vs,t[1]*=Vs,t},t},pn.invert=hn,ss.geo.circle=function(){function e(){var e="function"==typeof i?i.apply(this,arguments):i,t=mn(-e[0]*Gs,-e[1]*Gs,0).invert,a=[];return n(null,null,1,{point:function(e,n){a.push(e=t(e,n)),e[0]*=Vs,e[1]*=Vs}}),{type:"Polygon",coordinates:[a]}}var t,n,i=[0,0],a=6;return e.origin=function(t){return arguments.length?(i=t,e):i},e.angle=function(i){return arguments.length?(n=bn((t=+i)*Gs,a*Gs),e):t},e.precision=function(i){return arguments.length?(n=bn(t*Gs,(a=+i)*Gs),e):a},e.angle(90)},ss.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Gs,a=e[1]*Gs,r=t[1]*Gs,s=Math.sin(i),o=Math.cos(i),l=Math.sin(a),u=Math.cos(a),c=Math.sin(r),d=Math.cos(r);return Math.atan2(Math.sqrt((n=d*s)*n+(n=u*c-l*d*o)*n),l*c+u*d*o)},ss.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ss.range(Math.ceil(r/_)*_,a,_).map(f).concat(ss.range(Math.ceil(u/g)*g,l,g).map(h)).concat(ss.range(Math.ceil(i/p)*p,n,p).filter(function(e){return vs(e%_)>Ns}).map(c)).concat(ss.range(Math.ceil(o/m)*m,s,m).filter(function(e){return vs(e%g)>Ns}).map(d))}var n,i,a,r,s,o,l,u,c,d,f,h,p=10,m=p,_=90,g=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(l).slice(1),f(a).reverse().slice(1),h(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(r=+t[0][0],a=+t[1][0],u=+t[0][1],l=+t[1][1],r>a&&(t=r,r=a,a=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[r,u],[a,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],o=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),o>s&&(t=o,o=s,s=t),e.precision(v)):[[i,o],[n,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(_=+t[0],g=+t[1],e):[_,g]},e.minorStep=function(t){return arguments.length?(p=+t[0],m=+t[1],e):[p,m]},e.precision=function(t){return arguments.length?(v=+t,c=xn(o,s,90),d=Sn(i,n,v),f=xn(u,l,90),h=Sn(r,a,v),e):v},e.majorExtent([[-180,-90+Ns],[180,90-Ns]]).minorExtent([[-180,-80-Ns],[180,80+Ns]])},ss.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||a.apply(this,arguments)]}}var t,n,i=wn,a=Ln;return e.distance=function(){return ss.geo.distance(t||i.apply(this,arguments),n||a.apply(this,arguments))},e.source=function(n){return arguments.length?(i=n,t="function"==typeof n?null:n,e):i},e.target=function(t){return arguments.length?(a=t,n="function"==typeof t?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},ss.geo.interpolate=function(e,t){return En(e[0]*Gs,e[1]*Gs,t[0]*Gs,t[1]*Gs)},ss.geo.length=function(e){return Xo=0,ss.geo.stream(e,Zo),Xo};var Xo,Zo={sphere:w,point:w,lineStart:Mn,lineEnd:w,polygonStart:w,polygonEnd:w},Qo=kn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ss.geo.azimuthalEqualArea=function(){return cn(Qo)}).raw=Qo;var el=kn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},De);(ss.geo.azimuthalEquidistant=function(){return cn(el)}).raw=el,(ss.geo.conicConformal=function(){return Wt(An)}).raw=An,(ss.geo.conicEquidistant=function(){return Wt(Tn)}).raw=Tn;var tl=kn(function(e){return 1/e},Math.atan);(ss.geo.gnomonic=function(){return cn(tl)}).raw=tl,Cn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Hs]},(ss.geo.mercator=function(){return Dn(Cn)}).raw=Cn;var nl=kn(function(){return 1},Math.asin);(ss.geo.orthographic=function(){return cn(nl)}).raw=nl;var il=kn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ss.geo.stereographic=function(){return cn(il)}).raw=il,Rn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Hs]},(ss.geo.transverseMercator=function(){var e=Dn(Rn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Rn,ss.geom={},ss.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,a=Ce(n),r=Ce(i),s=e.length,o=[],l=[];for(t=0;s>t;t++)o.push([+a.call(this,e[t],t),+r.call(this,e[t],t),t]);for(o.sort(Nn),t=0;s>t;t++)l.push([o[t][0],-o[t][1]]);var u=Fn(o),c=Fn(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(t=u.length-1;t>=0;--t)h.push(e[o[u[t]][2]]);for(t=+d;t<c.length-f;++t)h.push(e[o[c[t]][2]]);return h}var n=On,i=In;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(i=e,t):i},t)},ss.geom.polygon=function(e){return ws(e,al),e};var al=ss.geom.polygon.prototype=[];al.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],a=0;++t<n;)e=i,i=this[t],a+=e[1]*i[0]-e[0]*i[1];return.5*a},al.centroid=function(e){var t,n,i=-1,a=this.length,r=0,s=0,o=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++i<a;)t=o,o=this[i],n=t[0]*o[1]-o[0]*t[1],r+=(t[0]+o[0])*n,s+=(t[1]+o[1])*n;return[r*e,s*e]},al.clip=function(e){for(var t,n,i,a,r,s,o=Pn(e),l=-1,u=this.length-Pn(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,a=this[l],r=t[(i=t.length-o)-1],n=-1;++n<i;)s=t[n],Bn(s,c,a)?(Bn(r,c,a)||e.push(Un(r,s,c,a)),e.push(s)):Bn(r,c,a)&&e.push(Un(r,s,c,a)),r=s;o&&e.push(e[0]),c=a}return e};var rl,sl,ol,ll,ul,cl=[],dl=[];qn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kn),t.length},ri.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},si.prototype={insert:function(e,t){var n,i,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ci(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)i=n.U,n===i.L?(a=i.R,a&&a.C?(n.C=a.C=!1,i.C=!0,e=i):(e===n.R&&(li(this,n),e=n,n=e.U),n.C=!1,i.C=!0,ui(this,i))):(a=i.L,a&&a.C?(n.C=a.C=!1,i.C=!0,e=i):(e===n.L&&(ui(this,n),e=n,n=e.U),n.C=!1,i.C=!0,li(this,i))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,a=e.U,r=e.L,s=e.R;if(n=r?s?ci(s):r:s,a?a.L===e?a.L=n:a.R=n:this._=n,r&&s?(i=n.C,n.C=e.C,n.L=r,r.U=n,n!==s?(a=n.U,n.U=e.U,e=n.R,a.L=e,n.R=s,s.U=n):(n.U=a,a=n,e=n.R)):(i=e.C,e=n),e&&(e.U=a),!i){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===a.L){if(t=a.R,t.C&&(t.C=!1,a.C=!0,li(this,a),t=a.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ui(this,t),t=a.R),t.C=a.C,a.C=t.R.C=!1,li(this,a),e=this._;break}}else if(t=a.L,t.C&&(t.C=!1,a.C=!0,ui(this,a),t=a.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,li(this,t),t=a.L),t.C=a.C,a.C=t.L.C=!1,ui(this,a),e=this._;break}t.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},ss.geom.voronoi=function(e){function t(e){var t=new Array(e.length),i=o[0][0],a=o[0][1],r=o[1][0],s=o[1][1];return di(n(e),o).cells.forEach(function(n,o){var l=n.edges,u=n.site,c=t[o]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=i&&u.x<=r&&u.y>=a&&u.y<=s?[[i,s],[r,s],[r,a],[i,a]]:[];c.point=e[o]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/Ns)*Ns,y:Math.round(s(e,t)/Ns)*Ns,i:t}})}var i=On,a=In,r=i,s=a,o=fl;return e?t(e):(t.links=function(e){return di(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return di(n(e)).cells.forEach(function(n,i){for(var a,r,s=n.site,o=n.edges.sort(Kn),l=-1,u=o.length,c=o[u-1].edge,d=c.l===s?c.r:c.l;++l<u;)a=c,r=d,c=o[l].edge,d=c.l===s?c.r:c.l,i<r.i&&i<d.i&&hi(s,r,d)<0&&t.push([e[i],e[r.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(r=Ce(i=e),t):i},t.y=function(e){return arguments.length?(s=Ce(a=e),t):a},t.clipExtent=function(e){return arguments.length?(o=null==e?fl:e,t):o===fl?null:o},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):o===fl?null:o&&o[1]},t)};var fl=[[-1e6,-1e6],[1e6,1e6]];ss.geom.delaunay=function(e){return ss.geom.voronoi().triangles(e)},ss.geom.quadtree=function(e,t,n,i,a){function r(e){function r(e,t,n,i,a,r,s,o){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(vs(l-n)+vs(c-i)<.01)u(e,t,n,i,a,r,s,o);else{var d=e.point;e.x=e.y=e.point=null,u(e,d,l,c,a,r,s,o),u(e,t,n,i,a,r,s,o)}else e.x=n,e.y=i,e.point=t}else u(e,t,n,i,a,r,s,o)}function u(e,t,n,i,a,s,o,l){var u=.5*(a+o),c=.5*(s+l),d=n>=u,f=i>=c,h=f<<1|d;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=_i()),d?a=u:o=u,f?s=c:l=c,r(e,t,n,i,a,s,o,l)}var c,d,f,h,p,m,_,g,v,b=Ce(o),y=Ce(l);if(null!=t)m=t,_=n,g=i,v=a;else if(g=v=-(m=_=1/0),d=[],f=[],p=e.length,s)for(h=0;p>h;++h)c=e[h],c.x<m&&(m=c.x),c.y<_&&(_=c.y),c.x>g&&(g=c.x),c.y>v&&(v=c.y),d.push(c.x),f.push(c.y);else for(h=0;p>h;++h){var x=+b(c=e[h],h),S=+y(c,h);m>x&&(m=x),_>S&&(_=S),x>g&&(g=x),S>v&&(v=S),d.push(x),f.push(S)}var w=g-m,L=v-_;w>L?v=_+w:g=m+L;var E=_i();if(E.add=function(e){r(E,e,+b(e,++h),+y(e,h),m,_,g,v)},E.visit=function(e){gi(e,E,m,_,g,v)},E.find=function(e){return vi(E,e[0],e[1],m,_,g,v)},h=-1,null==t){for(;++h<p;)r(E,e[h],d[h],f[h],m,_,g,v);--h}else e.forEach(E.add);return d=f=e=c=null,E}var s,o=On,l=In;return(s=arguments.length)?(o=pi,l=mi,3===s&&(a=n,i=t,n=t=0),r(e)):(r.x=function(e){return arguments.length?(o=e,r):o},r.y=function(e){return arguments.length?(l=e,r):l},r.extent=function(e){return arguments.length?(null==e?t=n=i=a=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],a=+e[1][1]),r):null==t?null:[[t,n],[i,a]]},r.size=function(e){return arguments.length?(null==e?t=n=i=a=null:(t=n=0,i=+e[0],a=+e[1]),r):null==t?null:[i-t,a-n]},r)},ss.interpolateRgb=bi,ss.interpolateObject=yi,ss.interpolateNumber=xi,ss.interpolateString=Si;var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pl=new RegExp(hl.source,"g");ss.interpolate=wi,ss.interpolators=[function(e,t){var n=typeof t;return("string"===n?ao.has(t)||/^(#|rgb\(|hsl\()/.test(t)?bi:Si:t instanceof ce?bi:Array.isArray(t)?Li:"object"===n&&isNaN(t)?yi:xi)(e,t)}],ss.interpolateArray=Li;var ml=function(){return De},_l=ss.map({linear:ml,poly:Di,quad:function(){return Ai},cubic:function(){return Ti},sin:function(){return Ri},exp:function(){return Oi},circle:function(){return Ii},elastic:Fi,back:Ni,bounce:function(){return Bi}}),gl=ss.map({in:De,out:Mi,"in-out":ki,"out-in":function(e){return ki(Mi(e))}});ss.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=_l.get(n)||ml,i=gl.get(i)||De,Ei(i(n.apply(null,os.call(arguments,1))))},ss.interpolateHcl=Ui,ss.interpolateHsl=Pi,ss.interpolateLab=Yi,ss.interpolateRound=Hi,ss.transform=function(e){var t=us.createElementNS(ss.ns.prefix.svg,"g");return(ss.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Gi(n?n.matrix:vl)})(e)},Gi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};ss.interpolateTransform=$i,ss.layout={},ss.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(Ki(e[n]));return t}},ss.layout.chord=function(){function e(){var e,u,d,f,h,p={},m=[],_=ss.range(r),g=[];for(n=[],i=[],e=0,f=-1;++f<r;){for(u=0,h=-1;++h<r;)u+=a[f][h];m.push(u),g.push(ss.range(r)),e+=u}for(s&&_.sort(function(e,t){return s(m[e],m[t])}),o&&g.forEach(function(e,t){e.sort(function(e,n){return o(a[t][e],a[t][n])})}),e=(Ps-c*r)/e,u=0,f=-1;++f<r;){for(d=u,h=-1;++h<r;){var v=_[f],b=g[v][h],y=a[v][b],x=u,S=u+=y*e;p[v+"-"+b]={index:v,subindex:b,startAngle:x,endAngle:S,value:y}}i[v]={index:v,startAngle:d,endAngle:u,value:(u-d)/e},u+=c}for(f=-1;++f<r;)for(h=f-1;++h<r;){var w=p[f+"-"+h],L=p[h+"-"+f];(w.value||L.value)&&n.push(w.value<L.value?{source:L,target:w}:{source:w,target:L})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,i,a,r,s,o,l,u={},c=0;return u.matrix=function(e){return arguments.length?(r=(a=e)&&a.length,n=i=null,u):a},u.padding=function(e){return arguments.length?(c=e,n=i=null,u):c},u.sortGroups=function(e){return arguments.length?(s=e,n=i=null,u):s},u.sortSubgroups=function(e){return arguments.length?(o=e,n=null,u):o},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return i||e(),i},u},ss.layout.force=function(){function e(e){return function(t,n,i,a){if(t.point!==e){var r=t.cx-e.x,s=t.cy-e.y,o=a-n,l=r*r+s*s;if(l>o*o/_){if(p>l){var u=t.charge/l;e.px-=r*u,e.py-=s*u}return!0}if(t.point&&l&&p>l){var u=t.pointCharge/l;e.px-=r*u,e.py-=s*u}}return!t.charge}}function t(e){e.px=ss.event.x,e.py=ss.event.y,o.resume()}var n,i,a,r,s,o={},l=ss.dispatch("start","tick","end"),u=[1,1],c=.9,d=bl,f=yl,h=-30,p=xl,m=.1,_=.64,g=[],v=[];return o.tick=function(){if((i*=.99)<.005)return l.end({type:"end",alpha:i=0}),!0;var t,n,o,d,f,p,_,b,y,x=g.length,S=v.length;for(n=0;S>n;++n)o=v[n],d=o.source,f=o.target,b=f.x-d.x,y=f.y-d.y,(p=b*b+y*y)&&(p=i*r[n]*((p=Math.sqrt(p))-a[n])/p,b*=p,y*=p,f.x-=b*(_=d.weight/(f.weight+d.weight)),f.y-=y*_,d.x+=b*(_=1-_),d.y+=y*_);if((_=i*m)&&(b=u[0]/2,y=u[1]/2,n=-1,_))for(;++n<x;)o=g[n],o.x+=(b-o.x)*_,o.y+=(y-o.y)*_;if(h)for(na(t=ss.geom.quadtree(g),i,s),n=-1;++n<x;)(o=g[n]).fixed||t.visit(e(o));for(n=-1;++n<x;)o=g[n],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*c,o.y-=(o.py-(o.py=o.y))*c);l.tick({type:"tick",alpha:i})},o.nodes=function(e){return arguments.length?(g=e,o):g},o.links=function(e){return arguments.length?(v=e,o):v},o.size=function(e){return arguments.length?(u=e,o):u},o.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,o):d},o.distance=o.linkDistance,o.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,o):f},o.friction=function(e){return arguments.length?(c=+e,o):c},o.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,o):h},o.chargeDistance=function(e){return arguments.length?(p=e*e,o):Math.sqrt(p)},o.gravity=function(e){return arguments.length?(m=+e,o):m},o.theta=function(e){return arguments.length?(_=e*e,o):Math.sqrt(_)},o.alpha=function(e){return arguments.length?(e=+e,i?i=e>0?e:0:e>0&&(l.start({type:"start",alpha:i=e}),ss.timer(o.tick)),o):i},o.start=function(){function e(e,i){if(!n){for(n=new Array(l),o=0;l>o;++o)n[o]=[];for(o=0;u>o;++o){var a=v[o];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var r,s=n[t],o=-1,u=s.length;++o<u;)if(!isNaN(r=s[o][e]))return r;return Math.random()*i}var t,n,i,l=g.length,c=v.length,p=u[0],m=u[1];for(t=0;l>t;++t)(i=g[t]).index=t,i.weight=0;for(t=0;c>t;++t)i=v[t],"number"==typeof i.source&&(i.source=g[i.source]),"number"==typeof i.target&&(i.target=g[i.target]),++i.source.weight,++i.target.weight;for(t=0;l>t;++t)i=g[t],isNaN(i.x)&&(i.x=e("x",p)),isNaN(i.y)&&(i.y=e("y",m)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(a=[],"function"==typeof d)for(t=0;c>t;++t)a[t]=+d.call(this,v[t],t);else for(t=0;c>t;++t)a[t]=d;if(r=[],"function"==typeof f)for(t=0;c>t;++t)r[t]=+f.call(this,v[t],t);else for(t=0;c>t;++t)r[t]=f;if(s=[],"function"==typeof h)for(t=0;l>t;++t)s[t]=+h.call(this,g[t],t);else for(t=0;l>t;++t)s[t]=h;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return n||(n=ss.behavior.drag().origin(De).on("dragstart.force",Zi).on("drag.force",t).on("dragend.force",Qi)),arguments.length?(this.on("mouseover.force",ea).on("mouseout.force",ta).call(n),void 0):n},ss.rebind(o,l,"on")};var bl=20,yl=1,xl=1/0;ss.layout.hierarchy=function(){function e(a){var r,s=[a],o=[];for(a.depth=0;null!=(r=s.pop());)if(o.push(r),(u=n.call(e,r,r.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)s.push(c=u[l]),c.parent=r,c.depth=r.depth+1;i&&(r.value=0),r.children=u}else i&&(r.value=+i.call(e,r,r.depth)||0),delete r.children;return ra(a,function(e){var n,a;t&&(n=e.children)&&n.sort(t),i&&(a=e.parent)&&(a.value+=e.value)}),o}var t=la,n=sa,i=oa;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(i=t,e):i},e.revalue=function(t){return i&&(aa(t,function(e){e.children&&(e.value=0)}),ra(t,function(t){var n;t.children||(t.value=+i.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ss.layout.partition=function(){function e(t,n,i,a){var r=t.children;if(t.x=n,t.y=t.depth*a,t.dx=i,t.dy=a,r&&(s=r.length)){var s,o,l,u=-1;for(i=t.value?i/t.value:0;++u<s;)e(o=r[u],n,l=o.value*i,a),n+=l}}function t(e){var n=e.children,i=0;if(n&&(a=n.length))for(var a,r=-1;++r<a;)i=Math.max(i,t(n[r]));return 1+i}function n(n,r){var s=i.call(this,n,r);return e(s[0],0,a[0],a[1]/t(s[0])),s}var i=ss.layout.hierarchy(),a=[1,1];return n.size=function(e){return arguments.length?(a=e,n):a},ia(n,i)},ss.layout.pie=function(){function e(s){var o,l=s.length,u=s.map(function(n,i){return+t.call(e,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),d=("function"==typeof a?a.apply(this,arguments):a)-c,f=Math.min(Math.abs(d)/l,+("function"==typeof r?r.apply(this,arguments):r)),h=f*(0>d?-1:1),p=(d-l*h)/ss.sum(u),m=ss.range(l),_=[];return null!=n&&m.sort(n===Sl?function(e,t){return u[t]-u[e]}:function(e,t){return n(s[e],s[t])}),m.forEach(function(e){_[e]={data:s[e],value:o=u[e],startAngle:c,endAngle:c+=o*p+h,padAngle:f}}),_}var t=Number,n=Sl,i=0,a=Ps,r=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(i=t,e):i},e.endAngle=function(t){return arguments.length?(a=t,e):a},e.padAngle=function(t){return arguments.length?(r=t,e):r},e};var Sl={};ss.layout.stack=function(){function e(o,l){if(!(f=o.length))return o;var u=o.map(function(n,i){return t.call(e,n,i)}),c=u.map(function(t){return t.map(function(t,n){return[r.call(e,t,n),s.call(e,t,n)]})}),d=n.call(e,c,l);u=ss.permute(u,d),c=ss.permute(c,d);var f,h,p,m,_=i.call(e,c,l),g=u[0].length;for(p=0;g>p;++p)for(a.call(e,u[0][p],m=_[p],c[0][p][1]),h=1;f>h;++h)a.call(e,u[h][p],m+=c[h-1][p][1],c[h][p][1]);return o}var t=De,n=ha,i=pa,a=fa,r=ca,s=da;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:wl.get(t)||ha,e):n},e.offset=function(t){return arguments.length?(i="function"==typeof t?t:Ll.get(t)||pa,e):i},e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(a=t,e):a},e};var wl=ss.map({"inside-out":function(e){var t,n,i=e.length,a=e.map(ma),r=e.map(_a),s=ss.range(i).sort(function(e,t){return a[e]-a[t]}),o=0,l=0,u=[],c=[];for(t=0;i>t;++t)n=s[t],l>o?(o+=r[n],u.push(n)):(l+=r[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return ss.range(e.length).reverse()},default:ha}),Ll=ss.map({silhouette:function(e){var t,n,i,a=e.length,r=e[0].length,s=[],o=0,l=[];for(n=0;r>n;++n){for(t=0,i=0;a>t;t++)i+=e[t][n][1];i>o&&(o=i),s.push(i)}for(n=0;r>n;++n)l[n]=(o-s[n])/2;return l},wiggle:function(e){var t,n,i,a,r,s,o,l,u,c=e.length,d=e[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;f>n;++n){for(t=0,a=0;c>t;++t)a+=e[t][n][1];for(t=0,r=0,o=d[n][0]-d[n-1][0];c>t;++t){for(i=0,s=(e[t][n][1]-e[t][n-1][1])/(2*o);t>i;++i)s+=(e[i][n][1]-e[i][n-1][1])/o;r+=s*e[t][n][1]}h[n]=l-=a?r/a*o:0,u>l&&(u=l)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(e){var t,n,i,a=e.length,r=e[0].length,s=1/a,o=[];for(n=0;r>n;++n){for(t=0,i=0;a>t;t++)i+=e[t][n][1];if(i)for(t=0;a>t;t++)e[t][n][1]/=i;else for(t=0;a>t;t++)e[t][n][1]=s}for(n=0;r>n;++n)o[n]=0;return o},zero:pa});ss.layout.histogram=function(){function e(e,r){for(var s,o,l=[],u=e.map(n,this),c=i.call(this,u,r),d=a.call(this,c,u,r),r=-1,f=u.length,h=d.length-1,p=t?1:1/f;++r<h;)s=l[r]=[],s.dx=d[r+1]-(s.x=d[r]),s.y=0;if(h>0)for(r=-1;++r<f;)o=u[r],o>=c[0]&&o<=c[1]&&(s=l[ss.bisect(d,o,1,h)-1],s.y+=p,s.push(e[r]));return l}var t=!0,n=Number,i=ya,a=va;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(i=Ce(t),e):i},e.bins=function(t){return arguments.length?(a="number"==typeof t?function(e){return ba(e,t)}:Ce(t),e):a},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ss.layout.pack=function(){function e(e,r){var s=n.call(this,e,r),o=s[0],l=a[0],u=a[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,ra(o,function(e){e.r=+c(e.value)}),ra(o,Ea),i){var d=i*(t?1:Math.max(2*o.r/l,2*o.r/u))/2;ra(o,function(e){e.r+=d}),ra(o,Ea),ra(o,function(e){e.r-=d})}return Aa(o,l/2,u/2,t?1:1/Math.max(2*o.r/l,2*o.r/u)),s}var t,n=ss.layout.hierarchy().sort(xa),i=0,a=[1,1];return e.size=function(t){return arguments.length?(a=t,e):a},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(i=+t,e):i},ia(e,n)},ss.layout.tree=function(){function e(e,a){var c=s.call(this,e,a),d=c[0],f=t(d);if(ra(f,n),f.parent.m=-f.z,aa(f,i),u)aa(d,r);else{var h=d,p=d,m=d;aa(d,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>m.depth&&(m=e)});var _=o(h,p)/2-h.x,g=l[0]/(p.x+o(p,h)/2+_),v=l[1]/(m.depth||1);aa(d,function(e){e.x=(e.x+_)*g,e.y=e.depth*v})}return c}function t(e){for(var t,n={A:null,children:[e]},i=[n];null!=(t=i.pop());)for(var a,r=t.children,s=0,o=r.length;o>s;++s)i.push((r[s]=a={_:r[s],parent:t,children:(a=r[s].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=a);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){Ia(e);var r=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+o(e._,i._),e.m=e.z-r):e.z=r}else i&&(e.z=i.z+o(e._,i._));e.parent.A=a(e,i,e.parent.A||n[0])}function i(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e,t,n){if(t){for(var i,a=e,r=e,s=t,l=a.parent.children[0],u=a.m,c=r.m,d=s.m,f=l.m;s=Ra(s),a=Da(a),s&&a;)l=Da(l),r=Ra(r),r.a=e,i=s.z+d-a.z-u+o(s._,a._),i>0&&(Oa(Fa(s,e,n),e,i),u+=i,c+=i),d+=s.m,u+=a.m,f+=l.m,c+=r.m;s&&!Ra(r)&&(r.t=s,r.m+=d-c),a&&!Da(l)&&(l.t=a,l.m+=u-f,n=e)}return n}function r(e){e.x*=l[0],e.y=e.depth*l[1]}var s=ss.layout.hierarchy().sort(null).value(null),o=Ca,l=[1,1],u=null;return e.separation=function(t){return arguments.length?(o=t,e):o},e.size=function(t){return arguments.length?(u=null==(l=t)?r:null,e):u?null:l},e.nodeSize=function(t){return arguments.length?(u=null==(l=t)?null:r,e):u?l:null},ia(e,s)},ss.layout.cluster=function(){function e(e,r){var s,o=t.call(this,e,r),l=o[0],u=0;ra(l,function(e){var t=e.children;t&&t.length?(e.x=Ba(t),e.y=Na(t)):(e.x=s?u+=n(e,s):0,e.y=0,s=e)});var c=Ua(l),d=Pa(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return ra(l,a?function(e){e.x=(e.x-l.x)*i[0],e.y=(l.y-e.y)*i[1]}:function(e){e.x=(e.x-f)/(h-f)*i[0],e.y=(1-(l.y?e.y/l.y:1))*i[1]}),o}var t=ss.layout.hierarchy().sort(null).value(null),n=Ca,i=[1,1],a=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=null==(i=t),e):a?null:i},e.nodeSize=function(t){return arguments.length?(a=null!=(i=t),e):a?i:null},ia(e,t)},ss.layout.treemap=function(){function e(e,t){for(var n,i,a=-1,r=e.length;++a<r;)i=(n=e[a]).value*(0>t?0:t),n.area=isNaN(i)||0>=i?0:i}function t(n){var r=n.children;if(r&&r.length){var s,o,l,u=d(n),c=[],f=r.slice(),p=1/0,m="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(s=f[l-1]),c.area+=s.area,"squarify"!==h||(o=i(c,m))<=p?(f.pop(),p=o):(c.area-=c.pop().area,a(c,m,u,!1),m=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(a(c,m,u,!0),c.length=c.area=0),r.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var r,s=d(t),o=i.slice(),l=[];for(e(o,s.dx*s.dy/t.value),l.area=0;r=o.pop();)l.push(r),l.area+=r.area,null!=r.z&&(a(l,r.z?s.dx:s.dy,s,!o.length),l.length=l.area=0);i.forEach(n)}}function i(e,t){for(var n,i=e.area,a=0,r=1/0,s=-1,o=e.length;++s<o;)(n=e[s].area)&&(r>n&&(r=n),n>a&&(a=n));return i*=i,t*=t,i?Math.max(t*a*p/i,i/(t*r*p)):1/0}function a(e,t,n,i){var a,r=-1,s=e.length,o=n.x,u=n.y,c=t?l(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++r<s;)a=e[r],a.x=o,a.y=u,a.dy=c,o+=a.dx=Math.min(n.x+n.dx-o,c?l(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-o,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++r<s;)a=e[r],a.x=o,a.y=u,a.dx=c,u+=a.dy=Math.min(n.y+n.dy-u,c?l(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function r(i){var a=s||o(i),r=a[0];return r.x=0,r.y=0,r.dx=u[0],r.dy=u[1],s&&o.revalue(r),e([r],r.dx*r.dy/r.value),(s?n:t)(r),f&&(s=a),a}var s,o=ss.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Ya,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return r.size=function(e){return arguments.length?(u=e,r):u},r.padding=function(e){function t(t){var n=e.call(r,t,t.depth);return null==n?Ya(t):Ha(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ha(t,e)}if(!arguments.length)return c;var i;return d=null==(c=e)?Ya:"function"==(i=typeof e)?t:"number"===i?(e=[e,e,e,e],n):n,r},r.round=function(e){return arguments.length?(l=e?Math.round:Number,r):l!=Number},r.sticky=function(e){return arguments.length?(f=e,s=null,r):f},r.ratio=function(e){return arguments.length?(p=e,r):p},r.mode=function(e){return arguments.length?(h=e+"",r):h},ia(r,o)},ss.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,i,a;do{n=2*Math.random()-1,i=2*Math.random()-1,a=n*n+i*i}while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var e=ss.random.normal.apply(ss,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ss.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},ss.scale={};var El={floor:De,ceil:De};ss.scale.linear=function(){return Wa([0,1],[0,1],wi,!1)};var Ml={s:1,g:1,p:1,r:1,e:1};ss.scale.log=function(){return nr(ss.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=ss.format(".0e"),Al={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ss.scale.pow=function(){return ir(ss.scale.linear(),1,[0,1])},ss.scale.sqrt=function(){return ss.scale.pow().exponent(.5)},ss.scale.ordinal=function(){return rr([],{t:"range",a:[[]]})},ss.scale.category10=function(){return ss.scale.ordinal().range(Tl)},ss.scale.category20=function(){return ss.scale.ordinal().range(Cl)},ss.scale.category20b=function(){return ss.scale.ordinal().range(Dl)},ss.scale.category20c=function(){return ss.scale.ordinal().range(Rl)};var Tl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(we),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(we),Dl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(we),Rl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(we);ss.scale.quantile=function(){return sr([],[])},ss.scale.quantize=function(){return or(0,1,[0,1])},ss.scale.threshold=function(){return lr([.5],[0,1])},ss.scale.identity=function(){return ur([0,1])},ss.svg={},ss.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=s.apply(this,arguments)-Hs,d=o.apply(this,arguments)-Hs,f=Math.abs(d-c),h=c>d?0:1;if(e>u&&(p=u,u=e,e=p),f>=Ys)return t(u,h)+(e?t(e,1-h):"")+"Z";var p,m,_,g,v,b,y,x,S,w,L,E,M=0,k=0,A=[];if((g=(+l.apply(this,arguments)||0)/2)&&(_=r===Ol?Math.sqrt(e*e+u*u):+r.apply(this,arguments),h||(k*=-1),u&&(k=re(_/u*Math.sin(g))),e&&(M=re(_/e*Math.sin(g)))),u){v=u*Math.cos(c+k),b=u*Math.sin(c+k),y=u*Math.cos(d-k),x=u*Math.sin(d-k);var T=Math.abs(d-c-2*k)<=Us?0:1;if(k&&_r(v,b,y,x)===h^T){var C=(c+d)/2;v=u*Math.cos(C),b=u*Math.sin(C),y=x=null}}else v=b=0;if(e){S=e*Math.cos(d-M),w=e*Math.sin(d-M),L=e*Math.cos(c+M),E=e*Math.sin(c+M);var D=Math.abs(c-d+2*M)<=Us?0:1;if(M&&_r(S,w,L,E)===1-h^D){var R=(c+d)/2;S=e*Math.cos(R),w=e*Math.sin(R),L=E=null}}else S=w=0;if((p=Math.min(Math.abs(u-e)/2,+a.apply(this,arguments)))>.001){m=u>e^h?0:1;var O=null==L?[S,w]:null==y?[v,b]:Un([v,b],[L,E],[y,x],[S,w]),I=v-O[0],F=b-O[1],N=y-O[0],B=x-O[1],U=1/Math.sin(Math.acos((I*N+F*B)/(Math.sqrt(I*I+F*F)*Math.sqrt(N*N+B*B)))/2),P=Math.sqrt(O[0]*O[0]+O[1]*O[1]);if(null!=y){var Y=Math.min(p,(u-P)/(U+1)),H=gr(null==L?[S,w]:[L,E],[v,b],u,Y,h),G=gr([y,x],[S,w],u,Y,h);p===Y?A.push("M",H[0],"A",Y,",",Y," 0 0,",m," ",H[1],"A",u,",",u," 0 ",1-h^_r(H[1][0],H[1][1],G[1][0],G[1][1]),",",h," ",G[1],"A",Y,",",Y," 0 0,",m," ",G[0]):A.push("M",H[0],"A",Y,",",Y," 0 1,",m," ",G[0])}else A.push("M",v,",",b);if(null!=L){var V=Math.min(p,(e-P)/(U-1)),j=gr([v,b],[L,E],e,-V,h),z=gr([S,w],null==y?[v,b]:[y,x],e,-V,h);p===V?A.push("L",z[0],"A",V,",",V," 0 0,",m," ",z[1],"A",e,",",e," 0 ",h^_r(z[1][0],z[1][1],j[1][0],j[1][1]),",",1-h," ",j[1],"A",V,",",V," 0 0,",m," ",j[0]):A.push("L",z[0],"A",V,",",V," 0 0,",m," ",j[0])}else A.push("L",S,",",w)}else A.push("M",v,",",b),null!=y&&A.push("A",u,",",u," 0 ",T,",",h," ",y,",",x),A.push("L",S,",",w),null!=L&&A.push("A",e,",",e," 0 ",D,",",1-h," ",L,",",E);return A.push("Z"),A.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=dr,i=fr,a=cr,r=Ol,s=hr,o=pr,l=mr;return e.innerRadius=function(t){return arguments.length?(n=Ce(t),e):n},e.outerRadius=function(t){return arguments.length?(i=Ce(t),e):i},e.cornerRadius=function(t){return arguments.length?(a=Ce(t),e):a},e.padRadius=function(t){return arguments.length?(r=t==Ol?Ol:Ce(t),e):r},e.startAngle=function(t){return arguments.length?(s=Ce(t),e):s},e.endAngle=function(t){return arguments.length?(o=Ce(t),e):o},e.padAngle=function(t){return arguments.length?(l=Ce(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,t=(+s.apply(this,arguments)+ +o.apply(this,arguments))/2-Hs;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Ol="auto";ss.svg.line=function(){return vr(De)};var Il=ss.map({linear:br,"linear-closed":yr,step:xr,"step-before":Sr,"step-after":wr,basis:Tr,"basis-open":Cr,"basis-closed":Dr,bundle:Rr,cardinal:Mr,"cardinal-open":Lr,"cardinal-closed":Er,monotone:Ur});Il.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Fl=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Bl=[0,1/6,2/3,1/6];ss.svg.line.radial=function(){var e=vr(Pr);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Sr.reverse=wr,wr.reverse=Sr,ss.svg.area=function(){return Yr(De)},ss.svg.area.radial=function(){var e=Yr(Pr);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ss.svg.chord=function(){function e(e,o){var l=t(this,r,e,o),u=t(this,s,e,o);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+a(u.r,u.p1,l.r,l.p0))+"Z"}function t(e,t,n,i){var a=t.call(e,n,i),r=o.call(e,a,i),s=l.call(e,a,i)-Hs,c=u.call(e,a,i)-Hs;return{r:r,a0:s,a1:c,p0:[r*Math.cos(s),r*Math.sin(s)],p1:[r*Math.cos(c),r*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function i(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Us)+",1 "+t}function a(e,t,n,i){return"Q 0,0 "+i}var r=wn,s=Ln,o=Hr,l=hr,u=pr;return e.radius=function(t){return arguments.length?(o=Ce(t),e):o},e.source=function(t){return arguments.length?(r=Ce(t),e):r},e.target=function(t){return arguments.length?(s=Ce(t),e):s},e.startAngle=function(t){return arguments.length?(l=Ce(t),e):l},e.endAngle=function(t){return arguments.length?(u=Ce(t),e):u},e},ss.svg.diagonal=function(){function e(e,a){var r=t.call(this,e,a),s=n.call(this,e,a),o=(r.y+s.y)/2,l=[r,{x:r.x,y:o},{x:s.x,y:o},s];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=wn,n=Ln,i=Gr;return e.source=function(n){return arguments.length?(t=Ce(n),e):t},e.target=function(t){return arguments.length?(n=Ce(t),e):n},e.projection=function(t){return arguments.length?(i=t,e):i},e},ss.svg.diagonal.radial=function(){var e=ss.svg.diagonal(),t=Gr,n=e.projection;return e.projection=function(e){return arguments.length?n(Vr(t=e)):t},e},ss.svg.symbol=function(){function e(e,i){return(Ul.get(t.call(this,e,i))||$r)(n.call(this,e,i))}var t=zr,n=jr;return e.type=function(n){return arguments.length?(t=Ce(n),e):t},e.size=function(t){return arguments.length?(n=Ce(t),e):n},e};var Ul=ss.map({circle:$r,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Yl)),n=t*Yl;return"M0,"+-t+"L"+n+",0"+" 0,"+t+" "+-n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Pl),n=t*Pl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Pl),n=t*Pl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ss.svg.symbolTypes=Ul.keys();var Pl=Math.sqrt(3),Yl=Math.tan(30*Gs);As.transition=function(e){for(var t,n,i=Hl||++zl,a=Xr(e),r=[],s=Gl||{time:Date.now(),ease:Ci,delay:0,duration:250},o=-1,l=this.length;++o<l;){r.push(t=[]);for(var u=this[o],c=-1,d=u.length;++c<d;)(n=u[c])&&Zr(n,c,a,i,s),t.push(n)}return Wr(r,a,i)},As.interrupt=function(e){return this.each(null==e?Vl:qr(Xr(e)))};var Hl,Gl,Vl=qr(Xr()),jl=[],zl=0;jl.call=As.call,jl.empty=As.empty,jl.node=As.node,jl.size=As.size,ss.transition=function(e,t){return e&&e.transition?Hl?e.transition(t):e:Ds.transition(e)},ss.transition.prototype=jl,jl.select=function(e){var t,n,i,a=this.id,r=this.namespace,s=[];e=C(e);for(var o=-1,l=this.length;++o<l;){s.push(t=[]);for(var u=this[o],c=-1,d=u.length;++c<d;)(i=u[c])&&(n=e.call(i,i.__data__,c,o))?("__data__"in i&&(n.__data__=i.__data__),Zr(n,c,r,a,i[r][a]),t.push(n)):t.push(null)}return Wr(s,r,a)},jl.selectAll=function(e){var t,n,i,a,r,s=this.id,o=this.namespace,l=[];e=D(e);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(i=d[f]){r=i[o][s],n=e.call(i,i.__data__,f,u),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(a=n[p])&&Zr(a,p,o,s,r),t.push(a)}return Wr(l,o,s)},jl.filter=function(e){var t,n,i,a=[];"function"!=typeof e&&(e=V(e));for(var r=0,s=this.length;s>r;r++){a.push(t=[]);for(var n=this[r],o=0,l=n.length;l>o;o++)(i=n[o])&&e.call(i,i.__data__,o,r)&&t.push(i)}return Wr(a,this.namespace,this.id)},jl.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):z(this,null==t?function(t){t[i][n].tween.remove(e)}:function(a){a[i][n].tween.set(e,t)})},jl.attr=function(e,t){function n(){this.removeAttribute(o)}function i(){this.removeAttributeNS(o.space,o.local)}function a(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(o);return n!==e&&(t=s(n,e),function(e){this.setAttribute(o,t(e))})})}function r(e){return null==e?i:(e+="",function(){var t,n=this.getAttributeNS(o.space,o.local);return n!==e&&(t=s(n,e),function(e){this.setAttributeNS(o.space,o.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?$i:wi,o=ss.ns.qualify(e);return Kr(this,"attr."+e,t,o.local?r:a)},jl.attrTween=function(e,t){function n(e,n){var i=t.call(this,e,n,this.getAttribute(a));return i&&function(e){this.setAttribute(a,i(e))}}function i(e,n){var i=t.call(this,e,n,this.getAttributeNS(a.space,a.local));return i&&function(e){this.setAttributeNS(a.space,a.local,i(e))}}var a=ss.ns.qualify(e);return this.tween("attr."+e,a.local?i:n)},jl.style=function(e,t,n){function i(){this.style.removeProperty(e)}function a(t){return null==t?i:(t+="",function(){var i,a=ds.getComputedStyle(this,null).getPropertyValue(e);return a!==t&&(i=wi(a,t),function(t){this.style.setProperty(e,i(t),n)})})}var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Kr(this,"style."+e,t,a)},jl.styleTween=function(e,t,n){function i(i,a){var r=t.call(this,i,a,ds.getComputedStyle(this,null).getPropertyValue(e));return r&&function(t){this.style.setProperty(e,r(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,i)},jl.text=function(e){return Kr(this,"text",e,Jr)},jl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},jl.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ss.ease.apply(ss,arguments)),z(this,function(i){i[n][t].ease=e}))},jl.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:z(this,"function"==typeof e?function(i,a,r){i[n][t].delay=+e.call(i,i.__data__,a,r)}:(e=+e,function(i){i[n][t].delay=e}))},jl.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:z(this,"function"==typeof e?function(i,a,r){i[n][t].duration=Math.max(1,e.call(i,i.__data__,a,r))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},jl.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var a=Gl,r=Hl;try{Hl=n,z(this,function(t,a,r){Gl=t[i][n],e.call(t,t.__data__,a,r)})}finally{Gl=a,Hl=r}}else z(this,function(a){var r=a[i][n];(r.event||(r.event=ss.dispatch("start","end","interrupt"))).on(e,t)});return this},jl.transition=function(){for(var e,t,n,i,a=this.id,r=++zl,s=this.namespace,o=[],l=0,u=this.length;u>l;l++){o.push(e=[]);for(var t=this[l],c=0,d=t.length;d>c;c++)(n=t[c])&&(i=n[s][a],Zr(n,c,s,r,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),e.push(n)}return Wr(o,s,r)},ss.svg.axis=function(){function e(e){e.each(function(){var e,u=ss.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,o):d.domain():l,h=null==t?d.tickFormat?d.tickFormat.apply(d,o):De:t,p=u.selectAll(".tick").data(f,d),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ns),_=ss.transition(p.exit()).style("opacity",Ns).remove(),g=ss.transition(p.order()).style("opacity",1),v=Math.max(a,0)+s,b=Va(d),y=u.selectAll(".domain").data([0]),x=(y.enter().append("path").attr("class","domain"),ss.transition(y));m.append("line"),m.append("text");var S,w,L,E,M=m.select("line"),k=g.select("line"),A=p.select("text").text(h),T=m.select("text"),C=g.select("text"),D="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(e=Qr,S="x",L="y",w="x2",E="y2",A.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+D*r+"V0H"+b[1]+"V"+D*r)):(e=es,S="y",L="x",w="y2",E="x2",A.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),x.attr("d","M"+D*r+","+b[0]+"H0V"+b[1]+"H"+D*r)),M.attr(E,D*a),T.attr(L,D*v),k.attr(w,0).attr(E,D*a),C.attr(S,0).attr(L,D*v),d.rangeBand){var R=d,O=R.rangeBand()/2;c=d=function(e){return R(e)+O}}else c.rangeBand?c=d:_.call(e,d,c);m.call(e,c,d),g.call(e,d,d)})}var t,n=ss.scale.linear(),i=$l,a=6,r=6,s=3,o=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(i=t in ql?t+"":$l,e):i},e.ticks=function(){return arguments.length?(o=arguments,e):o},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(a=+t,r=+arguments[n-1],e):a},e.innerTickSize=function(t){return arguments.length?(a=+t,e):a},e.outerTickSize=function(t){return arguments.length?(r=+t,e):r},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var $l="bottom",ql={top:1,right:1,bottom:1,left:1};ss.svg.brush=function(){function e(r){r.each(function(){var r=ss.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),s=r.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=r.selectAll(".resize").data(p,De);o.exit().remove(),o.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Wl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",e.empty()?"none":null);var c,d=ss.transition(r),f=ss.transition(s);l&&(c=Va(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(d)),u&&(c=Va(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),i(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+c[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",c[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function i(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==ss.event.keyCode&&(A||(v=null,C[0]-=c[1],C[1]-=d[1],A=2),M())}function p(){32==ss.event.keyCode&&2==A&&(C[0]+=c[1],C[1]+=d[1],A=0,M())}function m(){var e=ss.mouse(y),a=!1;b&&(e[0]+=b[0],e[1]+=b[1]),A||(ss.event.altKey?(v||(v=[(c[0]+c[1])/2,(d[0]+d[1])/2]),C[0]=c[+(e[0]<v[0])],C[1]=d[+(e[1]<v[1])]):v=null),E&&_(e,l,0)&&(n(w),a=!0),k&&_(e,u,1)&&(i(w),a=!0),a&&(t(w),S({type:"brush",mode:A?"move":"resize"}))}function _(e,t,n){var i,a,o=Va(t),l=o[0],u=o[1],p=C[n],m=n?d:c,_=m[1]-m[0];return A&&(l-=p,u-=_+p),i=(n?h:f)?Math.max(l,Math.min(u,e[n])):e[n],A?a=(i+=p)+_:(v&&(p=Math.max(l,Math.min(u,2*v[n]-i))),i>p?(a=i,i=p):a=p),m[0]!=i||m[1]!=a?(n?s=null:r=null,m[0]=i,m[1]=a,!0):void 0}function g(){m(),w.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ss.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),S({type:"brushend"})}var v,b,y=this,x=ss.select(ss.event.target),S=o.of(y,arguments),w=ss.select(y),L=x.datum(),E=!/^(n|s)$/.test(L)&&l,k=!/^(e|w)$/.test(L)&&u,A=x.classed("extent"),T=X(),C=ss.mouse(y),D=ss.select(ds).on("keydown.brush",a).on("keyup.brush",p);if(ss.event.changedTouches?D.on("touchmove.brush",m).on("touchend.brush",g):D.on("mousemove.brush",m).on("mouseup.brush",g),w.interrupt().selectAll("*").interrupt(),A)C[0]=c[0]-C[0],C[1]=d[0]-C[1];else if(L){var R=+/w$/.test(L),O=+/^n/.test(L);b=[c[1-R]-C[0],d[1-O]-C[1]],C[0]=c[R],C[1]=d[O]}else ss.event.altKey&&(v=C.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),ss.select("body").style("cursor",x.style("cursor")),S({type:"brushstart"}),m()}var r,s,o=A(e,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],d=[0,0],f=!0,h=!0,p=Kl[0];return e.event=function(e){e.each(function(){var e=o.of(this,arguments),t={x:c,y:d,i:r,j:s},n=this.__chart__||t;this.__chart__=t,Hl?ss.select(this).transition().each("start.brush",function(){r=n.i,s=n.j,c=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Li(c,t.x),i=Li(d,t.y);return r=s=null,function(a){c=t.x=n(a),d=t.y=i(a),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){r=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,p=Kl[!l<<1|!u],e):l},e.y=function(t){return arguments.length?(u=t,p=Kl[!l<<1|!u],e):u},e.clamp=function(t){return arguments.length?(l&&u?(f=!!t[0],h=!!t[1]):l?f=!!t:u&&(h=!!t),e):l&&u?[f,h]:l?f:u?h:null},e.extent=function(t){var n,i,a,o,f;return arguments.length?(l&&(n=t[0],i=t[1],u&&(n=n[0],i=i[0]),r=[n,i],l.invert&&(n=l(n),i=l(i)),n>i&&(f=n,n=i,i=f),(n!=c[0]||i!=c[1])&&(c=[n,i])),u&&(a=t[0],o=t[1],l&&(a=a[1],o=o[1]),s=[a,o],u.invert&&(a=u(a),o=u(o)),a>o&&(f=a,a=o,o=f),(a!=d[0]||o!=d[1])&&(d=[a,o])),e):(l&&(r?(n=r[0],i=r[1]):(n=c[0],i=c[1],l.invert&&(n=l.invert(n),i=l.invert(i)),n>i&&(f=n,n=i,i=f))),u&&(s?(a=s[0],o=s[1]):(a=d[0],o=d[1],u.invert&&(a=u.invert(a),o=u.invert(o)),a>o&&(f=a,a=o,o=f))),l&&u?[[n,a],[i,o]]:l?[n,i]:u&&[a,o])},e.clear=function(){return e.empty()||(c=[0,0],d=[0,0],r=s=null),e},e.empty=function(){return!!l&&c[0]==c[1]||!!u&&d[0]==d[1]},ss.rebind(e,o,"on")};var Wl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Jl=mo.format=xo.timeFormat,Xl=Jl.utc,Zl=Xl("%Y-%m-%dT%H:%M:%S.%LZ");Jl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ts:Zl,ts.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ts.toString=Zl.toString,mo.second=je(function(e){return new _o(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),mo.seconds=mo.second.range,mo.seconds.utc=mo.second.utc.range,mo.minute=je(function(e){return new _o(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),mo.minutes=mo.minute.range,mo.minutes.utc=mo.minute.utc.range,mo.hour=je(function(e){var t=e.getTimezoneOffset()/60;return new _o(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),mo.hours=mo.hour.range,mo.hours.utc=mo.hour.utc.range,mo.month=je(function(e){return e=mo.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),mo.months=mo.month.range,mo.months.utc=mo.month.utc.range;var Ql=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],eu=[[mo.second,1],[mo.second,5],[mo.second,15],[mo.second,30],[mo.minute,1],[mo.minute,5],[mo.minute,15],[mo.minute,30],[mo.hour,1],[mo.hour,3],[mo.hour,6],[mo.hour,12],[mo.day,1],[mo.day,2],[mo.week,1],[mo.month,1],[mo.month,3],[mo.year,1]],tu=Jl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Ot]]),nu={range:function(e,t,n){return ss.range(Math.ceil(e/n)*n,+t,n).map(is)},floor:De,ceil:De};eu.year=mo.year,mo.scale=function(){return ns(ss.scale.linear(),eu,tu)};var iu=eu.map(function(e){return[e[0].utc,e[1]]}),au=Xl.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Ot]]);iu.year=mo.year.utc,mo.scale.utc=function(){return ns(ss.scale.linear(),iu,au)},ss.text=Re(function(e){return e.responseText}),ss.json=function(e,t){return Oe(e,"application/json",as,t)},ss.html=function(e,t){return Oe(e,"text/html",rs,t)},ss.xml=Re(function(e){return e.responseXML}),true?!(i=ss,a=typeof i==="function"?i.call(t,n,t,e):i,a!==undefined&&(e.exports=a)):"object"==typeof e&&e.exports&&(e.exports=ss),this.d3=ss}()},function(e,t){(function(){var e=window.nv||{};e.version="0.0.1a";e.dev=false;window.nv=e;e.tooltip={};e.utils={};e.models={};e.charts={};e.graphs=[];e.logs={};e.dispatch=d3.dispatch("render_start","render_end");if(e.dev){e.dispatch.on("render_start",function(t){e.logs.startTime=+new Date});e.dispatch.on("render_end",function(t){e.logs.endTime=+new Date;e.logs.totalTime=e.logs.endTime-e.logs.startTime;e.log("total",e.logs.totalTime)})}e.log=function(){if(e.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(e.dev&&console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]};e.render=function t(n){n=n||1;e.render.active=true;e.dispatch.render_start();setTimeout(function(){var t,i;for(var a=0;a<n&&(i=e.render.queue[a]);a++){t=i.generate();if(typeof i.callback==typeof Function)i.callback(t);e.graphs.push(t)}e.render.queue.splice(0,a);if(e.render.queue.length)setTimeout(arguments.callee,0);else{e.render.active=false;e.dispatch.render_end()}},0)};e.render.active=false;e.render.queue=[];e.addGraph=function(t){if(typeof arguments[0]===typeof Function)t={generate:arguments[0],callback:arguments[1]};e.render.queue.push(t);if(!e.render.active)e.render()};e.identity=function(e){return e};e.strip=function(e){return e.replace(/(\s|&)/g,"")};function t(e,t){return new Date(t,e+1,0).getDate()}function n(e,t,n){return function(i,a,r){var s=e(i),o=[];if(s<i)t(s);if(r>1){while(s<a){var l=new Date(+s);if(n(l)%r===0)o.push(l);t(s)}}else{while(s<a){o.push(new Date(+s));t(s)}}return o}}d3.time.monthEnd=function(e){return new Date(e.getFullYear(),e.getMonth(),0)};d3.time.monthEnds=n(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1);e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(e){return e.getMonth()});d3.svg.axisStatic=function(){var e=d3.scale.linear(),t=c,n=6,i=6,a=6,r=3,s=[10],o=null,l,u=0;var c="bottom",d={top:1,right:1,bottom:1,left:1};function f(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function h(e){return e.rangeExtent?e.rangeExtent():f(e.range())}function p(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function m(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function _(e,t,n){a=[];if(n&&t.length>1){var i=f(e.domain()),a,r=-1,s=t.length,o=(t[1]-t[0])/++n,l,u;while(++r<s){for(l=n;--l>0;){if((u=+t[r]-l*o)>=i[0]){a.push(u)}}}for(--r,l=0;++l<n&&(u=+t[r]+l*o)<i[1];){a.push(u)}}return a}function g(c){c.each(function(){var c=d3.select(this);var d=o==null?e.ticks?e.ticks.apply(e,s):e.domain():o,f=l==null?e.tickFormat?e.tickFormat.apply(e,s):String:l;var g=_(e,d,u),v=c.selectAll(".tick.minor").data(g,String),b=v.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1),y=v.exit().remove(),x=v.style("opacity",1);var S=c.selectAll(".tick.major").data(d,String),w=S.enter().insert("g","path").attr("class","tick major").style("opacity",1),L=S.exit().remove(),E=S.style("opacity",1),M;var k=h(e),A=c.selectAll(".domain").data([0]),T=(A.enter().append("path").attr("class","domain"),A);var C=e.copy();w.append("line");w.append("text");var D=w.select("line"),R=E.select("line"),O=S.select("text").text(f),I=w.select("text"),F=E.select("text");switch(t){case"bottom":{M=p;b.attr("y2",i);x.attr("x2",0).attr("y2",i);D.attr("y2",n);I.attr("y",Math.max(n,0)+r);R.attr("x2",0).attr("y2",n);F.attr("x",0).attr("y",Math.max(n,0)+r);O.attr("dy",".71em").style("text-anchor","middle");T.attr("d","M"+k[0]+","+a+"V0H"+k[1]+"V"+a);break}case"top":{M=p;b.attr("y2",-i);x.attr("x2",0).attr("y2",-i);D.attr("y2",-n);I.attr("y",-(Math.max(n,0)+r));R.attr("x2",0).attr("y2",-n);F.attr("x",0).attr("y",-(Math.max(n,0)+r));O.attr("dy","0em").style("text-anchor","middle");T.attr("d","M"+k[0]+","+-a+"V0H"+k[1]+"V"+-a);break}case"left":{M=m;b.attr("x2",-i);x.attr("x2",-i).attr("y2",0);D.attr("x2",-n);I.attr("x",-(Math.max(n,0)+r));R.attr("x2",-n).attr("y2",0);F.attr("x",-(Math.max(n,0)+r)).attr("y",0);O.attr("dy",".32em").style("text-anchor","end");T.attr("d","M"+-a+","+k[0]+"H0V"+k[1]+"H"+-a);break}case"right":{M=m;b.attr("x2",i);x.attr("x2",i).attr("y2",0);D.attr("x2",n);I.attr("x",Math.max(n,0)+r);R.attr("x2",n).attr("y2",0);F.attr("x",Math.max(n,0)+r).attr("y",0);O.attr("dy",".32em").style("text-anchor","start");T.attr("d","M"+a+","+k[0]+"H0V"+k[1]+"H"+a);break}}if(e.ticks){w.call(M,C);E.call(M,C);L.call(M,C);b.call(M,C);x.call(M,C);y.call(M,C)}else{var N=C.rangeBand()/2,B=function(e){return C(e)+N};w.call(M,B);E.call(M,B)}})}g.scale=function(t){if(!arguments.length)return e;e=t;return g};g.orient=function(e){if(!arguments.length)return t;t=e in d?e+"":c;return g};g.ticks=function(){if(!arguments.length)return s;s=arguments;return g};g.tickValues=function(e){if(!arguments.length)return o;o=e;return g};g.tickFormat=function(e){if(!arguments.length)return l;l=e;return g};g.tickSize=function(e,t){if(!arguments.length)return n;var r=arguments.length-1;n=+e;i=r>1?+t:n;a=r>0?+arguments[r]:n;return g};g.tickPadding=function(e){if(!arguments.length)return r;r=+e;return g};g.tickSubdivide=function(e){if(!arguments.length)return u;u=+e;return g};return g};(function(){var e=window.nv.tooltip={};e.show=function(t,n,i,a,r,s){var o=document.createElement("div"),l=document.createElement("div"),u=document.createElement("div");i=i||"s";a=a||5;l.className="tooltip-inner";u.className="tooltip-arrow";l.innerHTML=n;o.style.left=0;o.style.top=-1e3;o.style.opacity=0;o.className="tooltip xy-tooltip in";o.appendChild(l);o.appendChild(u);r.appendChild(o);e.position(r,o,t,i,a);o.style.opacity=1;return o};e.cleanup=function(){var e=document.getElementsByClassName("tooltip"),t=[],n=e.length;while(n>0){n-=1;if(e[n].className.indexOf("xy-tooltip")!==-1){t.push(e[n]);e[n].style.transitionDelay="0 !important";e[n].style.opacity=0;e[n].className="nvtooltip-pending-removal out"}}setTimeout(function(){var e;while(t.length){e=t.pop();e.parentNode.removeChild(e)}},500)};e.position=function(e,t,n,i,a){i=i||"s";a=a||5;var r=e.getBoundingClientRect();var s=[n.clientX-r.left,n.clientY-r.top];var o=parseInt(t.offsetWidth,10),l=parseInt(t.offsetHeight,10),u=e.clientWidth,c=e.clientHeight,d=e.scrollLeft,f=e.scrollTop,h=t.className.replace(/ top| right| bottom| left/g,""),p,m;function _(){var e=s[0]-o/2;if(e<d)e=d;if(e+o>u)e=u-o;return e}function g(){var e=s[1]-l/2;if(e<f)e=f;if(e+l>f+c)e=f-l;return e}function v(e){var n=s[0]-o/2-e-5,i=t.getElementsByClassName("tooltip-arrow")[0];i.style.marginLeft=n+"px"}function b(e){var n=s[1]-l/2-e-5,i=t.getElementsByClassName("tooltip-arrow")[0];i.style.marginTop=n+"px"}switch(i){case"e":m=g();p=s[0]-o-a;b(m);if(p<d){p=s[0]+a;h+=" right"}else{h+=" left"}break;case"w":m=g();p=s[0]+a;b(m);if(p+o>u){p=s[0]-o-a;h+=" left"}else{h+=" right"}break;case"n":p=_();m=s[1]+a;v(p);if(m+l>f+c){m=s[1]-l-a;h+=" top"}else{h+=" bottom"}break;case"s":p=_();m=s[1]-l-a;v(p);if(f>m){m=s[1]+a;h+=" bottom"}else{h+=" top"}break}t.style.left=p+"px";t.style.top=m+"px";t.className=h}})();e.utils.windowSize=function(){var e={width:640,height:480};if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}if(document.compatMode==="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}return e};e.utils.windowResize=function(e){if(window.attachEvent){window.attachEvent("onresize",e)}else if(window.addEventListener){window.addEventListener("resize",e,true)}else{}};e.utils.windowUnResize=function(e){if(window.detachEvent){window.detachEvent("onresize",e)}else if(window.removeEventListener){window.removeEventListener("resize",e,true)}else{}};e.utils.resizeOnPrint=function(e){if(window.matchMedia){var t=window.matchMedia("print");t.addListener(function(t){if(t.matches){e()}})}else if(window.attachEvent){window.attachEvent("onbeforeprint",e)}else{window.onbeforeprint=e}};e.utils.unResizeOnPrint=function(e){if(window.matchMedia){var t=window.matchMedia("print");t.removeListener(function(t){if(t.matches){e()}})}else if(window.detachEvent){window.detachEvent("onbeforeprint",e)}else{window.onbeforeprint=null}};e.utils.getColor=function(t){if(!arguments.length){return e.utils.defaultColor()}if(Object.prototype.toString.call(t)==="[object Array]"){return function(e,n){return e.color||t[n%t.length]}}else{return t}};e.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(t,n){return t.color||e[n%e.length]}};e.utils.customTheme=function(e,t,n){t=t||function(e){return e.key};n=n||d3.scale.category20().range();var i=n.length;return function(a,r){var s=t(a);if(!i)i=n.length;if(typeof e[s]!=="undefined"){return typeof e[s]==="function"?e[s]():e[s]}else{return n[--i]}}};e.utils.pjax=function(t,n){d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href);i(this.href);d3.event.preventDefault()});function i(i){d3.html(i,function(i){var a=d3.select(n).node();a.parentNode.replaceChild(d3.select(i).select(n).node(),a);e.utils.pjax(t,n)})}d3.select(window).on("popstate",function(){if(d3.event.state){i(d3.event.state)}})};e.utils.NaNtoZero=function(e){if(typeof e!=="number"||isNaN(e)||e===null||e===Infinity)return 0;return e};e.utils.optionsFunc=function(e){if(e){d3.map(e).forEach(function(e,t){if(typeof this[e]==="function"){this[e](t)}}.bind(this))}return this};e.utils.colorLinearGradient=function(t,n,i,a,r){var s="lg_gradient_"+n,o=r.select("#"+s);if(o.empty()){if(i.position==="middle"){e.utils.createLinearGradient(s,i,r,[{offset:"0%","stop-color":d3.rgb(a).darker().toString(),"stop-opacity":1},{offset:"20%","stop-color":d3.rgb(a).toString(),"stop-opacity":1},{offset:"50%","stop-color":d3.rgb(a).brighter().toString(),"stop-opacity":1},{offset:"80%","stop-color":d3.rgb(a).toString(),"stop-opacity":1},{offset:"100%","stop-color":d3.rgb(a).darker().toString(),"stop-opacity":1}])}else{e.utils.createLinearGradient(s,i,r,[{offset:"0%","stop-color":d3.rgb(a).darker().toString(),"stop-opacity":1},{offset:"50%","stop-color":d3.rgb(a).toString(),"stop-opacity":1},{offset:"100%","stop-color":d3.rgb(a).brighter().toString(),"stop-opacity":1}])}}return"url(#"+s+")"};e.utils.createLinearGradient=function(e,t,n,i){var a=t.orientation==="horizontal"?"0%":"100%",r=t.orientation==="horizontal"?"100%":"0%",s=n.append("linearGradient").attr("id",e).attr("x1","0%").attr("y1","0%").attr("x2",a).attr("y2",r).attr("spreadMethod","pad");for(var o=0;o<i.length;o+=1){var l=i[o],u=s.append("stop");for(var c in l){if(l.hasOwnProperty(c)){u.attr(c,l[c])}}}};e.utils.colorRadialGradient=function(t,n,i,a,r){var s="rg_gradient_"+n,o=r.select("#"+s);if(o.empty()){e.utils.createRadialGradient(s,i,r,[{offset:i.s,"stop-color":d3.rgb(a).brighter().toString(),"stop-opacity":1},{offset:"100%","stop-color":d3.rgb(a).darker().toString(),"stop-opacity":1}])}return"url(#"+s+")"};e.utils.createRadialGradient=function(e,t,n,i){var a=n.append("radialGradient").attr("id",e).attr("r",t.r).attr("cx",t.x).attr("cy",t.y).attr("gradientUnits",t.u).attr("spreadMethod","pad");for(var r=0;r<i.length;r+=1){var s=i[r],o=a.append("stop");for(var l in s){if(s.hasOwnProperty(l)){o.attr(l,s[l])}}}};e.utils.getAbsoluteXY=function(e){var t=document.documentElement,n=e.getBoundingClientRect(),i=t.scrollLeft+document.body.scrollLeft,a=t.scrollTop+document.body.scrollTop,r=n.left+i,s=n.top+a;return{left:r,top:s}};e.utils.roundedRectangle=function(e,t,n,i,a){return"M"+e+","+t+"h"+(n-a*2)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(i-2-a*2)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(a*2-n)+"a"+-a+","+a+" 0 0 1 "+-a+","+-a+"v"+(-i+a*2+2)+"a"+a+","+a+" 0 0 1 "+a+","+-a+"z"};e.utils.dropShadow=function(e,t,n){var i=n||{},a=i.height||"130%",r=i.offset||2,s=i.blur||1;if(t.select("#"+e).empty()){var o=t.append("filter").attr("id",e).attr("height",a);var l=o.append("feOffset").attr("in","SourceGraphic").attr("result","offsetBlur").attr("dx",r).attr("dy",r);var u=o.append("feColorMatrix").attr("in","offsetBlur").attr("result","matrixOut").attr("type","matrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0");var c=o.append("feGaussianBlur").attr("in","matrixOut").attr("result","blurOut").attr("stdDeviation",s);var d=o.append("feMerge");d.append("feMergeNode");d.append("feMergeNode").attr("in","SourceGraphic")}return"url(#"+e+")"};e.utils.stringSetLengths=function(e,t,n,i,a){var r=[],s=t.select(".tmp-text-strings").select("text");if(s.empty()){s=t.append("g").attr("class","tmp-text-strings").append("text")}s.classed(i,true);s.style("display","inline");e.forEach(function(e,t){s.text(n(e,t));r.push(s.node().getBoundingClientRect().width)});s.text("").attr("class","tmp-text-strings").style("display","none");return r};e.utils.stringSetThickness=function(e,t,n,i,a){var r=[],s=t.select(".tmp-text-strings").select("text");if(s.empty()){s=t.append("g").attr("class","tmp-text-strings").append("text")}s.classed(i,true);s.style("display","inline");e.forEach(function(e,t){s.text(n(e,t));r.push(s.node().getBoundingClientRect().height)});s.text("").attr("class","tmp-text-strings").style("display","none");return r};e.utils.maxStringSetLength=function(t,n,i){var a=e.utils.stringSetLengths(t,n,i);return d3.max(a)};e.utils.stringEllipsify=function(e,t,n){var i=t.select(".tmp-text-strings").select("text"),a=e,r=0,s=0,o=0;if(i.empty()){i=t.append("g").attr("class","tmp-text-strings").append("text")}i.style("display","inline");i.text("...");s=i.node().getBoundingClientRect().width;i.text(a);r=i.node().getBoundingClientRect().width;o=r;while(r>n&&r>30){a=a.slice(0,-1);i.text(a);r=i.node().getBoundingClientRect().width+s}i.text("");return a+(o>n?"...":"")};e.utils.getTextBBox=function(e,t){var n=e.node().getBoundingClientRect(),i={width:t?n.width:parseInt(n.width,10),height:t?n.height:parseInt(n.height,10)};return i};e.utils.getTextContrast=function(e,t,n){var i=e,a=d3.lab(i),r=a.l,s=r>60?a.darker(4+(r-75)/25).l:a.brighter(4+(18-r)/25).l,o=d3.lab(s,0,0),l=o.toString();if(n){n(a,o)}return l};e.utils.isRTLChar=function(e){var t="֑-߿יִ-﷿ﹰ-ﻼ",n=new RegExp("["+t+"]");return n.test(e)};e.utils.polarToCartesian=function(t,n,i,a){var r=e.utils.angleToRadians(a);var s=t+i*Math.cos(r);var o=n+i*Math.sin(r);return[s,o]};e.utils.angleToRadians=function(e){return e*Math.PI/180};e.utils.angleToDegrees=function(e){return e*180/Math.PI};e.utils.createTexture=function(e,t,n,i){var a="#nv-diagonalHatch-"+t,r="#nv-textureMask-"+t;e.append("pattern").attr("id","nv-diagonalHatch-"+t).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-1,1 l2,-2 M0,8 l8,-8 M7,9 l1,-1").attr("class","texture-line").attr("stroke","#fff").attr("stroke-linecap","square");e.append("mask").attr("id","nv-textureMask-"+t).attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").append("rect").attr("x",n||0).attr("y",i||-1).attr("width","100%").attr("height","100%").attr("fill","url("+a+")");return r};e.utils.numberFormatSI=function(e,t,n,i){var a,r,s;if(isNaN(e)){return e}t=typeof t==="undefined"?2:t;n=typeof n==="undefined"?false:!!n;a=typeof i==="undefined"?d3.format:d3.locale(i).numberFormat;e=d3.round(e,t);r=n?"$,":",";if(n&&e<1e3&&e!==parseInt(e,10)){r+=".2f"}if(e<1&&e>-1){return a(r)(e)}s=d3.formatPrefix(e);return a(r)(d3.round(s.scale(e),t))+s.symbol};e.utils.numberFormatRound=function(e,t,n,i){var a,r;if(isNaN(e)){return e}n=typeof n==="undefined"?false:!!n;t=typeof t==="undefined"?n?2:0:t;a=typeof i==="undefined"?d3.format:d3.locale(i).numberFormat;r=n?"$,."+t+"f":",";return a(r)(t?d3.round(e,t):e)};e.utils.isValidDate=function(e){var t;if(!e){return false}t=new Date(e);return t instanceof Date&&!isNaN(t.valueOf())};e.utils.dateFormat=function(t,n,i){var a,r,s,o;a=new Date(t);if(!(a instanceof Date)||isNaN(a.valueOf())){return t}if(i&&i.hasOwnProperty("timeFormat")){s=n.indexOf("%")!==-1?n:"%x";o=i.timeFormat}else{r=e.utils.buildLocality(i);s=n.indexOf("%")!==-1?n:r[n]||"%x";o=d3.locale(r).timeFormat}return o(s)(a)};e.utils.buildLocality=function(e,t){var n=e||{},i=!!t,a=function(e){return e.join("|").split("|").map(function(e){return!e?"":isNaN(e)?e:+e})},r={decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%B %-d, %Y at %X %p GMT%Z",date:"%b %-d, %Y",time:"%-I:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],full:"%A, %c",long:"%c",medium:"%x, %X %p",short:"%-m/%-d/%y, %-I:%M %p",yMMMEd:"%a, %x",yMEd:"%a, %-m/%-d/%Y",yMMMMd:"%B %-d, %Y",yMMMd:"%x",yMd:"%-m/%-d/%Y",yMMMM:"%B %Y",yMMM:"%b %Y",MMMd:"%b %-d",MMMM:"%B",MMM:"%b",y:"%Y"};for(var s in n){var t;if(e.hasOwnProperty(s)){t=n[s];r[s]=!i||!Array.isArray(t)?t:a(t)}}return r};e.models.axis=function(){var t=d3.scale.linear(),n=null,i=true,a=true,r="ltr",s=false,o=false,l=30,u=false,c=true,d=false,f=null,h=null,p=function(e){return e},m=8;var _={top:0,right:0,bottom:0,left:0},g=0;var v=d3.svg.axisStatic().scale(t).orient("bottom").tickFormat(function(e){return p(e)});var b;function y(u){u.each(function(u){var p=d3.select(this);var x=v.scale().copy();var S={top:0,right:0,bottom:0,left:0};var w=ee();var L=Math.abs(w[1]-w[0]);b=b||v.scale();var E=v.orient()==="left"||v.orient()==="right"?true:false,M=v.orient()==="left"||v.orient()==="top"?-1:1,k=0,A=0,T=6,C=0,D=0;var R=[],O={},I=[],F={},N={};g=0;if(h!==null){v.ticks(h)}else if(E){v.ticks(Math.ceil(L/48))}else{v.ticks(Math.ceil(L/100))}if(l&&!isFinite(String(l))){l=30}if(d){i=false}var B=p.selectAll("g.nv-wrap.nv-axis").data([u]),U=B.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g").attr("class","nv-axis-inner"),P=B.select(".nv-axis-inner");P.call(v);var Y=P.selectAll("g.tick");var H=i?d3.extent(t.domain()):[];var G=P.selectAll("g.nv-axisMaxMin").data(H);var V=G.enter().append("g").attr("class","nv-axisMaxMin");V.append("text").style("opacity",0);V.append("line").style("opacity",0);G.exit().remove();if(i){G.select("text").text(function(e,t){return v.tickFormat()(e,t,false)})}var j=P.selectAll("g.tick, g.nv-axisMaxMin").select("text").filter(function(e){return this.getBoundingClientRect().width});j.each(function(e,t){I.push(d3.select(this).text())});var z=!!n?[n]:[];var $=B.selectAll("text.nv-axislabel").data(z);$.enter().append("text").attr("class","nv-axislabel").text(function(e){return e});$.exit().remove();var q=false,W=false,K=false;if(E){fe();j.style("text-anchor",re(f||(se()?"start":"end")))}else{fe();de();if(ce(1)){if(s){fe();he();de();he();if(!ce(1)){q=true}}if(!q&&o){fe();pe();de();pe();if(!ce(2)){W=true}}if(!q&&!W){if(!l){l=30}fe();me(l);de(l);me(l);K=true}}}if(i){G.select("line").attr("x1",0).attr("y1",0).attr("y2",E?0:(v.tickSize()-S.bottom)*M).attr("x2",E?v.tickSize()*M:0).style("opacity",function(e,t){return se()?t?0:1:t?1:0});Y.each(function(e,t){var n=d3.select(this),i=O["key-"+e.toString()],a=false;if(E){a=i.bottom>F.top||i.top<N.bottom;n.select("line").style("opacity",1-a)}else if(K){a=false}else if(W){a=(i.left<F.right+T||i.right>N.left+T)&&(i.bottom<F.top||i.top>N.bottom)}else{a=i.left<F.right+T||i.right>N.left+T}n.select("text").style("opacity",1-a)})}else{Y.filter(function(e){return x(e)===w[0+se()]}).classed("zero",a);Y.select("line").style("opacity",function(e,t){return x(e)===w[0+se()]?0:1})}if(!!n){var J=E?c?L/-2:(g+m)*M:L/2;var X=E?c?(g+m)*M:L/2:(g+m)*M;$.attr("x",J).attr("y",X).attr("dy",.355+.355*M+"em").attr("transform",E&&c?"rotate(-90)":"").style("text-anchor",E&&!c?re("end"):"middle");$.each(function(e,t){D+=E?parseInt(this.getBoundingClientRect().width/1.3,10):parseInt(this.getBoundingClientRect().height/1.3,10)});g+=D+m}b=t.copy();_={top:S.top,right:S.right,bottom:S.bottom,left:S.left};_[v.orient()]=g;function Z(){return x.range().length>1?Math.abs(x.range()[1]-x.range()[0]):0}function Q(){return x.range().length>1?Math.max(.25,1-d3.round(x.rangeBand()/Z(),2)):0}function ee(){return typeof x.rangeExtent==="function"?x.rangeExtent():x.range()}function te(){return d?x.rangeBand():0}function ne(){return d?x.range()[0]:0}function ie(){return ne()/ae()}function ae(){var e=0,t;if(d){e=x.range().length>1?Math.abs(x.range()[1]-x.range()[0]):d3.max(ee())/2}else{t=x.ticks(Y.size());e=x(t[t.length-1])-x(t[t.length-2])}return e}function re(e){if(r==="rtl"){if(e==="start"){return"end"}else if(e==="end"){return"start"}}return e}function se(){return v.orient()!=="left"&&v.orient()!=="bottom"}function oe(e){e=e||1;g=v.tickPadding()+(E?k:A)*e}function le(){ue();k=d3.max(R,function(e){return e.width});A=d3.max(R,function(e){return e.height})}function ue(){R=[];O={};if(i){G.style("opacity",1).attr("transform",function(e,t){var n=E?"0,"+x(e):x(e)+",0";return"translate("+n+")"})}j.each(function(e,t){var n=this.getBoundingClientRect();if(n.width>0){R.push({key:e,width:parseInt(n.width,10),height:parseInt(n.height/1.2,10),left:n.left,right:n.right,top:n.top,bottom:n.bottom})}});R.sort(function(e,t){return e.key-t.key}).forEach(function(e,t){e.index=t;O["key-"+e.key.toString()]=e});F=R[0];N=R[R.length-1]}function ce(e){ue();var t=i?2:e||1;for(var n=i?1:0,a=R.length-t;n<a;n+=1){if(R[n].right+T>R[n+e].left){return true}}return false}function de(e){var t=e?(e+180)%180:0,n=t>90,i=null,a=null;R.forEach(function(e,r){var s=i===null||e.left<=i,o=a===null||e.right>=a,l=0,u=0,c=0,l=0;if(!s&&!o){return}l=t?e.width-6:e.width/2;u=x(e.key)+d*te()/2;if(s&&(!t||n)){i=e.left;c=Math.abs(w[0]-u);S.left=Math.max(l-c,0)}if(o&&(!t||!n)){a=e.right;c=Math.abs(w[1]-u);S.right=Math.max(l-c,0)}});if(!d){var r=_.right-Math.max(_.right,S.right);r+=_.left-Math.max(_.left,S.left);var s=[w[0],w[1]+r];x.range(s);w=ee();L=Math.abs(w[1]-w[0]);v.scale(x);P.call(v)}}function fe(){S={top:0,right:0,bottom:0,left:0};x=t.copy();w=ee();L=Math.abs(w[1]-w[0]);v.scale(t);P.call(v);j.selectAll("tspan").remove();j.attr("dy",E?".32em":.355+.355*M+"em").attr("x",E?v.tickPadding()*M:0).attr("y",E?0:v.tickPadding()*M).attr("transform","translate(0,0)").text(function(e,t){return I[t]}).style("text-anchor","middle").style("opacity",1);le();oe()}function he(){C=ae();j.each(function(t,n){var i=v.tickFormat()(t,n,true),a=d3.select(this),r=e.utils.isValidDate(i),s=(i&&i!==""?r?i.toString():i.toString().replace("/","/ "):"").split(" "),n=0,o=s.length,l=M===1?.71:-1;this.textContent="";var u,c=a.append("tspan").text(s[n]+" ").attr("dy",l+"em").attr("x",0);n+=1;l=1;while(n<o){c=a.append("tspan").text(s[n]+" ").attr("dy",l+"em").attr("x",0);n+=1;while(n<o){u=c.text();c.text(u+" "+s[n]);if(this.getBoundingClientRect().width<=C){n+=1}else{c.text(u);break}}}});le();oe()}function pe(){j.attr("transform",function(e,t){var n=O["key-"+e.toString()].index%2*(A+2);return"translate(0,"+n+")"});le();oe(2)}function me(e){var t=(e+180)%180,n=t>90,i=(t-(n?180:0))*M,a=re(n?"end":"start"),r=Math.abs(Math.cos(e*Math.PI/180));j.attr("transform",function(e,t,n){return"translate(0,"+v.tickPadding()*M+") rotate("+i+")"}).attr("y","0").style("text-anchor",a);le();oe();g+=r*11}y.resizeTickLines=function(e){P.selectAll("g.tick, g.nv-axisMaxMin").select("line").attr(E?"x2":"y2",e*M)};y.labelThickness=function(){return D}});return y}y.axis=v;d3.rebind(y,v,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(y,t,"domain","range","rangeBand","rangeBands");y.width=function(e){if(!arguments.length){return g}return y};y.height=function(e){if(!arguments.length){return g}return y};y.margin=function(e){if(!arguments.length){return _}_=e;return y};y.ticks=function(e){if(!arguments.length){return h}h=e;return y};y.valueFormat=function(e){if(!arguments.length){return p}p=e;return y};y.axisLabel=function(e){if(!arguments.length){return n}n=e;return y};y.showMaxMin=function(e){if(!arguments.length){return i}i=e;return y};y.highlightZero=function(e){if(!arguments.length){return a}a=e;return y};y.scale=function(e){if(!arguments.length){return t}t=e;v.scale(t);d=typeof t.rangeBands==="function";d3.rebind(y,t,"domain","range","rangeBand","rangeBands");return y};y.wrapTicks=function(e){if(!arguments.length){return s}s=e;return y};y.rotateTicks=function(e){if(!arguments.length){return l}l=e;return y};y.staggerTicks=function(e){if(!arguments.length){return o}o=e;return y};y.reduceXTicks=function(e){if(!arguments.length){return u}u=e;return y};y.rotateYLabel=function(e){if(!arguments.length){return c}c=e;return y};y.axisLabelDistance=function(e){if(!arguments.length){return m}m=e;return y};y.maxLabelWidth=function(e){if(!arguments.length){return maxLabelWidth}maxLabelWidth=e;return y};y.textAnchor=function(e){if(!arguments.length){return f}f=e;return y};y.direction=function(e){if(!arguments.length){return r}r=e;return y};return y};e.models.legend=function(){var t={top:10,right:10,bottom:15,left:10},n=0,i=0,a="right",r="ltr",s="start",o=6,l=o*2,u=10,c=12,d=5,f=true,h=false,p=false,m=false,_=3,g=false,v={close:"Hide legend",type:"Show legend",noLabel:"undefined"},b=Math.floor(Math.random()*1e4),y=function(e){return e.key.length>0||!isNaN(parseFloat(e.key))&&isFinite(e.key)?e.key:T.strings().noLabel},x=function(t,n){return e.utils.defaultColor()(t,n)},S=function(e,t){return""},w=d3.dispatch("legendClick","legendMouseover","legendMouseout","toggleMenu","closeMenu");var L=0;var E=false,M=true,k=0,A=function(e){return};function T(v){v.each(function(v){var C=d3.select(this),D=n,R=i,O=[],I=0,F=0,N="",B=s==="start"?true:false,U=r==="rtl"?true:false,P=c*(B?1:.6),Y=u+(B?l+d:0);if(!v||!v.length||!v.filter(function(e){return!e.values||e.values.length}).length){return T}var H=v.filter(function(e){return e.hasOwnProperty("series")}).length;v.filter(function(e){return!e.hasOwnProperty("series")}).map(function(e,t){e.series=H;H+=1});g=true;N=!v[0].type||v[0].type==="bar"?"bar":"line";a=U&&a!=="center"?a==="left"?"right":"left":a;var G=C.selectAll("g.nv-chart-legend").data([v]);var V=G.enter().append("g").attr("class","nv-chart-legend");V.append("defs").append("clipPath").attr("id","nv-edge-clip-"+b).append("rect");var j=G.select("defs");var z=G.select("#nv-edge-clip-"+b+" rect");V.append("rect").attr("class","nv-legend-background");var $=G.select(".nv-legend-background");var q=e.utils.dropShadow("legend_back_"+b,j,{blur:2});V.append("text").attr("class","nv-legend-link");var W=G.select(".nv-legend-link");V.append("g").attr("class","nv-legend-mask").append("g").attr("class","nv-legend");var K=G.select(".nv-legend-mask");var J=G.select("g.nv-legend");J.attr("transform","translate(0,0)");var X=J.selectAll(".nv-series").data(e.identity,function(e){return e.key});X.exit().remove();var Z=X.enter().append("g").attr("class","nv-series").on("mouseover",function(e,t){w.legendMouseover(e,t)}).on("mouseout",function(e,t){w.legendMouseout(e,t)}).on("click",function(e,t){d3.event.preventDefault();d3.event.stopPropagation();w.legendClick(e,t)});var Q=J.selectAll(".nv-series");Z.append("rect").attr("x",(l+d)/-2).attr("y",(l+P)/-2).attr("width",l+d).attr("height",l+P).style("fill","#FFE").style("opacity",.1);var ee=X.selectAll("circle").data(function(e){return N==="line"?[e,e]:[e]});ee.exit().remove();ee.enter().append("circle").attr("r",o).attr("stroke","#fff").style("stroke-width",2);if(N==="line"){var te=X.selectAll("line").data(function(e){return[e]});te.exit().remove();te.enter().append("line").attr("x0",0).attr("y0",0).attr("y1",0).style("stroke-width","4px")}Z.append("text").attr("dy",B?".36em":".71em").attr("dx",0);z.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0);$.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0).style("opacity",0).style("pointer-events","all").on("click",function(e,t){d3.event.stopPropagation()});W.text(L===1?T.strings().close:T.strings().open).attr("text-anchor",a==="left"?U?"end":"start":U?"start":"end").attr("dy",".36em").attr("dx",0).style("opacity",0).on("click",function(e,t){d3.event.preventDefault();d3.event.stopPropagation();w.toggleMenu(e,t)});Q.selectAll("circle").attr("class",function(e,t){return S(e,t)}).attr("fill",function(e,t){return x(e,t)}).attr("stroke",function(e,t){return x(e,t)});Q.select("line").attr("class",function(e,t){return S(e,t)}).attr("stroke",function(e,t){return x(e,t)});Q.select("text").text(y);Q.classed("disabled",function(e){return e.disabled});T.calculateWidth=function(){O=[];J.style("display","inline");Q.select("text").each(function(e,t){var n=d3.select(this).node().getBoundingClientRect().width;O.push(Math.max(Math.floor(n),N==="line"?50:20))});T.width(d3.sum(O)+O.length*Y-u);return T.width()};T.getLineHeight=function(){J.style("display","inline");var e=Math.floor(Q.select("text").node().getBoundingClientRect().height);return e};T.arrange=function(e){if(O.length===0){this.calculateWidth()}function n(e){return O[e]+Y}function i(e){return O[e]+Y-u}function r(e){return e?1:-1}var g=O.length,v=1,y=g,x=[],S=[],w=e-t.left-t.right,C=0,D=0,H=this.getLineHeight(),G=l+(B?0:H)+P,V={top:7,right:7,bottom:7,left:7},j=0,X=0,Z,ee,te;if(f){while(y>0){x=[];for(Z=0;Z<g;Z+=1){if(n(Z)>(x[Z%y]||0)){x[Z%y]=n(Z)}}if(d3.sum(x)-u<w){break}y-=1}y=y||1;v=Math.ceil(g/y);C=d3.sum(x)-u;for(Z=0;Z<g;Z+=1){ee=Z%y;if(B){if(ee===0){j=U?C:0}else{j+=x[ee-1]*r(!U)}}else{if(ee===0){j=(U?C:0)+(x[ee]-u)/2*r(!U)}else{j+=(x[ee-1]+x[ee])/2*r(!U)}}X=Math.floor(Z/y)*G;S[Z]={x:j,y:X}}}else{if(U){j=w;for(Z=0;Z<g;Z+=1){if(j-i(Z)<0){C=Math.max(C,i(Z));j=w;if(Z){v+=1}}if(j-i(Z)>C){C=j-i(Z)}S[Z]={x:j,y:(v-1)*(P+l)};j-=n(Z)}}else{j=0;for(Z=0;Z<g;Z+=1){if(Z&&j+i(Z)>w){j=0;v+=1}if(j+i(Z)>C){C=j+i(Z)}S[Z]={x:j,y:(v-1)*(P+l)};j+=n(Z)}}}if(!p&&(h||v<=_)){L=0;m=false;E=false;T.width(t.left+C+t.right).height(t.top+v*G-P+t.bottom);switch(a){case"left":te=0;break;case"center":te=(e-T.width())/2;break;case"right":te=0;break}z.attr("y",0).attr("width",T.width()).attr("height",T.height());$.attr("x",te).attr("width",T.width()).attr("height",T.height()).attr("rx",0).attr("ry",0).attr("filter","none").style("display","inline").style("opacity",0);K.attr("clip-path","none").attr("transform",function(e,n){var i=te+t.left+(B?o*r(!U):0),a=t.top+V.top;return"translate("+i+","+a+")"});J.style("opacity",1).style("display","inline");Q.attr("transform",function(e){var t=S[e.series];return"translate("+t.x+","+t.y+")"});Q.select("rect").attr("x",function(e){var t=0;if(B){t=(l+u)/2*r(U);t-=U?n(e.series):0}else{t=n(e.series)/-2}return t}).attr("width",function(e){return n(e.series)}).attr("height",G);Q.selectAll("circle").attr("r",function(e){return e.type==="dash"?0:o}).attr("transform",function(e,t){var n=B||N==="bar"?0:o*3*r(t);return"translate("+n+",0)"});Q.select("line").attr("x1",function(e){return e.type==="dash"?o*8:o*4}).attr("transform",function(e){var t=o*(e.type==="dash"?-4:-2);return"translate("+t+",0)"}).style("stroke-dasharray",function(e){return e.type==="dash"?"8, 8":"none"}).style("stroke-dashoffset",-4);Q.select("text").attr("dy",B?".36em":".71em").attr("text-anchor",s).attr("transform",function(e){var t=B?(o+d)*r(!U):0,n=B?0:(l+P)/2;return"translate("+t+","+n+")"})}else{m=true;E=true;T.width(V.left+d3.max(O)+l+d+V.right).height(t.top+l+t.top);I=V.top+l*g+c*(g-1)+V.bottom;F=Math.min(R-T.height(),I);z.attr("x",.5-V.top-o).attr("y",.5-V.top-o).attr("width",T.width()).attr("height",F);$.attr("x",.5).attr("y",.5+T.height()).attr("width",T.width()).attr("height",F).attr("rx",2).attr("ry",2).attr("filter",q).style("opacity",L*.9).style("display",L?"inline":"none");W.attr("transform",function(e,n){var i=a==="left"?.5:.5+T.width(),r=t.top+o;return"translate("+i+","+r+")"}).style("opacity",1);K.attr("clip-path","url(#nv-edge-clip-"+b+")").attr("transform",function(e,t){var n=V.left+o,i=T.height()+V.top+o;return"translate("+n+","+i+")"});J.style("opacity",L).style("display",L?"inline":"none").attr("transform",function(e,t){var n=U?d3.max(O)+o:0;return"translate("+n+",0)"});Q.attr("transform",function(e,t){var n=t*(l+c);return"translate(0,"+n+")"});Q.select("rect").attr("x",function(e){var t=(l+u)/2*r(U);t-=U?n(e.series):0;return t}).attr("width",function(e){return n(e.series)}).attr("height",l+P);Q.selectAll("circle").attr("r",function(e){return e.type==="dash"?0:e.type==="line"?o-2:o}).attr("transform","");Q.select("line").attr("x1",16).attr("transform","translate(-8,0)").style("stroke-dasharray",function(e){return e.type==="dash"?"6, 4, 6":"none"}).style("stroke-dashoffset",0);Q.select("text").attr("text-anchor","start").attr("dy",".36em").attr("transform",function(e){var t=(o+d)*r(!U);return"translate("+t+",0)"})}if(M){var ne=F-I;var ie=function(e){if(e){var t=d3.behavior.zoom().on("zoom",ae);var n=d3.behavior.drag().origin(function(e){return e}).on("drag",ae);$.call(t);J.call(t);$.call(n);J.call(n)}else{$.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);J.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);$.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null);J.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null)}};var ae=function(){var e=0,t=0,n="",i=0,a=0;if(d3.event){if(d3.event.type==="zoom"&&d3.event.sourceEvent){i=d3.event.sourceEvent.deltaX||0;a=d3.event.sourceEvent.deltaY||0;e=(Math.abs(i)>Math.abs(a)?i:a)*-1}else if(d3.event.type==="drag"){i=d3.event.dx||0;a=d3.event.dy||0;e=a}else if(d3.event.type!=="click"){return 0}t=Math.abs(a)>Math.abs(i)?a:0}k=Math.min(Math.max(k+e,ne),0);n="translate("+(U?d3.max(O)+o:0)+","+k+")";if(k+e>0||k+e<ne){A(t)}J.attr("transform",n)};ie(E)}};function ne(){$.style("opacity",L*.9).style("display",L?"inline":"none");J.style("opacity",L).style("display",L?"inline":"none");W.text(L===1?T.strings().close:T.strings().open)}w.on("toggleMenu",function(e){d3.event.stopPropagation();L=1-L;ne()});w.on("closeMenu",function(e){if(L===1){L=0;ne()}})});return T}T.dispatch=w;T.margin=function(e){if(!arguments.length){return t}t.top=typeof e.top!=="undefined"?e.top:t.top;t.right=typeof e.right!=="undefined"?e.right:t.right;t.bottom=typeof e.bottom!=="undefined"?e.bottom:t.bottom;t.left=typeof e.left!=="undefined"?e.left:t.left;return T};T.width=function(e){if(!arguments.length){return n}n=Math.round(e);return T};T.height=function(e){if(!arguments.length){return i}i=Math.round(e);return T};T.id=function(e){if(!arguments.length){return b}b=e;return T};T.key=function(e){if(!arguments.length){return y}y=e;return T};T.color=function(t){if(!arguments.length){return x}x=e.utils.getColor(t);return T};T.classes=function(e){if(!arguments.length){return S}S=e;return T};T.align=function(e){if(!arguments.length){return a}a=e;return T};T.position=function(e){if(!arguments.length){return s}s=e;return T};T.showAll=function(e){if(!arguments.length){return h}h=e;return T};T.showMenu=function(e){if(!arguments.length){return p}p=e;return T};T.collapsed=function(e){return m};T.rowsCount=function(e){if(!arguments.length){return _}_=e;return T};T.spacing=function(e){if(!arguments.length){return c}c=e;return T};T.gutter=function(e){if(!arguments.length){return u}u=e;return T};T.radius=function(e){if(!arguments.length){return o}o=e;return T};T.strings=function(e){if(!arguments.length){return v}v=e;return T};T.equalColumns=function(e){if(!arguments.length){return f}f=e;return T};T.enabled=function(e){if(!arguments.length){return g}g=e;return T};T.direction=function(e){if(!arguments.length){return r}r=e;return T};return T};e.models.scroll=function(){var e,t={},n,i,a,r,s,o,l;function u(c,d,f,h){var p=c.select("defs"),m=d.select("defs"),_,g,v=f.select(".nv-x.nv-axis"),b=f.select(".nv-barsWrap"),y,x;var S=0;u.init=function(e,t){S=e;o=t;this.gradients(l);this.mask(l);this.scrollTarget(l);this.backShadows(l);this.foreShadows(l);this.assignEvents(l);this.resize(l)};u.pan=function(e){var t=0,i=0,a="",r=0,s=0;if(d3.event){if(d3.event.type==="zoom"&&d3.event.sourceEvent){r=d3.event.sourceEvent.deltaX||0;s=d3.event.sourceEvent.deltaY||0;t=(Math.abs(r)>Math.abs(s)?r:s)*-1}else if(d3.event.type==="drag"){r=d3.event.dx||0;s=d3.event.dy||0;t=n?r:s}else if(d3.event.type!=="click"){return 0}i=Math.abs(s)>Math.abs(r)?s:0}S=Math.min(Math.max(S+t,e),-1);a="translate("+(n?S+",0":"0,"+S)+")";if(S+t>0||S+t<e){o(i)}x.attr("transform",a);b.attr("transform",a);v.select(".nv-wrap.nv-axis").attr("transform",a);return S};u.assignEvents=function(e){if(e){var t=d3.behavior.zoom().on("zoom",s);var n=d3.behavior.drag().origin(function(e){return e}).on("drag",s);f.call(t);g.call(t);f.call(n);g.call(n)}else{f.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);g.on("mousedown.zoom",null).on("mousewheel.zoom",null).on("mousemove.zoom",null).on("DOMMouseScroll.zoom",null).on("dblclick.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null).on("wheel.zoom",null);f.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null);g.on("mousedown.drag",null).on("mousewheel.drag",null).on("mousemove.drag",null).on("DOMMouseScroll.drag",null).on("dblclick.drag",null).on("touchstart.drag",null).on("touchmove.drag",null).on("touchend.drag",null).on("wheel.drag",null)}};u.resize=function(e){if(!e){return}var s=h.labelThickness()+h.tickPadding()/2,o=n,l=o?t.left:s,u=t.top,c=i+(o?0:t[h.orient()]-s),d=a+(o?t[h.orient()]-s:0),f=o?"height":"width",p=o?d:c;_.attr("x",o?2:-t.left).attr("y",o?0:2).attr("width",i+(o?-2:t.left)).attr("height",a+(o?t.bottom:-2));g.attr("x",l).attr("y",u).attr("width",c).attr("height",d);y.select(".nv-back-shadow-prev").attr("x",l).attr("y",u).attr(f,p);y.select(".nv-back-shadow-more").attr("x",l+(o?i-5:1)).attr("y",u+(o?0:a-6)).attr(f,p);x.select(".nv-fore-shadow-prev").attr("x",l+(o?1:0)).attr("y",u+(o?0:1)).attr(f,p);x.select(".nv-fore-shadow-more").attr("x",l+(o?r-17:0)).attr("y",u+(o?0:r-19)).attr(f,p)};u.gradients=function(t){m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-back-gradient-prev-"+e);var i=m.select("#nv-back-gradient-prev-"+e);m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-back-gradient-more-"+e);var a=m.select("#nv-back-gradient-more-"+e);m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-fore-gradient-prev-"+e);var r=m.select("#nv-fore-gradient-prev-"+e);m.append("linearGradient").attr("class","nv-scroll-gradient").attr("id","nv-fore-gradient-more-"+e);var s=m.select("#nv-fore-gradient-more-"+e);p.selectAll(".nv-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0).attr("x2",n?1:0).attr("y2",n?0:1);i.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",0);i.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1);a.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0);a.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",1);r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",0);r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1);s.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0);s.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",1)};u.mask=function(t){m.append("clipPath").attr("class","nv-scroll-mask").attr("id","nv-edge-clip-"+e).append("rect");_=p.select(".nv-scroll-mask rect");f.attr("clip-path",t?"url(#nv-edge-clip-"+e+")":"")};u.scrollTarget=function(e){d.select(".nv-scroll-background").append("rect").attr("class","nv-scroll-target").attr("fill","transparent");g=c.select(".nv-scroll-target")};u.backShadows=function(t){var i=d.select(".nv-scroll-background").append("g").attr("class","nv-back-shadow-wrap");i.append("rect").attr("class","nv-back-shadow-prev");i.append("rect").attr("class","nv-back-shadow-more");y=c.select(".nv-back-shadow-wrap");if(t){var a=n?"width":"height";y.select("rect.nv-back-shadow-prev").attr("fill","url(#nv-back-gradient-prev-"+e+")").attr(a,7);y.select("rect.nv-back-shadow-more").attr("fill","url(#nv-back-gradient-more-"+e+")").attr(a,7)}else{y.selectAll("rect").attr("fill","transparent")}};u.foreShadows=function(t){var i=d.select(".nv-scroll-background").insert("g").attr("class","nv-fore-shadow-wrap");i.append("rect").attr("class","nv-fore-shadow-prev");i.append("rect").attr("class","nv-fore-shadow-more");x=c.select(".nv-fore-shadow-wrap");if(t){var a=n?"width":"height";x.select("rect.nv-fore-shadow-prev").attr("fill","url(#nv-fore-gradient-prev-"+e+")").attr(a,20);x.select("rect.nv-fore-shadow-more").attr("fill","url(#nv-fore-gradient-more-"+e+")").attr(a,20)}else{x.selectAll("rect").attr("fill","transparent")}};return u}u.id=function(t){if(!arguments.length){return e}e=t;return u};u.margin=function(e){if(!arguments.length){return t}t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return u};u.width=function(e){if(!arguments.length){return i}i=e;return u};u.height=function(e){if(!arguments.length){return a}a=e;return u};u.vertical=function(e){if(!arguments.length){return n}n=e;return u};u.minDimension=function(e){if(!arguments.length){return r}r=e;return u};u.panHandler=function(e){if(!arguments.length){return s}s=d3.functor(e);return u};u.enable=function(e){if(!arguments.length){return l}l=e;return u};return u};e.models.scatter=function(){var t={top:0,right:0,bottom:0,left:0},n=960,i=500,a=function(t,n){return e.utils.defaultColor()(t,t.series)},r=a,s=function(e,t){return"nv-group nv-series-"+e.series},o=Math.floor(Math.random()*1e5),l=d3.scale.linear(),u=d3.scale.linear(),c=d3.scale.linear(),d=function(e){return e.x},f=function(e){return e.y},h=function(e){return e.size||1},p=function(e){return e.shape||"circle"},m=e.utils.buildLocality(),_=true,g=[],v=[],b=[],y=true,x=function(e){return!e.notActive},S=false,w=.1,L=false,E=true,M=true,k=function(e,t){return Math.sqrt(c(h(e,t))/Math.PI)},A=function(e,t){return c(h(e,t))},T=null,C=null,D=null,R=[16,256],O=false,I=d3.dispatch("elementClick","elementMouseover","elementMouseout","elementMousemove"),F=false;var N,B,U,P,Y=false;function H(m){m.each(function(m){var G=n-t.left-t.right,V=i-t.top-t.bottom,j=d3.select(this);m=m.map(function(e,t){e.values=e.values.map(function(e){e.series=t;return e});return e});var z=T&&C&&D?[]:d3.merge(m.map(function(e){return e.values.map(function(e,t){return{x:d(e,t),y:f(e,t),size:h(e,t)}})}));H.resetDimensions=function(e,a){n=e;i=a;G=e-t.left-t.right;V=a-t.top-t.bottom;$()};function $(){l.domain(T||d3.extent(z.map(function(e){return e.x}).concat(g)));u.domain(C||d3.extent(z.map(function(e){return e.y}).concat(v)));if(S&&m[0]){if(w===-1){var e=Math.sqrt(R[1]/Math.PI);l.range([0+e,G-e]);u.range([V-e,0+e])}else if(w<1){l.range([(G*w+G)/(2*m[0].values.length),G-G*(1+w)/(2*m[0].values.length)]);u.range([V,0])}else{l.range([w,G-w]);u.range([V-w,w])}}else{l.range([0,G]);u.range([V,0])}if(F){u.nice()}c.domain(D||d3.extent(z.map(function(e){return e.size}).concat(b))).range(R);if(l.domain()[0]===l.domain()[1]||u.domain()[0]===u.domain()[1])O=true;if(l.domain()[0]===l.domain()[1])l.domain()[0]?l.domain([l.domain()[0]-l.domain()[0]*.1,l.domain()[1]+l.domain()[1]*.1]):l.domain([-1,1]);if(u.domain()[0]===u.domain()[1])u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.1,u.domain()[1]+u.domain()[1]*.1]):u.domain([-1,1]);if(c.domain().length<2){c.domain([0,c.domain()])}N=N||l;B=B||u;U=U||c}$();var q=j.selectAll("g.nv-wrap.nv-scatter").data([m]);var W=q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+o);var K=W.append("defs");var J=W.append("g");var X=q.select("g");H.gradient=function(t,n){return e.utils.colorRadialGradient(t,o+"-"+n,{x:.5,y:.5,r:.5,s:0,u:"objectBoundingBox"},a(t,n),q.select("defs"))};J.append("g").attr("class","nv-groups");J.append("g").attr("class","nv-point-paths");q.classed("nv-single-point",O).attr("transform","translate("+t.left+","+t.top+")");K.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect");q.select("#nv-edge-clip-"+o+" rect").attr("width",G).attr("height",V);X.attr("clip-path",L?"url(#nv-edge-clip-"+o+")":"");function Z(){if(!y)return false;var e;function t(e,t,n,i){var a=m[i];return{series:a,point:a.values[n],pointIndex:n,seriesIndex:a.series,id:o,e:e}}if(E===true){var a=d3.merge(m.map(function(e,t){return e.values.map(function(e,n){var i=d(e,n);var a=f(e,n);return[l(i)+Math.random()*1e-4,u(a)+Math.random()*1e-4,t,n,e]}).filter(function(e,t){return x(e[4],t)})}));if(M){var r=q.select("defs").selectAll(".nv-point-clips").data([o]).enter();r.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+o);var s=q.select("#nv-points-clip-"+o).selectAll("circle").data(a);s.enter().append("circle");s.exit().remove();s.attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",function(e,t){return k(e[4],t)});q.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+o+")")}if(a.length<=3){a.push([l.range()[0]-20,u.range()[0]-20,null,null]);a.push([l.range()[1]+20,u.range()[1]+20,null,null]);a.push([l.range()[0]-20,u.range()[0]+20,null,null]);a.push([l.range()[1]+20,u.range()[1]-20,null,null])}var c=d3.geom.polygon([[-10,-10],[-10,i+10],[n+10,i+10],[n+10,-10]]);var h=d3.geom.voronoi(a).map(function(e,t){return{data:c.clip(e),series:a[t][2],point:a[t][3]}}).filter(function(e){return e.series!==null});var p=q.select(".nv-point-paths").selectAll("path").data(h);p.enter().append("path").attr("class",function(e,t){return"nv-path-"+t});p.exit().remove();p.attr("d",function(e){return"M"+e.data.join("L")+"Z"});p.on("click",function(e){if(Y)return 0;I.elementClick(t(d3.event,e,e.point,e.series))}).on("mouseover",function(e){if(Y)return 0;I.elementMouseover(t(d3.event,e,e.point,e.series))}).on("mousemove",function(e,t){I.elementMousemove(d3.event)}).on("mouseout",function(e,n){if(Y)return 0;I.elementMouseout(t(d3.event,e,e.point,e.series))})}else{q.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").style("pointer-events","auto").on("click",function(e,n){if(Y||!m[e.series])return 0;I.elementClick(t(d3.event,e,n,e.series))}).on("mouseover",function(e,n){if(Y||!m[e.series])return 0;I.elementMouseover(t(d3.event,e,n,e.series))}).on("mousemove",function(e,t){I.elementMousemove(d3.event)}).on("mouseout",function(e,n){if(Y||!m[e.series])return 0;I.elementMouseout(t(d3.event,e,e.point,e.series))})}Y=false}Y=true;var Q=q.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});Q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);d3.transition(Q.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();Q.attr("class",function(e,t){return s(e,e.series)}).attr("fill",function(e,t){return r(e,e.series)}).attr("stroke",function(e,t){return r(e,e.series)}).classed("hover",function(e){return e.hover});d3.transition(Q).style("stroke-opacity",1).style("fill-opacity",.5);if(_){var ee=Q.selectAll("circle.nv-point").data(function(e){return e.values});ee.enter().append("circle").attr("cx",function(e,t){return N(d(e,t))}).attr("cy",function(e,t){return B(f(e,t))}).attr("r",k);ee.exit().remove();d3.transition(Q.exit().selectAll("path.nv-point")).attr("cx",function(e,t){return l(d(e,t))}).attr("cy",function(e,t){return u(f(e,t))}).remove();ee.attr("class",function(e,t){return"nv-point nv-point-"+t});d3.transition(ee).attr("cx",function(e,t){return l(d(e,t))}).attr("cy",function(e,t){return u(f(e,t))}).attr("r",k)}else{var ee=Q.selectAll("path.nv-point").data(function(e){return e.values});ee.enter().append("path").attr("transform",function(e,t){return"translate("+N(d(e,t))+","+B(f(e,t))+")"}).attr("d",d3.svg.symbol().type(p).size(A));ee.exit().remove();d3.transition(Q.exit().selectAll("path.nv-point")).attr("transform",function(e,t){return"translate("+l(d(e,t))+","+u(f(e,t))+")"}).remove();ee.attr("class",function(e,t){return"nv-point nv-point-"+t});d3.transition(ee).attr("transform",function(e,t){return"translate("+l(d(e,t))+","+u(f(e,t))+")"}).attr("d",d3.svg.symbol().type(p).size(A))}clearTimeout(P);P=setTimeout(Z,300);N=l.copy();B=u.copy();U=c.copy()});return H}I.on("elementMouseover.point",function(e){if(y)d3.select(".nv-chart-"+o+" .nv-series-"+e.seriesIndex+" .nv-point-"+e.pointIndex).classed("hover",true)});I.on("elementMouseout.point",function(e){if(y)d3.select(".nv-chart-"+o+" .nv-series-"+e.seriesIndex+" .nv-point-"+e.pointIndex).classed("hover",false)});H.dispatch=I;H.color=function(e){if(!arguments.length)return a;a=e;return H};H.fill=function(e){if(!arguments.length)return r;r=e;return H};H.classes=function(e){if(!arguments.length)return s;s=e;return H};H.gradient=function(e){if(!arguments.length)return gradient;gradient=e;return H};H.x=function(e){if(!arguments.length)return d;d=d3.functor(e);return H};H.y=function(e){if(!arguments.length)return f;f=d3.functor(e);return H};H.size=function(e){if(!arguments.length)return h;h=d3.functor(e);return H};H.margin=function(e){if(!arguments.length)return t;t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return H};H.width=function(e){if(!arguments.length)return n;n=e;return H};H.height=function(e){if(!arguments.length)return i;i=e;return H};H.xScale=function(e){if(!arguments.length)return l;l=e;return H};H.yScale=function(e){if(!arguments.length)return u;u=e;return H};H.zScale=function(e){if(!arguments.length)return c;c=e;return H};H.xDomain=function(e){if(!arguments.length)return T;T=e;return H};H.yDomain=function(e){if(!arguments.length)return C;C=e;return H};H.sizeDomain=function(e){if(!arguments.length)return D;D=e;return H};H.sizeRange=function(e){if(!arguments.length)return R;R=e;return H};H.forceX=function(e){if(!arguments.length)return g;g=e;return H};H.forceY=function(e){if(!arguments.length)return v;v=e;return H};H.forceSize=function(e){if(!arguments.length)return b;b=e;return H};H.interactive=function(e){if(!arguments.length)return y;y=e;return H};H.pointActive=function(e){if(!arguments.length)return x;x=e;return H};H.padData=function(e){if(!arguments.length)return S;S=e;return H};H.padDataOuter=function(e){if(!arguments.length)return w;w=e;return H};H.clipEdge=function(e){if(!arguments.length)return L;L=e;return H};H.clipVoronoi=function(e){if(!arguments.length)return M;M=e;return H};H.useVoronoi=function(e){if(!arguments.length)return E;E=e;if(E===false){M=false}return H};H.circleRadius=function(e){if(!arguments.length)return k;k=e;return H};H.shape=function(e){if(!arguments.length)return p;p=e;return H};H.onlyCircles=function(e){if(!arguments.length)return _;_=e;return H};H.id=function(e){if(!arguments.length)return o;o=e;return H};H.singlePoint=function(e){if(!arguments.length)return O;O=e;return H};H.nice=function(e){if(!arguments.length){return F}F=e;return H};H.locality=function(t){if(!arguments.length){return m}m=e.utils.buildLocality(t);return H};return H};e.models.bubbleChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,a=false,r=false,s=true,o="ltr",l=function(e){return e.x},u=function(e){return e.y},c=[0],d,f,h=200,p=function(e){return e.y},m=function(e){return e.y},_=false,g=0,v=false,b=function(e){return},y=d3.time.format("%Y-%m-%d"),x=null,S=true,w=function(e,t,n,i,a){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"},L,E,M={},k={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},A=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var T=function(t,n,i){var a=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(a,"MMM",N.locality()):a};var C=function(t,n,i){var a=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)].key||t;return e.utils.numberFormatSI(a,2,i,N.locality())};var D=e.models.scatter().padData(true).padDataOuter(-1).size(function(e){return e.y}).sizeRange([256,1024]).singlePoint(true),R=e.models.axis().orient("bottom").valueFormat(T).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false).ticks(d3.time.months,1),O=e.models.axis().orient("left").valueFormat(C).tickPadding(7).highlightZero(false).showMaxMin(false),I=e.models.legend().align("center").key(function(e){return e.key+"%"});var F=function(t,n,i){var a=t.series.key,r=t.point.x,s=t.point.y,o=w(a,r,s,t,N),l=t.value<0?"n":"s";x=e.tooltip.show(t.e,o,l,null,n)};function N(r){r.each(function(r){var d=this,f=d3.select(this);var h=r?r.properties:{},_=r?r.data:null;var g,v,y,w,k,T=r.properties.xDataType==="datetime"||false,C=r.properties.yDataType==="currency"||false;N.container=this;N.update=function(){f.transition().call(N)};function B(e){if(e&&e.length){f.selectAll(".nv-noData").remove();return false}f.select(".nvd3.nv-wrap").remove();var a=n||parseInt(f.style("width"),10)||960,r=i||parseInt(f.style("height"),10)||400,s=f.selectAll(".nv-noData").data([N.strings().noData]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",t.left+a/2).attr("y",t.top+r/2).text(function(e){return e});return true}if(B(_)){return N}a=a&&h.title;function U(e){var t=d3.extent(d3.merge(e.map(function(e){return e.values.map(function(e,t){return d3.time.format("%Y-%m-%d").parse(l(e))})})));var n=[d3.time.month.floor(t[0]),d3.time.day.offset(d3.time.month.ceil(t[1]),-1)];return n}function P(e){function t(e){return 32-new Date(e.getFullYear(),e.getMonth(),32).getDate()}var n=d3.time.month.range(e[0],e[1]);var i=n.map(function(e){return d3.time.day.offset(d3.time.month.floor(e),t(e)/2-1)});return i}function Y(e){var t=d3.nest().key(p).entries(e);var n=1e3/t.length,i=n*.25,a=[0,1],r=[0,1],s=d3.scale.linear().domain(a).range(r),o=[],l=0;t.map(function(e,t){e.total=0;e.values=e.values.sort(function(e,t){return t.y<e.y?-1:t.y>e.y?1:0}).map(function(t){e.total+=t.y;return t});e.group=t;return e}).sort(function(e,t){return e.total<t.total?-1:e.total>t.total?1:0}).map(function(e,t){l+=e.total;a=d3.extent(e.values.map(function(e){return e.y}));r=[n*t+i,n*(t+1)-i];s.domain(a).range(r);e.values=e.values.map(function(t){t.group=e.group;t.opportunity=t.y;t.y=s(t.opportunity);return t});o.push({y:d3.min(e.values.map(function(e){return e.y})),key:e.key});return e});return o}M.disabled=_.map(function(e){return!!e.disabled});g=d3.nest().key(m).entries(_);g=g.sort(function(e,t){return parseInt(e.key,10)<parseInt(t.key,10)?-1:parseInt(e.key,10)>parseInt(t.key,10)?1:0}).map(function(e,t){e.series=t;e.classes=e.values[0].classes;e.color=e.values[0].color;return e});y=U(g);k=Y(_);w=d3.extent(d3.merge(g.map(function(e){return e.values.map(function(e,t){return u(e,t)})})).concat(c));L=D.xScale();E=D.yScale();R.scale(L).tickValues(P(y));O.scale(E).ticks(k.length).tickValues(k.map(function(e,t){return k[t].y}));N.render=function(){var r=n||parseInt(f.style("width"),10)||960,l=i||parseInt(f.style("height"),10)||400,u=r-t.left-t.right,c=l-t.top-t.bottom,d=u,p=c,m={top:0,right:0,bottom:0,left:0};var _=Math.sqrt(D.sizeRange()[1]/Math.PI),v=0,b={width:0,height:0},x="";var S=f.selectAll("g.nv-wrap.nv-bubbleChart").data([g]),L=S.enter().append("g").attr("class","nvd3 nv-wrap nv-bubbleChart").append("g"),E=S.select("g").attr("class","nv-chartWrap");L.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");E.select(".nv-background").attr("width",u+t.left+t.right).attr("height",c+t.top+t.bottom);L.append("g").attr("class","nv-titleWrap");var M=E.select(".nv-titleWrap");L.append("g").attr("class","nv-x nv-axis");var A=E.select(".nv-x.nv-axis");L.append("g").attr("class","nv-y nv-axis");var F=E.select(".nv-y.nv-axis");L.append("g").attr("class","nv-bubblesWrap");var B=E.select(".nv-bubblesWrap");L.append("g").attr("class","nv-legendWrap");var U=E.select(".nv-legendWrap");S.attr("transform","translate("+t.left+","+t.top+")");M.select(".nv-title").remove();if(a){M.append("text").attr("class","nv-title").attr("x",o==="rtl"?u:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(h.title).attr("stroke","none").attr("fill","black");b=e.utils.getTextBBox(E.select(".nv-title"));v+=b.height}if(s){I.id("legend_"+N.id()).strings(N.strings().legend).align("center").height(c-v);U.datum(g).call(I);I.arrange(u);var P=e.utils.getTextBBox(U.select(".nv-legend-link")),Y=u-b.width-6,H=a&&I.collapsed()&&Y>P.width?true:false,G=o==="rtl"||!I.collapsed()?0:u-I.width(),V=b.height;if(H){V=b.height-I.height()/2-P.height/2}else if(!a){V=-I.margin().top}U.attr("transform","translate("+G+","+V+")");v+=H?12:I.height()}p=c-v-m.top-m.bottom;D.width(d).height(p).id(N.id()).xDomain(y).yDomain(w);B.datum(g.filter(function(e){return!e.disabled})).transition().duration(N.delay()).call(D);m.top+=_;var j={top:0,right:0,bottom:0,left:0},z={top:0,right:0,bottom:0,left:0};function $(){m.left=Math.max(z.left,j.left);m.right=Math.max(z.right,j.right);m.top=Math.max(z.top,j.top);m.bottom=Math.max(z.bottom,j.bottom)}function q(){d=u-m.left-m.right;p=c-v-m.top-m.bottom;D.resetDimensions(d,p)}O.margin(m).tickFormat(function(t,n){var i=O.valueFormat()(n,k,C);return e.utils.stringEllipsify(i,f,Math.max(u*.2,75))});F.call(O);j=O.margin();$();q();R.tickSize(0).margin(m).tickFormat(function(e){return R.valueFormat()(e,null,T)});A.call(R);z=R.margin();$();q();O.tickSize(-d,0).margin(m);F.call(O);B.transition().duration(N.delay()).call(D);m.top+=v;x=m.left+",";x+=m.top+(R.orient()==="bottom"?p:0);A.attr("transform","translate("+x+")");x=m.left+(O.orient()==="left"?0:d)+",";x+=m.top;F.attr("transform","translate("+x+")");B.attr("transform","translate("+m.left+","+m.top+")")};N.render();I.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!g.filter(function(e){return!e.disabled}).length){g.map(function(e){e.disabled=false;f.selectAll(".nv-series").classed("disabled",false);return e})}M.disabled=g.map(function(e){return!!e.disabled});A.stateChange(M);f.transition().call(N.render)});A.on("tooltipShow",function(e){if(S){F(e,d.parentNode)}});A.on("tooltipMove",function(t){if(x){e.tooltip.position(d.parentNode,x,t,"s")}});A.on("tooltipHide",function(){if(S){e.tooltip.cleanup()}});A.on("changeState",function(e){if(typeof e.disabled!=="undefined"){_.forEach(function(t,n){t.disabled=e.disabled[n]});M.disabled=e.disabled}f.transition().call(N)});A.on("chartClick",function(){A.tooltipHide();if(I.enabled()){I.dispatch.closeMenu()}});D.dispatch.on("elementClick",function(e){A.chartClick();b(e)})});return N}D.dispatch.on("elementMouseover.tooltip",function(e){A.tooltipShow(e)});D.dispatch.on("elementMousemove.tooltip",function(e){A.tooltipMove(e)});D.dispatch.on("elementMouseout.tooltip",function(){A.tooltipHide()});N.dispatch=A;N.scatter=D;N.legend=I;N.xAxis=R;N.yAxis=O;d3.rebind(N,D,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","delay","color","fill","classes","gradient","locality");d3.rebind(N,D,"size","zScale","sizeDomain","forceSize","interactive","clipVoronoi","clipRadius");d3.rebind(N,R,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");N.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var r=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":a=function(){return"inherit"};r=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};break;case"data":a=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};r=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?a:function(e,t){return D.gradient(e,e.series)};D.color(a);D.fill(s);D.classes(r);I.color(a);I.classes(r);return N};N.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return N};N.width=function(e){if(!arguments.length){return n}n=e;return N};N.height=function(e){if(!arguments.length){return i}i=e;return N};N.showTitle=function(e){if(!arguments.length){return a}a=e;return N};N.showLegend=function(e){if(!arguments.length){return s}s=e;return N};N.tooltip=function(e){if(!arguments.length){return x}x=e;return N};N.tooltips=function(e){if(!arguments.length){return S}S=e;return N};N.tooltipContent=function(e){if(!arguments.length){return w}w=e;return N};N.state=function(e){if(!arguments.length){return M}M=e;return N};N.delay=function(e){if(!arguments.length){return h}h=e;return N};N.bubbleClick=function(e){if(!arguments.length){return b}b=e;return N};N.groupBy=function(e){if(!arguments.length){return p}p=e;return N};N.filterBy=function(e){if(!arguments.length){return m}m=e;return N};N.colorFill=function(e){return N};N.strings=function(e){if(!arguments.length){return k}for(var t in e){if(e.hasOwnProperty(t)){k[t]=e[t]}}return N};N.direction=function(e){if(!arguments.length){return o}o=e;O.direction(e);I.direction(e);return N};return N};e.models.funnel=function(){var t={top:0,right:0,bottom:0,left:0},n=960,i=500,a=.3,r=d3.scale.linear(),s=Math.floor(Math.random()*1e4),o=function(e){return e.x},l=function(e){return e.y},u=function(e){return e.height},c=function(e){return e.value},d=e.utils.buildLocality(),f=[0],h=true,p,m=0,_=true,g=75,v=0,b=function(e){return e},y=function(e){return e},S=function(e){return(" ("+e+")").replace(" ()","")},w=function(t,n){return e.utils.defaultColor()(t,t.series)},L=w,E=false,M=function(e,t){return"nv-group nv-series-"+e.series},k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var A=0,T=0,C=0;function D(o){o.each(function(o){var l=n-t.left-t.right,d=i-t.top-t.bottom,x=d3.select(this),R=5,O=5,I=0,F=0,N=0;o.forEach(function(e,t){e.values.forEach(function(e){e.index=t;F+=parseFloat(e.value)})});function B(){A=ce(N);T=de();C=fe(N)}function U(){var e=ue(T,A),t=A-2*a*T,n=0,i=24;o.map(function(r,s){r.values=r.values.map(function(r){r.height=0;if(F>0){r.height=le(e*r.value/F,t)}if(r.height<i/2){n+=r.height-i/2;r.height=i/2}else if(n<0&&r.height+n>i/2){r.height+=n;n=0}t+=2*a*r.height;return r});return r});o=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(u)(o);var s=p?[]:d3.extent(d3.merge(o.map(function(e){return e.values.map(function(e,t){return u(e,t)+e.y0})})).concat(f));r.domain(p||s).range([T,0])}B();U();var P=x.selectAll("g.nv-wrap.nv-funnel").data([o]);var Y=P.enter().append("g").attr("class","nvd3 nv-wrap nv-funnel");var H=Y.append("defs");var G=Y.append("g");var V=P.select("g");D.gradient=function(t,n,i){return e.utils.colorLinearGradient(t,s+"-"+n,i,w(t,n),P.select("defs"))};G.append("g").attr("class","nv-groups");P.attr("transform","translate("+t.left+","+t.top+")");H.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");P.select("#nv-edge-clip-"+s+" rect").attr("width",l+1).attr("height",d+1);V.attr("clip-path",h?"url(#nv-edge-clip-"+s+")":"");if(E){var j=e.utils.createTexture(H,s)}var z=P.select(".nv-groups").selectAll(".nv-group").data(o,function(e){return e.series});z.exit().transition().duration(v).selectAll("g.nv-slice").delay(function(e,t){return t*m/o[0].values.length}).attr("points",function(e){return oe(e,0,A)}).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();z.exit().transition().duration(v).selectAll("g.nv-label-value").delay(function(e,t){return t*m/o[0].values.length}).attr("y",0).attr("transform","translate("+C+",0)").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();z.exit().remove();z.enter().append("g").attr("class","nv-group");var $=P.select(".nv-groups").selectAll(".nv-group");$.style("stroke-opacity",1e-6).style("fill-opacity",1e-6);$.attr("class",M).attr("fill",L).classed("hover",function(e){return e.hover}).classed("nv-active",function(e){return e.active==="active"}).classed("nv-inactive",function(e){return e.active==="inactive"}).style({stroke:"#FFFFFF","stroke-width":2});$.transition().duration(v).style("stroke-opacity",1).style("fill-opacity",1);var q=z.selectAll("g.nv-slice").data(function(e){return e.values},function(e){return e.series});q.exit().remove();var W=q.enter().append("g").attr("class","nv-slice");var K=$.selectAll("g.nv-slice");W.append("polygon").attr("class","nv-base");K.selectAll(".nv-base").attr("points",function(e){return oe(e,0,A)});if(E){W.append("polygon").attr("class","nv-texture");K.selectAll(".nv-texture").attr("points",function(e){return oe(e,0,A)}).style("mask","url("+j+")")}K.on("mouseover",function(e,t){d3.select(this).classed("hover",true);var n=J(d3.event,e,t);k.elementMouseover(n)}).on("mousemove",function(e,t){k.elementMousemove(d3.event)}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);k.elementMouseout()}).on("click",function(e,t){d3.event.stopPropagation();var n=J(d3.event,e,t);k.elementClick(n)}).on("dblclick",function(e,t){d3.event.stopPropagation();var n=J(d3.event,e,t);k.elementDblClick(n)});function J(e,t,n){return{value:c(t,n),point:t,id:s,series:o[t.index],pointIndex:n,seriesIndex:t.series,e:e}}var X=z.selectAll(".nv-label-value").data(function(e){return e.values},function(e){return e.series});X.exit().remove();X.enter().append("g").attr("class","nv-label-value");var Z=$.selectAll("g.nv-label-value");Z.attr("transform","translate("+C+",0)");var Q=Z.filter(".nv-label-side");function ee(){Z.selectAll("polyline").remove();Z.selectAll("rect").remove();Z.selectAll("text").remove();Z.append("rect").attr("class","nv-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("pointer-events","none").style("stroke-width",0).style("fill-opacity",0);Z.append("text").text(function(e){return b(o[e.index].key)}).call(Se,"nv-label",.85,"middle",ye);Z.select(".nv-label").call(ae,_?ie:re,he,function(e,t){Se(e,"nv-label",t,"middle",ye)});Z.append("text").text(function(e){return y(e.value||e.label||e)}).call(Se,"nv-value",.85,"middle",ye);Z.select(".nv-value").append("tspan").text(function(e){return S(o[e.index].count)});Z.call(we);Z.call(_e);Z.call(Le);Z.classed("nv-label-side",function(e){return e.tooTall||e.tooWide})}function te(){Q=Z.filter(".nv-label-side");Q.selectAll(".nv-label").remove();Q.selectAll("rect").remove();Q.selectAll("polyline").remove();Q.append("text").text(function(e){return b(o[e.index].key)}).call(Se,"nv-label",.85,"start","#555");Q.select(".nv-label").call(ae,_?ie:re,_?pe:se,function(e,t){Se(e,"nv-label",t,"start","#555")});Q.call(we);Q.select(".nv-value").style({"text-anchor":"start",fill:"#555"});Q.call(ge);var e=0;Q.reverse().each(function(t,n){if(!e){t.labelBottom=t.labelTop+t.labelHeight+O;e=t.labelBottom;return}t.labelTop=Math.max(e,t.labelTop);t.labelBottom=t.labelTop+t.labelHeight+O;e=t.labelBottom});Q.reverse();if(e&&e-O>d3.max(r.range())){e=0;Q.each(function(t,n){if(!e){t.labelBottom=d3.max(r.range())-1;t.labelTop=t.labelBottom-t.labelHeight;e=t.labelTop;return}t.labelBottom=Math.min(e,t.labelBottom);t.labelTop=t.labelBottom-t.labelHeight-O;e=t.labelTop});if(e<0){Q.each(function(t,n){t.labelTop-=e;t.labelBottom-=e})}}e=0;Q.call(be)}function ne(){ee();te()}ne();B();U();ne();B();U();ne();B();K.selectAll("polygon").attr("points",function(e){return oe(e,1,A)});if(E){K.selectAll(".nv-texture").style("fill",ye)}Z.attr("transform",function(e){var t=e.tooTall?0:C,n=e.tooTall?0:e.labelTop;return"translate("+t+","+n+")"});Q.attr("transform",function(e){return"translate("+I+","+e.labelTop+")"});Q.append("polyline").attr("class","nv-label-leader").style({"fill-opacity":0,stroke:"#999","stroke-width":1,"stroke-opacity":.5});Q.reverse();Q.selectAll("polyline").call(ve);Q.reverse();function ie(e,t,n,i){var a=t.text(),r=parseFloat(t.attr("dy")),s,o=a.split(/\s+/).reverse(),l=[],u=0,c=n(e,0),d=d3.select(t.node().parentNode);t.text(null);while(s=o.pop()){l.push(s);t.text(l.join(" "));if(t.node().getComputedTextLength()>c&&l.length>1){l.pop();t.text(l.join(" "));l=[s];t=d.append("text");t.text(s).call(i,++u*1.1+r)}}}function ae(e,t,n,i){e.each(function(e){var a=d3.select(this);t(e,a,n,i)})}function re(t,n,i,a){var r=n.text(),s=parseFloat(n.attr("dy")),o=i(t);n.text(e.utils.stringEllipsify(r,x,o)).call(a,s)}function se(e){var t=Math.max(l-d/1.1,g),n=r(e.y0),i=n*a,s=t+i,o=Math.abs(e.labelBottom-n),u=o*a,c=R+u+R+R,f=s-c;return Math.max(f,g)}function oe(e,t,n){var i=r(e.y0),s=r(e.y0+e.y),o=n/2-a*i,l=n/2-a*s,u=C;return u-o+","+i*t+" "+(u-l)+","+s*t+" "+(u+l)+","+s*t+" "+(u+o)+","+i*t}function le(e,t){var n=t/a/2;return Math.abs(Math.sqrt(e/a+n*n))-n}function ue(e,t){return e*(t-e*a)}function ce(e){return Math.round(Math.max(Math.min(d/1.1,l-e),40))}function de(){return Math.min(A*1.1,(A-A*a)/(2*a))}function fe(e){return A/2+e}function he(e){var t=A,n=r(e.y0+e.y1/2);return t-n*a*2}function pe(e,t){var n=Math.max((l-A)/2,t),i=r(e.y0+e.y1);return n+i*a}function me(e){return d3.select(e).node().getBoundingClientRect()}function _e(e){e.each(function(e){var t=me(this);e.labelHeight=t.height;e.labelWidth=t.width;e.labelTop=r(e.y0+e.y/2)-e.labelHeight/2;e.labelBottom=e.labelTop+e.labelHeight+O;e.y1=e.y-e.labelHeight;e.tooWide=e.labelWidth>he(e);e.tooTall=e.labelHeight>e.height-4})}function ge(e){e.each(function(e){var t=me(this);e.labelHeight=t.height;e.labelWidth=t.width;e.labelTop=r(e.y0+e.y);e.labelBottom=e.labelTop+e.labelHeight+O})}function ve(e,t){var n=e.length;e.each(function(t,i,s){t.y1=0;var o=s?d3.select(e[s-1][i]).data()[0]:null,l=s<n-1?d3.select(e[s+1][i]).data()[0]:null,u=Math.round(t.labelHeight)+.5,c=Math.round(r(t.y0)-t.labelTop)-.5,d=o?o.labelWidth-(t.labelBottom-o.labelBottom)*a:0,f=t.labelWidth,h=l&&u<c?l.labelWidth:0,p=Math.round(Math.max(d,f,h))+R,m=Math.round(pe(t,N))-I-R,o=0+","+u+" "+p+","+u+" "+(p+Math.abs(u-c)*a)+","+c+" "+m+","+c;t.labelWidth=p;d3.select(this).attr("points",o)})}function be(e){var t=(l-A)/2,n=0;e.each(function(e){var t=r(e.y0),i=e.labelBottom>=t?1:0,s=Math.abs(e.labelBottom+R-t)*a,o=t*a,l=e.labelWidth+s+R*3-o;if(l>=n){n=l}});n=Math.round(n*10)/10;if(n<=0){I=t;N=t}else if(n>0&&n<t){I=t-n;N=t}else{I=0;N=n}}function ye(t,n,i){var a=d3.select(this.parentNode).style("fill");return e.utils.getTextContrast(a,n)}function xe(t){var n=e.utils.isRTLChar(t.slice(-1)),i=n?"rtl":"ltr";return"ltr"}function Se(e,t,n,i,a){e.attr("x",0).attr("y",0).attr("dy",n+"em").attr("class",t).attr("direction",function(){return xe(e.text())}).style({"pointer-events":"none","text-anchor":i,fill:a})}function we(e){e.each(function(e){var t=d3.select(this),n=t.selectAll(".nv-label")[0].length+1,i=.85+n-1+"em";t.select(".nv-value").attr("dy",i)})}function Le(e){e.each(function(e,t){var n=d3.select(this);n.select(".nv-label-box").attr("x",(e.labelWidth+6)/-2).attr("y",-2).attr("width",e.labelWidth+6).attr("height",e.labelHeight+4).attr("rx",2).attr("ry",2).style("fill-opacity",1)})}});return D}D.dispatch=k;D.color=function(e){if(!arguments.length)return w;w=e;return D};D.fill=function(e){if(!arguments.length)return L;L=e;return D};D.classes=function(e){if(!arguments.length)return M;M=e;return D};D.gradient=function(e){if(!arguments.length)return gradient;gradient=e;return D};D.x=function(e){if(!arguments.length)return o;o=e;return D};D.y=function(e){if(!arguments.length)return l;l=e;return D};D.margin=function(e){if(!arguments.length)return t;t=e;return D};D.width=function(e){if(!arguments.length)return n;n=e;return D};D.height=function(e){if(!arguments.length)return i;i=e;return D};D.xScale=function(e){if(!arguments.length)return x;x=e;return D};D.yScale=function(e){if(!arguments.length)return r;r=e;return D};D.yDomain=function(e){if(!arguments.length)return p;p=e;return D};D.forceY=function(e){if(!arguments.length)return f;f=e;return D};D.id=function(e){if(!arguments.length)return s;s=e;return D};D.delay=function(e){if(!arguments.length)return m;m=e;return D};D.clipEdge=function(e){if(!arguments.length)return h;h=e;return D};D.fmtKey=function(e){if(!arguments.length)return b;b=e;return D};D.fmtValue=function(e){if(!arguments.length)return y;y=e;return D};D.fmtCount=function(e){if(!arguments.length)return S;S=e;return D};D.wrapLabels=function(e){if(!arguments.length)return _;_=e;return D};D.minLabelWidth=function(e){if(!arguments.length)return g;g=e;return D};D.textureFill=function(e){if(!arguments.length)return E;E=e;return D};D.locality=function(t){if(!arguments.length){return d}d=e.utils.buildLocality(t);return D};return D};e.models.funnelChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,a=false,r=true,s="ltr",o=null,l=true,u=function(e,t,n,i,a){return"<h3>"+e+" - "+t+"</h3>"+"<p>"+n+"</p>"},c,d,f=0,h={},p={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},m=d3.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var _=e.models.funnel(),g=e.models.legend().align("center"),v=d3.scale.linear();var b=function(t,n,i){var a=t.series.key,r=i.total?(t.point.value*100/i.total).toFixed(1):100,s=t.point.value,l=u(a,r,s,t,x),c=t.value<0?"n":"s";o=e.tooltip.show(t.e,l,c,null,n)};var y=function(e,t,n){return};function x(u){u.each(function(u){var c=u.properties,p=u.data,S=d3.select(this),w=this,L=(n||parseInt(S.style("width"),10)||960)-t.left-t.right,E=(i||parseInt(S.style("height"),10)||400)-t.top-t.bottom,M=L,k=E,A={top:0,right:0,bottom:0,left:0},T=30;x.update=function(){S.transition().duration(f).call(x)};x.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values[0].active=t.active;if(t.active==="active"){p.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";return e})}if(!p.filter(function(e){return e.active==="active"}).length){p.map(function(e){e.active="";return e})}S.call(x)};x.container=this;if(!p||!p.length||!p.filter(function(e){return e.values.length}).length){q();return x}p.forEach(function(e,t){e.series=t;e.values.forEach(function(t,n){t.series=e.series;t.index=n;if(typeof t.value=="undefined"){t.value=t.y}});e.total=d3.sum(e.values,function(e,t){return e.value});if(!e.total){e.disabled=true}});var C=p.filter(function(e,t){return!e.disabled});if(!C.length){C=[{values:[]}]}var D=d3.sum(C,function(e){return e.total});var R=d3.sum(C,function(e){return e.count});c.total=D;h.disabled=p.map(function(e){return!!e.disabled});d=_.yScale();if(!D){q();return x}else{S.selectAll(".nv-noData").remove()}var O=S.selectAll("g.nv-wrap.nv-funnelChart").data([C]),I=O.enter().append("g").attr("class","nvd3 nv-wrap nv-funnelChart").append("g"),F=O.select("g").attr("class","nv-chartWrap");I.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");F.select(".nv-background").attr("width",L+t.left+t.right).attr("height",E+t.top+t.bottom);I.append("g").attr("class","nv-titleWrap");var N=F.select(".nv-titleWrap");I.append("g").attr("class","nv-funnelWrap");var B=F.select(".nv-funnelWrap");I.append("g").attr("class","nv-legendWrap");var U=F.select(".nv-legendWrap");O.attr("transform","translate("+t.left+","+t.top+")");var P={width:0,height:0};N.select(".nv-title").remove();if(a&&c.title){N.append("text").attr("class","nv-title").attr("x",s==="rtl"?L:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(c.title).attr("stroke","none").attr("fill","black");P=e.utils.getTextBBox(F.select(".nv-title"));A.top+=P.height+12}if(r){g.id("legend_"+x.id()).strings(x.strings().legend).align("center").height(E-A.top);U.datum(p).call(g);g.arrange(L);var Y=e.utils.getTextBBox(U.select(".nv-legend-link")),H=L-P.width-6,G=a&&g.collapsed()&&H>Y.width?true:false,V=s==="rtl"||!g.collapsed()?0:L-g.width(),j=P.height;if(G){j=P.height-g.height()/2-Y.height/2}else if(!a){j=-g.margin().top}U.attr("transform","translate("+V+","+j+")");A.top+=G?0:g.height()-12}k=E-A.top-A.bottom;_.width(M).height(k);B.datum(C).attr("transform","translate("+A.left+","+A.top+")").call(_);var z=$(v,C);function $(e,t){var n=[[0]];var i=t.filter(function(e){return!e.disabled}).map(function(e){return e.values.map(function(e,t){return e.y0+e.y})});var a=d3.merge(n.concat(i));v.domain(a).range(a.map(function(e){return d(e)}));return a}function q(){S.select(".nvd3.nv-wrap").remove();var e=S.selectAll(".nv-noData").data([x.strings().noData]);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",t.left+L/2).attr("y",t.top+E/2).text(function(e){return e})}g.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!p.filter(function(e){return!e.disabled}).length){p.map(function(e){e.disabled=false;return e})}if(!p.filter(function(e){return e.active==="active"}).length){p.map(function(e){e.active="";return e})}h.disabled=p.map(function(e){return!!e.disabled});m.stateChange(h);S.transition().duration(f).call(x)});m.on("tooltipShow",function(e){if(l){b(e,w.parentNode,c)}});m.on("tooltipMove",function(t){if(o){e.tooltip.position(w.parentNode,o,t)}});m.on("tooltipHide",function(){if(l){e.tooltip.cleanup()}});m.on("changeState",function(e){if(typeof e.disabled!=="undefined"){C.forEach(function(t,n){t.disabled=e.disabled[n]});h.disabled=e.disabled}S.transition().duration(f).call(x)});m.on("chartClick",function(){if(g.enabled()){g.dispatch.closeMenu()}});_.dispatch.on("elementClick",function(e){m.chartClick();y(p,e,x)})});return x}_.dispatch.on("elementMouseover.tooltip",function(e){m.tooltipShow(e)});_.dispatch.on("elementMousemove.tooltip",function(e){m.tooltipMove(e)});_.dispatch.on("elementMouseout.tooltip",function(){m.tooltipHide()});x.dispatch=m;x.funnel=_;x.legend=g;d3.rebind(x,_,"id","x","y","xDomain","yDomain","forceX","forceY","color","fill","classes","gradient","locality");d3.rebind(x,_,"fmtKey","fmtValue","fmtCount","clipEdge","delay","wrapLabels","minLabelWidth");x.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var r=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":a=function(){return"inherit"};r=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};break;case"data":a=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};r=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?a:function(e,t){var n={orientation:i.orientation||"vertical",position:i.position||"middle"};return _.gradient(e,e.series,n)};_.color(a);_.fill(s);_.classes(r);g.color(a);g.classes(r);return x};x.x=function(e){if(!arguments.length){return _.x()}_.x(e);return x};x.y=function(e){if(!arguments.length){return _.y()}_.y(e);return x};x.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return x};x.width=function(e){if(!arguments.length){return n}n=e;return x};x.height=function(e){if(!arguments.length){return i}i=e;return x};x.showTitle=function(e){if(!arguments.length){return a}a=e;return x};x.showLegend=function(e){if(!arguments.length){return r}r=e;return x};x.tooltip=function(e){if(!arguments.length){return o}o=e;return x};x.tooltips=function(e){if(!arguments.length){return l}l=e;return x};x.tooltipContent=function(e){if(!arguments.length){return u}u=e;return x};x.state=function(e){if(!arguments.length){return h}h=e;return x};x.strings=function(e){if(!arguments.length){return p}for(var t in e){if(e.hasOwnProperty(t)){p[t]=e[t]}}return x};x.seriesClick=function(e){if(!arguments.length){return y}y=e;return x};x.direction=function(e){if(!arguments.length){return s}s=e;g.direction(e);return x};return x};e.models.gauge=function(){var t={top:0,right:0,bottom:0,left:0},n=null,i=null,a=true,r=function(e){return e.values},s=function(e){return e.key},o=function(e){return e.y},l=e.utils.buildLocality(),u=Math.floor(Math.random()*1e4),c=d3.format(",g"),d=d3.format(",.f"),f=true,h=true,p=function(t,n){return e.utils.defaultColor()(t,t.series)},m=p,_=function(e,t){return"nv-arc-path nv-series-"+e.series},g=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var v=50,b=5,y=5,x=90,S=0,w=10,L=-90,E=90,M=750,k=10;function A(a){a.each(function(a){var r=a.properties,s=a.data;var o=n-t.left-t.right,l=i-t.top-t.bottom,f=Math.min(o/2,l)/((100+k)/100),y=d3.select(this),T=E-L,C=d3.scale.linear().range([0,1]).domain([S,w]),D=0,R=s.map(function(e,t){var n={key:e.key,series:e.series,y0:D,y1:e.y,color:e.color,classes:e.classes};D=e.y;return n}),O=[0].concat(s.map(function(e){return e.y})),I=function(e){return e*f/100},F=r.values[0].t;var N=y.selectAll("g.nv-wrap.nv-gauge").data([s]);var B=N.enter().append("g").attr("class","nvd3 nv-wrap nv-gauge");var U=B.append("defs");var P=B.append("g");var Y=N.select("g");A.gradient=function(t,n){return e.utils.colorRadialGradient(t,u+"-"+n,{x:0,y:0,r:f,s:v/100,u:"userSpaceOnUse"},p(t,n),N.select("defs"))};P.append("g").attr("class","nv-arc-group");P.append("g").attr("class","nv-labels");P.append("g").attr("class","nv-pointer");P.append("g").attr("class","nv-odometer");N.attr("transform","translate("+(t.left/2+t.right/2+I(k))+","+(t.top+I(k))+")");var H=d3.svg.arc().innerRadius(I(v)).outerRadius(f).startAngle(function(e,t){return K(J(e.y0))}).endAngle(function(e,t){return K(J(e.y1))});var G=Y.select(".nv-arc-group").attr("transform",X);G.selectAll(".nv-arc-path").data(R).enter().append("path").attr("class","nv-arc-path").attr("stroke","#ffffff").attr("stroke-width",3).attr("d",H).on("mouseover",function(e,t){d3.select(this).classed("hover",true);g.elementMouseover({point:e,pointIndex:t,e:d3.event,id:u})}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);g.elementMouseout({point:e,index:t,id:u})}).on("mousemove",function(e,t){g.elementMousemove(d3.event)}).on("click",function(e,t){g.elementClick({point:e,index:t,e:d3.event,id:u});d3.event.stopPropagation()}).on("dblclick",function(e,t){g.elementDblClick({point:e,index:t,e:d3.event,id:u});d3.event.stopPropagation()});G.selectAll(".nv-arc-path").transition().duration(10).attr("class",_).attr("fill",m).attr("d",H);var V=Y.select(".nv-labels").attr("transform",X);V.selectAll("text").transition().duration(0).attr("transform",function(e){return"rotate("+J(e)+") translate(0,"+(-f-I(1.5))+")"}).style("font-size",I(.6)+"em");V.selectAll("text").data(O).enter().append("text").attr("transform",function(e){return"rotate("+J(e)+") translate(0,"+(-f-I(1.5))+")"}).text(c).style("text-anchor","middle").style("font-size",I(.6)+"em");if(h){var j=[[Math.round(I(b)/2),0],[0,-Math.round(I(x))],[-Math.round(I(b)/2),0],[0,Math.round(I(b))],[Math.round(I(b)/2),0]];var z=Y.select(".nv-pointer").attr("transform",X);z.selectAll("path").transition().duration(120).attr("d",d3.svg.line().interpolate("monotone"));var $=z.selectAll("path").data([j]).enter().append("path").attr("d",d3.svg.line().interpolate("monotone")).attr("transform","rotate("+L+")");W(F);Y.selectAll(".nv-odom").remove();Y.select(".nv-odomText").transition().duration(0).style("font-size",I(.7)+"em");Y.select(".nv-odometer").append("text").attr("class","nv-odom nv-odomText").attr("x",0).attr("y",0).attr("text-anchor","middle").text(d(F)).style("stroke","none").style("fill","black").style("font-size",I(.7)+"em");var q=Y.select(".nv-odomText").node().getBoundingClientRect();Y.select(".nv-odometer").insert("path",".nv-odomText").attr("class","nv-odom nv-odomBox").attr("d",e.utils.roundedRectangle(-q.width/2,-q.height+I(1.5),q.width+I(4),q.height+I(2),I(2))).attr("fill","#eeffff").attr("stroke","black").attr("stroke-width","2px").attr("opacity",.8);Y.select(".nv-odometer").attr("transform","translate("+f+","+(t.top+I(70)+q.width)+")")}else{Y.select(".nv-odometer").select(".nv-odomText").remove();Y.select(".nv-odometer").select(".nv-odomBox").remove();Y.select(".nv-pointer").selectAll("path").remove()}function W(e){$.transition().duration(M).ease("elastic").attr("transform","rotate("+J(e)+")")}function K(e){return e*Math.PI/180}function J(e){return L+C(e)*T}function X(){return"translate("+f+","+f+")"}A.setGaugePointer=W});return A}A.dispatch=g;A.color=function(e){if(!arguments.length)return p;p=e;return A};A.fill=function(e){if(!arguments.length)return m;m=e;return A};A.classes=function(e){if(!arguments.length)return _;_=e;return A};A.gradient=function(e){if(!arguments.length)return gradient;gradient=e;return A};A.margin=function(e){if(!arguments.length)return t;t=e;return A};A.width=function(e){if(!arguments.length)return n;n=e;return A};A.height=function(e){if(!arguments.length)return i;i=e;return A};A.values=function(e){if(!arguments.length)return r;r=e;return A};A.x=function(e){if(!arguments.length)return s;s=e;return A};A.y=function(e){if(!arguments.length)return o;o=d3.functor(e);return A};A.showLabels=function(e){if(!arguments.length)return f;f=e;return A};A.id=function(e){if(!arguments.length)return u;u=e;return A};A.valueFormat=function(e){if(!arguments.length)return d;d=e;return A};A.labelThreshold=function(e){if(!arguments.length)return labelThreshold;labelThreshold=e;return A};A.ringWidth=function(e){if(!arguments.length)return v;v=e;return A};A.pointerWidth=function(e){if(!arguments.length)return b;b=e;return A};A.pointerTailLength=function(e){if(!arguments.length)return y;y=e;return A};A.pointerHeadLength=function(e){if(!arguments.length)return x;x=e;return A};A.minValue=function(e){if(!arguments.length)return S;S=e;return A};A.maxValue=function(e){if(!arguments.length)return w;w=e;return A};A.minAngle=function(e){if(!arguments.length)return L;L=e;return A};A.maxAngle=function(e){if(!arguments.length)return E;E=e;return A};A.transitionMs=function(e){if(!arguments.length)return M;M=e;return A};A.labelFormat=function(e){if(!arguments.length)return c;c=e;return A};A.labelInset=function(e){if(!arguments.length)return k;k=e;return A};A.setPointer=function(e){if(!arguments.length)return A.setGaugePointer;A.setGaugePointer(e);return A};A.isRendered=function(e){return svg!==undefined};A.showPointer=function(e){if(!arguments.length)return h;h=e;return A};A.locality=function(t){if(!arguments.length){return l}l=e.utils.buildLocality(t);return A};return A};e.models.gaugeChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,a=false,r=true,s="ltr",o=null,l=true,u=function(e,t,n,i){return"<h3>"+e+"</h3>"+"<p>"+t+"</p>"},c,d,f={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},h=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove");var p=e.models.gauge(),m=e.models.legend().align("center");var _=function(t,n){var i=p.valueFormat()(t.point.y1-t.point.y0),a=u(t.point.key,i,t,g);o=e.tooltip.show(t.e,a,null,null,n)};function g(u){u.each(function(u){var c=u.properties,d=u.data,f=d3.select(this),v=this,b=(n||parseInt(f.style("width"),10)||960)-t.left-t.right,y=(i||parseInt(f.style("height"),10)||400)-t.top-t.bottom,x=b,S=y,w={top:0,right:0,bottom:0,left:0};g.update=function(){f.transition().call(g)};g.container=this;if(!d||!d.length){var L=f.selectAll(".nv-noData").data([g.strings().noData]);L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");L.attr("x",t.left+b/2).attr("y",t.top+y/2).text(function(e){return e});return g}else{f.selectAll(".nv-noData").remove()}d.map(function(e,t){e.series=t});var E=f.selectAll("g.nv-wrap.nv-gaugeChart").data([d]),M=E.enter().append("g").attr("class","nvd3 nv-wrap nv-gaugeChart").append("g"),k=E.select("g").attr("class","nv-chartWrap");M.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");k.select(".nv-background").attr("width",b+t.left+t.right).attr("height",y+t.top+t.bottom);M.append("g").attr("class","nv-titleWrap");var A=k.select(".nv-titleWrap");M.append("g").attr("class","nv-gaugeWrap");var T=k.select(".nv-gaugeWrap");M.append("g").attr("class","nv-legendWrap");var C=k.select(".nv-legendWrap");E.attr("transform","translate("+t.left+","+t.top+")");var D={width:0,height:0};A.select(".nv-title").remove();if(a&&c.title){A.append("text").attr("class","nv-title").attr("x",s==="rtl"?b:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(c.title).attr("stroke","none").attr("fill","black");D=e.utils.getTextBBox(k.select(".nv-title"));w.top+=D.height+12}var R={width:0,height:0};if(r){m.id("legend_"+g.id()).strings(g.strings().legend).align("center").height(y-w.top);C.datum(d).call(m);m.arrange(b);var R=e.utils.getTextBBox(C.select(".nv-legend-link")),O=b-D.width-6,I=a&&m.collapsed()&&O>R.width?true:false,F=s==="rtl"||!m.collapsed()?0:b-m.width(),N=D.height;if(I){N=D.height-m.height()/2-R.height/2}else if(!a){N=-m.margin().top}C.attr("transform","translate("+F+","+N+")");w.top+=I?0:m.height()-12}S=y-w.top-w.bottom;p.width(x).height(S);T.datum(u).attr("transform","translate("+w.left+","+w.top+")").transition().call(p);h.on("tooltipShow",function(e){if(l){_(e,v.parentNode)}});h.on("tooltipMove",function(t){if(o){e.tooltip.position(v.parentNode,o,t)}});h.on("tooltipHide",function(){if(l){e.tooltip.cleanup()}});h.on("chartClick",function(){if(m.enabled()){m.dispatch.closeMenu()}})});return g}p.dispatch.on("elementMouseover.tooltip",function(e){h.tooltipShow(e)});p.dispatch.on("elementMousemove.tooltip",function(e){h.tooltipMove(e)});p.dispatch.on("elementMouseout.tooltip",function(){h.tooltipHide()});g.dispatch=h;g.gauge=p;g.legend=m;d3.rebind(g,p,"id","x","y","color","fill","classes","gradient","locality");d3.rebind(g,p,"valueFormat","values","showLabels","showPointer","setPointer","ringWidth","labelThreshold","maxValue","minValue","transitionMs");g.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var r=function(e,t){return"nv-arc-path nv-series-"+e.series};switch(n){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":a=function(){return"inherit"};r=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-arc-path nv-series-"+e.series+" nv-fill"+n};break;case"data":a=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};r=function(e,t){return"nv-arc-path nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?a:function(e,t){return p.gradient(e,e.series)};p.color(a);p.fill(s);p.classes(r);m.color(a);m.classes(r);return g};g.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return g};g.width=function(e){if(!arguments.length){return n}n=e;return g};g.height=function(e){if(!arguments.length){return i}i=e;return g};g.showTitle=function(e){if(!arguments.length){return a}a=e;return g};g.showLegend=function(e){if(!arguments.length){return r}r=e;return g};g.tooltip=function(e){if(!arguments.length){return o}o=e;return g};g.tooltips=function(e){if(!arguments.length){return l}l=e;return g};g.tooltipContent=function(e){if(!arguments.length){return u}u=e;return g};g.strings=function(e){if(!arguments.length){return f}for(var t in e){if(e.hasOwnProperty(t)){f[t]=e[t]}}return g};g.direction=function(e){if(!arguments.length){return s}s=e;m.direction(e);return g};return g};e.models.line=function(){var t=e.models.scatter();var n={top:0,right:0,bottom:0,left:0},i=960,a=500,r=function(e){return e.x},s=function(e){return e.y},o=function(e,t){return!isNaN(s(e,t))&&s(e,t)!==null},l=function(e){return e&&e.area||false},u=false,c,d,f="linear",h=function(t,n){return e.utils.defaultColor()(t,t.series)},p=h,m=function(e,t){return"nv-group nv-series-"+e.series};var _,g;function v(p){p.each(function(p){var b=i-n.left-n.right,y=a-n.top-n.bottom,x=d3.select(this);c=t.xScale();d=t.yScale();_=_||c;g=g||d;var S=x.selectAll("g.nv-wrap.nv-line").data([p]);var w=S.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var L=w.append("defs");var E=w.append("g");var M=S.select("g");v.gradient=function(t,n,i){return e.utils.colorLinearGradient(t,v.id()+"-"+n,i,h(t,n),S.select("defs"))};E.append("g").attr("class","nv-groups");E.append("g").attr("class","nv-scatterWrap");S.attr("transform","translate("+n.left+","+n.top+")");t.width(b).height(y);var k=S.select(".nv-scatterWrap");k.call(t);L.append("clipPath").attr("id","nv-edge-clip-"+t.id()).append("rect");S.select("#nv-edge-clip-"+t.id()+" rect").attr("width",b).attr("height",y);M.attr("clip-path",u?"url(#nv-edge-clip-"+t.id()+")":"");k.attr("clip-path",u?"url(#nv-edge-clip-"+t.id()+")":"");var A=S.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});A.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);d3.transition(A.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove();A.classed("hover",function(e){return e.hover}).attr("class",m).attr("fill",h).attr("stroke",h);d3.transition(A).style("stroke-opacity",1).style("fill-opacity",.5);var T=A.selectAll("path.nv-area").data(function(e){return l(e)?[e]:[]});T.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(f).defined(o).x(function(e,t){return _(r(e,t))}).y0(function(e,t){return g(s(e,t))}).y1(function(e,t){return g(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[e.values])});T.exit().remove();d3.transition(A.exit().selectAll("path.nv-area")).attr("d",function(e){return d3.svg.area().interpolate(f).defined(o).x(function(e,t){return _(r(e,t))}).y0(function(e,t){return g(s(e,t))}).y1(function(e,t){return g(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[e.values])});d3.transition(T).attr("d",function(e){return d3.svg.area().interpolate(f).defined(o).x(function(e,t){return c(r(e,t))}).y0(function(e,t){return d(s(e,t))}).y1(function(e,t){return g(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[e.values])});var C=A.selectAll("path.nv-line").data(function(e){if(!e.values||!e.values.length){return[null]}if(e.values.length>1){return[e.values]}var t=c.domain().map(function(t,n){if(Array.isArray(e.values[0])){return[t,e.values[0][1]]}else{var i=JSON.parse(JSON.stringify(e.values[0]));i.x=t;return i}});return[t]});C.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(f).defined(o).x(function(e,t){return _(r(e,t))}).y(function(e,t){return g(s(e,t))}));d3.transition(A.exit().selectAll("path.nv-line")).attr("d",d3.svg.line().interpolate(f).defined(o).x(function(e,t){return _(r(e,t))}).y(function(e,t){return g(s(e,t))}));d3.transition(C).attr("d",d3.svg.line().interpolate(f).defined(o).x(function(e,t){return c(r(e,t))}).y(function(e,t){return d(s(e,t))}));_=c.copy();g=d.copy()});return v}v.dispatch=t.dispatch;v.scatter=t;d3.rebind(v,t,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","useVoronoi","clipVoronoi","clipRadius","padData","padDataOuter","singlePoint","nice","locality");v.color=function(e){if(!arguments.length){return h}h=e;t.color(h);return v};v.fill=function(e){if(!arguments.length){return p}p=e;t.fill(p);return v};v.classes=function(e){if(!arguments.length){return m}m=e;t.classes(m);return v};v.gradient=function(e){if(!arguments.length){return gradient}gradient=e;return v};v.margin=function(e){if(!arguments.length){return n}n.top=typeof e.top!="undefined"?e.top:n.top;n.right=typeof e.right!="undefined"?e.right:n.right;n.bottom=typeof e.bottom!="undefined"?e.bottom:n.bottom;n.left=typeof e.left!="undefined"?e.left:n.left;return v};v.width=function(e){if(!arguments.length){return i}i=e;return v};v.height=function(e){if(!arguments.length){return a}a=e;return v};v.x=function(e){if(!arguments.length){return r}r=e;t.x(e);return v};v.y=function(e){if(!arguments.length){return s}s=e;t.y(e);return v};v.clipEdge=function(e){if(!arguments.length){return u}u=e;return v};v.interpolate=function(e){if(!arguments.length){return f}f=e;return v};v.defined=function(e){if(!arguments.length){return o}o=e;return v};v.isArea=function(e){if(!arguments.length){return l}l=d3.functor(e);return v};return v};e.models.lineChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,a=false,r=false,s=true,o="ltr",l=null,u=0,c=true,d,f,h={},p={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},m=3,_=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var g=function(t,n,i){var a=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(a,"yMMMM",M.locality()):a};var v=function(t,n){return e.utils.numberFormatSI(t,2,n,M.locality())};var b=e.models.line().clipEdge(true),y=e.models.axis().orient("bottom").valueFormat(g).tickPadding(4).highlightZero(false).showMaxMin(false),x=e.models.axis().orient("left").valueFormat(v).tickPadding(4),S=e.models.legend().align("right"),w=e.models.legend().align("left").color(["#444"]);var L=function(e,t,n,i,a){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"};var E=function(t,n){var i=t.series.key,a=b.x()(t.point,t.pointIndex),r=b.y()(t.point,t.pointIndex),s=L(i,a,r,t,M);l=e.tooltip.show(t.e,s,null,null,n)};function M(p){p.each(function(p){var g=this,v=d3.select(this);var L=p?p.properties:{},k=p?p.data:null,A=L.labels?L.labels.map(function(e){return e.l||e}):[];var T=[],C=[],D=0,R=false,O=false,I=true,F=p.properties.xDataType==="datetime"||false,N=p.properties.yDataType==="currency"||false;M.container=this;M.update=function(){v.transition().duration(u).call(M)};function B(e){if(e&&e.length&&e.filter(function(e){return e.values.length}).length){v.selectAll(".nv-noData").remove();return false}v.select(".nvd3.nv-wrap").remove();var a=n||parseInt(v.style("width"),10)||960,r=i||parseInt(v.style("height"),10)||400,s=v.selectAll(".nv-noData").data([M.strings().noData]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",t.left+a/2).attr("y",t.top+r/2).text(function(e){return e});return true}if(B(k)){return M}I=Array.isArray(k[0].values[0]);if(I){b.x(function(e){return e[0]});b.y(function(e){return e[1]})}else{b.x(function(e){return e.x});b.y(function(e){return e.y})}a=a&&L.title;k.map(function(e,t){e.series=t;e.total=d3.sum(e.values,function(e,t){return b.y()(e,t)});if(!e.total){e.disabled=true}});C=L.labels?L.labels.map(function(e){return[].concat(e.l)[0]||M.strings().noLabel}):[];T=k.filter(function(e){return!e.disabled});T=T.length?T:[{series:0,total:0,disabled:true,values:[]}];D=d3.sum(T,function(e){return e.total});if(!D){B();return M}h.disabled=T.map(function(e){return!!e.disabled});h.interpolate=b.interpolate();h.isArea=b.isArea()();var U=[{key:"Linear",disabled:b.interpolate()!=="linear"},{key:"Basis",disabled:b.interpolate()!=="basis"},{key:"Monotone",disabled:b.interpolate()!=="monotone"},{key:"Cardinal",disabled:b.interpolate()!=="cardinal"},{key:"Line",disabled:b.isArea()()===true},{key:"Area",disabled:b.isArea()()===false}];R=d3.max(T,function(e){return e.values.length})===1;b.padData(R?false:true).padDataOuter(-1).singlePoint(R).xScale(F&&!C.length?d3.time.scale():d3.scale.linear());if(R){var P=d3.merge(T.map(function(e){return e.values.map(function(e,t){return b.x()(e,t)})})).reduce(function(e,t){if(e.indexOf(t)<0)e.push(t);return e},[]).sort(function(e,t){return e-t}),Y=d3.extent(P),H=1*(F&&!C.length?864e5:1);var G=d3.merge(T.map(function(e){return e.values.map(function(e,t){return b.y()(e,t)})})),V=d3.extent(G),j=T.length===1?2:Math.min((V[1]-V[0])/T.length,V[0]);b.xDomain([Y[0]-H,Y[1]+H]).yDomain([V[0]-j,V[1]+j]);y.ticks(P.length).tickValues(P).showMaxMin(false);x.ticks(R?5:null).showMaxMin(false).highlightZero(false)}else{b.xDomain(null).yDomain(null);y.ticks(null).tickValues(null).showMaxMin(F);x.ticks(null).showMaxMin(true).highlightZero(true)}d=b.xScale();f=b.yScale();y.scale(d);x.scale(f);M.render=function(){var l=n||parseInt(v.style("width"),10)||960,c=i||parseInt(v.style("height"),10)||400,d=l-t.left-t.right,f=c-t.top-t.bottom,h=d,p=f,_={top:0,right:0,bottom:0,left:0};var g=0,E=0,A=0,D=0,O={width:0,height:0},B=0,P=0,Y="";var H=v.selectAll("g.nv-wrap.nv-lineChart").data([T]),G=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),V=H.select("g").attr("class","nv-chartWrap");G.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");V.select(".nv-background").attr("width",d+t.left+t.right).attr("height",f+t.top+t.bottom);G.append("g").attr("class","nv-titleWrap");var j=V.select(".nv-titleWrap");G.append("g").attr("class","nv-x nv-axis");var z=V.select(".nv-x.nv-axis");G.append("g").attr("class","nv-y nv-axis");var $=V.select(".nv-y.nv-axis");G.append("g").attr("class","nv-linesWrap");var q=V.select(".nv-linesWrap");G.append("g").attr("class","nv-controlsWrap");var W=V.select(".nv-controlsWrap");G.append("g").attr("class","nv-legendWrap");var K=V.select(".nv-legendWrap");H.attr("transform","translate("+t.left+","+t.top+")");j.select(".nv-title").remove();if(a){j.append("text").attr("class","nv-title").attr("x",o==="rtl"?d:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(L.title).attr("stroke","none").attr("fill","black");O=e.utils.getTextBBox(V.select(".nv-title"));D+=O.height}if(r){w.id("controls_"+M.id()).strings(M.strings().controls).align("left").height(f-D);W.datum(U).call(w);g=w.calculateWidth()}if(s){S.id("legend_"+M.id()).strings(M.strings().legend).align("right").height(f-D);K.datum(k).call(S);E=S.calculateWidth()}A=d/(g+E);g=Math.floor(g*A);E=Math.floor(E*A);if(r){w.arrange(g);E=d-w.width()}if(s){S.arrange(E);g=d-S.width()}if(r){var J=o==="rtl"?d-w.width():0,X=a?O.height:-S.margin().top;W.attr("transform","translate("+J+","+X+")");B=w.height()}if(s){var Z=e.utils.getTextBBox(K.select(".nv-legend-link")),Q=d-O.width-6,ee=a&&!r&&S.collapsed()&&Q>Z.width?true:false,J=o==="rtl"?0:d-S.width(),X=O.height;if(ee){X=O.height-S.height()/2-Z.height/2}else if(!a){X=-S.margin().top}K.attr("transform","translate("+J+","+X+")");P=ee?12:S.height()}D+=Math.max(B,P);p=f-D-_.top-_.bottom;var te=Math.pow(m,2)*Math.PI*(R?3:1);b.width(h).height(p).id(M.id()).size(te).sizeRange([te,te]).sizeDomain([te,te]);q.datum(T).call(b);var ne={top:0,right:0,bottom:0,left:0},ie={top:0,right:0,bottom:0,left:0};function ae(){_.left=Math.max(ie.left,ne.left);_.right=Math.max(ie.right,ne.right);_.top=Math.max(ie.top,ne.top);_.bottom=Math.max(ie.bottom,ne.bottom)}function re(){h=d-_.left-_.right;p=f-D-_.top-_.bottom;b.width(h).height(p);b.scatter.resetDimensions(h,p)}x.margin(_).tickFormat(function(e,t){return x.valueFormat()(e,N)});$.call(x);ne=x.margin();ae();re();Y=_.left+",";Y+=_.top+(y.orient()==="bottom"?p:0);z.attr("transform","translate("+Y+")");y.tickSize(-p+(b.padData()?m:0),0).margin(_).tickFormat(function(e,t,n){return y.valueFormat()(e-!I,C,F)});z.call(y);ie=y.margin();ae();re();y.resizeTickLines(-p+(b.padData()?m:0));x.tickSize(-h+(b.padData()?m:0),0).margin(_);$.call(x);q.transition().duration(u).call(b);_.top+=D;Y=_.left+",";Y+=_.top+(y.orient()==="bottom"?p:0);z.attr("transform","translate("+Y+")");Y=_.left+(x.orient()==="left"?0:h)+",";Y+=_.top;$.attr("transform","translate("+Y+")");q.attr("transform","translate("+_.left+","+_.top+")")};M.render();S.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;if(!k.filter(function(e){return!e.disabled}).length){k.map(function(e){e.disabled=false;v.selectAll(".nv-series").classed("disabled",false);return e})}h.disabled=k.map(function(e){return!!e.disabled});_.stateChange(h);v.transition().duration(u).call(M)});w.dispatch.on("legendClick",function(e,t){if(!e.disabled){return}U=U.map(function(e){e.disabled=true;return e});e.disabled=false;switch(e.key){case"Basis":b.interpolate("basis");break;case"Linear":b.interpolate("linear");break;case"Monotone":b.interpolate("monotone");break;case"Cardinal":b.interpolate("cardinal");break;case"Line":b.isArea(false);break;case"Area":b.isArea(true);break}h.interpolate=b.interpolate();h.isArea=b.isArea();_.stateChange(h);v.transition().duration(u).call(M)});_.on("tooltipShow",function(e){if(c){E(e,g.parentNode)}});_.on("tooltipMove",function(t){if(l){e.tooltip.position(g.parentNode,l,t,"s")}});_.on("tooltipHide",function(){if(c){e.tooltip.cleanup()}});_.on("changeState",function(e){if(typeof e.disabled!=="undefined"){k.forEach(function(t,n){t.disabled=e.disabled[n]});h.disabled=e.disabled}if(typeof e.interpolate!=="undefined"){b.interpolate(e.interpolate);h.interpolate=e.interpolate}if(typeof e.isArea!=="undefined"){b.isArea(e.isArea);h.isArea=e.isArea}v.transition().duration(u).call(M)});_.on("chartClick",function(){if(w.enabled()){w.dispatch.closeMenu()}if(S.enabled()){S.dispatch.closeMenu()}})});return M}b.dispatch.on("elementMouseover.tooltip",function(e){_.tooltipShow(e)});b.dispatch.on("elementMousemove.tooltip",function(e){_.tooltipMove(e)});b.dispatch.on("elementMouseout.tooltip",function(){_.tooltipHide()});M.dispatch=_;M.lines=b;M.legend=S;M.controls=w;M.xAxis=y;M.yAxis=x;d3.rebind(M,b,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality");d3.rebind(M,b,"defined","isArea","interpolate","size","clipVoronoi","useVoronoi","interactive","nice");d3.rebind(M,y,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");M.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var r=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":a=function(){return"inherit"};r=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n+" nv-stroke"+n};break;case"data":a=function(t,n){return t.color||e.utils.defaultColor()(t,t.series)};r=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?a:function(e,t){var n={orientation:i.orientation||"horizontal",position:i.position||"base"};return b.gradient(e,e.series,n)};b.color(a);b.fill(s);b.classes(r);S.color(a);S.classes(r);return M};M.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return M};M.width=function(e){if(!arguments.length){return n}n=e;return M};M.height=function(e){if(!arguments.length){return i}i=e;return M};M.showTitle=function(e){if(!arguments.length){return a}a=e;return M};M.showControls=function(e){if(!arguments.length){return r}r=e;return M};M.showLegend=function(e){if(!arguments.length){return s}s=e;return M};M.tooltip=function(e){if(!arguments.length){return l}l=e;return M};M.tooltips=function(e){if(!arguments.length){return c}c=e;return M};M.tooltipContent=function(e){if(!arguments.length){return L}L=e;return M};M.state=function(e){if(!arguments.length){return h}h=e;return M};M.strings=function(e){if(!arguments.length){return p}for(var t in e){if(e.hasOwnProperty(t)){p[t]=e[t]}}return M};M.direction=function(e){if(!arguments.length){return o}o=e;x.direction(e);y.direction(e);S.direction(e);w.direction(e);return M};M.delay=function(e){if(!arguments.length){return u}u=e;return M};return M};e.models.multiBar=function(){var t={top:0,right:0,bottom:0,left:0},n=960,i=500,a=d3.scale.ordinal(),r=d3.scale.linear(),s=Math.floor(Math.random()*1e4),o=function(e){return e.x},l=function(e){return e.y},u=e.utils.buildLocality(),c=[0],d=true,f=null,h,p=true,m=false,_=function(e){return e},g=false,v=true,b=60,y="ltr",x=200,S,w,L=false,E=function(t,n){return e.utils.defaultColor()(t,t.series)},M=E,k=false,f=null,A=function(e,t){return"nv-group nv-series-"+e.series},T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");var C,D;function R(u){u.each(function(u){var f=d3.select(this),h=v?"vertical":"horizontal",x=n-t.left-t.right,O=i-t.top-t.bottom,I=v?"width":"height",F=v?"height":"width",N=v?"width":"height",B=v?"x":"y",U=v?"y":"x",P=0,Y=0,H=0,G=u.length-1,V=false,j=m,z=[],$=0;function q(e,t){return Math.max(Math.round(Math.abs(r(l(e,t))-r(0))),0)}function W(){return a.rangeBand()/(d?1:u.length)}function K(e){return e?1:-1}if(d){u=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(l)(u);if(j==="top"||j===true){j="end"}}else if(j){if(j==="total"){j="top"}else if(j===true){j="end"}V=v}if(d){var J=[];u[0].values.map(function(e,t){var n=0,i=0;u.map(function(e){var a=e.values[t];a.size=Math.abs(a.y);if(a.y<0){a.y1=i-(v?0:a.size);i-=a.size}else{a.y1=n+(v?a.size:0);n+=a.size}});J[t]={neg:i,pos:n}})}var X=S&&w&&!m?[]:d3.merge(u.map(function(e){return e.values.map(function(e,t){return{x:o(e,t),y:l(e,t),y0:e.y0,y1:e.y1}})}));Y=u[0].values.length;P=u.length;if(m){var Z=j==="total"&&d?J.map(function(e){return e.neg}).concat(J.map(function(e){return e.pos})):X.map(l);var Q=d3.extent(u.map(function(e,t){return e.series}));H=Q[0];G=Q[1];z=e.utils.stringSetLengths(Z,f,_,"nv-label-value");$=e.utils.stringSetThickness([83],f,_,"nv-label-value")[0]}R.resetDimensions=function(e,a){n=e;i=a;x=e-t.left-t.right;O=a-t.top-t.bottom;ee()};function ee(){var e=v?x:O,t=v?O:x;var n=d?b:b*P+b,i=b*(d?.25:1),s=Math.max(.25,(e-Y*n-i)/(2*n));if(g){a.domain(S||X.map(function(e){return e.x})).rangeBands([0,e],.3)}else{a.domain(S||X.map(function(e){return e.x})).rangeRoundBands([0,e],.25,s)}var o=o||d3.extent(X.map(function(e){var t=v?0:e.y,n=v?e.y:0;return d?e.y>0?e.y1+t:e.y1+n:e.y}).concat(c));var l=v?[O,0]:[0,x];r.domain(o).range(l);if(m){if(v&&d&&d3.max(z)+8>W()){V=true}N=v&&!V?"labelHeight":"labelWidth"}if(j==="top"||j==="total"){var u=t,f=0,h=0,p=0,i=v?V?2:-2:2;Z.forEach(function(e,t){var n=j==="total"&&d&&v&&!V?$:z[t];if(v&&e>0||!v&&e<0){if(r(e)-n<f){f=r(e)-n;p=n}}else{if(r(e)+n>u){u=r(e)+n;h=n}}});if(v){r.range([t-(r.domain()[0]<0?h+i+2:0),r.domain()[1]>0?p+i:0])}else{r.range([r.domain()[0]<0?p+i+4:0,t-(r.domain()[1]>0?h+i:0)])}}if(L){r.nice()}C=C||a;D=D||r}ee();var te=f.selectAll(".nvd3.nv-wrap").data([u]);var ne=te.enter().append("g");var ie=ne.append("defs");var ae=ne.append("g");var re=te.select("g");te.attr("class","nvd3 nv-wrap nv-multibar");R.gradient=function(t,n,i){return e.utils.colorLinearGradient(t,s+"-"+n,i,E(t,n),te.select("defs"))};ae.append("g").attr("class","nv-groups");te.attr("transform","translate("+t.left+","+t.top+")");if(p){ie.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect");te.select("#nv-edge-clip-"+s+" rect").attr("width",x).attr("height",O)}re.attr("clip-path",p?"url(#nv-edge-clip-"+s+")":"");if(k){var se=e.utils.createTexture(ie,s)}var oe=te.select(".nv-groups").selectAll(".nv-group").data(function(e){return e});var le=oe.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);oe.exit().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).selectAll("g.nv-bar").attr("y",function(e){return d?D(e.y0):D(0)}).attr(I,0).remove();oe.exit().remove();oe.attr("class",A).attr("fill",M).classed("hover",function(e){return e.hover}).classed("nv-active",function(e){return e.active==="active"}).classed("nv-inactive",function(e){return e.active==="inactive"}).style({"stroke-opacity":1,"fill-opacity":1});oe.on("mouseover",function(e,t,n){d3.select(this).classed("hover",true)}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",false)});var ue=oe.selectAll("g.nv-bar").data(function(e){return e.values});var ce=ue.enter().append("g").attr("class","nv-bar");ue.exit().remove();ce.append("rect").attr("class","nv-base").style("fill","inherit").attr("x",0).attr("y",0);if(k){ce.append("rect").attr("class","nv-texture").attr("x",0).attr("y",0).style("mask","url("+se+")")}ce.append("rect").attr("class","nv-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("fill","transparent").style("stroke-width",0).style("fill-opacity",0);ce.append("text").attr("class","nv-label-value");ue.attr("class",function(e,t){return"nv-bar "+(l(e,t)<0?"negative":"positive")}).attr("transform",function(e,t,n){var i=d?{x:Math.round(a(o(e,t))),y:Math.round(r(e.y1))}:{x:Math.round(n*W()+a(o(e,t))),y:Math.round(l(e,t)<0?v?r(0):r(l(e,t)):v?r(l(e,t)):r(0))};return"translate("+i[B]+","+i[U]+")"});ue.select("rect.nv-base").attr(B,0).attr(F,q).attr(I,W);if(k){ue.select("rect.nv-texture").attr(B,0).attr(F,q).attr(I,W).style("fill",function(t,n){var i=M(t),a=e.utils.getTextContrast(i,n);return a})}function de(e,t,n,i){return{value:l(t,n),point:t,series:u[i],pointIndex:n,seriesIndex:i,groupIndex:t.group,id:s,e:e}}ue.on("mouseover",function(e,t,n){var i=de(d3.event,e,t,n);T.elementMouseover(i)}).on("mousemove",function(e,t,n){T.elementMousemove(d3.event)}).on("mouseout",function(e,t,n){T.elementMouseout()}).on("click",function(e,t,n){d3.event.stopPropagation();var i=de(d3.event,e,t,n);T.elementClick(i)}).on("dblclick",function(e,t,n){d3.event.stopPropagation();var i=de(d3.event,e,t,n);T.elementDblClick(i)});var fe=ue.select(".nv-label-value");if(m){fe.text(function(e,t){var n=j==="total"&&d?l(e,t)<0?J[t].neg:J[t].pos:l(e,t);return _(n)}).each(function(e,t){var n=this.getBoundingClientRect();e.labelWidth=Math.floor(n.width)+4;e.labelHeight=Math.floor(n.height);e.barLength=q(e,t);e.barThickness=W()});fe.attr("dy","0.35em").attr("text-anchor",function(e,t){var n="middle",i=l(e,t)<0;if(v&&!V){n="middle"}else{switch(j){case"start":n=i?"end":"start";break;case"middle":n="middle";break;case"end":n=i?"start":"end";break;case"top":case"total":n=i?"end":"start";break}n=y==="rtl"&&n!=="middle"?n==="start"?"end":"start":n}return n}).attr("transform","rotate("+(V?-90:0)+" 0,0)").attr("x",function(e,t){var n=0,i=l(e,t)<0?-1:1,a=i<0,r=(4+(V||!v)*2)*i;if(v&&!V){n=e.barThickness/2}else{switch(j){case"start":n=e.barLength*(a-V)+r;break;case"middle":n=e.barLength*(V?-1:1)/2;break;case"end":n=e.barLength*(!V-a)-r;break;case"top":case"total":n=e.barLength*(!V-a)+2*i;break}}return n}).attr("y",function(e,t){var n=0,i=l(e,t)<0?-1:1,a=i<0,r=(e.labelHeight/2+(4+V*2)*(j==="total"?0:1))*i;if(v&&!V){switch(j){case"start":n=e.barLength*(1-a)-r;break;case"middle":n=e.barLength/2;break;case"end":n=e.barLength*(0+a)+r;break;case"total":n=e.barLength*(0+a)+r*-1;break}}else{n=e.barThickness/2}return n}).style("fill",function(t,n,i){if(j==="top"||j==="total"){return"#000"}var a=M(t),r=e.utils.getTextContrast(a,n);return r}).style("fill-opacity",function(e,t){if(j==="total"){if(e.series!==H&&e.series!==G){return 0}var n=l(e,t);return n<0&&J[t].neg===e.y1+(v?n:0)||n>=0&&J[t].pos===e.y1+(v?0:n)?1:0}else{var i=e.barLength<(!v||V?e.labelWidth:e.labelHeight)+8,a=e.barThickness<(!v||V?e.labelHeight:e.labelWidth)+4;return j!=="top"&&(i||a)?0:1}});function he(e,t,n,i){var a=0,r=l(e,t)<0?-1:1,s=n===r<0?1:0,o=e.barLength-e[N];if(n?v:!v){a=(e.barThickness-(V===n?e.labelHeight:e.labelWidth))/2}else{switch(j){case"start":a=o*(0+s)+i*r;break;case"middle":a=o/2;break;case"end":a=o*(1-s)-i*r;break;case"top":a=e.barLength*(1-s)-e.labelWidth*(0+s);break;case"total":a=e.barLength*(1-s)-(V===n?e.labelHeight:e.labelWidth)*(0+s);break}}return a}if(j==="total"&&d){ue.select("rect.nv-label-box").style("fill-opacity",0)}ue.filter(function(e,t){return j==="total"&&d?e.series===H||e.series===G:true}).select("rect.nv-label-box").attr("x",function(e,t){return he(e,t,true,4)}).attr("y",function(e,t){return he(e,t,false,-4)}).attr("width",function(e,t){return V?e.labelHeight:e.labelWidth}).attr("height",function(e,t){return V?e.labelWidth:e.labelHeight}).style("fill",function(e,t){return j==="top"||j==="total"?"#fff":M(e,t)}).style("fill-opacity",function(e,t){var n=e.barLength<(!v||V?e.labelWidth:e.labelHeight)+8,i=e.barThickness<(!v||V?e.labelHeight:e.labelWidth)+4;return j!=="top"&&(n||i)?0:1})}else{fe.text("").style("fill-opacity",0);ue.select("rect.label-box").style("fill-opacity",0)}C=a.copy();D=r.copy()});return R}R.dispatch=T;R.color=function(e){if(!arguments.length){return E}E=e;return R};R.fill=function(e){if(!arguments.length){return M}M=e;return R};R.classes=function(e){if(!arguments.length){return A}A=e;return R};R.gradient=function(e){if(!arguments.length){return gradient}gradient=e;return R};R.x=function(e){if(!arguments.length){return o}o=e;return R};R.y=function(e){if(!arguments.length){return l}l=e;return R};R.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return R};R.width=function(e){if(!arguments.length){return n}n=e;return R};R.height=function(e){if(!arguments.length){return i}i=e;return R};R.xScale=function(e){if(!arguments.length){return a}a=e;return R};R.yScale=function(e){if(!arguments.length){return r}r=e;return R};R.xDomain=function(e){if(!arguments.length){return S}S=e;return R};R.yDomain=function(e){if(!arguments.length){return w}w=e;return R};R.forceY=function(e){if(!arguments.length){return c}c=e;return R};R.stacked=function(e){if(!arguments.length){return d}d=e;return R};R.clipEdge=function(e){if(!arguments.length){return p}p=e;return R};R.barColor=function(t){if(!arguments.length){return f}f=e.utils.getColor(t);return R};R.disabled=function(e){if(!arguments.length){return h}h=e;return R};R.id=function(e){if(!arguments.length){return s}s=e;return R};R.delay=function(e){if(!arguments.length){return x}x=e;return R};R.showValues=function(e){if(!arguments.length){return m}m=isNaN(parseInt(e,10))?e:parseInt(e,10)&&true||false;return R};R.valueFormat=function(e){if(!arguments.length){return _}_=e;return R};R.withLine=function(e){if(!arguments.length){return g}g=e;return R};R.vertical=function(e){if(!arguments.length){return v}v=e;return R};R.baseDimension=function(e){if(!arguments.length){return b}b=e;return R};R.direction=function(e){if(!arguments.length){return y}y=e;return R};R.nice=function(e){if(!arguments.length){return L}L=e;return R};R.textureFill=function(e){if(!arguments.length)return k;k=e;return R};R.locality=function(t){if(!arguments.length){return u}u=e.utils.buildLocality(t);return R};return R};e.models.multiBarChart=function(){var t=true,n={top:10,right:10,bottom:10,left:10},i=null,a=null,r=false,s=false,o=true,l="ltr",u=null,c=true,d=true,f=function(e){return},h,p,m={},_={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},g=true,v=d3.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var b=false,y=0;var x=function(t,n,i){var a=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(a,"%x",R.locality()):a};var S=function(t,n){return e.utils.numberFormatSI(t,2,n,R.locality())};var w=e.models.multiBar().stacked(false).clipEdge(false),L=e.models.axis().valueFormat(x).tickSize(0).tickPadding(4).highlightZero(false).showMaxMin(false),E=e.models.axis().valueFormat(S).tickPadding(4),M=e.models.legend(),k=e.models.legend().color(["#444"]),A=e.models.scroll();var T=function(e,t,n,i,a){return"<h3>"+e+"</h3>"+"<p>"+n+" on "+t+"</p>"};var C=function(n,i,a){var r=a[n.groupIndex].label,s=n.point.y,o=a?Math.abs(s*100/a[n.groupIndex]._height).toFixed(1):L.tickFormat()(n.point.x),l=T(r,o,s,n,R),c=n.value<0?t?"n":"e":t?"s":"w";u=e.tooltip.show(n.e,l,c,null,i)};var D=function(e,t,n){return};function R(_){_.each(function(_){var x=this,S=d3.select(this),T=t?"multibarChart":"multiBarHorizontalChart";var O=_?_.properties:{},I=_?_.data:null;var F=[],N=0,B=[],U=[].groupCount=0,P=0,Y=false,H=_.properties.xDataType==="datetime"||false,G=_.properties.yDataType==="currency"||false;R.container=this;R.update=function(){S.transition().call(R)};function V(e){if(e&&e.length&&e.filter(function(e){return e.values.length}).length){S.selectAll(".nv-noData").remove();return false}S.select(".nvd3.nv-wrap").remove();var t=i||parseInt(S.style("width"),10)||960,r=a||parseInt(S.style("height"),10)||400,s=S.selectAll(".nv-noData").data([R.strings().noData]);s.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");s.attr("x",n.left+t/2).attr("y",n.top+r/2).text(function(e){return e});return true}if(V(I)){return R}R.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values.map(function(e){e.active=t.active});if(t.active==="active"){I.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";e.values.map(function(e){e.active="inactive"});return e})}if(!I.filter(function(e){return e.active==="active"}).length){I.map(function(e){e.active="";e.values.map(function(e){e.active=""});S.selectAll(".nv-series").classed("nv-inactive",false);return e})}S.call(R)};I.forEach(function(e,t){e.series=t;e.values.forEach(function(e,n){e.series=t});if(!e._values){e._values=e.values.map(function(t,n){return{series:e.series,group:n,color:typeof e.color!=="undefined"?e.color:"",x:w.x()(t,n),y:w.y()(t,n)}});e.total=d3.sum(e._values,function(e,t){return e.y})}e.disabled=e.disabled||e.total===0;e._values.forEach(function(t,n){t.active=typeof e.active!=="undefined"?e.active:""})});F=I.filter(function(e,t){return!e.disabled&&(!e.type||e.type==="bar")});N=F.length;Y=N>0;B=O.groups.map(function(e,t){e.total=0;e._height=0;F.forEach(function(n,i){n._values.filter(function(e,n){return e.group===t}).forEach(function(t,n){e.total+=t.y;e._height+=Math.abs(t.y)})});return e});P=d3.sum(B,function(e){return e.total});U=B.filter(function(e,t){return g?e._height!==0:true}).map(function(e){return e.label||R.strings().noLabel});groupCount=U.length;if(g){F.forEach(function(e,t){e.values=e._values.filter(function(e,t){return B[t]._height!==0}).map(function(e,t){return{series:e.series,group:e.group,color:e.color,x:t+1,y:e.y,active:e.active}});return e})}if(!Y){V();return R}if(!F.length){F=[{values:[]}]}m.disabled=I.map(function(e){return!!e.disabled});m.stacked=w.stacked();r=r&&O.title;var j=[{key:"Grouped",disabled:m.stacked},{key:"Stacked",disabled:!m.stacked}];h=w.xScale();p=w.yScale();L.scale(h);E.scale(p);R.render=function(){var u=i||parseInt(S.style("width"),10)||960,c=a||parseInt(S.style("height"),10)||400,h=u-n.left-n.right,p=c-n.top-n.bottom,_=_||h,g=g||p,x={top:0,right:0,bottom:0,left:0};var C=0,D=0,B=0,P=0,Y={width:0,height:0},V=0,z=0,$="";var q=w.stacked()?t?72:32:32,W=m.stacked?q:q*N+q,K=q*(m.stacked?.25:1),J=groupCount*W+K;var X=S.selectAll(".nvd3.nv-wrap").data([I]),Z=X.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),Q=X.select("g").attr("class","nv-chartWrap");X.attr("class","nvd3 nv-wrap nv-"+T);Z.append("defs");Z.append("g").attr("class","nv-scroll-background");Z.append("g").attr("class","nv-titleWrap");var ee=Q.select(".nv-titleWrap");Z.append("g").attr("class","nv-y nv-axis");var te=Q.select(".nv-y.nv-axis");Z.append("g").attr("class","nv-scroll-wrap");var ne=Q.select(".nv-scroll-wrap");Z.select(".nv-scroll-wrap").append("g").attr("class","nv-x nv-axis");var ie=Q.select(".nv-x.nv-axis");Z.select(".nv-scroll-wrap").append("g").attr("class","nv-barsWrap");var ae=Q.select(".nv-barsWrap");Z.append("g").attr("class","nv-controlsWrap");var re=Q.select(".nv-controlsWrap");Z.append("g").attr("class","nv-legendWrap");var se=Q.select(".nv-legendWrap");X.attr("transform","translate("+n.left+","+n.top+")");ee.select(".nv-title").remove();if(r){ee.append("text").attr("class","nv-title").attr("x",l==="rtl"?h:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(O.title).attr("stroke","none").attr("fill","black");Y=e.utils.getTextBBox(Q.select(".nv-title"));P+=Y.height}if(s){k.id("controls_"+R.id()).strings(R.strings().controls).align("left").height(p-P);re.datum(j).call(k);C=k.calculateWidth()}if(o){if(w.barColor()){I.forEach(function(e,t){e.color=d3.rgb("#ccc").darker(t*1.5).toString()})}M.id("legend_"+R.id()).strings(R.strings().legend).align("right").height(p-P);se.datum(I).call(M);D=M.calculateWidth()}B=h/(C+D);C=Math.floor(C*B);D=Math.floor(D*B);if(s){k.arrange(C);D=h-k.width()}if(o){M.arrange(D);C=h-M.width()}if(s){var oe=l==="rtl"?h-k.width():0,le=r?Y.height:-k.margin().top;re.attr("transform","translate("+oe+","+le+")");V=k.height()-(r?0:k.margin().top)}if(o){var ue=e.utils.getTextBBox(se.select(".nv-legend-link")),ce=h-Y.width-6,de=r&&!s&&M.collapsed()&&ce>ue.width?true:false,oe=l==="rtl"?0:h-M.width(),le=Y.height;if(de){le=Y.height-M.height()/2-ue.height/2}else if(!r){le=-M.margin().top}se.attr("transform","translate("+oe+","+le+")");z=de?12:M.height()-(r?0:M.margin().top)}P+=Math.max(V,z);g=p-P-x.top-x.bottom;function fe(e){if(e==="width"){return t&&d?Math.max(_,J):_}else if(e==="height"){return!t&&d?Math.max(g,J):g}else{return 0}}w.vertical(t).baseDimension(q).disabled(I.map(function(e){return e.disabled})).width(fe("width")).height(fe("height"));ae.data([F]).call(w);var he={top:0,right:0,bottom:0,left:0},pe={top:0,right:0,bottom:0,left:0};function me(){x.left=Math.max(pe.left,he.left);x.right=Math.max(pe.right,he.right);x.top=Math.max(pe.top,he.top);x.bottom=Math.max(pe.bottom,he.bottom)}function _e(){_=h-x.left-x.right;g=p-P-x.top-x.bottom;w.resetDimensions(fe("width"),fe("height"))}E.orient(t?"left":"bottom").margin(x).tickFormat(function(e,t){return E.valueFormat()(e,G)}).ticks(g/48);te.call(E);he=E.margin();me();_e();L.orient(t?"bottom":"left").margin(x).tickFormat(function(n,i,a){var r=L.valueFormat()(i,U,H);if(!a){r=e.utils.stringEllipsify(r,S,Math.max(t?q*2:h*.2,75))}return r});$=x.left+",";$+=x.top+(L.orient()==="bottom"?g:0);ie.attr("transform","translate("+$+")");ie.call(L);pe=L.margin();me();_e();L.tickSize(0).margin(x);ie.call(L);E.tickSize(t?-_:-g,0).margin(x);te.call(E);ae.transition().call(w);x.top+=P;$=(t||L.orient()==="left"?0:_)+",";$+=t&&L.orient()==="bottom"?g+2:-2;ie.attr("transform","translate("+$+")");$=x.left+(t||E.orient()==="bottom"?0:_)+",";$+=x.top+(t||E.orient()==="left"?0:g);te.attr("transform","translate("+$+")");ne.attr("transform","translate("+x.left+","+x.top+")");if(d){b=J>(t?_:g);ie.select(".nv-axislabel").attr("x",(t?_:-g)/2);var ge=(t?_:g)-J,ve=function(){v.tooltipHide(d3.event);y=A.pan(ge);ie.select(".nv-axislabel").attr("x",(t?_-y*2:y*2-g)/2)};A.id(R.id()).enable(b).vertical(t).width(_).height(g).margin(x).minDimension(J).panHandler(ve);A(Q,Z,ne,L);A.init(y,f);A.panHandler()()}};R.render();M.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!I.filter(function(e){return!e.disabled}).length){I.map(function(e){e.disabled=false;return e})}if(!I.filter(function(e){return e.active==="active"}).length){I.map(function(e){e.active="";return e})}m.disabled=I.map(function(e){return!!e.disabled});v.stateChange(m);S.transition().call(R)});k.dispatch.on("legendClick",function(e,t){if(!e.disabled){return}j=j.map(function(e){e.disabled=true;return e});e.disabled=false;switch(e.key){case"Grouped":w.stacked(false);break;case"Stacked":w.stacked(true);break}m.stacked=w.stacked();v.stateChange(m);S.transition().call(R)});v.on("tooltipShow",function(e){if(c){C(e,x.parentNode,B)}});v.on("tooltipMove",function(n){if(u){e.tooltip.position(x.parentNode,u,n,t?"s":"w")}});v.on("tooltipHide",function(){if(c){e.tooltip.cleanup()}});v.on("changeState",function(e){if(typeof e.disabled!=="undefined"){I.forEach(function(t,n){t.disabled=e.disabled[n]});m.disabled=e.disabled}if(typeof e.stacked!=="undefined"){w.stacked(e.stacked);m.stacked=e.stacked}S.transition().call(R)});v.on("chartClick",function(){if(k.enabled()){k.dispatch.closeMenu()}if(M.enabled()){M.dispatch.closeMenu()}});w.dispatch.on("elementClick",function(e){v.chartClick();D(I,e,R)})});return R}w.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});w.dispatch.on("elementMousemove.tooltip",function(e){v.tooltipMove(e)});w.dispatch.on("elementMouseout.tooltip",function(){v.tooltipHide()});R.dispatch=v;R.multibar=w;R.legend=M;R.controls=k;R.xAxis=L;R.yAxis=E;d3.rebind(R,w,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","delay","color","fill","classes","gradient","locality");d3.rebind(R,w,"stacked","showValues","valueFormat","labelFormat","nice");d3.rebind(R,L,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");R.colorData=function(n){var i=arguments[0],a=arguments[1]||{};var r=function(t,n){return e.utils.defaultColor()(t,t.series)};var s=function(e,t){return"nv-group nv-series-"+e.series};switch(i){case"graduated":r=function(e,t){return d3.interpolateHsl(d3.rgb(a.c1),d3.rgb(a.c2))(e.series/a.l)};break;case"class":r=function(){return"inherit"};s=function(e,t){var n=e.series*(a.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};break;case"data":r=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};s=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var o=!a.gradient?r:function(e,n){var i={orientation:a.orientation||(t?"vertical":"horizontal"),position:a.position||"middle"};return w.gradient(e,e.series,i)};w.color(r);w.fill(o);w.classes(s);M.color(r);M.classes(s);return R};R.margin=function(e){if(!arguments.length){return n}for(var t in e){if(e.hasOwnProperty(t)){n[t]=e[t]}}return R};R.vertical=function(e){if(!arguments.length){return t}t=e;return R};R.width=function(e){if(!arguments.length){return i}i=e;return R};R.height=function(e){if(!arguments.length){return a}a=e;return R};R.showTitle=function(e){if(!arguments.length){return r}r=e;return R};R.showControls=function(e){if(!arguments.length){return s}s=e;return R};R.showLegend=function(e){if(!arguments.length){return o}o=e;return R};R.tooltip=function(e){if(!arguments.length){return u}u=e;return R};R.tooltips=function(e){if(!arguments.length){return c}c=e;return R};R.tooltipContent=function(e){if(!arguments.length){return T}T=e;return R};R.state=function(e){if(!arguments.length){return m}m=e;return R};R.strings=function(e){if(!arguments.length){return _}for(var t in e){if(e.hasOwnProperty(t)){_[t]=e[t]}}return R};R.allowScroll=function(e){if(!arguments.length){return d}d=e;return R};R.overflowHandler=function(e){if(!arguments.length){return f}f=d3.functor(e);return R};R.seriesClick=function(e){if(!arguments.length){return D}D=e;return R};R.hideEmptyGroups=function(e){if(!arguments.length){return g}g=e;return R};R.direction=function(e){if(!arguments.length){return l}l=e;w.direction(e);L.direction(e);E.direction(e);M.direction(e);k.direction(e);return R};return R};e.models.paretoChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,a=function(e){return e.x},r=function(e){return e.y},s=e.utils.buildLocality(),o=false,l=true,u=null,c=true,d="ltr",f=function(e,t,n,i,a){return"<p><b>"+e+"</b></p>"+"<p><b>"+n+"</b></p>"+"<p><b>"+t+"%</b></p>"},h=function(e,t,n,i,a){return"<p><p>"+e+": <b>"+n+"</b></p>"},p=function(e,t,n,i,a){return"<p>"+i.key+": <b>"+n+"</b></p>"},m,_,g={barlegend:{close:"Hide bar legend",open:"Show bar legend"},linelegend:{close:"Hide line legend",open:"Show line legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},v=d3.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove");var b=function(t,n,i){var a=isNaN(parseInt(t,10))||!n||!Array.isArray(n)?t:n[parseInt(t,10)]||t;return i?e.utils.dateFormat(a,"yMMMM",R.locality()):a};var y=function(t,n){return e.utils.numberFormatSI(t,2,n,R.locality())};var x=e.models.multiBar().stacked(true).clipEdge(false).withLine(true).nice(false),S=e.models.line().color(function(e,t){return"#FFF"}).fill(function(e,t){return"#FFF"}).useVoronoi(false).nice(false),w=e.models.line().useVoronoi(false).color("data").nice(false),L=e.models.axis().valueFormat(b).orient("bottom").tickSize(0).tickPadding(4).wrapTicks(true).highlightZero(false).showMaxMin(false),E=e.models.axis().valueFormat(y).orient("left").tickPadding(7).showMaxMin(true),M=e.models.legend().align("left").position("middle"),k=e.models.legend().align("right").position("middle");var A=function(t,n,i){var a=t.series.key,r=(t.point.y*100/i[t.pointIndex].t).toFixed(1),s=w.y()(t.point,t.pointIndex),o=t.series.type==="bar"?f(a,r,s,t,R):h(a,r,s,t,R);u=e.tooltip.show(t.e,o,"s",null,n)};var T=function(t,n){var i=p(t.key,0,t.val,t,R);u=e.tooltip.show(t.e,i,"s",null,n)};var C=function(e,t,n,i){return};var D=function(e){var t=document.documentElement,n=e.getBoundingClientRect(),i=t.scrollLeft+document.body.scrollLeft,a=t.scrollTop+document.body.scrollTop,r=n.left+i,s=n.top+a;return{x:r,y:s}};function R(s){s.each(function(s){var f=s.properties,h=s.data,p=d3.select(this),g=this,b=(n||parseInt(p.style("width"),10)||960)-t.left-t.right,y=(i||parseInt(p.style("height"),10)||400)-t.top-t.bottom,D=b,O=y,I={top:0,right:0,bottom:0,left:0},F=0,N=0,B=0,U=Math.pow(6,2)*Math.PI,P=s.properties.xDataType==="datetime"||false,Y=s.properties.yDataType==="currency"||false;R.update=function(){p.call(R)};R.container=this;if(!h||!h.length||!h.filter(function(e){return e.values.length}).length){var H=p.selectAll(".nv-noData").data([R.strings().noData]);H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");H.attr("x",t.left+b/2).attr("y",t.top+y/2).text(function(e){return e});return R}else{p.selectAll(".nv-noData").remove()}R.dataSeriesActivate=function(e){var t=e.series;t.active=!t.active||t.active==="inactive"?"active":"inactive";t.values.map(function(e){e.active=t.active});if(t.active==="active"){h.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";e.values.map(function(e){e.active="inactive"});return e})}if(!h.filter(function(e){return e.active==="active"}).length){h.map(function(e){e.active="";e.values.map(function(e){e.active=""});p.selectAll(".nv-series").classed("nv-inactive",false);return e})}p.call(R)};var G=h.filter(function(e){return!e.disabled&&(!e.type||e.type==="bar")});var V=h.filter(function(e){return!e.disabled&&e.type==="line"}).map(function(e){if(!x.stacked()){e.values=e.valuesOrig.map(function(e,t){return{series:e.series,x:e.x+e.series*.25-t*.25,y:e.y}})}else{e.values.map(function(e){e.y=0});G.map(function(t,n){t.values.map(function(t,n){e.values[n].y+=t.y})});e.values.map(function(t,n){if(n>0){t.y+=e.values[n-1].y}})}return e});var j=f.groupData,z=j.map(function(e){return[].concat(e.l)[0]||R.strings().noLabel}),$=f.quota||0,q=f.quotaLabel||"",W=f.targetQuota||0,K=f.targetQuotaLabel||"";G=G.length?G:[{values:[]}];V=V.length?V:[{values:[]}];var J=h.filter(function(e){return e.type==="line"});J.push({key:q,type:"dash",color:"#444",series:J.length,values:{series:J.length,x:0,y:0}});if(W>0){J.push({key:K,type:"dash",color:"#777",series:J.length,values:{series:J.length+1,x:0,y:0}})}var X=h.filter(function(e){return!e.disabled}).map(function(e){return e.valuesOrig.map(function(e,t){return a(e,t)})});var Z=h.map(function(e){return e.valuesOrig.map(function(e,t){return r(e,t)})});m=x.xScale();_=x.yScale();L.tickFormat(function(t,n,i){var a=L.valueFormat()(n,z,P);if(!i){a=e.utils.stringEllipsify(a,p,Math.max(b*.2,75))}return a}).scale(m);E.tickFormat(function(e,t){return E.valueFormat()(e,Y)}).scale(_);var Q=p.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([h]),ee=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),te=Q.select("g").attr("class","nv-chartWrap");ee.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("width",b+t.left+t.right).attr("height",y+t.top+t.bottom).attr("fill","#FFF");ee.append("g").attr("class","nv-titleWrap");var ne=te.select(".nv-titleWrap");ee.append("g").attr("class","nv-x nv-axis");var ie=te.select(".nv-x.nv-axis");ee.append("g").attr("class","nv-y nv-axis");var ae=te.select(".nv-y.nv-axis");ee.append("g").attr("class","nv-barsWrap");var re=te.select(".nv-barsWrap");ee.append("g").attr("class","nv-quotaWrap");var se=te.select(".nv-quotaWrap");ee.append("g").attr("class","nv-linesWrap1");var oe=te.select(".nv-linesWrap1");ee.append("g").attr("class","nv-linesWrap2");var le=te.select(".nv-linesWrap2");ee.append("g").attr("class","nv-legendWrap nv-barLegend");var ue=te.select(".nv-legendWrap.nv-barLegend");ee.append("g").attr("class","nv-legendWrap nv-lineLegend");var ce=te.select(".nv-legendWrap.nv-lineLegend");Q.attr("transform","translate("+t.left+","+t.top+")");if(o&&f.title){ne.select(".nv-title").remove();ne.append("text").text(f.title).attr("class","nv-title").attr("x",d==="rtl"?b:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black");I.top+=parseInt(te.select(".nv-title").node().getBoundingClientRect().height/1.15,10)+parseInt(te.select(".nv-title").style("margin-top"),10)+parseInt(te.select(".nv-title").style("margin-bottom"),10)}if(l){M.id("barlegend_"+R.id()).strings(R.strings().barlegend).align("left").height(y-I.top);ue.datum(h.filter(function(e){return e.type==="bar"})).call(M);F=M.calculateWidth();k.id("linelegend_"+R.id()).strings(R.strings().linelegend).align("right").height(y-I.top);ce.datum(J).call(k);N=k.calculateWidth();B=b/(F+N);M.arrange(Math.floor(B*F));k.arrange(Math.floor(B*N));ue.attr("transform","translate("+(d==="rtl"?b-M.width():0)+","+I.top+")");ce.attr("transform","translate("+(d==="rtl"?0:b-k.width())+","+I.top+")")}I.top+=Math.max(M.height(),k.height())+4;O=y-I.top-I.bottom;var de=m.domain(d3.merge(X)).rangeBands([0,b-t.left-t.right],.3),fe=Math.max(d3.max(d3.merge(Z)),$,W||0),he=Math.ceil(fe*.1)*10,pe=de(1)+de.rangeBand()/(x.stacked()||V.length===1?2:4);x.width(D).height(O).forceY([0,he]).id(R.id());re.datum(G).call(x);S.margin({top:0,right:pe,bottom:0,left:pe}).width(D).height(O).forceY([0,he]).useVoronoi(false).id("outline_"+R.id());w.margin({top:0,right:pe,bottom:0,left:pe}).width(D).height(O).forceY([0,he]).useVoronoi(false).size(U).sizeRange([U,U]).sizeDomain([U,U]).id("foreground_"+R.id());oe.datum(V).call(S);le.datum(V).call(w);ie.call(L);var me=L.margin();ae.style("opacity",G.length?1:0).call(E);var _e=E.margin();se.selectAll("line").remove();ae.selectAll("text.nv-quotaValue").remove();ae.selectAll("text.nv-targetQuotaValue").remove();var ge=0,ve=14;if(W>0){se.append("line").attr("class","nv-quotaLineTarget").attr("x1",0).attr("y1",0).attr("x2",D).attr("y2",0).attr("transform","translate(0,"+_(W)+")").style("stroke-dasharray","8, 8");se.append("line").datum({key:K,val:W}).attr("class","nv-quotaLineTarget nv-quotaLineBackground").attr("x1",0).attr("y1",0).attr("x2",D).attr("y2",0).attr("transform","translate(0,"+_(W)+")");ae.append("text").text(E.valueFormat()(W,true)).attr("class","nv-targetQuotaValue").attr("dy",".36em").attr("dx","0").attr("text-anchor",d==="rtl"?"start":"end").attr("transform","translate("+(0-E.tickPadding())+","+_(W)+")");ge=Math.round(te.select("text.nv-targetQuotaValue").node().getBoundingClientRect().width+E.tickPadding())}if($>0){se.append("line").attr("class","nv-quotaLine").attr("x1",0).attr("y1",0).attr("x2",D).attr("y2",0).attr("transform","translate(0,"+_($)+")").style("stroke-dasharray","8, 8");se.append("line").datum({key:q,val:$}).attr("class","nv-quotaLine nv-quotaLineBackground").attr("x1",0).attr("y1",0).attr("x2",D).attr("y2",0).attr("transform","translate(0,"+_($)+")");ae.append("text").text(E.valueFormat()($,true)).attr("class","nv-quotaValue").attr("dy",".36em").attr("dx","0").attr("text-anchor",d==="rtl"?"start":"end").attr("transform","translate("+-E.tickPadding()+","+_($)+")");ge=Math.max(ge,Math.round(te.select("text.nv-quotaValue").node().getBoundingClientRect().width+E.tickPadding()))}D=b-I.left-Math.max(ge,_e.left)-I.right-_e.right;O=y-I.top-_e.top-I.bottom-_e.bottom;x.width(D).height(O);re.call(x);ie.call(L);ae.call(E);me=L.margin();_e=E.margin();I.left+=Math.max(ge,me.left,_e.left);I.right+=Math.max(me.right,_e.right);I.top+=Math.max(me.top,_e.top);I.bottom+=Math.max(me.bottom,_e.bottom);D=b-I.left-I.right;O=y-I.top-I.bottom;x.width(D).height(O);re.attr("transform","translate("+I.left+","+I.top+")").call(x);S.width(D).height(O);w.width(D).height(O);oe.attr("transform","translate("+I.left+","+I.top+")").call(S);le.attr("transform","translate("+I.left+","+I.top+")").call(w);se.attr("transform","translate("+I.left+","+I.top+")").selectAll("line").attr("x2",D);ie.attr("transform","translate("+I.left+","+(L.orient()==="bottom"?O+I.top:I.top)+")").call(L);E.ticks(Math.ceil(O/48)).tickSize(-D,0);ae.attr("transform","translate("+(E.orient()==="left"?I.left:I.left+D)+","+I.top+")").call(E);if(W>0){se.select("line.nv-quotaLineTarget").attr("x2",D).attr("transform","translate(0,"+_(W)+")");ae.select("text.nv-targetQuotaValue").attr("transform","translate("+(0-E.tickPadding())+","+_(W)+")");ve=Math.round(parseInt(te.select("text.nv-targetQuotaValue").node().getBoundingClientRect().height,10)/1.15);ae.selectAll("g.tick, g.nv-axisMaxMin").each(function(e,t){if(Math.abs(_(e)-_(W))<=ve){d3.select(this).style("opacity",0)}})}if($>0){se.select("line.nv-quotaLine").attr("x2",D).attr("transform","translate(0,"+_($)+")");ae.select("text.nv-quotaValue").attr("transform","translate("+(0-E.tickPadding())+","+_($)+")");ve=Math.round(parseInt(te.select("text.nv-quotaValue").node().getBoundingClientRect().height,10)/1.15);ae.selectAll("g.tick, g.nv-axisMaxMin").each(function(e,t){if(Math.abs(_(e)-_($))<=ve){d3.select(this).style("opacity",0)}});if(W>0){if(Math.abs(_($)-_(W))<=ve){ae.select(".nv-targetQuotaValue").style("opacity",0)}}}se.selectAll("line.nv-quotaLineBackground").on("mouseover",function(e){if(c){var t={val:e.val,key:e.key,e:d3.event};T(t,g.parentNode)}}).on("mouseout",function(){v.tooltipHide()}).on("mousemove",function(){v.tooltipMove(d3.event)});M.dispatch.on("legendClick",function(e,t){var n=e.series;e.disabled=!e.disabled;if(!R.stacked()){h.filter(function(e){return e.series===n&&e.type==="line"}).map(function(e){e.disabled=!e.disabled;return e})}if(!h.filter(function(e){return!e.disabled&&e.type==="bar"}).length){h.map(function(e){e.disabled=false;te.selectAll(".nv-series").classed("disabled",false);return e})}p.call(R)});v.on("tooltipShow",function(e){if(c){A(e,g.parentNode,j)}});v.on("tooltipMove",function(t){if(u){e.tooltip.position(g.parentNode,u,t,"s")}});v.on("tooltipHide",function(){if(c){e.tooltip.cleanup()}});v.on("chartClick",function(){if(M.enabled()){M.dispatch.closeMenu()}if(k.enabled()){k.dispatch.closeMenu()}});x.dispatch.on("elementClick",function(e){v.chartClick();C(h,e,R,p)})});return R}w.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});w.dispatch.on("elementMousemove",function(e){v.tooltipMove(e)});w.dispatch.on("elementMouseout.tooltip",function(){v.tooltipHide()});x.dispatch.on("elementMouseover.tooltip",function(e){v.tooltipShow(e)});x.dispatch.on("elementMousemove",function(e){v.tooltipMove(e)});x.dispatch.on("elementMouseout.tooltip",function(){v.tooltipHide()});R.dispatch=v;R.lines1=S;R.lines2=w;R.multibar=x;R.barLegend=M;R.lineLegend=k;R.xAxis=L;R.yAxis=E;d3.rebind(R,x,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient");d3.rebind(R,x,"stacked","showValues","valueFormat","nice");d3.rebind(R,L,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks");R.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var r=function(e,t){return"nv-group nv-series-"+e.series};var s=function(e,t){var n=i.lineColor?i.lineColor:{c1:"#1A8221",c2:"#62B464",l:1};return e.color||d3.interpolateHsl(d3.rgb(n.c1),d3.rgb(n.c2))(e.series/2)};var o=function(e,t){return"nv-group nv-series-"+e.series};switch(n){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(i.barColor.c1),d3.rgb(i.barColor.c2))(e.series/i.barColor.l)};break;case"class":a=function(){return"inherit"};r=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n};o=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-group nv-series-"+e.series+" nv-fill"+n+" nv-stroke"+n};break;case"data":a=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};r=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};o=function(e,t){return"nv-group nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var l=!i.gradient?a:function(e,t){var n={orientation:i.orientation||"vertical",position:i.position||"middle"};return x.gradient(e,e.series,n)};x.color(a);x.fill(l);x.classes(r);w.color(s);w.fill(s);w.classes(o);M.color(a);M.classes(r);k.color(s);k.classes(o);return R};R.x=function(e){if(!arguments.length){return a}a=e;lines.x(e);x.x(e);return R};R.y=function(e){if(!arguments.length){return r}r=e;lines.y(e);x.y(e);return R};R.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return R};R.width=function(e){if(!arguments.length){return n}n=e;return R};R.height=function(e){if(!arguments.length){return i}i=e;return R};R.showTitle=function(e){if(!arguments.length){return o}o=e;return R};R.showLegend=function(e){if(!arguments.length){return l}l=e;return R};R.showControls=function(e){if(!arguments.length){return false}return R};R.tooltipBar=function(e){if(!arguments.length){return f}f=e;return R};R.tooltipLine=function(e){if(!arguments.length){return h}h=e;return R};R.tooltipQuota=function(e){if(!arguments.length){return p}p=e;return R};R.tooltip=function(e){if(!arguments.length){return u}u=e;return R};R.tooltips=function(e){if(!arguments.length){return c}c=e;return R};R.tooltipContent=function(e){if(!arguments.length){return tooltipContent}tooltipContent=e;return R};R.barClick=function(e){if(!arguments.length){return C}C=e;return R};R.colorFill=function(e){return R};R.strings=function(e){if(!arguments.length){return g}for(var t in e){if(e.hasOwnProperty(t)){g[t]=e[t]}}return R};R.direction=function(e){if(!arguments.length){return d}d=e;x.direction(e);E.direction(e);M.direction(e);k.direction(e);return R};R.locality=function(t){if(!arguments.length){return s}s=e.utils.buildLocality(t);x.locality(t);S.locality(t);return R};return R};e.models.pie=function(){var t={top:0,right:0,bottom:0,left:0},n=500,i=500,a=Math.floor(Math.random()*1e4),r=function(e){return e},s=function(e){return e.key},o=function(e){return e.value},l=e.utils.buildLocality(),u=function(e){return e.description},c=function(e){return e.data?o(e.data):e},d=function(e){return e.data?s(e.data):e},f=true,h=true,p=true,m=true,_=.01,g=false,v=false,b=function(e,t){var n=e.selectAll(".nv-hole-container").data(t),i=n.enter().append("g").attr("class","nv-hole-container");i.append("text").text(t).attr("class","nv-pie-hole-value").attr("dy",".35em").attr("text-anchor","middle").style("font-size","50px");n.exit().remove()},y=false,x=20,S=5,w=360,L=0,E=function(t){return t.startAngle*w/360+e.utils.angleToRadians(L)},M=function(t){return t.endAngle*w/360+e.utils.angleToRadians(L)},k=.447,A=75,T=250,C=function(e){return null},D=0,R="ltr",O=function(t,n){return e.utils.defaultColor()(t,t.series)},I=O,F=false,N=function(e,t){return"nv-slice nv-series-"+e.series},B=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function U(r){r.each(function(r){var l=n-t.left-t.right,u=i-t.top-t.bottom,w=d3.select(this);var L=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:o(e)});var D=[],P=f&&p?true:false;if(P){D=e.utils.stringSetLengths(r.map(s),w,d,"nv-label")}var Y=w.selectAll(".nv-wrap.nv-pie").data([r]);var H=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a);var G=H.append("defs");var V=H.append("g");var j=Y.select("g");U.gradient=function(t,n){var i={x:0,y:0,r:ce,s:g?k*100+"%":"0%",u:"userSpaceOnUse"};return e.utils.colorRadialGradient(t,a+"-"+n,i,O(t,n),Y.select("defs"))};V.append("g").attr("class","nv-pie");var z=j.select(".nv-pie");V.append("g").attr("class","nv-holeWrap");var $=j.select(".nv-holeWrap");Y.attr("transform","translate("+t.left+","+t.top+")");z.attr("transform","translate("+l/2+","+u/2+")");if(F){var q=e.utils.createTexture(G,a,-l/2,-u/2)}w.on("click",function(e,t){B.chartClick({data:e,index:t,pos:d3.event,id:a})});var W=Y.select(".nv-pie").selectAll(".nv-slice").data(L);W.exit().remove();var K=W.enter().append("g").style("stroke","#ffffff").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(e,t){d3.select(this).classed("hover",true);var n=he(d3.event,e,t);B.elementMouseover(n)}).on("mousemove",function(e,t){B.elementMousemove(d3.event)}).on("mouseout",function(e,t){d3.select(this).classed("hover",false);B.elementMouseout()}).on("click",function(e,t){d3.event.stopPropagation();var n=he(d3.event,e,t);B.elementClick(n)}).on("dblclick",function(e,t){d3.event.stopPropagation();var n=he(d3.event,e,t);B.elementDblClick(n)});K.append("path").attr("class","nv-base").each(function(e,t){this._current=e});if(F){K.append("path").attr("class","nv-texture").each(function(e,t){this._current=e}).style("mask","url("+q+")")}K.append("g").attr("transform","translate(0,0)").attr("class","nv-label");K.select(".nv-label").append("rect").style("fill-opacity",0).style("stroke-opacity",0);K.select(".nv-label").append("text").style("fill-opacity",0);K.append("polyline").attr("class","nv-label-leader").style("stroke-opacity",0);var J=l/2,X=u/2,Z=[],Q=[],ee=0,te=P?5:0,ne=0,ie=x+S;W.select(".nv-base").call(pe,J,X);$.call(b,v?[v]:[]);if(v){var ae=$.node().getBoundingClientRect().height*.3,re=Math.abs(X*d3.min(Q)),se=Math.round(ae-re);if(se>0){te+=se;ee-=se/2}}var oe=l/2,le=u/2;if(P){x=Math.max(Math.min(Math.min(me())/12,20),10)}if(C(U)){A=C(U);T=C(U)}var ue=Math.min(Math.max(me(),A),T),ce=ue-(P?x:0);le+=((d3.max(Q)-d3.min(Q))/2+d3.min(Q))*((ue+ee)/le);oe+=((d3.max(Z)-d3.min(Z))/2-d3.max(Z))*(ue/oe);le+=ee/2;z.attr("transform","translate("+oe+","+le+")");$.attr("transform","translate("+oe+","+le+")");z.select(q).attr("x",-ce/2).attr("y",-ce/2);var de=d3.svg.arc().innerRadius(g?ce*k:0).outerRadius(ce).startAngle(E).endAngle(M);var fe=d3.svg.arc().innerRadius(0).outerRadius(ce).startAngle(E).endAngle(M);if(p){if(!g||m){fe.innerRadius(ue).outerRadius(ue)}else{fe.outerRadius(ce*k)}}W.attr("class",function(e){return N(e.data,e.data.series)}).attr("fill",function(e){return I(e.data,e.data.series)}).classed("nv-active",function(e){return e.data.active==="active"}).classed("nv-inactive",function(e){return e.data.active==="inactive"});W.select(".nv-base").attr("d",de).style("stroke-opacity",function(e){return E(e)===M(e)?0:1});if(F){W.select(".nv-texture").attr("d",de).style("stroke-opacity",function(e){return E(e)===M(e)?0:1}).style("fill",function(t,n){var i=d3.select(this.parentNode).style("fill");return e.utils.getTextContrast(i,n)})}if(f){W.select(".nv-label").attr("transform",function(e){if(y){e.outerRadius=ce+10;e.innerRadius=ce+15;var t=(E(e)+M(e))/2*(180/Math.PI);t+=90*ge(e,fe);return"translate("+fe.centroid(e)+") rotate("+t+")"}else{var n=fe.centroid(e),i=h?(x+S)*ge(e,fe):0;return"translate("+[n[0]+i,n[1]]+")"}});W.select(".nv-label text").text(function(e){return d(e)}).attr("dy",".35em").style("fill","#555").style("fill-opacity",_e).style("text-anchor",function(e){if(!p){return"middle"}var t=ge(e,fe)===1?"start":"end";if(R==="rtl"){t=t==="start"?"end":"start"}return t});W.each(function(t,n){if(D[n]>A||ue===A){var i=(E(t)+M(t))/2,a=Math.abs(Math.sin(i)),r=ue*a+x+S+D[n],s=l/2-oe+l/2-r;if(s<0){var o=e.utils.stringEllipsify(d(t),w,D[n]+s);d3.select(this).select("text").text(o)}}});if(!p){W.select(".nv-label").each(function(e){if(!_e(e)){return}var t=d3.select(this),n=t.select("text").node().getBoundingClientRect();t.select("rect").attr("rx",3).attr("ry",3).attr("width",n.width+10).attr("height",n.height+10).attr("transform",function(){return"translate("+[n.x-5,n.y-5]+")"}).style("fill","#fff").style("fill-opacity",_e)})}else if(h){W.select(".nv-label-leader").attr("points",function(e){if(!_e(e)){return"0,0 0,0"}var t=d3.svg.arc().innerRadius(ce).outerRadius(ce).startAngle(E).endAngle(M);var n=h?x*ge(e,t):0,i=t.centroid(e),a=fe.centroid(e),r=[a[0]+n,a[1]];return i+" "+a+" "+r}).style("stroke","#aaa").style("fill","none").style("stroke-opacity",_e)}}else{W.select(".nv-label-leader").style("stroke-opacity",0);W.select(".nv-label rect").style("fill-opacity",0);W.select(".nv-label text").style("fill-opacity",0)}function he(e,t,n){return{label:d(t),value:c(t),point:t.data,pointIndex:n,id:a,e:e}}function pe(e,t,n){var i=[],a=[],r=Math.PI,s=2*Math.PI,o=0,c=Math.PI/2,d=Math.PI,f=3*Math.PI/2,h=0;function p(e){return(e+h)%s}e.each(function(e,r){var l=(E(e)+s)%s,u=(M(e)+s)%s;var m=Math.round(Math.sin(l)*1e4)/1e4,_=Math.round(Math.sin(u)*1e4)/1e4,v=Math.round(Math.cos(l)*1e4)/1e4,b=Math.round(Math.cos(u)*1e4)/1e4;h=u<l?s-l:0;if(u===l){l=0;u=s}else{l=p(l);u=p(u)}o=p(o);c=p(c);d=p(d);f=p(f);if(l%s===0||u%s===0){a.push(n);if(g){a.push(n*k)}}if(l<=c&&u>=c){i.push(t);if(g){i.push(t*k)}}if(l<=d&&u>=d){a.push(-n);if(g){a.push(-n*k)}}if(l<=f&&u>=f){i.push(-t);if(g){i.push(-t*k)}}i.push(t*m);i.push(t*_);if(g){i.push(t*k*m);i.push(t*k*_)}else{i.push(0)}a.push(n*v);a.push(n*b);if(g){a.push(n*k*v);a.push(n*k*b)}else{a.push(0)}});Z=d3.extent(i);Q=d3.extent(a);J*=l/(d3.max(Z)-d3.min(Z));X*=u/(d3.max(Q)-d3.min(Q))}function me(){var e=[J],t=[X+x];W.select(".nv-base").each(function(n,i){if(!_e(n)){return}var a=(E(n)+M(n))/2,r=d3.round(Math.sin(a),5),s=d3.round(Math.cos(a),5),o=J-ie-D[i],l=X-te,u=r?o/r:o,c=s?l/s:l;e.push(u);t.push(c)});var n=d3.min(e.concat(t).concat([]),function(e){return Math.abs(e)});return n}function _e(e){var t=(M(e)-E(e))/(2*Math.PI);return t>_?1:0}function ge(e,t){var n=Math.PI*2,i=((E(e)+M(e))/2+n)%n;return i>0&&i<Math.PI?1:-1}function ve(e){if(!g){e.innerRadius=0}var t=d3.interpolate(this._current,e);this._current=t(0);return function(e){var n=t(e);return de(n)}}function be(e){e.innerRadius=0;var t=d3.interpolate({startAngle:0,endAngle:0},e);return function(e){return de(t(e))}}});return U}U.dispatch=B;U.color=function(e){if(!arguments.length){return O}O=e;return U};U.fill=function(e){if(!arguments.length){return I}I=e;return U};U.classes=function(e){if(!arguments.length){return N}N=e;return U};U.gradient=function(e){if(!arguments.length){return gradient}gradient=e;return U};U.margin=function(e){if(!arguments.length){return t}t.top=typeof e.top!="undefined"?e.top:t.top;t.right=typeof e.right!="undefined"?e.right:t.right;t.bottom=typeof e.bottom!="undefined"?e.bottom:t.bottom;t.left=typeof e.left!="undefined"?e.left:t.left;return U};U.width=function(e){if(!arguments.length){return n}n=e;return U};U.height=function(e){if(!arguments.length){return i}i=e;return U};U.values=function(e){if(!arguments.length){return r}r=e;return U};U.x=function(e){if(!arguments.length){return s}s=e;return U};U.y=function(e){if(!arguments.length){return o}o=d3.functor(e);return U};U.description=function(e){if(!arguments.length){return u}u=e;return U};U.showLabels=function(e){if(!arguments.length){return f}f=e;return U};U.labelSunbeamLayout=function(e){if(!arguments.length){return y}y=e;return U};U.donutLabelsOutside=function(e){if(!arguments.length){return m}m=e;return U};U.pieLabelsOutside=function(e){if(!arguments.length){return p}p=e;return U};U.showLeaders=function(e){if(!arguments.length){return h}h=e;return U};U.donut=function(e){if(!arguments.length){return g}g=e;return U};U.hole=function(e){if(!arguments.length){return v}v=e;return U};U.holeFormat=function(e){if(!arguments.length){return b}b=d3.functor(e);return U};U.donutRatio=function(e){if(!arguments.length){return k}k=e;return U};U.startAngle=function(e){if(!arguments.length){return E}E=e;return U};U.endAngle=function(e){if(!arguments.length){return M}M=e;return U};U.id=function(e){if(!arguments.length){return a}a=e;return U};U.valueFormat=function(e){if(!arguments.length){return c}c=e;return U};U.labelFormat=function(e){if(!arguments.length){return d}d=e;return U};U.labelThreshold=function(e){if(!arguments.length){return _}_=e;return U};U.direction=function(e){if(!arguments.length){return R}R=e;return U};U.arcDegrees=function(e){if(!arguments.length){return w}w=Math.max(Math.min(e,360),1);return U};U.rotateDegrees=function(e){if(!arguments.length){return L}L=e%360;return U};U.minRadius=function(e){if(!arguments.length){return A}A=e;return U};U.maxRadius=function(e){if(!arguments.length){return T}T=e;return U};U.fixedRadius=function(e){if(!arguments.length){return C}C=d3.functor(e);return U};U.textureFill=function(e){if(!arguments.length)return F;F=e;return U};U.locality=function(t){if(!arguments.length){return l}l=e.utils.buildLocality(t);return U};return U};e.models.pieChart=function(){var t={top:10,right:10,bottom:10,left:10},n=null,i=null,a=false,r=true,s="ltr",o=null,l=0,u=true,c=function(e,t,n,i,a){return"<h3>"+e+" - "+t+"</h3>"+"<p>"+n+"</p>"},d={},f={legend:{close:"Hide legend",open:"Show legend"},controls:{close:"Hide controls",open:"Show controls"},noData:"No Data Available.",noLabel:"undefined"},h=d3.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState");var p=e.models.pie(),m=e.models.legend().align("center");var _=function(t,n,i){var a=t.point.key,r=i.total?(p.y()(t.point)*100/i.total).toFixed(1):100,s=p.y()(t.point),l=c(a,r,s,t,v);o=e.tooltip.show(t.e,l,null,null,n)};var g=function(e,t,n){return};function v(c){c.each(function(c){var f=c.properties||{},b=c.data,y=d3.select(this),x=this,S=(n||parseInt(y.style("width"),10)||960)-t.left-t.right,w=(i||parseInt(y.style("height"),10)||400)-t.top-t.bottom,L=d3.sum(b.map(function(e){return e.value})),E=S,M=w,k={top:0,right:0,bottom:0,left:0};v.update=function(){y.transition().duration(l).call(v)};v.dataSeriesActivate=function(e){var t=e.point;t.active=!t.active||t.active==="inactive"?"active":"inactive";if(t.active==="active"){b.filter(function(e){return e.active!=="active"}).map(function(e){e.active="inactive";return e})}if(!b.filter(function(e){return e.active==="active"}).length){b.map(function(e){e.active="";return e})}y.call(v)};v.container=this;if(!b||!b.length){G();return v}var A=b.map(function(e,t){e.series=t;if(!e.value&&!e.values){e.value=0;e.disabled=true}else{e.value=e.value||d3.sum(e.values,function(e){return e.y||e});e.disabled=e.disabled||e.value===0}return e});var T=d3.sum(A.filter(function(e,t){return!e.disabled}).map(function(e,t){return e.value}));f.total=T;d.disabled=A.map(function(e){return!!e.disabled});if(!T){G();return v}else{y.selectAll(".nv-noData").remove()}var C=y.selectAll("g.nv-wrap.nv-pieChart").data([A]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),R=C.select("g").attr("class","nv-chartWrap");D.append("rect").attr("class","nv-background").attr("x",-t.left).attr("y",-t.top).attr("fill","#FFF");R.select(".nv-background").attr("width",S+t.left+t.right).attr("height",w+t.top+t.bottom);D.append("g").attr("class","nv-titleWrap");var O=R.select(".nv-titleWrap");D.append("g").attr("class","nv-pieWrap");var I=R.select(".nv-pieWrap");D.append("g").attr("class","nv-legendWrap");var F=R.select(".nv-legendWrap");C.attr("transform","translate("+t.left+","+t.top+")");var N={width:0,height:0};O.select(".nv-title").remove();if(a&&f.title){O.append("text").attr("class","nv-title").attr("x",s==="rtl"?S:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").text(f.title).attr("stroke","none").attr("fill","black");N=e.utils.getTextBBox(R.select(".nv-title"));k.top+=N.height+12}if(r){m.id("legend_"+v.id()).strings(v.strings().legend).align("center").height(w-k.top);F.datum(A).call(m);m.arrange(S);var B=e.utils.getTextBBox(F.select(".nv-legend-link")),U=S-N.width-6,P=a&&m.collapsed()&&U>B.width?true:false,Y=s==="rtl"||!m.collapsed()?0:S-m.width(),H=N.height;if(P){H=N.height-m.height()/2-B.height/2}else if(!a){H=-m.margin().top}F.attr("transform","translate("+Y+","+H+")");k.top+=P?0:m.height()-12}M=w-k.top-k.bottom;E=S-k.left-k.right;p.width(E).height(M);I.datum(A.filter(function(e){return!e.disabled})).attr("transform","translate("+k.left+","+k.top+")").transition().duration(l).call(p);function G(){y.select(".nvd3.nv-wrap").remove();var e=y.selectAll(".nv-noData").data([v.strings().noData]);e.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");e.attr("x",t.left+S/2).attr("y",t.top+w/2).text(function(e){return e})}m.dispatch.on("legendClick",function(e,t){e.disabled=!e.disabled;e.active=false;if(!b.filter(function(e){return!e.disabled}).length){b.map(function(e){e.disabled=false;return e})}if(!b.filter(function(e){return e.active==="active"}).length){b.map(function(e){e.active="";return e})}d.disabled=b.map(function(e){return!!e.disabled});h.stateChange(d);y.transition().duration(l).call(v)});h.on("tooltipShow",function(e){if(u){_(e,x.parentNode,f)}});h.on("tooltipMove",function(t){if(o){e.tooltip.position(x.parentNode,o,t)}});h.on("tooltipHide",function(){if(u){e.tooltip.cleanup()}});h.on("changeState",function(e){if(typeof e.disabled!=="undefined"){A.forEach(function(t,n){t.disabled=e.disabled[n]});d.disabled=e.disabled}y.transition().duration(l).call(v)});h.on("chartClick",function(){if(m.enabled()){m.dispatch.closeMenu()}});p.dispatch.on("elementClick",function(e){h.chartClick();g(b,e,v)})});return v}p.dispatch.on("elementMouseover.tooltip",function(e){h.tooltipShow(e)});p.dispatch.on("elementMousemove.tooltip",function(e){h.tooltipMove(e)});p.dispatch.on("elementMouseout.tooltip",function(){h.tooltipHide()});v.dispatch=h;v.pie=p;v.legend=m;d3.rebind(v,p,"id","x","y","color","fill","classes","gradient","locality");d3.rebind(v,p,"valueFormat","labelFormat","values","description","showLabels","showLeaders","donutLabelsOutside","pieLabelsOutside","labelThreshold");d3.rebind(v,p,"arcDegrees","rotateDegrees","minRadius","maxRadius","fixedRadius","startAngle","endAngle","donut","hole","holeFormat","donutRatio");v.colorData=function(t){var n=arguments[0],i=arguments[1]||{};var a=function(t,n){return e.utils.defaultColor()(t,t.series)};var r=function(e,t){return"nv-slice nv-series-"+e.series};switch(n){case"graduated":a=function(e,t){return d3.interpolateHsl(d3.rgb(i.c1),d3.rgb(i.c2))(e.series/i.l)};break;case"class":a=function(){return"inherit"};r=function(e,t){var n=e.series*(i.step||1)%14;n=(n>9?"":"0")+n;return"nv-slice nv-series-"+e.series+" nv-fill"+n};break;case"data":a=function(t,n){return t.classes?"inherit":t.color||e.utils.defaultColor()(t,t.series)};r=function(e,t){return"nv-slice nv-series-"+e.series+(e.classes?" "+e.classes:"")};break}var s=!i.gradient?a:function(e,t){return p.gradient(e,e.series)};p.color(a);p.fill(s);p.classes(r);m.color(a);m.classes(r);return v};v.margin=function(e){if(!arguments.length){return t}for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return v};v.width=function(e){if(!arguments.length){return n}n=e;return v};v.height=function(e){if(!arguments.length){return i}i=e;return v};v.showTitle=function(e){if(!arguments.length){return a}a=e;return v};v.showLegend=function(e){if(!arguments.length){return r}r=e;return v};v.tooltip=function(e){if(!arguments.length){return o}o=e;return v};v.tooltips=function(e){if(!arguments.length){return u}u=e;return v};v.tooltipContent=function(e){if(!arguments.length){return c}c=e;return v};v.state=function(e){if(!arguments.length){return d}d=e;return v};v.colorFill=function(e){return v};v.strings=function(e){if(!arguments.length){return f}for(var t in e){if(e.hasOwnProperty(t)){f[t]=e[t]}}return v};v.seriesClick=function(e){if(!arguments.length){return g}g=e;return v};v.direction=function(e){if(!arguments.length){return s}s=e;p.direction(e);m.direction(e);return v};return v}})()},function(e,t){(function(e){var t=function(e){var t=this;var n=t.options=_.extend({},t.defaults,e);var i=n.template||function(){return""};var a=n.templateTarget;n.template=void 0;t.$target=this;var r=n.height;a.find(".pull-to-refresh").length||a.append(i(n));t.$holder=a.find(".pull-to-refresh");t.$msg=t.$holder.find(".message-container");t.$msg.css({height:r});t.$spinner=t.$holder.find(".ptr__spinner");t.$spinner_wrapper=t.$holder.find(".ptr__wrap-spinner");var s=SUGAR.App.utils.generateUUID();var o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");var l=n.height;t.$spinner_polygon=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(t.$spinner_polygon);o.setAttribute("id",s);t.$spinner.append(o);t.$spinner.find("g").attr("clip-path","url(#"+s+")");var u=function(e){var n=30;if(-e<n){return}var i=parseInt((-e-n)/(l-n)*360);var a=i*Math.PI/180;t.$spinner.css({"-webkit-transform":"rotate("+i+"deg)"});var r="54 54, 54 0";var s,o;if(i>0&&i<=45){s=50-Math.tan(a)*50;o=0;r=r+", "+parseInt(s)+" "+parseInt(o)}if(i>45&&i<=135){s=0;o=50-1/Math.tan(a)*50;r=r+", 0 0, "+parseInt(s)+" "+parseInt(o)}if(i>135&&i<=225){s=50+Math.tan(a)*50;o=100;r=r+", 0 0, 0 100, "+parseInt(s)+" "+parseInt(o)}if(i>225&&i<=315){s=100;o=50+1/Math.tan(a)*50;r=r+", 0 0, 0 100, 100 100, "+parseInt(s)+" "+parseInt(o)}if(i>315){r="0 0, 100 0, 100 100, 0 100"}t.$spinner_polygon.setAttribute("points",r)};n.scroller.activatePullToRefresh(r,function(){u(-l);t.$spinner_wrapper.addClass("animation--scale-once")},function(){t.$spinner_wrapper.removeClass("animation--scale-once")},function(){if(!t.isLoading){t.$spinner.addClass("rotate360");t.options.scroller.__publish(0,-t.options.height,1,false);t.isLoading=true;if(n.callback){n.callback()}}},function(e){u(e)})};t.prototype={defaults:{height:96,animationDelay:300,callback:function(){}},hide:function(){var e=this;e.isLoading=false;if(!e.options)return;e.options.scroller.finishPullToRefresh();e.$spinner.removeClass("rotate360");e.$spinner_wrapper.removeClass("animation--scale-once")},destroy:function(){var e=this;if(!e.options){return}e.options.scroller.finishPullToRefresh();e.$holder.remove();e.options.callback=null;e.options=null;e.$div=null;e.$holder=null;e.$msg=null;e.$spinner=null;e.$spinner_wrapper=null;e.$spinner_polygon=null;e.$target=null;e.isLoading=false}};e.fn.pullToRefresh=function(e){if(typeof e==="object"||!e){this._ptr=new t(e)}else if(this._ptr&&this._ptr[e]){this._ptr[e].apply(this._ptr,Array.prototype.slice.call(arguments,1));if(e==="destroy"){this._ptr=null}}}})(Zepto)},function(e,t,n){var i,a;(function(n,r){"use strict";var s={remoteFetching:false,collectWindowErrors:true,linesOfContext:7};var o=[].slice;var l="?";s.wrap=function e(t){function n(){try{return t.apply(this,arguments)}catch(e){s.report(e);throw e}}return n};s.report=function e(){var t=[],i=null,a=null,l=null;function u(e){_();t.push(e)}function c(e){for(var n=t.length-1;n>=0;--n){if(t[n]===e){t.splice(n,1)}}}function d(){g();t=[]}function f(e,n){var i=null;if(n&&!s.collectWindowErrors){return}for(var a in t){if(A(t,a)){try{t[a].apply(null,[e].concat(o.call(arguments,2)))}catch(e){i=e}}}if(i){throw i}}var h,p;function m(e,t,n,i,a){var r=null;if(l){s.computeStackTrace.augmentStackTraceWithInitialElement(l,t,n,e);v()}else if(a){r=s.computeStackTrace(a);f(r,true)}else{var o={url:t,line:n,column:i};o.func=s.computeStackTrace.guessFunctionName(o.url,o.line);o.context=s.computeStackTrace.gatherContext(o.url,o.line);r={message:e,url:document.location.href,stack:[o]};f(r,true)}if(h){return h.apply(this,arguments)}return false}function _(){if(p){return}h=n.onerror;n.onerror=m;p=true}function g(){if(!p){return}n.onerror=h;p=false;h=r}function v(){var e=l,t=i;i=null;l=null;a=null;f.apply(null,[e,false].concat(t))}function b(e,t){var r=o.call(arguments,1);if(l){if(a===e){return}else{v()}}var u=s.computeStackTrace(e);l=u;a=e;i=r;n.setTimeout(function(){if(a===e){v()}},u.incomplete?2e3:0);if(t!==false){throw e}}b.subscribe=u;b.unsubscribe=c;b.uninstall=d;return b}();s.computeStackTrace=function e(){var t=false,i={};function a(e){if(!s.remoteFetching){return""}try{var t=function(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject("Microsoft.XMLHTTP")}};var i=t();i.open("GET",e,false);i.send("");return i.responseText}catch(e){return""}}function r(e){if(!M(e))return[];if(!A(i,e)){var t="";if(e.indexOf(document.domain)!==-1){t=a(e)}i[e]=t?t.split("\n"):[]}return i[e]}function o(e,t){var n=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",s=10,o=r(e),u;if(!o.length){return l}for(var c=0;c<s;++c){a=o[t-c]+a;if(!L(a)){if(u=i.exec(a)){return u[1]}else if(u=n.exec(a)){return u[1]}}}return l}function u(e,t){var n=r(e);if(!n.length){return null}var i=[],a=Math.floor(s.linesOfContext/2),o=a+s.linesOfContext%2,l=Math.max(0,t-a-1),u=Math.min(n.length,t+o-1);t-=1;for(var c=l;c<u;++c){if(!L(n[c])){i.push(n[c])}}return i.length>0?i:null}function c(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function d(e){return c(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,t){var n,i;for(var a=0,s=t.length;a<s;++a){if((n=r(t[a])).length){n=n.join("\n");if(i=e.exec(n)){return{url:t[a],line:n.substring(0,i.index).split("\n").length,column:i.index-n.lastIndexOf("\n",i.index)-1}}}}return null}function h(e,t,n){var i=r(t),a=new RegExp("\\b"+c(e)+"\\b"),s;n-=1;if(i&&i.length>n&&(s=a.exec(i[n]))){return s.index}return null}function p(e){var t=[n.location.href],i=document.getElementsByTagName("script"),a,r=""+e,s=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,l,u,h;for(var p=0;p<i.length;++p){var m=i[p];if(m.src){t.push(m.src)}}if(!(u=s.exec(r))){l=new RegExp(c(r).replace(/\s+/g,"\\s+"))}else{var _=u[1]?"\\s+"+u[1]:"",g=u[2].split(",").join("\\s*,\\s*");a=c(u[3]).replace(/;$/,";?");l=new RegExp("function"+_+"\\s*\\(\\s*"+g+"\\s*\\)\\s*{\\s*"+a+"\\s*}")}if(h=f(l,t)){return h}if(u=o.exec(r)){var v=u[1];a=d(u[2]);l=new RegExp("on"+v+"=[\\'\"]\\s*"+a+"\\s*[\\'\"]","i");if(h=f(l,t[0])){return h}l=new RegExp(a);if(h=f(l,t)){return h}}return null}function m(e){if(!e.stack){return null}var t=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?).*?):(\d+)(?::(\d+))?\s*$/i,i=e.stack.split("\n"),a=[],r,s,c=/^(.*) is undefined$/.exec(e.message);for(var d=0,f=i.length;d<f;++d){if(r=n.exec(i[d])){s={url:r[3],func:r[1]||l,args:r[2]?r[2].split(","):"",line:+r[4],column:r[5]?+r[5]:null}}else if(r=t.exec(i[d])){s={url:r[2],func:r[1]||l,line:+r[3],column:r[4]?+r[4]:null}}else{continue}if(!s.func&&s.line){s.func=o(s.url,s.line)}if(s.line){s.context=u(s.url,s.line)}a.push(s)}if(!a.length){return null}if(a[0].line&&!a[0].column&&c){a[0].column=h(c[1],a[0].url,a[0].line)}else if(!a[0].column&&!L(e.columnNumber)){a[0].column=e.columnNumber+1}return{name:e.name,message:e.message,url:document.location.href,stack:a}}function _(e){var t=e.stacktrace;var n=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,i=t.split("\n"),a=[],r;for(var s=0,l=i.length;s<l;s+=2){if(r=n.exec(i[s])){var c={line:+r[1],column:+r[2],func:r[3]||r[4],args:r[5]?r[5].split(","):[],url:r[6]};if(!c.func&&c.line){c.func=o(c.url,c.line)}if(c.line){try{c.context=u(c.url,c.line)}catch(e){}}if(!c.context){c.context=[i[s+1]]}a.push(c)}}if(!a.length){return null}return{name:e.name,message:e.message,url:document.location.href,stack:a}}function g(e){var t=e.message.split("\n");if(t.length<4){return null}var i=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,a=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of function script\s*$/i,l=[],c=document.getElementsByTagName("script"),h=[],p,m,_,g;for(m in c){if(A(c,m)&&!c[m].src){h.push(c[m])}}for(m=2,_=t.length;m<_;m+=2){var v=null;if(p=i.exec(t[m])){v={url:p[2],func:p[3],line:+p[1]}}else if(p=a.exec(t[m])){v={url:p[3],func:p[4]};var b=+p[1];var y=h[p[2]-1];if(y){g=r(v.url);if(g){g=g.join("\n");var x=g.indexOf(y.innerText);if(x>=0){v.line=b+g.substring(0,x).split("\n").length}}}}else if(p=s.exec(t[m])){var S=n.location.href.replace(/#.*$/,""),w=p[1];var L=new RegExp(d(t[m+1]));g=f(L,[S]);v={url:S,line:g?g.line:w,func:""}}if(v){if(!v.func){v.func=o(v.url,v.line)}var E=u(v.url,v.line);var M=E?E[Math.floor(E.length/2)]:null;if(E&&M.replace(/^\s*/,"")===t[m+1].replace(/^\s*/,"")){v.context=E}else{v.context=[t[m+1]]}l.push(v)}}if(!l.length){return null}return{name:e.name,message:t[0],url:document.location.href,stack:l}}function v(e,t,n,i){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=false;if(!a.func){a.func=o(a.url,a.line)}if(!a.context){a.context=u(a.url,a.line)}var r=/ '([^']+)' /.exec(i);if(r){a.column=h(r[1],a.url,a.line)}if(e.stack.length>0){if(e.stack[0].url===a.url){if(e.stack[0].line===a.line){return false}else if(!e.stack[0].line&&e.stack[0].func===a.func){e.stack[0].line=a.line;e.stack[0].context=a.context;return false}}}e.stack.unshift(a);e.partial=true;return true}else{e.incomplete=true}return false}function b(e,t){var n=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,i=[],a={},r=false,u,c,d;for(var f=b.caller;f&&!r;f=f.caller){if(f===y||f===s.report){continue}c={url:null,func:l,line:null,column:null};if(f.name){c.func=f.name}else if(u=n.exec(f.toString())){c.func=u[1]}if(d=p(f)){c.url=d.url;c.line=d.line;if(c.func===l){c.func=o(c.url,c.line)}var m=/ '([^']+)' /.exec(e.message||e.description);if(m){c.column=h(m[1],d.url,d.line)}}if(a[""+f]){r=true}else{a[""+f]=true}i.push(c)}if(t){i.splice(0,t)}var _={name:e.name,message:e.message,url:document.location.href,stack:i};v(_,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description);return _}function y(e,n){var i=null;n=n==null?0:+n;try{i=_(e);if(i){return i}}catch(e){if(t){throw e}}try{i=m(e);if(i){return i}}catch(e){if(t){throw e}}try{i=g(e);if(i){return i}}catch(e){if(t){throw e}}try{i=b(e,n+1);if(i){return i}}catch(e){if(t){throw e}}return{}}function x(e){e=(e==null?0:+e)+1;try{throw new Error}catch(t){return y(t,e+1)}}y.augmentStackTraceWithInitialElement=v;y.guessFunctionName=o;y.gatherContext=u;y.ofCaller=x;return y}();"use strict";var u=n.Raven,c=!!(n.JSON&&n.JSON.stringify),d,f,h,p,m,_,g={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:true,tags:{},extra:{}};var v={VERSION:"1.1.11",TraceKit:s,afterLoad:function(){var e=n.RavenConfig;if(e){this.config(e.dsn,e.config).install()}},noConflict:function(){n.Raven=u;return v},config:function(e,t){if(!e)return v;var n=w(e),i=n.path.lastIndexOf("/"),a=n.path.substr(1,i);if(t){T(t,function(e,t){g[e]=t})}g.ignoreErrors.push("Script error.");g.ignoreErrors.push("Script error");g.ignoreErrors=H(g.ignoreErrors);g.ignoreUrls=g.ignoreUrls.length?H(g.ignoreUrls):false;g.whitelistUrls=g.whitelistUrls.length?H(g.whitelistUrls):false;g.includePaths=H(g.includePaths);m=n.user;_=n.path.substr(i+1);h="//"+n.host+(n.port?":"+n.port:"")+"/"+a+"api/"+_+"/store/";if(n.protocol){h=n.protocol+":"+h}if(g.fetchContext){s.remoteFetching=true}if(g.linesOfContext){s.linesOfContext=g.linesOfContext}s.collectWindowErrors=!!g.collectWindowErrors;return v},install:function(){if(Y()){s.report.subscribe(R)}return v},context:function(e,t,n){if(E(e)){n=t||[];t=e;e=r}return v.wrap(e,t).apply(this,n)},wrap:function(e,t){if(L(t)&&!E(e)){return e}if(E(e)){t=e;e=r}if(!E(t)){return t}if(t.__raven__){return t}function n(){var n=[],i=arguments.length,a=!e||e&&e.deep!==false;while(i--)n[i]=a?v.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,n)}catch(t){v.captureException(t,e);throw t}}for(var i in t){if(t.hasOwnProperty(i)){n[i]=t[i]}}n.__raven__=true;return n},uninstall:function(){s.report.uninstall();return v},captureException:function(e,t){if(M(e))return v.captureMessage(e,t);d=e;try{s.report(e,t)}catch(t){if(e!==t){throw t}}return v},captureMessage:function(e,t){U(N({message:e},t));return v},setUser:function(e){p=e;return v},lastException:function(){return d},lastEventId:function(){return f}};function b(e,t){var n,i;t=t||{};e="raven"+e.substr(0,1).toUpperCase()+e.substr(1);if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(e,true,true)}else{n=document.createEventObject();n.eventType=e}for(i in t)if(t.hasOwnProperty(i)){n[i]=t[i]}if(document.createEvent){document.dispatchEvent(n)}else{try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}}var y="source protocol user pass host port path".split(" "),x=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;function S(e){this.name="RavenConfigError";this.message=e}S.prototype=new Error;S.prototype.constructor=S;function w(e){var t=x.exec(e),n={},i=7;try{while(i--)n[y[i]]=t[i]||""}catch(t){throw new S("Invalid DSN: "+e)}if(n.pass)throw new S("Do not specify your private key in the DSN!");return n}function L(e){return typeof e==="undefined"}function E(e){return typeof e==="function"}function M(e){return typeof e==="string"}function k(e){for(var t in e)return false;return true}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){var n,i;if(L(e.length)){for(n in e){if(e.hasOwnProperty(n)){t.call(null,n,e[n])}}}else{i=e.length;if(i){for(n=0;n<i;n++){t.call(null,n,e[n])}}}}var C;function D(){if(C)return C;var e=["sentry_version=4","sentry_client=raven-js/"+v.VERSION];if(m){e.push("sentry_key="+m)}C="?"+e.join("&");return C}function R(e,t){var n=[];if(e.stack&&e.stack.length){T(e.stack,function(e,t){var i=O(t);if(i){n.push(i)}})}b("handle",{stackInfo:e,options:t});F(e.name,e.message,e.url,e.lineno,n,t)}function O(e){if(!e.url)return;var t={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"},n=I(e),i;if(n){var a=["pre_context","context_line","post_context"];i=3;while(i--)t[a[i]]=n[i]}t.in_app=!(!g.includePaths.test(t.filename)||/(Raven|TraceKit)\./.test(t["function"])||/raven\.(min\.)js$/.test(t.filename));return t}function I(e){if(!e.context||!g.fetchContext)return;var t=e.context,n=~~(t.length/2),i=t.length,a=false;while(i--){if(t[i].length>300){a=true;break}}if(a){if(L(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}function F(e,t,n,i,a,r){var s,o,l;if(!t)return;if(g.ignoreErrors.test(t))return;if(a&&a.length){n=a[0].filename||n;a.reverse();s={frames:a}}else if(n){s={frames:[{filename:n,lineno:i}]}}if(g.ignoreUrls&&g.ignoreUrls.test(n))return;if(g.whitelistUrls&&!g.whitelistUrls.test(n))return;o=i?t+" at "+i:t;U(N({exception:{type:e,value:t},stacktrace:s,culprit:n,message:o},r))}function N(e,t){if(!t){return e}T(t,function(t,n){e[t]=n});return e}function B(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};if(document.referrer){e.headers.Referer=document.referrer}return e}function U(e){if(!Y())return;e=N({project:_,logger:g.logger,site:g.site,platform:"javascript",request:B()},e);e.tags=N(g.tags,e.tags);e.extra=N(g.extra,e.extra);if(k(e.tags))delete e.tags;if(k(e.extra))delete e.extra;if(p){e.user=p}if(E(g.dataCallback)){e=g.dataCallback(e)}if(E(g.shouldSendCallback)&&!g.shouldSendCallback(e)){return}f=e.event_id||(e.event_id=G());P(e)}function P(e){var t=new Image,n=h+D()+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function t(){b("success",{data:e,src:n})};t.onerror=t.onabort=function t(){b("failure",{data:e,src:n})};t.src=n}function Y(){if(!c)return false;if(!h){if(n.console&&console.error){console.error("Error: Raven has not been configured.")}return false}return true}function H(e){var t=[],n=0,i=e.length,a;for(;n<i;n++){a=e[n];if(M(a)){t.push(a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"))}else if(a&&a.source){t.push(a.source)}}return new RegExp(t.join("|"),"i")}function G(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}v.afterLoad();n.Raven=v;if(true){!(i=[],a=function(){return v}.apply(t,i),a!==r&&(e.exports=a))}})(window)},function(e,t){e.exports=function(e){var t,n;e=e||document.querySelector(e);if(!e)return;e.addEventListener("touchstart",function(i){t=i.touches[0].pageY;n=e.scrollTop;if(n<=0)e.scrollTop=1;if(n+e.offsetHeight>=e.scrollHeight)e.scrollTop=e.scrollHeight-e.offsetHeight-1},false)}},function(e,t){!function(e){var t=function(t){this.origHtmlMargin=parseFloat(e("html").css("margin-top"));this.options=e.extend({},e.smartbanner.defaults,t);var n=navigator.standalone,i=navigator.userAgent;if(this.options.force){this.type=this.options.force}else if(i.match(/iPhone|iPod/i)!=null||i.match(/iPad/)&&this.options.iOSUniversalApp){if(i.match(/Safari/i)!=null&&(i.match(/CriOS/i)!=null||window.Number(i.substr(i.indexOf("OS ")+3,3).replace("_","."))<6))this.type="ios"}else if(i.match(/\bSilk\/(.*\bMobile Safari\b)?/)||i.match(/\bKF\w/)||i.match("Kindle Fire")){this.type="kindle"}else if(i.match(/Android/i)!=null){this.type="android"}else if(i.match(/Windows NT 6.2/i)!=null&&i.match(/Touch/i)!==null){this.type="windows"}if(!this.type||n||this.getCookie("sb-closed")||this.getCookie("sb-installed")){return}this.scale=this.options.scale=="auto"?e(window).width()/window.screen.width:this.options.scale;if(this.scale<1)this.scale=1;var a=e(this.type=="android"?'meta[name="google-play-app"]':this.type=="ios"?'meta[name="apple-itunes-app"]':this.type=="kindle"?'meta[name="kindle-fire-app"]':'meta[name="msApplication-ID"]');if(a.length==0)return;if(this.type=="windows"){this.pfn=e('meta[name="msApplication-PackageFamilyName"]').attr("content");this.appId=a.attr("content")[1]}else{this.appId=/app-id=([^\s,]+)/.exec(a.attr("content"))[1]}this.title=this.options.title?this.options.title:a.data("title")||e("title").text().replace(/\s*[|\-·].*$/,"");this.author=this.options.author?this.options.author:a.data("author")||(e('meta[name="author"]').length?e('meta[name="author"]').attr("content"):window.location.hostname);this.iconUrl=a.data("icon-url");this.price=a.data("price");this.create();this.show();this.listen()};t.prototype={constructor:t,create:function(){var t,n=this.options.url?this.options.url:(this.type=="windows"?"ms-windows-store:PDP?PFN="+this.pfn:this.type=="android"?"market://details?id=":this.type=="kindle"?"amzn://apps/android?asin=":"https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id")+this.appId,i=this.price||this.options.price,a=i?i+" - "+(this.type=="android"?this.options.inGooglePlay:this.type=="kindle"?this.options.inAmazonAppStore:this.type=="ios"?this.options.inAppStore:this.options.inWindowsStore):"",r=this.options.iconGloss===null?this.type=="ios":this.options.iconGloss;if(this.options.url)n=this.options.url;else{if(this.type=="android"){n="market://details?id="+this.appId;if(this.options.GooglePlayParams)n=n+"&referrer="+this.options.GooglePlayParams}else n="https://itunes.apple.com/"+this.options.appStoreLanguage+"/app/id"+this.appId}var s='<div id="smartbanner" class="'+this.type+'"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>'+this.title+"</strong><span>"+this.author+"</span><span>"+a+'</span></div><a href="'+n+'" class="sb-button"><span>'+this.options.button+"</span></a></div></div>";e(this.options.appendToSelector).prepend(s);if(this.options.icon){t=this.options.icon}else if(this.iconUrl){t=this.iconUrl}else if(e('link[rel="apple-touch-icon-precomposed"]').length>0){t=e('link[rel="apple-touch-icon-precomposed"]').attr("href");if(this.options.iconGloss===null)r=false}else if(e('link[rel="apple-touch-icon"]').length>0){t=e('link[rel="apple-touch-icon"]').attr("href")}else if(e('meta[name="msApplication-TileImage"]').length>0){t=e('meta[name="msApplication-TileImage"]').attr("content")}else if(e('meta[name="msapplication-TileImage"]').length>0){t=e('meta[name="msapplication-TileImage"]').attr("content")}if(t){e("#smartbanner .sb-icon").css("background-image","url("+t+")");if(r)e("#smartbanner .sb-icon").addClass("gloss")}else{e("#smartbanner").addClass("no-icon")}this.bannerHeight=e("#smartbanner").height();if(this.scale>1){e("#smartbanner").css("top",parseFloat(e("#smartbanner").css("top"))*this.scale).css("height",parseFloat(e("#smartbanner").css("height"))*this.scale).hide();e("#smartbanner .sb-container").css("-webkit-transform","scale("+this.scale+")").css("-msie-transform","scale("+this.scale+")").css("-moz-transform","scale("+this.scale+")").css("width",e(window).width()/this.scale)}e("#smartbanner").css("position",this.options.layer?"absolute":"static")},listen:function(){e("#smartbanner .sb-close").on("click",e.proxy(this.close,this));e("#smartbanner .sb-button").on("click",e.proxy(this.install,this))},show:function(t){var n=e("#smartbanner");if(this.options.layer){n.animate({top:0,display:"block"},this.options.speedIn).addClass("shown").show();e("#nomad").animate({top:this.origHtmlMargin+this.bannerHeight*this.scale},this.options.speedIn,"swing",t)}else{if(e.support.transition){n.animate({top:0},this.options.speedIn).addClass("shown");var i=function(){e("html").removeClass("sb-animation");if(t){t()}};e("html").addClass("sb-animation").one(e.support.transition.end,i).emulateTransitionEnd(this.options.speedIn).css("margin-top",this.origHtmlMargin+this.bannerHeight*this.scale)}else{n.slideDown(this.options.speedIn).addClass("shown")}}},hide:function(t){var n=e("#smartbanner");if(this.options.layer){n.animate({top:-1*this.bannerHeight*this.scale,display:"block"},this.options.speedIn).removeClass("shown");e("#nomad").animate({top:this.origHtmlMargin},this.options.speedIn,"swing",t)}else{if(e.support.transition){n.css("top",-1*this.bannerHeight*this.scale).removeClass("shown");var i=function(){e("html").removeClass("sb-animation");if(t){t()}};e("html").addClass("sb-animation").one(e.support.transition.end,i).emulateTransitionEnd(this.options.speedOut).css("margin-top",this.origHtmlMargin)}else{n.slideUp(this.options.speedOut).removeClass("shown")}}},close:function(e){e.preventDefault();this.hide();this.setCookie("sb-closed","true",this.options.daysHidden)},install:function(e){if(this.options.hideOnInstall){this.hide()}this.setCookie("sb-installed","true",this.options.daysReminder)},setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n);t=encodeURI(t)+(n==null?"":"; expires="+i.toUTCString());document.cookie=e+"="+t+"; path=/;"},getCookie:function(e){var t,n,i,a=document.cookie.split(";");for(t=0;t<a.length;t++){n=a[t].substr(0,a[t].indexOf("="));i=a[t].substr(a[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n==e){return decodeURI(i)}}return null},switchType:function(){var t=this;this.hide(function(){t.type=t.type=="android"?"ios":"android";var n=e(t.type=="android"?'meta[name="google-play-app"]':'meta[name="apple-itunes-app"]').attr("content");t.appId=/app-id=([^\s,]+)/.exec(n)[1];e("#smartbanner").detach();t.create();t.show()})}};e.smartbanner=function(n){var i=e(window),a=i.data("smartbanner"),r=typeof n=="object"&&n;if(!a)i.data("smartbanner",a=new t(r));if(typeof n=="string")a[n]()};e.smartbanner.defaults={title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,button:"VIEW",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:null,hideOnInstall:true,layer:false,iOSUniversalApp:true,appendToSelector:"body"};e.smartbanner.Constructor=t;function n(){var e=document.createElement("smartbanner");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t){if(e.style[n]!==undefined){return{end:t[n]}}}return false}if(e.support.transition!==undefined)return;e.fn.emulateTransitionEnd=function(t){var n=false,i=this;e(this).one(e.support.transition.end,function(){n=true});var a=function(){if(!n)e(i).trigger(e.support.transition.end)};setTimeout(a,t);return this};e(function(){e.support.transition=n()})}(window.Zepto)},function(e,t,n){(function(i){var a,r;(function(i){var s={},o=i.document,l="localStorage",u;s.disabled=false;s.set=function(e,t){};s.get=function(e){};s.remove=function(e){};s.clear=function(){};s.transact=function(e,t,n){var i=s.get(e);if(n==null){n=t;t=null}if(typeof i=="undefined"){i=t||{}}n(i);s.set(e,i)};s.getAll=function(){};s.forEach=function(){};s.serialize=function(e){return JSON.stringify(e)};s.deserialize=function(e){if(typeof e!="string"){return undefined}try{return JSON.parse(e)}catch(t){return e||undefined}};function c(){try{return l in i&&i[l]}catch(e){return false}}if(c()){u=i[l];s.set=function(e,t){u.setItem(e,s.serialize(t));return t};s.get=function(e){return s.deserialize(u.getItem(e))};s.remove=function(e){u.removeItem(e)};s.clear=function(){u.clear()};s.getAll=function(){var e={};s.forEach(function(t,n){e[t]=n});return e};s.forEach=function(e){for(var t=0;t<u.length;t++){var n=u.key(t);e(n,s.get(n))}}}else if(o.documentElement.addBehavior){var d,f;try{f=new ActiveXObject("htmlfile");f.open();f.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');f.close();d=f.w.frames[0].document;u=d.createElement("div")}catch(e){u=o.createElement("div");d=o.body}function h(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(u);d.appendChild(u);u.addBehavior("#default#userData");u.load(l);var n=e.apply(s,t);d.removeChild(u);return n}}var p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function m(e){return e.replace(p,"___")}s.set=h(function(e,t,n){t=m(t);if(n===undefined){return s.remove(t)}e.setAttribute(t,s.serialize(n));e.save(l);return n});s.get=h(function(e,t){t=m(t);return s.deserialize(e.getAttribute(t))});s.remove=h(function(e,t){t=m(t);e.removeAttribute(t);e.save(l)});s.clear=h(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(l);for(var n=0,i;i=t[n];n++){e.removeAttribute(i.name)}e.save(l)});s.getAll=h(function(e){var t={};s.forEach(function(e,n){t[e]=n});return t});s.forEach=h(function(e,t){var n=e.XMLDocument.documentElement.attributes;for(var i=0,a;a=n[i];++i){var r=m(a.name);t(ret[a.name],s.deserialize(e.getAttribute(r)))}})}try{var _="__storejs__";s.set(_,_);if(s.get(_)!=_){s.disabled=true}s.remove(_)}catch(e){s.disabled=true}s.enabled=!s.disabled;if(typeof e!="undefined"&&e.exports){e.exports=s}else if(true){!(a=s,r=typeof a==="function"?a.call(t,n,t,e):a,r!==undefined&&(e.exports=r))}else{i.store=s}s.cut=s.remove;s.deserialize=function(e){if(typeof e!=="string"){return undefined}try{return JSON.parse(e)}catch(e){return undefined}};s.has=function(e){return window.localStorage.getItem(e)!==null};i.stash=s;if(s.enabled)return;u={getItem:function(e){return this[e]},setItem:function(e,t){this[e]=String(t)},removeItem:function(e){delete this[e]},clear:function(){for(var e in this){if(typeof this[e]!=="function"){delete this[e]}}}}})(window||i)}).call(t,n(56))},function(e,t){SUGAR.expressions.ForecastIncludedCommitStagesExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastIncludedCommitStagesExpression,SUGAR.expressions.EnumExpression,{className:"ForecastIncludedCommitStagesExpression",evaluate:function(){if(n===undefined){return SUGAR.language.get("app_list_strings","sales_stage_dom")}var e=n.metadata.getModule("Forecasts","config");return e.commit_stages_included},getParamCount:function(){return 0},getParameterTypes:function(){return[]}});SUGAR.expressions.SugarDropDownExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarDropDownExpression,SUGAR.expressions.EnumExpression,{className:"SugarDropDownExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,i=[];if(n){t=n.lang.getAppListStrings(e)}else{t=SUGAR.language.get("app_list_strings",e)}if(t&&t!="undefined"){for(var a in t){if(typeof a=="string")i[i.length]=a}}return i},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.ForecastSalesStageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastSalesStageExpression,SUGAR.expressions.EnumExpression,{className:"ForecastSalesStageExpression",evaluate:function(){if(n===undefined){return SUGAR.language.get("app_list_strings","sales_stage_dom")}var e=SUGAR.expressions.Expression,t=n.metadata.getModule("Forecasts","config"),i=this.getParameters(),a=i[0].evaluate(),r=i[1].evaluate(),s=_.keys(n.lang.getAppListStrings("sales_stage_dom")),o=[];if(!e.isTruthy(a)){o=_.union(o,t.sales_stage_won)}if(!e.isTruthy(r)){o=_.union(o,t.sales_stage_lost)}return _.difference(s,o)},getParamCount:function(){return 2},getParameterTypes:function(){return["boolean","boolean"]}});SUGAR.expressions.SugarTranslatedDropDownExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarTranslatedDropDownExpression,SUGAR.expressions.EnumExpression,{className:"SugarTranslatedDropDownExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,i=[];if(n){t=n.lang.getAppListStrings(e)}else{t=SUGAR.language.get("app_list_strings",e)}if(t&&t!="undefined"){for(var a in t){if(typeof a=="string")i[i.length]=t[a]}}return i},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.SugarListWhereExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarListWhereExpression,SUGAR.expressions.EnumExpression,{className:"SugarListWhereExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=[];for(var a=0;a<n.length;a++){if(n[a].length>0){if(n[a][0]==t){i=n[a][1];break}}}return i=="undefined"?[]:i},getParamCount:function(){return 2},getParameterTypes:function(){return["string","enum"]}});SUGAR.expressions.DefineEnumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineEnumExpression,SUGAR.expressions.EnumExpression,{className:"DefineEnumExpression",evaluate:function(){var e=this.getParameters();var t=[];if(typeof e.length!="undefined"){for(var n=0;n<e.length;n++){t[t.length]=e[n].evaluate()}}else{return[e.evaluate()]}return t},getParameterTypes:function(){return"generic"}});SUGAR.expressions.AndExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AndExpression,SUGAR.expressions.BooleanExpression,{className:"AndExpression",evaluate:function(){var e=this.getParameters();if(!(e instanceof Array))e=[e];for(var t=0;t<e.length;t++){if(e[t].evaluate()!=SUGAR.expressions.Expression.TRUE)return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE}});SUGAR.expressions.isBeforeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.isBeforeExpression,SUGAR.expressions.BooleanExpression,{className:"isBeforeExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(!t||!n||isNaN(t)||isNaN(n)){return SUGAR.expressions.Expression.FALSE}if(t<n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["date","date"]}});SUGAR.expressions.BinaryDependencyExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.BinaryDependencyExpression,SUGAR.expressions.BooleanExpression,{className:"BinaryDependencyExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(t!=null&&n!=null&&t!=""&&n!="")return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["string","string"]}});SUGAR.expressions.OrExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.OrExpression,SUGAR.expressions.BooleanExpression,{className:"OrExpression",evaluate:function(){var e=this.getParameters();for(var t=0;t<e.length;t++){if(e[t].evaluate()==SUGAR.expressions.Expression.TRUE)return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE}});SUGAR.expressions.IsAlphaExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsAlphaExpression,SUGAR.expressions.BooleanExpression,{className:"IsAlphaExpression",evaluate:function(){var e=this.getParameters().evaluate();if(/^[a-zA-Z]+$/.test(e))return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsForecastClosedLostExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedLostExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedLostExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config")||{},i=t.sales_stage_lost||["Closed Lost"];if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidTimeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidTimeExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidTimeExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=/^(\d{1,2}):(\d\d)\s*([ap]m)?$/i;if(e.length==0)return SUGAR.expressions.Expression.TRUE;myregexp=new RegExp(t);if(!myregexp.test(e))return SUGAR.expressions.Expression.FALSE;var n=e.match(t);if(n[1]>23||n[2]>59){return SUGAR.expressions.Expression.FALSE}if(n[3]&&(n[1]>12||n[1]==0)){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsAlphaNumericExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsAlphaNumericExpression,SUGAR.expressions.BooleanExpression,{className:"IsAlphaNumericExpression",evaluate:function(){var e=this.getParameters().evaluate();if(/^[a-zA-Z0-9]+$/.test(e))return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsRequiredCollectionExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsRequiredCollectionExpression,SUGAR.expressions.BooleanExpression,{className:"IsRequiredCollectionExpression",evaluate:function(){var e=this.getParameters().evaluate();table=document.getElementById(e);children=YAHOO.util.Dom.getElementsByClassName("sqsEnabled","input",table);for(id in children){if(trim(children[id].value)!=""){return SUGAR.expressions.Expression.TRUE}}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.isAfterExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.isAfterExpression,SUGAR.expressions.BooleanExpression,{className:"isAfterExpression",evaluate:function(){var e=this.getParameters();var t=SUGAR.util.DateUtils.parse(e[0].evaluate());var n=SUGAR.util.DateUtils.parse(e[1].evaluate());if(!t||!n||isNaN(t)||isNaN(n)){return SUGAR.expressions.Expression.FALSE}if(t>n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["date","date"]}});SUGAR.expressions.IsInEnumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsInEnumExpression,SUGAR.expressions.BooleanExpression,{className:"IsInEnumExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();for(var i=0;i<t.length;i++){var a=t[i];if(a instanceof SUGAR.expressions.Expression)a=a.evaluate();if(a==n)return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","enum"]}});SUGAR.expressions.IsValidEmailExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidEmailExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidEmailExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e!="string")return SUGAR.expressions.Expression.FALSE;if(e=="")return SUGAR.expressions.Expression.TRUE;var t=e.charAt(e.length-1);if(!t.match(/[^\.]/i))return SUGAR.expressions.Expression.FALSE;var n=e.split(/[,;]/);for(var i=0;i<n.length;i++){var a=n[i];a=a.replace(/^\s+|\s+$/g,"");if(a!=""&&!/^(([^<>()\[\]\.,;:\s@"]+(\.[^<>()\[\]\.,;:\s@"]+)*)|(".+"))@\S+$/.test(a)){return SUGAR.expressions.Expression.FALSE}}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsNumericExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsNumericExpression,SUGAR.expressions.BooleanExpression,{className:"IsNumericExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e===""||e===null){return SUGAR.expressions.Expression.FALSE}if(isFinite(e)&&!isNaN(parseFloat(e))){return SUGAR.expressions.Expression.TRUE}return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidPhoneExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidPhoneExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidPhoneExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e.length==0)return SUGAR.expressions.Expression.TRUE;if(!/^\+?[0-9\-\(\)\s]+$/.test(e))return SUGAR.expressions.Expression.FALSE;return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsValidDBNameExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidDBNameExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidDBNameExpression",evaluate:function(){var e=this.getParameters().evaluate();if(e.length==0){return true}if(!/^[a-zA-Z][a-zA-Z\_0-9]+$/.test(e))return SUGAR.expressions.Expression.FALSE;return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.NotExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NotExpression,SUGAR.expressions.BooleanExpression,{className:"NotExpression",evaluate:function(){if(this.getParameters().evaluate()==SUGAR.expressions.Expression.FALSE)return SUGAR.expressions.Expression.TRUE;else return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1}});SUGAR.expressions.IsForecastClosedWonExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedWonExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedWonExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config")||{},i=t.sales_stage_won||["Closed Won"];if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsForecastClosedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsForecastClosedExpression,SUGAR.expressions.BooleanExpression,{className:"IsForecastClosedExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return SUGAR.expressions.Expression.FALSE}var t=n.metadata.getModule("Forecasts","config"),i=["Closed Won","Closed Lost"];if(!_.isUndefined(t)){i=_.union(t.sales_stage_won,t.sales_stage_lost)}if(i.indexOf(e)===-1){return SUGAR.expressions.Expression.FALSE}return SUGAR.expressions.Expression.TRUE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.EqualExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.EqualExpression,SUGAR.expressions.BooleanExpression,{className:"EqualExpression",evaluate:function(){var e=SUGAR.expressions.Expression,t=this.getParameters(),n=t[0].evaluate(),i=t[1].evaluate(),a=t[0]instanceof SUGAR.expressions.BooleanExpression||t[1]instanceof SUGAR.expressions.BooleanExpression;if(n==i||a&&(e.isTruthy(n)&&e.isTruthy(i)||!e.isTruthy(n)&&!e.isTruthy(i))){return e.TRUE}return e.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","generic"]}});SUGAR.expressions.GreaterThanExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.GreaterThanExpression,SUGAR.expressions.BooleanExpression,{className:"GreaterThanExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();if(t>n)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return["number","number"]}});SUGAR.expressions.IsValidDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsValidDateExpression,SUGAR.expressions.BooleanExpression,{className:"IsValidDateExpression",evaluate:function(){var e=this.getParameters().evaluate();if(typeof e!="string"||e=="")return SUGAR.expressions.Expression.FALSE;var t="Y-m-d";if(SUGAR.expressions.userPrefs)t=SUGAR.expressions.userPrefs.datef;var n=SUGAR.util.DateUtils.parse(e,t);if(n!=false&&n!="Invalid Date")return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IsInRangeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IsInRangeExpression,SUGAR.expressions.BooleanExpression,{className:"IsInRangeExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=e[2].evaluate();if(t>=n&&t<=i)return SUGAR.expressions.Expression.TRUE;return SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 3},getParameterTypes:function(){return["number","number","number"]}});SUGAR.expressions.HourOfDayExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.HourOfDayExpression,SUGAR.expressions.TimeExpression,{className:"HourOfDayExpression",evaluate:function(){var e=this.getParameters().evaluate();return new Date(e).getHours()},getParamCount:function(){return 1}});SUGAR.expressions.DefineTimeExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineTimeExpression,SUGAR.expressions.TimeExpression,{className:"DefineTimeExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=Date.parse(e);if(isNaN(t))throw"Incorrect time format";return t},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.DefineDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineDateExpression,SUGAR.expressions.DateExpression,{className:"DefineDateExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=SUGAR.util.DateUtils.parse(e,"user");if(t==false)throw"Incorrect date format";return t},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.DaysUntilExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DaysUntilExpression,SUGAR.expressions.NumericExpression,{className:"DaysUntilExpression",evaluate:function(){var e=SUGAR.util.DateUtils.parse(this.getParameters().evaluate(),"user");var t=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);var n=e-t;var i=Math.ceil(n/864e5);return i},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.NowExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NowExpression,SUGAR.expressions.DateExpression,{className:"NowExpression",evaluate:function(){var e=SUGAR.util.DateUtils.getUserTime();e.setSeconds(0);if(this.context.view){e=n.date.format(e,"Y-m-d H:i:s")}return e},getParamCount:function(){return 0}});SUGAR.expressions.TodayExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.TodayExpression,SUGAR.expressions.DateExpression,{className:"TodayExpression",evaluate:function(){var e=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);if(this.context.view){e=n.date.format(e,"Y-m-d")}return e},getParamCount:function(){return 0}});SUGAR.expressions.MaxRelatedDateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaxRelatedDateExpression,SUGAR.expressions.DateExpression,{className:"MaxRelatedDateExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.id||s.cid,l=function(e,t){return e<t?1:e>t?-1:0},u=this.context.isRemoveEvent||false,c=this.context.getRelatedField(a,"maxRelatedDate",r)||"",d=s.get(r)||"",f=[],h="";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"maxRelatedDate",r,s,u?"remove":"add")}var p=this.context.getRelatedCollectionValues(this.context.model,a,"maxRelatedDate",r)||{};if(_.isEqual(d,"")){return c}_.each(p,function(e){f.push(new n.date(e))});h=f.sort(l)[0].format("YYYY-MM-DD");if(!_.isEqual(h,c)){this.context.model.set(i,h);this.context.updateRelatedFieldValue(a,"maxRelatedDate",r,h,this.context.model.isNew())}},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.TimestampExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.TimestampExpression,SUGAR.expressions.DateExpression,{className:"TimestampExpression",evaluate:function(){var e=this.getParameters().evaluate(),t,n=[],i=this.context.parseDate(e);return Math.round(+i.getTime()/1e3)},getParamCount:function(){return 1}});SUGAR.expressions.HoursUntilExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.HoursUntilExpression,SUGAR.expressions.NumericExpression,{className:"HoursUntilExpression",evaluate:function(){var e=this.getParameters().evaluate();var t=SUGAR.util.DateUtils.parse(e);if(!t&&t!==0)return false;var n=new Date;if(typeof e=="string"&&e.indexOf(" ")==-1&&e.indexOf("T")==-1){n.setHours(0,0,0,0)}var i=t-n;return~~(i/36e5)},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.MonthOfYearExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MonthOfYearExpression,SUGAR.expressions.NumericExpression,{className:"MonthOfYearExpression",evaluate:function(){var e=this.getParameters().evaluate();return new Date(e).getMonth()+1},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.AddDaysExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AddDaysExpression,SUGAR.expressions.DateExpression,{className:"AddDaysExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();if(!t){return""}var i=parseInt(e[1].evaluate(),10);if(_.isNaN(i)){return""}var a=SUGAR.util.DateUtils.parse(t,"user");var r=new Date(a);r.setDate(r.getDate()+i);if(this.context.view){r=n.date.format(r,"Y-m-d")}return r},getParamCount:function(){return 2},getParameterTypes:function(){return["date","number"]}});SUGAR.expressions.DayOfWeekExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DayOfWeekExpression,SUGAR.expressions.NumericExpression,{className:"DayOfWeekExpression",evaluate:function(){var e,t=this.getParameters().evaluate();if(_.isString(t)&&_.isEmpty(t)){return""}if(this.context.view){e=n.date(t).format("d").toString()}else{e=new Date(t).getDay()}return e},getParamCount:function(){return 1},getParameterTypes:function(){return["date"]}});SUGAR.expressions.AddExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AddExpression,SUGAR.expressions.NumericExpression,{className:"AddExpression",evaluate:function(){var e=this.getParameters(),t=0;for(var n=0;n<e.length;n++){t=this.context.add(t,e[n].evaluate())}return t}});SUGAR.expressions.MaxRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaxRelatedExpression,SUGAR.expressions.NumericExpression,{className:"MaxRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.id||s.cid,l=s.fields[r].type==="currency",u=function(e,t){return parseFloat(e)<parseFloat(t)?1:parseFloat(e)>parseFloat(t)?-1:0},c=this.context.isRemoveEvent||false,d=this.context.getRelatedField(a,"rollupMax",r)||"",f={},h="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupMax",r,s,c?"remove":"add")}var p=this.context.getRelatedCollectionValues(this.context.model,a,"rollupMax",r)||{};if(_.size(p)>0){f=_.map(_.values(p),_.partial(parseInt,_,10));f=_.filter(f,_.isFinite);h=f.sort(u)[0];if(l){h=n.currency.convertFromBase(h,this.context.model.get("currency_id"))}}if(!_.isEqual(h,d)){this.context.model.set(i,h);this.context.updateRelatedFieldValue(a,"rollupMax",r,h,this.context.model.isNew())}return h},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.StandardDeviationExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StandardDeviationExpression,SUGAR.expressions.NumericExpression,{className:"StandardDeviationExpression",evaluate:function(){var e=this.getParameters();var t=new Array;var n=0;var i=e.length;for(var a=0;a<e.length;a++){value=e[a].evaluate();t[t.length]=value;n=this.context.add(n,value)}var r=this.context.divide(n,i);var s=0;for(var a=0;a<t.length;a++)s+=Math.pow(this.context.subtract(t[a],r),2);var o=this.context.multiply(this.context.divide(1,i),s);return Math.sqrt(o)}});SUGAR.expressions.PowerExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.PowerExpression,SUGAR.expressions.NumericExpression,{className:"PowerExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();return Math.pow(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.ValueOfExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ValueOfExpression,SUGAR.expressions.NumericExpression,{className:"ValueOfExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";e=e.replace(/,/g,"");var t=0;if(e.indexOf(".")!=-1)t=parseFloat(e);else t=parseInt(e);if(isNaN(t))throw"Error: '"+e+"' is not a number";return t},getParamCount:function(){return 1},getParameterTypes:function(){return"generic"}});SUGAR.expressions.MinimumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MinimumExpression,SUGAR.expressions.NumericExpression,{className:"MinimumExpression",evaluate:function(){var e=this.getParameters();var t=null;for(var n=0;n<e.length;n++){var i=e[n].evaluate();if(t==null||i<t)t=i}return t}});SUGAR.expressions.LogExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.LogExpression,SUGAR.expressions.NumericExpression,{className:"LogExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();return this.context.divide(Math.log(n),Math.log(t))},getParamCount:function(){return 2}});SUGAR.expressions.FloorExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.FloorExpression,SUGAR.expressions.NumericExpression,{className:"FloorExpression",evaluate:function(){return Math.floor(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.MaximumExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MaximumExpression,SUGAR.expressions.NumericExpression,{className:"MaximumExpression",evaluate:function(){var e=this.getParameters();var t=null;for(var n=0;n<e.length;n++){var i=e[n].evaluate();if(t==null||i>t)t=i}return t}});SUGAR.expressions.SubtractExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SubtractExpression,SUGAR.expressions.NumericExpression,{className:"SubtractExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate();for(var n=1;n<e.length;n++){t=this.context.subtract(t,e[n].evaluate())}return t}});SUGAR.expressions.MedianExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MedianExpression,SUGAR.expressions.NumericExpression,{className:"MedianExpression",evaluate:function(){var e=this.getParameters();var t=new Array;for(var n=0;n<e.length;n++)t[t.length]=parseFloat(e[n].evaluate());t.sort(function(e,t){return e-t});if(t.length%2==0){return(t[t.length/2]+t[t.length/2-1])/2}return t[Math.round(t.length/2)-1]}});SUGAR.expressions.MinRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MinRelatedExpression,SUGAR.expressions.NumericExpression,{className:"MinRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.fields[r].type==="currency",l=function(e,t){return parseFloat(e)>parseFloat(t)?1:parseFloat(e)<parseFloat(t)?-1:0},u=this.context.isRemoveEvent||false,c=this.context.getRelatedField(a,"rollupMin",r)||"",d={},f="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupMin",r,s,u?"remove":"add")}var h=this.context.getRelatedCollectionValues(this.context.model,a,"rollupMin",r)||{};if(_.size(h)>0){d=_.map(_.values(h),_.partial(parseInt,_,10));d=_.filter(d,_.isFinite);f=d.sort(l)[0];if(o){f=n.currency.convertFromBase(f,this.context.model.get("currency_id"))}}if(!_.isEqual(f,c)){this.context.model.set(i,f);this.context.updateRelatedFieldValue(a,"rollupMin",r,f,this.context.model.isNew())}return f},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.AverageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AverageExpression,SUGAR.expressions.NumericExpression,{className:"AverageExpression",evaluate:function(){var e=0;var t=0;var n=this.getParameters();for(var i=0;i<n.length;i++){e=this.context.add(e,n[i].evaluate());t++}return this.context.divide(e,t)}});SUGAR.expressions.NaturalLogExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NaturalLogExpression,SUGAR.expressions.NumericExpression,{className:"NaturalLogExpression",evaluate:function(){return Math.log(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.StringLengthExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StringLengthExpression,SUGAR.expressions.NumericExpression,{className:"StringLengthExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.length},getParamCount:function(){return 1},getParameterTypes:function(){return"string"}});SUGAR.expressions.CountRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CountRelatedExpression,SUGAR.expressions.NumericExpression,{className:"CountRelatedExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){if(typeof e=="string"&&e!=""){return this.context.getRelatedField(e,"count")}return""}var t=this.context.target,i=0,a=this.context.model.getRelatedCollection(e);if(a.dataFetched||this.context.model.isNew()){i=a.length}else if(this.context.model.has(e)){var r=this.context.model.get(e);if(r.count){i=r.count}}this.context.model.set(t,i);this.context.updateRelatedFieldValue(e,"count","",i,this.context.model.isNew());return i},getParamCount:function(){return 1},getParameterTypes:function(){return["relate"]}});SUGAR.expressions.CountConditionalRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CountConditionalRelatedExpression,SUGAR.expressions.NumericExpression,{className:"CountConditionalRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate(),s=e[2].evaluate();if(!_.isArray(s)){s=[s]}var o=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),l=o.id||o.cid,u=this.context.isRemoveEvent||false,c=this.context.changingField===r,d=_.has(o.changed,r),f=_.contains(s,o.get(r));if(f||d){var h=this.context.getRelatedField(a,"countConditional",i)||"0",p=this.context.previous_values||{},m=p[i+"--"+l]||"",g=o.get(r);rollup_value=undefined;if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"countConditional",i,o,u?"remove":"add")}if(!this.context.model.isNew()&&_.isEmpty(m)){m=o.previous(r)}this.context.previous_values=this.context.previous_values||{};if(this.context.previous_values[i+"--"+o.cid]&&l!=o.cid){delete this.context.previous_values[i+"--"+o.cid]}this.context.previous_values[i+"--"+l]=g;if(g==m&&!u){return}if(f&&!u){if(!_.contains(s,m)){rollup_value=n.math.add(h,1,0,true)}}else if(!f&&!u||u&&f){rollup_value=n.math.sub(h,1,0,true)}if(!_.isUndefined(rollup_value)&&_.isFinite(rollup_value)){this.context.model.set(i,rollup_value);this.context.updateRelatedFieldValue(a,"countConditional",i,rollup_value,this.context.model.isNew())}}},getParamCount:function(){return 3},getParameterTypes:function(){return["relate","string","generic"]}});SUGAR.expressions.CeilingExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CeilingExpression,SUGAR.expressions.NumericExpression,{className:"CeilingExpression",evaluate:function(){return Math.ceil(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.SumConditionalRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SumConditionalRelatedExpression,SUGAR.expressions.NumericExpression,{className:"SumConditionalRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate(),s=e[2].evaluate(),o=e[3].evaluate();if(!_.isArray(o)){o=[o]}var l=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),u=l.id||l.cid,c=l.fields[r].precision||6,d=this.context.isRemoveEvent||false,f=this.context.changingField===s,h=_.has(l.changed,s),p=_.contains(o,l.get(s));if(p||h){var m=l.fields[r].type==="currency",g=this.context.getRelatedField(a,"rollupConditionalSum",r)||"0",v=this.context.model.getRelatedCollection(a),b="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupConditionalSum",r,l,d?"remove":"add")}var y=this.context.getRelatedCollectionValues(this.context.model,a,"rollupConditionalSum",r)||{};if(_.size(y)>0){b=_.reduce(y,function(e,t,i){var a=v.get(i);if(!a||_.contains(o,a.get(s))){return n.math.add(e,t,c,true)}return e},"0");if(m){b=n.currency.convertFromBase(b,this.context.model.get("currency_id"))}}if(!_.isEqual(b,g)){this.context.model.set(i,b);this.context.updateRelatedFieldValue(a,"rollupConditionalSum",r,b,this.context.model.isNew())}return b}},getParamCount:function(){return 4},getParameterTypes:function(){return["relate","string","string","generic"]}});SUGAR.expressions.AbsoluteValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AbsoluteValueExpression,SUGAR.expressions.NumericExpression,{className:"AbsoluteValueExpression",evaluate:function(){return Math.abs(this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.DivideExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DivideExpression,SUGAR.expressions.NumericExpression,{className:"DivideExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate();denominator=e[1].evaluate();if(denominator==0){throw"Division by 0 error"}return this.context.divide(t,denominator)},getParamCount:function(){return 2}});SUGAR.expressions.RoundExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.RoundExpression,SUGAR.expressions.NumericExpression,{className:"RoundExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();return this.context.round(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.SumRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SumRelatedExpression,SUGAR.expressions.NumericExpression,{className:"SumRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.fields[r].type==="currency",l=s.fields[r].precision||6,u=this.context.isRemoveEvent||false,c=this.context.getRelatedField(a,"rollupSum",r)||"",d="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupSum",r,s,u?"remove":"add")}var f=this.context.getRelatedCollectionValues(this.context.model,a,"rollupSum",r)||{};if(_.size(f)>0){d=_.reduce(f,function(e,t){return n.math.add(e,t,l,true)},"0");if(o){d=n.currency.convertFromBase(d,this.context.model.get("currency_id"))}}if(!_.isEqual(d,c)){this.context.model.set(i,d);this.context.updateRelatedFieldValue(a,"rollupSum",r,d,this.context.model.isNew())}return d},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.AverageRelatedExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.AverageRelatedExpression,SUGAR.expressions.NumericExpression,{className:"AverageRelatedExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.params,t=this.context.view,i=this.context.target,a=e[0].evaluate(),r=e[1].evaluate();var s=this.context.relatedModel||n.data.createRelatedBean(this.context.model,null,a),o=s.fields[r].type==="currency",l=s.fields[r].precision||6,u=this.context.isRemoveEvent||false,c=this.context.getRelatedField(a,"rollupAve",r)||"",d="0";if(!_.isUndefined(this.context.relatedModel)){this.context.updateRelatedCollectionValues(this.context.model,a,"rollupAve",r,s,u?"remove":"add")}var f=this.context.getRelatedCollectionValues(this.context.model,a,"rollupAve",r)||{};if(_.size(f)>0){d=_.reduce(f,function(e,t){return n.math.add(e,t,l,true)},"0");d=n.math.div(d,_.size(f),l,true);if(o){d=n.currency.convertFromBase(d,this.context.model.get("currency_id"))}}if(!_.isEqual(d,c)){this.context.model.set(i,d);this.context.updateRelatedFieldValue(a,"rollupAve",r,d,this.context.model.isNew())}return d},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.expressions.NegateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.NegateExpression,SUGAR.expressions.NumericExpression,{className:"NegateExpression",evaluate:function(){return this.context.multiply("-1",this.getParameters().evaluate())},getParamCount:function(){return 1}});SUGAR.expressions.MultiplyExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.MultiplyExpression,SUGAR.expressions.NumericExpression,{className:"MultiplyExpression",evaluate:function(){var e=this.getParameters(),t="1";for(var n=0;n<e.length;n++){t=this.context.multiply(t,e[n].evaluate())}return t}});SUGAR.expressions.IndexOfExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IndexOfExpression,SUGAR.expressions.NumericExpression,{className:"IndexOfExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();for(var i=0;i<t.length;i++){if(t[i]==n){return i}}return-1},getParamCount:function(){return 2},getParameterTypes:function(){return["generic","enum"]}});SUGAR.expressions.ForecastCommitStageExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ForecastCommitStageExpression,SUGAR.expressions.EnumExpression,{className:"ForecastCommitStageExpression",evaluate:function(){var e=this.getParameters().evaluate();if(n===undefined){return""}var t=n.metadata.getModule("Forecasts","config");if(t.forecast_setup===0){return""}var i=t[t.forecast_ranges+"_ranges"],a="";_.find(i,function(t,n){if(e>=t.min&&e<=t.max){a=n;return true}return false});return a},getParamCount:function(){return 1},getParameterTypes:function(){return["number"]}});SUGAR.expressions.ConcatenateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConcatenateExpression,SUGAR.expressions.StringExpression,{className:"ConcatenateExpression",evaluate:function(){var e="";var t=this.getParameters();for(var n=0;n<t.length;n++){e+=t[n].evaluate()}return e}});SUGAR.expressions.CharacterAtExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CharacterAtExpression,SUGAR.expressions.StringExpression,{className:"CharacterAtExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();return t.charAt(n)},getParamCount:function(){return 2},getParameterTypes:function(){return["string","number"]}});SUGAR.expressions.StrToLowerExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StrToLowerExpression,SUGAR.expressions.StringExpression,{className:"StrToLowerExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.toLowerCase()},getParamCount:function(){return 1}});SUGAR.expressions.FormatedNameExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.FormatedNameExpression,SUGAR.expressions.StringExpression,{className:"FormatedNameExpression",evaluate:function(){var e=this.getParameters();var t={s:e[0].evaluate(),f:e[1].evaluate(),l:e[2].evaluate(),t:e[3].evaluate()};var n="";for(i=0;i<name_format.length;i++){if(t[name_format.substr(i,1)]!=undefined){n+=t[name_format.substr(i,1)]}else{n+=name_format.substr(i,1)}}return n},getParamCount:function(){return 4}});SUGAR.expressions.SubStrExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SubStrExpression,SUGAR.expressions.StringExpression,{className:"SubStrExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();var i=e[2].evaluate();return t.substr(n,i)},getParamCount:function(){return 3},getParameterTypes:function(){return["string","number","number"]}});SUGAR.expressions.DefineStringExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.DefineStringExpression,SUGAR.expressions.StringExpression,{className:"DefineStringExpression",evaluate:function(){var e=this.getParameters().evaluate(),t;if(e instanceof Date){var i=e.type=="date";t=n.date(e).formatUser(i)}else{t=e+""}return t},getParamCount:function(){return 1},getParameterTypes:function(){return["generic"]}});SUGAR.expressions.SugarDropDownValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarDropDownValueExpression,SUGAR.expressions.StringExpression,{className:"SugarDropDownValueExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate();var n=e[1].evaluate();var i=this.context.getAppListStrings(t);if(i=="undefined")return"";for(var a in i){if(typeof a=="string"&&a==n)return i[a]}return""},getParamCount:function(){return 2}});SUGAR.expressions.StrToUpperExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.StrToUpperExpression,SUGAR.expressions.StringExpression,{className:"StrToUpperExpression",evaluate:function(){var e=this.getParameters().evaluate()+"";return e.toUpperCase()},getParamCount:function(){return 1}});SUGAR.expressions.SugarTranslateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarTranslateExpression,SUGAR.expressions.StringExpression,{className:"SugarTranslateExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();if(t=="")t="app_strings";var n=e[0].evaluate();return SUGAR.language.get(t,n)},getParamCount:function(){return 2}});SUGAR.expressions.ContainsExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ContainsExpression,SUGAR.expressions.BooleanExpression,{className:"ContainsExpression",evaluate:function(){var e=this.getParameters();var t=e[0].evaluate()+"";var n=e[1].evaluate();return t.indexOf(n)>-1?SUGAR.expressions.Expression.TRUE:SUGAR.expressions.Expression.FALSE},getParamCount:function(){return 2},getParameterTypes:function(){return"string"}});SUGAR.expressions.ConditionExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConditionExpression,SUGAR.expressions.GenericExpression,{className:"ConditionExpression",evaluate:function(){var e=SUGAR.expressions.Expression,t=this.getParameters(),n=t[0].evaluate();if(e.isTruthy(n)){return t[1].evaluate()}else{return t[2].evaluate()}},getParamCount:function(){return 3},getParameterTypes:function(){return["boolean","generic","generic"]}});SUGAR.expressions.CurrencyRateExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.CurrencyRateExpression,SUGAR.expressions.GenericExpression,{className:"CurrencyRateExpression",evaluate:function(){if(n===undefined){return SUGAR.expressions.Expression.FALSE}var e=this.getParameters().evaluate();return n.metadata.getCurrency(e).conversion_rate},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.IndexValueExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.IndexValueExpression,SUGAR.expressions.GenericExpression,{className:"IndexValueExpression",evaluate:function(){var e=this.getParameters();var t=e[1].evaluate();var n=e[0].evaluate();if(typeof n=="string"&&!isNaN(n))n=Number(n);if(n>=t.length||n<0)throw"value_at: Attempt to access an index out of bounds";return t[n]},getParamCount:function(){return 2},getParameterTypes:function(){return["number","enum"]}});SUGAR.expressions.SugarFieldExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.SugarFieldExpression,SUGAR.expressions.GenericExpression,{className:"SugarFieldExpression",evaluate:function(){var e=this.getParameters().evaluate();return SUGAR.forms.AssignmentHandler.getValue(e)},getParamCount:function(){return 1},getParameterTypes:function(){return["string"]}});SUGAR.expressions.RelatedFieldExpression=function(e,t){this.context=t;this.init(e)};SUGAR.util.extend(SUGAR.expressions.RelatedFieldExpression,SUGAR.expressions.GenericExpression,{className:"RelatedFieldExpression",evaluate:function(){var e=this.getParameters(),t=e[0].evaluate(),n=e[1].evaluate();if(typeof t=="string"&&t!=""){return this.context.getRelatedField(t,"related",n)}else if(typeof rel=="object"){}return""},getParamCount:function(){return 2},getParameterTypes:function(){return["relate","string"]}});SUGAR.forms.StyleAction=function(e,t){this.target=e;this.attrs=t};SUGAR.util.extend(SUGAR.forms.StyleAction,SUGAR.forms.AbstractAction,{exec:function(e){if(SUGAR.App)return;if(typeof e=="undefined")e=this.context;try{var t={};for(var n in this.attrs){t[n]=this.evalExpression(this.attrs[n],e)}e.setStyle(this.target,t)}catch(e){return}}});SUGAR.forms.ReadOnlyAction=function(e,t){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}this.target=e;this.expr=t};SUGAR.util.extend(SUGAR.forms.ReadOnlyAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;var t=this.evalExpression(this.expr,e),n=t==SUGAR.expressions.Expression.TRUE;if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setFieldDisabled(this.target,n)}else{this.bwcExec(e,n)}},bwcExec:function(e,t){var n=SUGAR.forms.AssignmentHandler.getElement(this.target);if(!n){return}this.setReadOnly(n,t);this.setDateField(n,t)},setReadOnly:function(e,t){var n=YAHOO.util.Dom;var i=e.type=="checkbox"||"select"?"disabled":"readonly";e[i]=t;if(t){n.setStyle(e,"background-color","#EEE");if(!SUGAR.isIE)n.setStyle(e,"color","#22")}else{n.setStyle(e,"background-color","");if(!SUGAR.isIE)n.setStyle(e,"color","")}},setDateField:function(e,t){var n=YAHOO.util.Dom,i=e.id,a=n.get(i+"_trigger");if(!a)return;var r=[n.get(i+"_date"),n.get(i+"_minutes"),n.get(i+"_meridiem"),n.get(i+"_hours")];for(var s in r)if(r[s]&&r[s].id)this.setReadOnly(r[s],t);if(t)n.setStyle(a,"display","none");else n.setStyle(a,"display","")}});SUGAR.forms.SetValueAction=function(e,t){if(_.isObject(e)){this.expr=e.value;this.target=e.target;this.errorValue=!_.isUndefined(e.errorValue)?e.errorValue:null}else{this.expr=t;this.target=e}};SUGAR.util.extend(SUGAR.forms.SetValueAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined"){e=this.context}try{e.target=this.target;var t=this.evalExpression(this.expr,e),n=e.getValue(this.target).evaluate();if(!_.isUndefined(t)&&t!==n&&this.canSetValue(e)){e.setValue(this.target,t)}}catch(t){if(!_.isUndefined(this.errorValue)&&!_.isNull(this.errorValue)){e.setValue(this.target,this.errorValue)}}}});SUGAR.forms.SetOptionsAction=function(e,t,n){this.afterRender=true;if(_.isObject(e)){n=e.labels;t=e.keys;e=e.target}this.keyExpr=t;this.labelExpr=n;this.target=e};SUGAR.util.extend(SUGAR.forms.SetOptionsAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;var t=this.evalExpression(this.keyExpr,e),i=this.evalExpression(this.labelExpr,e),a,r="";if(e.view){var s=e.getField(this.target);if(!s){return}r=[].concat(s.model.get(this.target));if(!this.canSetValue(e)){t=_.uniq(t.concat(r))}a=(_.size(t)===0||_.size(t)===1)&&(t[0]==undefined||t[0]==="");if(_.isString(i))s.items=_.pick(n.lang.getAppListStrings(i),t);else s.items=_.object(t,i);slContext=e;s.model.fields[this.target].options=s.items;var o=new SUGAR.forms.SetVisibilityAction(this.target,a?"false":"true","");o.setContext(e);o.exec();r=_.filter(r,function(e){return _.contains(t,e)});if((r.length==0||r.length==1&&r[0]=="")&&s.model.fields[s.name].type!="multienum"){r=[a?"":t[0]]}e.setValue(this.target,r)}else{var s=e.getElement(this.target);if(s==null)return null;if(t instanceof Array&&s.options!=null){var l=s.options;r=[];for(var u=0;u<l.length;u++){if(l[u].selected)r=r.concat(l[u].value)}while(l.length>0){s.remove(l[0])}if(typeof i=="string"){var c=SUGAR.language.get("app_list_strings",i);i=[];for(var u in t){i[u]=c[t[u]]}}var d;for(var u in t){if(i instanceof Array){if(typeof t[u]=="string"){if(typeof i[u]=="string"){d=l[l.length]=new Option(i[u],t[u],t[u]==r)}else{d=l[l.length]=new Option(t[u],t[u],t[u]==r)}}}else{if(typeof t[0]=="undefined"){if(typeof t[u]=="string"){d=l[l.length]=new Option(t[u],u)}}else{if(typeof value[u]=="string"){d=l[l.length]=new Option(t[u],t[u])}}}if(_.indexOf(r,t[u])>-1){d.selected=true}}if(!s.multiple&&s.value!=r){SUGAR.forms.AssignmentHandler.assign(this.target,s.value)}var a=s.multiple&&s.options.length==0||!s.multiple&&s.options.length<=1&&s.value=="";var o=new SUGAR.forms.SetVisibilityAction(this.target,a?"false":"true","");o.setContext(e);o.exec();if(SUGAR.forms.AssignmentHandler.ANIMATE&&!a)SUGAR.forms.FlashField(s)}else if(t instanceof Array&&(t.length==0||t.length==1&&t[0]=="")){var f=new SUGAR.forms.SetVisibilityAction(this.target,"false","");f.exec(e)}}}});SUGAR.forms.AssignToAction=function(e){if(_.isObject(e)){e=e.value}this.expr=e;this.target="assigned_user_name";if(_.isUndefined(SUGAR.App)){this.dataSource=new YAHOO.util.DataSource("index.php?",{responseType:YAHOO.util.XHRDataSource.TYPE_JSON,responseSchema:{resultsList:"fields",total:"totalCount",metaNode:"fields",metaFields:{total:"totalCount",fields:"fields"}},connMethodPost:true})}};SUGAR.util.extend(SUGAR.forms.AssignToAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined"){e=this.context}this.userName=this.evalExpression(this.expr,e);if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setAssignedUserName(this.target,this.userName)}else{this.bwcExec(e)}},bwcExec:function(e){if(typeof e=="undefined"){e=this.context}var t=SUGAR.util.paramsToUrl({to_pdf:"true",module:"Home",action:"quicksearchQuery",data:YAHOO.lang.JSON.stringify(sqs_objects["EditView_"+this.target]),query:this.userName});this.sqs=sqs_objects["EditView_"+this.target];this.dataSource.sendRequest(t,{success:function(e,t){if(t.results.length>0){var n=t.results[0];for(var i=0;i<this.sqs.field_list.length;i++){SUGAR.forms.AssignmentHandler.assign(this.sqs.populate_list[i],n[this.sqs.field_list[i]])}}},scope:this})},targetUrl:"index.php?module=Home&action=TaxRate&to_pdf=1"});SUGAR.forms.SetRequiredAction=function(e,t,n){if(_.isObject(e)){t=e.value;n=e.label;e=e.target}this.variable=e;this.expr=t;this.label=n;this._el_lbl=document.getElementById(this.label);if(this._el_lbl)this.msg=this._el_lbl.innerText};SUGAR.util.extend(SUGAR.forms.SetRequiredAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;this.required=this.evalExpression(this.expr,e);if(e.view){if(_.isEmpty(e.view.fields)){e.view.once("render",function(){this.exec(e)},this);return}e.setFieldRequired(this.variable,this.required)}else{this.bwcExec(e,this.required)}},bwcExec:function(e,t){var n=SUGAR.forms.AssignmentHandler.getElement(this.variable);if(typeof SUGAR.forms.FormValidator!="undefined")SUGAR.forms.FormValidator.setRequired(n.form.name,n.name,this.required);if(this._el_lbl!=null&&n!=null){var i=this._el_lbl,a=YAHOO.util.Dom.getElementsBy(function(e){return e.className=="req"},"span",i),r=false,s=n.name;if(a!=null&&a[0]!=null)r=a[0];if(this.required==true||this.required=="true"){if(!r){var o=document.createElement("span");o.innerHTML="<font color='red'>*</font>";o.className="req";this._el_lbl.appendChild(o);var l=this.findInValidate(e.formName,s);if(l>-1)validate[e.formName][l][2]=true;else addToValidate(e.formName,s,"text",true,this.msg)}}else{if(i!=null&&r!=false){r.parentNode.removeChild(r)}var l=this.findInValidate(e.formName,s);if(l>-1)validate[e.formName][l][2]=false}}},findInValidate:function(e,t){if(validate&&validate[e]){for(var n in validate[e]){if(typeof validate[e][n]=="object"&&validate[e][n][0]==t)return n}}return-1}});var n=window.App||null;SUGAR.forms.SetVisibilityAction=function(e,t,n){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}this.target=e;this.expr="cond("+t+', "", "none")';this.view=n;if(!SUGAR.forms.SetVisibilityAction.initialized){var i=document.getElementsByTagName("head")[0];var a="span.vis_action_hidden, .vis_action_hidden * { visibility:hidden}";var r=document.createElement("style");r.setAttribute("type","text/css");if(r.styleSheet)r.styleSheet.cssText=a;else r.innerHTML=a;i.appendChild(r);SUGAR.forms.SetVisibilityAction.initialized=true}};SUGAR.util.extend(SUGAR.forms.SetVisibilityAction,SUGAR.forms.AbstractAction,{exec:function(e){if(typeof e=="undefined")e=this.context;try{var t=e&&e.getElement&&e.getElement(this.target)||null;if(t==null){return}var n=this.evalExpression(this.expr,e);var i=n=="none"||n=="hidden";if(SUGAR.App){this.sidecarExec(e,t,i)}else{this.legacyExec(e,t,i)}}catch(e){if(console&&console.log)console.log(e)}},sidecarExec:function(e,t,n){var i="vis_action_hidden",a="record-panel-content",r=$(t).hasClass(i),s=e.view.getField(this.target),o=$(t).parents(".panel_body")[0];if(s&&_.isUndefined(s.wasRequired)){s.wasRequired=s.def.required}if(n){e.addClass(this.target,i,true);e.setFieldDisabled(this.target,true);if(s.wasRequired===true){e.setFieldRequired(this.target,false)}}else{e.removeClass(this.target,i,true);if(!s.def.calculated||!s.def.enforced){e.setFieldDisabled(this.target,false)}if(r){SUGAR.forms.FlashField(t,null,this.target)}if(s.wasRequired===true){e.setFieldRequired(this.target,true)}}if(o){this.checkRowSidecar(o,i);this.checkPanelSidecar(o.parentElement,i,a)}},legacyExec:function(e,t,n){var i=YAHOO.util.Dom,a="vis_action_hidden",r=i.getAncestorByTagName(t,"TD"),s=i.getPreviousSiblingBy(r,function(e){return e.tagName=="TD"});this.wrapContent(s);this.wrapContent(r);var o=i.hasClass(s,a);if(n){i.addClass(s,a);i.addClass(r,a)}else{i.removeClass(s,a);i.removeClass(r,a);if(o&&this.view=="EditView"){SUGAR.forms.FlashField(t)}}this.checkRow(i.getAncestorByTagName(r,"TR"),a)},wrapContent:function(e){if(e&&this.containsPlainText(e)){var t=document.createElement("SPAN");var n=[];for(var i=0;i<e.childNodes.length;i++){n[i]=e.childNodes[i]}for(var i=0;i<n.length;i++){t.appendChild(n[i])}e.appendChild(t)}},containsPlainText:function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(n.nodeName=="#text"&&YAHOO.lang.trim(n.textContent)!=""){return true}}return false},checkRow:function(e,t){var n=true;for(var i=0;i<e.children.length;i++){var a=e.children[i];if(a.tagName.toLowerCase()=="td"&&!YAHOO.util.Dom.hasClass(a,t)){n=false;break}}e.style.display=n?"none":""},checkRowSidecar:function(e,t){if(!e||e.children){return}var n=true;for(var i=0;i<e.children.length;i++){var a=e.children[i];if(a.tagName.toLowerCase()=="div"&&!$(a).hasClass(t)&&$(a).children().length>1){n=false;break}}e.style.display=n?"none":""},checkPanelSidecar:function(e,t,n){if(!e||!e.children){return}var i=true;for(var a=0;a<e.children.length;a++){var r=e.children[a];var s=$(r).children("."+t);var o=$(r).children(':not([data-type=""])');i&=s.length==o.length}if(i){$(e).removeClass(n)}else{$(e).addClass(n)}}});SUGAR.forms.SetPanelVisibilityAction=function(e,t){this.afterRender=true;if(_.isObject(e)){t=e.value;e=e.target}if(_.isString(e)&&_.isUndefined(SUGAR.App)){var n=$("#"+e).parents("div");if(n.length){e=n.attr("id")}}this.target=e;this.expr="cond("+t+', "", "none")'};SUGAR.util.extend(SUGAR.forms.SetPanelVisibilityAction,SUGAR.forms.AbstractAction,{hideChildren:function(){if(typeof SUGAR.forms.SetPanelVisibilityAction.hiddenFields=="undefined"){this.createFieldBin()}var e=document.getElementById(this.target);var t=e.getElementsByTagName("table")[0];if(t!=null){t.id=this.target+"_tbl";SUGAR.forms.SetPanelVisibilityAction.hiddenFields.appendChild(t)}},showChildren:function(){var e=document.getElementById(this.target);var t=document.getElementById(this.target+"_tbl");if(t!=null)e.appendChild(t)},createFieldBin:function(){var e=document.createElement("div");e.id="panelHiddenFields";e.style.display="none";document.body.appendChild(e);SUGAR.forms.SetPanelVisibilityAction.hiddenFields=e},exec:function(e){if(typeof e=="undefined")e=this.context;if(e.view)return this.sidecarExec(e);try{var t=this.evalExpression(this.expr,e);var n=document.getElementById(this.target);if(n!=null){if(n.style.display!="none")SUGAR.forms.animation.sizes[this.target]=n.clientHeight;if(SUGAR.forms.AssignmentHandler.ANIMATE){if(t=="none"&&n.style.display!="none"){SUGAR.forms.animation.Collapse(this.target,this.hideChildren,this);return}else if(t!="none"&&n.style.display=="none"){this.showChildren();SUGAR.forms.animation.Expand(this.target);return}}if(t=="none")this.hideChildren();else this.showChildren();n.style.display=t}}catch(e){if(console&&console.log)console.log(e)}},sidecarExec:function(e){var t=this.evalExpression(this.expr,e)==="none",n=e.view.$(".tab."+this.target),i=e.view.$("div.record-panel[data-panelname='"+this.target+"']"),a=n&&n.hasClass("active");if(!n||!n.length){if(i.length>0){if(t){i.hide()}else{i.show()}this.triggerFieldsVisibility(e,this.target,t)}else{console.log("unable to find panel "+this.target)}}else{if(t){n.hide();if(a){var r=e.view.$("li.tab:visible");if(r.length>0&&e.view.setActiveTab){e.view.setActiveTab({currentTarget:r[0].children[0]});e.view.handleActiveTab()}}}else{n.show()}this.triggerFieldsVisibility(e,this.target,t)}},triggerFieldsVisibility:function(e,t,n){_.each(this.getPanelFieldNames(e,t),function(t){var i=e.view.getField(t);if(i&&_.isUndefined(i.wasRequired)){i.wasRequired=i.def.required}e.setFieldDisabled(t,n);if(i.wasRequired===true)e.setFieldRequired(t,!n)})},getPanelFieldNames:function(e,t){var n=_.find(e.view.meta.panels,function(e){return e.name===t});return _.pluck(n.fields,"name")}});SUGAR.forms.animation.sizes={};SUGAR.forms.animation.Collapse=function(e,t,n){var i=document.getElementById(e);if(i==null)return;SUGAR.forms.animation.sizes[e]=i.clientHeight;i.style.overflow="hidden";var a=new YAHOO.util.Anim(e,{height:{to:0}},.5,YAHOO.util.Easing.easeBoth);a.onComplete.subscribe(function(){i.style.display="none";t.call(n)});a.animate()};SUGAR.forms.animation.Expand=function(e){var t=document.getElementById(e);if(t==null)return;t.style.overflow="hidden";t.style.height="0px";t.style.display="";var n=new YAHOO.util.Anim(e,{height:{to:SUGAR.forms.animation.sizes[e]}},.5,YAHOO.util.Easing.easeBoth);n.onComplete.subscribe(function(){t.style.height="auto"});n.animate()};SUGAR.FunctionMap={forecastIncludedCommitStages:SUGAR.expressions.ForecastIncludedCommitStagesExpression,getDropdownKeySet:SUGAR.expressions.SugarDropDownExpression,getDD:SUGAR.expressions.SugarDropDownExpression,forecastSalesStages:SUGAR.expressions.ForecastSalesStageExpression,getDropdownValueSet:SUGAR.expressions.SugarTranslatedDropDownExpression,getTransDD:SUGAR.expressions.SugarTranslatedDropDownExpression,getListWhere:SUGAR.expressions.SugarListWhereExpression,createList:SUGAR.expressions.DefineEnumExpression,enum:SUGAR.expressions.DefineEnumExpression,and:SUGAR.expressions.AndExpression,isBefore:SUGAR.expressions.isBeforeExpression,doBothExist:SUGAR.expressions.BinaryDependencyExpression,or:SUGAR.expressions.OrExpression,isAlpha:SUGAR.expressions.IsAlphaExpression,isForecastClosedLost:SUGAR.expressions.IsForecastClosedLostExpression,isValidTime:SUGAR.expressions.IsValidTimeExpression,isAlphaNumeric:SUGAR.expressions.IsAlphaNumericExpression,isRequiredCollection:SUGAR.expressions.IsRequiredCollectionExpression,isAfter:SUGAR.expressions.isAfterExpression,isInList:SUGAR.expressions.IsInEnumExpression,isInEnum:SUGAR.expressions.IsInEnumExpression,isValidEmail:SUGAR.expressions.IsValidEmailExpression,isNumeric:SUGAR.expressions.IsNumericExpression,isValidPhone:SUGAR.expressions.IsValidPhoneExpression,isValidDBName:SUGAR.expressions.IsValidDBNameExpression,not:SUGAR.expressions.NotExpression,isForecastClosedWon:SUGAR.expressions.IsForecastClosedWonExpression,isForecastClosed:SUGAR.expressions.IsForecastClosedExpression,equal:SUGAR.expressions.EqualExpression,greaterThan:SUGAR.expressions.GreaterThanExpression,isValidDate:SUGAR.expressions.IsValidDateExpression,isWithinRange:SUGAR.expressions.IsInRangeExpression,hourOfDay:SUGAR.expressions.HourOfDayExpression,time:SUGAR.expressions.DefineTimeExpression,date:SUGAR.expressions.DefineDateExpression,daysUntil:SUGAR.expressions.DaysUntilExpression,now:SUGAR.expressions.NowExpression,today:SUGAR.expressions.TodayExpression,maxRelatedDate:SUGAR.expressions.MaxRelatedDateExpression,timestamp:SUGAR.expressions.TimestampExpression,hoursUntil:SUGAR.expressions.HoursUntilExpression,monthofyear:SUGAR.expressions.MonthOfYearExpression,addDays:SUGAR.expressions.AddDaysExpression,dayofweek:SUGAR.expressions.DayOfWeekExpression,add:SUGAR.expressions.AddExpression,currencyAdd:SUGAR.expressions.AddExpression,rollupMax:SUGAR.expressions.MaxRelatedExpression,stddev:SUGAR.expressions.StandardDeviationExpression,pow:SUGAR.expressions.PowerExpression,number:SUGAR.expressions.ValueOfExpression,min:SUGAR.expressions.MinimumExpression,log:SUGAR.expressions.LogExpression,floor:SUGAR.expressions.FloorExpression,max:SUGAR.expressions.MaximumExpression,subtract:SUGAR.expressions.SubtractExpression,currencySubtract:SUGAR.expressions.SubtractExpression,sub:SUGAR.expressions.SubtractExpression,median:SUGAR.expressions.MedianExpression,rollupMin:SUGAR.expressions.MinRelatedExpression,average:SUGAR.expressions.AverageExpression,avg:SUGAR.expressions.AverageExpression,ln:SUGAR.expressions.NaturalLogExpression,strlen:SUGAR.expressions.StringLengthExpression,count:SUGAR.expressions.CountRelatedExpression,countConditional:SUGAR.expressions.CountConditionalRelatedExpression,ceil:SUGAR.expressions.CeilingExpression,ceiling:SUGAR.expressions.CeilingExpression,rollupConditionalSum:SUGAR.expressions.SumConditionalRelatedExpression,abs:SUGAR.expressions.AbsoluteValueExpression,divide:SUGAR.expressions.DivideExpression,currencyDivide:SUGAR.expressions.DivideExpression,div:SUGAR.expressions.DivideExpression,round:SUGAR.expressions.RoundExpression,rollupSum:SUGAR.expressions.SumRelatedExpression,rollupCurrencySum:SUGAR.expressions.SumRelatedExpression,rollupAve:SUGAR.expressions.AverageRelatedExpression,rollupAvg:SUGAR.expressions.AverageRelatedExpression,negate:SUGAR.expressions.NegateExpression,multiply:SUGAR.expressions.MultiplyExpression,currencyMultiply:SUGAR.expressions.MultiplyExpression,mul:SUGAR.expressions.MultiplyExpression,indexOf:SUGAR.expressions.IndexOfExpression,forecastCommitStage:SUGAR.expressions.ForecastCommitStageExpression,concat:SUGAR.expressions.ConcatenateExpression,charAt:SUGAR.expressions.CharacterAtExpression,strToLower:SUGAR.expressions.StrToLowerExpression,formatName:SUGAR.expressions.FormatedNameExpression,subStr:SUGAR.expressions.SubStrExpression,toString:SUGAR.expressions.DefineStringExpression,string:SUGAR.expressions.DefineStringExpression,getDropdownValue:SUGAR.expressions.SugarDropDownValueExpression,getDDValue:SUGAR.expressions.SugarDropDownValueExpression,strToUpper:SUGAR.expressions.StrToUpperExpression,translateLabel:SUGAR.expressions.SugarTranslateExpression,translate:SUGAR.expressions.SugarTranslateExpression,contains:SUGAR.expressions.ContainsExpression,ifElse:SUGAR.expressions.ConditionExpression,cond:SUGAR.expressions.ConditionExpression,currencyRate:SUGAR.expressions.CurrencyRateExpression,valueAt:SUGAR.expressions.IndexValueExpression,sugarField:SUGAR.expressions.SugarFieldExpression,related:SUGAR.expressions.RelatedFieldExpression};SUGAR.NumericConstants={pi:3.1415926535898,e:2.718281828459}},function(e,t){(function(e){e.__swipeHelper={init:function(){var t={},n=5;e.__swipeHelper.swipeOrientation="";var i=function(e,t,n,i){var a=Math.abs(e-t),r=Math.abs(n-i);return a>=r?"horizontal":"vertical"};e(document.body).on("touchstart",function(e){t.x1=e.touches[0].pageX;t.y1=e.touches[0].pageY}).on("touchmove",function(a){t.x2=a.touches[0].pageX;t.y2=a.touches[0].pageY;if(e.__swipeHelper.swipeOrientation===""&&(t.x2&&Math.abs(t.x1-t.x2)>n||t.y2&&Math.abs(t.y1-t.y2)>n)){e.__swipeHelper.swipeOrientation=i(t.x1,t.x2,t.y1,t.y2)}if(e.__swipeHelper.swipeOrientation==="horizontal"){}}).on("touchend",function(n){e.__swipeHelper.swipeOrientation="";t={}})}}})(Zepto)},function(e,t,n){(function(){"use strict";var e=function(n,i){if(!(this instanceof e))return new e(n,i);var a={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,setWrapperSize:false,virtualTranslate:false,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,keyboardControl:false,mousewheelControl:false,mousewheelForceToAxis:false,hashnav:false,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,pagination:null,paginationClickable:false,paginationHide:false,paginationBulletRender:null,resistance:true,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:false,observeParents:false,a11y:false,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:true};var r=i&&i.virtualTranslate;i=i||{};for(var s in a){if(typeof i[s]==="undefined"){i[s]=a[s]}else if(typeof i[s]==="object"){for(var o in a[s]){if(typeof i[s][o]==="undefined"){i[s][o]=a[s][o]}}}}var l=this;l.version="3.0.7";l.params=i;l.classNames=[];var u;if(typeof t==="undefined"){u=window.Dom7||window.Zepto||window.jQuery}else{u=t}if(!u)return;l.$=u;l.container=u(n);if(l.container.length===0)return;if(l.container.length>1){l.container.each(function(){new e(this,i)});return}l.container[0].swiper=l;l.container.data("swiper",l);l.classNames.push("swiper-container-"+l.params.direction);if(l.params.freeMode){l.classNames.push("swiper-container-free-mode")}if(!l.support.flexbox){l.classNames.push("swiper-container-no-flexbox");l.params.slidesPerColumn=1}if(l.params.parallax||l.params.watchSlidesVisibility){l.params.watchSlidesProgress=true}if(["cube","coverflow"].indexOf(l.params.effect)>=0){if(l.support.transforms3d){l.params.watchSlidesProgress=true;l.classNames.push("swiper-container-3d")}else{l.params.effect="slide"}}if(l.params.effect!=="slide"){l.classNames.push("swiper-container-"+l.params.effect)}if(l.params.effect==="cube"){l.params.resistanceRatio=0;l.params.slidesPerView=1;l.params.slidesPerColumn=1;l.params.slidesPerGroup=1;l.params.centeredSlides=false;l.params.spaceBetween=0;l.params.virtualTranslate=true;l.params.setWrapperSize=false}if(l.params.effect==="fade"){l.params.slidesPerView=1;l.params.slidesPerColumn=1;l.params.slidesPerGroup=1;l.params.watchSlidesProgress=true;l.params.spaceBetween=0;if(typeof r==="undefined"){l.params.virtualTranslate=true}}if(l.params.grabCursor&&l.support.touch){l.params.grabCursor=false}l.wrapper=l.container.children("."+l.params.wrapperClass);if(l.params.pagination){l.paginationContainer=u(l.params.pagination);if(l.params.paginationClickable){l.paginationContainer.addClass("swiper-pagination-clickable")}}function c(){return l.params.direction==="horizontal"}l.rtl=c()&&(l.container[0].dir.toLowerCase()==="rtl"||l.container.css("direction")==="rtl");if(l.rtl){l.classNames.push("swiper-container-rtl")}if(l.rtl){l.wrongRTL=l.wrapper.css("display")==="-webkit-box"}if(l.params.slidesPerColumn>1){l.classNames.push("swiper-container-multirow")}if(l.device.android){l.classNames.push("swiper-container-android")}l.container.addClass(l.classNames.join(" "));l.translate=0;l.progress=0;l.velocity=0;l.lockSwipeToNext=function(){l.params.allowSwipeToNext=false};l.lockSwipeToPrev=function(){l.params.allowSwipeToPrev=false};l.lockSwipes=function(){l.params.allowSwipeToNext=l.params.allowSwipeToPrev=false};l.unlockSwipeToNext=function(){l.params.allowSwipeToNext=true};l.unlockSwipeToPrev=function(){l.params.allowSwipeToPrev=true};l.unlockSwipes=function(){l.params.allowSwipeToNext=l.params.allowSwipeToPrev=true};if(l.params.grabCursor){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grab";l.container[0].style.cursor="-moz-grab";l.container[0].style.cursor="grab"}l.imagesToLoad=[];l.imagesLoaded=0;l.loadImage=function(e,t,n,i){var a;function r(){if(i)i()}if(!e.complete||!n){if(t){a=new window.Image;a.onload=r;a.onerror=r;a.src=t}else{r()}}else{r()}};l.preloadImages=function(){l.imagesToLoad=l.container.find("img");function e(){if(typeof l==="undefined"||l===null)return;if(l.imagesLoaded!==undefined)l.imagesLoaded++;if(l.imagesLoaded===l.imagesToLoad.length){if(l.params.updateOnImagesReady)l.update();l.emit("onImagesReady",l)}}for(var t=0;t<l.imagesToLoad.length;t++){l.loadImage(l.imagesToLoad[t],l.imagesToLoad[t].currentSrc||l.imagesToLoad[t].getAttribute("src"),true,e)}};l.autoplayTimeoutId=undefined;l.autoplaying=false;l.autoplayPaused=false;function d(){l.autoplayTimeoutId=setTimeout(function(){if(l.params.loop){l.fixLoop();l._slideNext()}else{if(!l.isEnd){l._slideNext()}else{if(!i.autoplayStopOnLast){l._slideTo(0)}else{l.stopAutoplay()}}}},l.params.autoplay)}l.startAutoplay=function(){if(typeof l.autoplayTimeoutId!=="undefined")return false;if(!l.params.autoplay)return false;if(l.autoplaying)return false;l.autoplaying=true;l.emit("onAutoplayStart",l);d()};l.stopAutoplay=function(e){if(!l.autoplayTimeoutId)return;if(l.autoplayTimeoutId)clearTimeout(l.autoplayTimeoutId);l.autoplaying=false;l.autoplayTimeoutId=undefined;l.emit("onAutoplayStop",l)};l.pauseAutoplay=function(e){if(l.autoplayPaused)return;if(l.autoplayTimeoutId)clearTimeout(l.autoplayTimeoutId);l.autoplayPaused=true;if(e===0){l.autoplayPaused=false;d()}else{l.wrapper.transitionEnd(function(){if(!l)return;l.autoplayPaused=false;if(!l.autoplaying){l.stopAutoplay()}else{d()}})}};l.minTranslate=function(){return-l.snapGrid[0]};l.maxTranslate=function(){return-l.snapGrid[l.snapGrid.length-1]};l.updateContainerSize=function(){var e,t;if(typeof l.params.width!=="undefined"){e=l.params.width}else{e=l.container[0].clientWidth}if(typeof l.params.height!=="undefined"){t=l.params.height}else{t=l.container[0].clientHeight}if(e===0&&c()||t===0&&!c()){return}l.width=e;l.height=t;l.size=c()?l.width:l.height};l.updateSlidesSize=function(){l.slides=l.wrapper.children("."+l.params.slideClass);l.snapGrid=[];l.slidesGrid=[];l.slidesSizesGrid=[];var e=l.params.spaceBetween,t=0,n,i=0,a=0;if(typeof e==="string"&&e.indexOf("%")>=0){e=parseFloat(e.replace("%",""))/100*l.size}l.virtualSize=-e;if(l.rtl)l.slides.css({marginLeft:"",marginTop:""});else l.slides.css({marginRight:"",marginBottom:""});var r;if(l.params.slidesPerColumn>1){if(Math.floor(l.slides.length/l.params.slidesPerColumn)===l.slides.length/l.params.slidesPerColumn){r=l.slides.length}else{r=Math.ceil(l.slides.length/l.params.slidesPerColumn)*l.params.slidesPerColumn}}var s;for(n=0;n<l.slides.length;n++){s=0;var o=l.slides.eq(n);if(l.params.slidesPerColumn>1){var u;var d,f;var h=l.params.slidesPerColumn;var p;if(l.params.slidesPerColumnFill==="column"){d=Math.floor(n/h);f=n-d*h;u=d+f*r/h;o.css({"-webkit-box-ordinal-group":u,"-moz-box-ordinal-group":u,"-ms-flex-order":u,"-webkit-order":u,order:u})}else{p=r/h;f=Math.floor(n/p);d=n-f*p}o.css({"margin-top":f!==0&&l.params.spaceBetween&&l.params.spaceBetween+"px"}).attr("data-swiper-column",d).attr("data-swiper-row",f)}if(o.css("display")==="none")continue;if(l.params.slidesPerView==="auto"){s=c()?o.outerWidth(true):o.outerHeight(true)}else{s=(l.size-(l.params.slidesPerView-1)*e)/l.params.slidesPerView;if(c()){l.slides[n].style.width=s+"px"}else{l.slides[n].style.height=s+"px"}}l.slides[n].swiperSlideSize=s;l.slidesSizesGrid.push(s);if(l.params.centeredSlides){t=t+s/2+i/2+e;if(n===0)t=t-l.size/2-e;if(Math.abs(t)<1/1e3)t=0;if(a%l.params.slidesPerGroup===0)l.snapGrid.push(t);l.slidesGrid.push(t)}else{if(a%l.params.slidesPerGroup===0)l.snapGrid.push(t);l.slidesGrid.push(t);t=t+s+e}l.virtualSize+=s+e;i=s;a++}l.virtualSize=Math.max(l.virtualSize,l.size);var m;if(l.rtl&&l.wrongRTL&&(l.params.effect==="slide"||l.params.effect==="coverflow")){l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"})}if(!l.support.flexbox||l.params.setWrapperSize){if(c())l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"});else l.wrapper.css({height:l.virtualSize+l.params.spaceBetween+"px"})}if(l.params.slidesPerColumn>1){l.virtualSize=(s+l.params.spaceBetween)*r;l.virtualSize=Math.ceil(l.virtualSize/l.params.slidesPerColumn)-l.params.spaceBetween;l.wrapper.css({width:l.virtualSize+l.params.spaceBetween+"px"});if(l.params.centeredSlides){m=[];for(n=0;n<l.snapGrid.length;n++){if(l.snapGrid[n]<l.virtualSize+l.snapGrid[0])m.push(l.snapGrid[n])}l.snapGrid=m}}if(!l.params.centeredSlides){m=[];for(n=0;n<l.snapGrid.length;n++){if(l.snapGrid[n]<=l.virtualSize-l.size){m.push(l.snapGrid[n])}}l.snapGrid=m;if(Math.floor(l.virtualSize-l.size)>Math.floor(l.snapGrid[l.snapGrid.length-1])){l.snapGrid.push(l.virtualSize-l.size)}}if(l.snapGrid.length===0)l.snapGrid=[0];if(l.params.spaceBetween!==0){if(c()){if(l.rtl)l.slides.css({marginLeft:e+"px"});else l.slides.css({marginRight:e+"px"})}else l.slides.css({marginBottom:e+"px"})}if(l.params.watchSlidesProgress){l.updateSlidesOffset()}};l.updateSlidesOffset=function(){for(var e=0;e<l.slides.length;e++){l.slides[e].swiperSlideOffset=c()?l.slides[e].offsetLeft:l.slides[e].offsetTop}};l.updateSlidesProgress=function(e){if(typeof e==="undefined"){e=l.translate||0}if(l.slides.length===0)return;if(typeof l.slides[0].swiperSlideOffset==="undefined")l.updateSlidesOffset();var t=l.params.centeredSlides?-e+l.size/2:-e;if(l.rtl)t=l.params.centeredSlides?e-l.size/2:e;var n=l.container[0].getBoundingClientRect();var i=c()?"left":"top";var a=c()?"right":"bottom";l.slides.removeClass(l.params.slideVisibleClass);for(var r=0;r<l.slides.length;r++){var s=l.slides[r];var o=l.params.centeredSlides===true?s.swiperSlideSize/2:0;var u=(t-s.swiperSlideOffset-o)/(s.swiperSlideSize+l.params.spaceBetween);if(l.params.watchSlidesVisibility){var d=-(t-s.swiperSlideOffset-o);var f=d+l.slidesSizesGrid[r];var h=d>=0&&d<l.size||f>0&&f<=l.size||d<=0&&f>=l.size;if(h){l.slides.eq(r).addClass(l.params.slideVisibleClass)}}s.progress=l.rtl?-u:u}};l.updateProgress=function(e){if(typeof e==="undefined"){e=l.translate||0}var t=l.maxTranslate()-l.minTranslate();if(t===0){l.progress=0;l.isBeginning=l.isEnd=true}else{l.progress=(e-l.minTranslate())/t;l.isBeginning=l.progress<=0;l.isEnd=l.progress>=1}if(l.isBeginning)l.emit("onReachBeginning",l);if(l.isEnd)l.emit("onReachEnd",l);if(l.params.watchSlidesProgress)l.updateSlidesProgress(e);l.emit("onProgress",l,l.progress)};l.updateActiveIndex=function(){var e=l.rtl?l.translate:-l.translate;var t,n,i;for(n=0;n<l.slidesGrid.length;n++){if(typeof l.slidesGrid[n+1]!=="undefined"){if(e>=l.slidesGrid[n]&&e<l.slidesGrid[n+1]-(l.slidesGrid[n+1]-l.slidesGrid[n])/2){t=n}else if(e>=l.slidesGrid[n]&&e<l.slidesGrid[n+1]){t=n+1}}else{if(e>=l.slidesGrid[n]){t=n}}}if(t<0||typeof t==="undefined")t=0;i=Math.floor(t/l.params.slidesPerGroup);if(i>=l.snapGrid.length)i=l.snapGrid.length-1;if(t===l.activeIndex){return}l.snapIndex=i;l.previousIndex=l.activeIndex;l.activeIndex=t;l.updateClasses()};l.updateClasses=function(){l.slides.removeClass(l.params.slideActiveClass+" "+l.params.slideNextClass+" "+l.params.slidePrevClass);var e=l.slides.eq(l.activeIndex);e.addClass(l.params.slideActiveClass);e.next("."+l.params.slideClass).addClass(l.params.slideNextClass);e.prev("."+l.params.slideClass).addClass(l.params.slidePrevClass);if(l.bullets&&l.bullets.length>0){l.bullets.removeClass(l.params.bulletActiveClass);var t;if(l.params.loop){t=Math.ceil(l.activeIndex-l.loopedSlides)/l.params.slidesPerGroup;if(t>l.slides.length-1-l.loopedSlides*2){t=t-(l.slides.length-l.loopedSlides*2)}if(t>l.bullets.length-1)t=t-l.bullets.length}else{if(typeof l.snapIndex!=="undefined"){t=l.snapIndex}else{t=l.activeIndex||0}}if(l.paginationContainer.length>1){l.bullets.each(function(){if(u(this).index()===t)u(this).addClass(l.params.bulletActiveClass)})}else{l.bullets.eq(t).addClass(l.params.bulletActiveClass)}}if(!l.params.loop){if(l.params.prevButton){if(l.isBeginning){u(l.params.prevButton).addClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.disable(u(l.params.prevButton))}else{u(l.params.prevButton).removeClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.enable(u(l.params.prevButton))}}if(l.params.nextButton){if(l.isEnd){u(l.params.nextButton).addClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.disable(u(l.params.nextButton))}else{u(l.params.nextButton).removeClass(l.params.buttonDisabledClass);if(l.params.a11y&&l.a11y)l.a11y.enable(u(l.params.nextButton))}}}};l.updatePagination=function(){if(!l.params.pagination)return;if(l.paginationContainer&&l.paginationContainer.length>0){var e="";var t=l.params.loop?Math.ceil((l.slides.length-l.loopedSlides*2)/l.params.slidesPerGroup):l.snapGrid.length;for(var n=0;n<t;n++){if(l.params.paginationBulletRender){e+=l.params.paginationBulletRender(n,l.params.bulletClass)}else{e+='<span class="'+l.params.bulletClass+'"></span>'}}l.paginationContainer.html(e);l.bullets=l.paginationContainer.find("."+l.params.bulletClass.split(" ").join("."))}};l.update=function(e){l.updateContainerSize();l.updateSlidesSize();l.updateProgress();l.updatePagination();l.updateClasses();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}function t(){i=Math.min(Math.max(l.translate,l.maxTranslate()),l.minTranslate());l.setWrapperTranslate(i);l.updateActiveIndex();l.updateClasses()}if(e){var n,i;if(l.params.freeMode){t()}else{if(l.params.slidesPerView==="auto"&&l.isEnd&&!l.params.centeredSlides){n=l.slideTo(l.slides.length-1,0,false,true)}else{n=l.slideTo(l.activeIndex,0,false,true)}if(!n){t()}}}};l.onResize=function(e){l.updateContainerSize();l.updateSlidesSize();l.updateProgress();if(l.params.slidesPerView==="auto"||l.params.freeMode||e)l.updatePagination();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}if(l.params.freeMode){var t=Math.min(Math.max(l.translate,l.maxTranslate()),l.minTranslate());l.setWrapperTranslate(t);l.updateActiveIndex();l.updateClasses()}else{l.updateClasses();if(l.params.slidesPerView==="auto"&&l.isEnd&&!l.params.centeredSlides){l.slideTo(l.slides.length-1,0,false,true)}else{l.slideTo(l.activeIndex,0,false,true)}}};var f=["mousedown","mousemove","mouseup"];if(window.navigator.pointerEnabled)f=["pointerdown","pointermove","pointerup"];else if(window.navigator.msPointerEnabled)f=["MSPointerDown","MSPointerMove","MSPointerUp"];l.touchEvents={start:l.support.touch||!l.params.simulateTouch?"touchstart":f[0],move:l.support.touch||!l.params.simulateTouch?"touchmove":f[1],end:l.support.touch||!l.params.simulateTouch?"touchend":f[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(l.params.touchEventsTarget==="container"?l.container:l.wrapper).addClass("swiper-wp8-"+l.params.direction)}l.initEvents=function(e){var t=e?"off":"on";var n=e?"removeEventListener":"addEventListener";var a=l.params.touchEventsTarget==="container"?l.container[0]:l.wrapper[0];var r=l.support.touch?a:document;var s=l.params.nested?true:false;if(l.browser.ie){a[n](l.touchEvents.start,l.onTouchStart,false);r[n](l.touchEvents.move,l.onTouchMove,s);r[n](l.touchEvents.end,l.onTouchEnd,false)}else{if(l.support.touch){a[n](l.touchEvents.start,l.onTouchStart,false);a[n](l.touchEvents.move,l.onTouchMove,s);a[n](l.touchEvents.end,l.onTouchEnd,false)}if(i.simulateTouch&&!l.device.ios&&!l.device.android){a[n]("mousedown",l.onTouchStart,false);document[n]("mousemove",l.onTouchMove,s);document[n]("mouseup",l.onTouchEnd,false)}}window[n]("resize",l.onResize);if(l.params.nextButton){u(l.params.nextButton)[t]("click",l.onClickNext);if(l.params.a11y&&l.a11y)u(l.params.nextButton)[t]("keydown",l.a11y.onEnterKey)}if(l.params.prevButton){u(l.params.prevButton)[t]("click",l.onClickPrev);if(l.params.a11y&&l.a11y)u(l.params.prevButton)[t]("keydown",l.a11y.onEnterKey)}if(l.params.pagination&&l.params.paginationClickable){u(l.paginationContainer)[t]("click","."+l.params.bulletClass,l.onClickIndex)}if(l.params.preventClicks||l.params.preventClicksPropagation)a[n]("click",l.preventClicks,true)};l.attachEvents=function(e){l.initEvents()};l.detachEvents=function(){l.initEvents(true)};l.allowClick=true;l.preventClicks=function(e){if(!l.allowClick){if(l.params.preventClicks)e.preventDefault();if(l.params.preventClicksPropagation){e.stopPropagation();e.stopImmediatePropagation()}}};l.onClickNext=function(e){e.preventDefault();l.params.onClickNext?l.params.onClickNext():l.slideNext()};l.onClickPrev=function(e){e.preventDefault();l.params.onClickPrev?l.params.onClickPrev():l.slidePrev()};l.onClickIndex=function(e){e.preventDefault();var t=u(this).index()*l.params.slidesPerGroup;if(l.params.loop)t=t+l.loopedSlides;l.slideTo(t)};function h(e,t){var n=u(e.target);if(!n.is(t)){if(typeof t==="string"){n=n.parents(t)}else if(t.nodeType){var i;n.parents().each(function(e,n){if(n===t)i=t});if(!i)return undefined;else return t}}if(n.length===0){return undefined}return n[0]}l.updateClickedSlide=function(e){var t=h(e,"."+l.params.slideClass);var n=false;if(t){for(var i=0;i<l.slides.length;i++){if(l.slides[i]===t)n=true}}if(t&&n){l.clickedSlide=t;l.clickedIndex=u(t).index()}else{l.clickedSlide=undefined;l.clickedIndex=undefined;return}if(l.params.slideToClickedSlide&&l.clickedIndex!==undefined&&l.clickedIndex!==l.activeIndex){var a=l.clickedIndex,r;if(l.params.loop){r=u(l.clickedSlide).attr("data-swiper-slide-index");if(a>l.slides.length-l.params.slidesPerView){l.fixLoop();a=l.wrapper.children("."+l.params.slideClass+'[data-swiper-slide-index="'+r+'"]').eq(0).index();setTimeout(function(){l.slideTo(a)},0)}else if(a<l.params.slidesPerView-1){l.fixLoop();var s=l.wrapper.children("."+l.params.slideClass+'[data-swiper-slide-index="'+r+'"]');a=s.eq(s.length-1).index();setTimeout(function(){l.slideTo(a)},0)}else{l.slideTo(a)}}else{l.slideTo(a)}}};var p,m,_,g,v,b,y,x="input, select, textarea, button",S=Date.now(),w,L=[],E;l.animating=false;l.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var M,k;l.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;M=e.type==="touchstart";if(!M&&"which"in e&&e.which===3)return;if(l.params.noSwiping&&h(e,"."+l.params.noSwipingClass)){l.allowClick=true;return}if(l.params.swipeHandler){if(!h(e,l.params.swipeHandler))return}p=true;m=false;g=undefined;k=undefined;l.touches.startX=l.touches.currentX=e.type==="touchstart"?e.targetTouches[0].pageX:e.pageX;l.touches.startY=l.touches.currentY=e.type==="touchstart"?e.targetTouches[0].pageY:e.pageY;_=Date.now();l.allowClick=true;l.updateContainerSize();l.swipeDirection=undefined;if(l.params.threshold>0)y=false;if(e.type!=="touchstart"){var t=true;if(u(e.target).is(x))t=false;if(document.activeElement&&u(document.activeElement).is(x)){document.activeElement.blur()}if(t){e.preventDefault()}}l.emit("onTouchStart",l,e)};l.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(M&&e.type==="mousemove")return;if(e.preventedByNestedSwiper)return;if(l.params.onlyExternal){m=true;l.allowClick=false;return}if(M&&document.activeElement){if(e.target===document.activeElement&&u(e.target).is(x)){m=true;l.allowClick=false;return}}l.emit("onTouchMove",l,e);if(e.targetTouches&&e.targetTouches.length>1)return;l.touches.currentX=e.type==="touchmove"?e.targetTouches[0].pageX:e.pageX;l.touches.currentY=e.type==="touchmove"?e.targetTouches[0].pageY:e.pageY;if(typeof g==="undefined"){var t=Math.atan2(Math.abs(l.touches.currentY-l.touches.startY),Math.abs(l.touches.currentX-l.touches.startX))*180/Math.PI;g=c()?t>l.params.touchAngle:90-t>l.params.touchAngle}if(g){l.emit("onTouchMoveOpposite",l,e)}if(typeof k==="undefined"&&l.browser.ieTouch){if(l.touches.currentX!==l.touches.startX||l.touches.currentY!==l.touches.startY){k=true}}if(!p)return;if(g){p=false;return}if(!k&&l.browser.ieTouch){return}l.allowClick=false;l.emit("onSliderMove",l,e);e.preventDefault();if(l.params.touchMoveStopPropagation&&!l.params.nested){e.stopPropagation()}if(!m){if(i.loop){l.fixLoop()}b=l.getWrapperTranslate();l.setWrapperTransition(0);if(l.animating){l.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd")}if(l.params.autoplay&&l.autoplaying){if(l.params.autoplayDisableOnInteraction){l.stopAutoplay()}else{l.pauseAutoplay()}}E=false;if(l.params.grabCursor){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grabbing";l.container[0].style.cursor="-moz-grabbin";l.container[0].style.cursor="grabbing"}}m=true;var n=l.touches.diff=c()?l.touches.currentX-l.touches.startX:l.touches.currentY-l.touches.startY;n=n*l.params.touchRatio;if(l.rtl)n=-n;l.swipeDirection=n>0?"prev":"next";v=n+b;var a=true;if(n>0&&v>l.minTranslate()){a=false;if(l.params.resistance)v=l.minTranslate()-1+Math.pow(-l.minTranslate()+b+n,l.params.resistanceRatio)}else if(n<0&&v<l.maxTranslate()){a=false;if(l.params.resistance)v=l.maxTranslate()+1-Math.pow(l.maxTranslate()-b-n,l.params.resistanceRatio)}if(a){e.preventedByNestedSwiper=true}if(!l.params.allowSwipeToNext&&l.swipeDirection==="next"&&v<b){v=b}if(!l.params.allowSwipeToPrev&&l.swipeDirection==="prev"&&v>b){v=b}if(!l.params.followFinger)return;if(l.params.threshold>0){if(Math.abs(n)>l.params.threshold||y){if(!y){y=true;l.touches.startX=l.touches.currentX;l.touches.startY=l.touches.currentY;v=b;l.touches.diff=c()?l.touches.currentX-l.touches.startX:l.touches.currentY-l.touches.startY;return}}else{v=b;return}}if(l.params.freeMode||l.params.watchSlidesProgress){l.updateActiveIndex()}if(l.params.freeMode){if(L.length===0){L.push({position:l.touches[c()?"startX":"startY"],time:_})}L.push({position:l.touches[c()?"currentX":"currentY"],time:(new window.Date).getTime()})}l.updateProgress(v);l.setWrapperTranslate(v)};l.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;l.emit("onTouchEnd",l,e);if(!p)return;if(l.params.grabCursor&&m&&p){l.container[0].style.cursor="move";l.container[0].style.cursor="-webkit-grab";l.container[0].style.cursor="-moz-grab";l.container[0].style.cursor="grab"}var t=Date.now();var n=t-_;if(l.allowClick){l.updateClickedSlide(e);l.emit("onTap",l,e);if(n<300&&t-S>300){if(w)clearTimeout(w);w=setTimeout(function(){if(!l)return;if(l.params.paginationHide&&l.paginationContainer.length>0&&!u(e.target).hasClass(l.params.bulletClass)){l.paginationContainer.toggleClass(l.params.paginationHiddenClass)}l.emit("onClick",l,e)},300)}if(n<300&&t-S<300){if(w)clearTimeout(w);l.emit("onDoubleTap",l,e)}}S=Date.now();setTimeout(function(){if(l&&l.allowClick)l.allowClick=true},0);if(!p||!m||!l.swipeDirection||l.touches.diff===0||v===b){p=m=false;return}p=m=false;var i;if(l.params.followFinger){i=l.rtl?l.translate:-l.translate}else{i=-v}if(l.params.freeMode){if(i<-l.minTranslate()){l.slideTo(l.activeIndex);return}else if(i>-l.maxTranslate()){if(l.slides.length<l.snapGrid.length){l.slideTo(l.snapGrid.length-1)}else{l.slideTo(l.slides.length-1)}return}if(l.params.freeModeMomentum){if(L.length>1){var a=L.pop(),r=L.pop();var s=a.position-r.position;var o=a.time-r.time;l.velocity=s/o;l.velocity=l.velocity/2;if(Math.abs(l.velocity)<.02){l.velocity=0}if(o>150||(new window.Date).getTime()-a.time>300){l.velocity=0}}else{l.velocity=0}L.length=0;var c=1e3*l.params.freeModeMomentumRatio;var d=l.velocity*c;var f=l.translate+d;if(l.rtl)f=-f;var h=false;var g;var y=Math.abs(l.velocity)*20*l.params.freeModeMomentumBounceRatio;if(f<l.maxTranslate()){if(l.params.freeModeMomentumBounce){if(f+l.maxTranslate()<-y){f=l.maxTranslate()-y}g=l.maxTranslate();h=true;E=true}else{f=l.maxTranslate()}}else if(f>l.minTranslate()){if(l.params.freeModeMomentumBounce){if(f-l.minTranslate()>y){f=l.minTranslate()+y}g=l.minTranslate();h=true;E=true}else{f=l.minTranslate()}}else if(l.params.freeModeSticky){var x=0,M;for(x=0;x<l.snapGrid.length;x+=1){if(l.snapGrid[x]>-f){M=x;break}}if(Math.abs(l.snapGrid[M]-f)<Math.abs(l.snapGrid[M-1]-f)||l.swipeDirection==="next"){f=l.snapGrid[M]}else{f=l.snapGrid[M-1]}if(!l.rtl)f=-f}if(l.velocity!==0){if(l.rtl){c=Math.abs((-f-l.translate)/l.velocity)}else{c=Math.abs((f-l.translate)/l.velocity)}}else if(l.params.freeModeSticky){l.slideReset();return}if(l.params.freeModeMomentumBounce&&h){l.updateProgress(g);l.setWrapperTransition(c);l.setWrapperTranslate(f);l.onTransitionStart();l.animating=true;l.wrapper.transitionEnd(function(){if(!l||!E)return;l.emit("onMomentumBounce",l);l.setWrapperTransition(l.params.speed);l.setWrapperTranslate(g);l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd()})})}else if(l.velocity){l.updateProgress(f);l.setWrapperTransition(c);l.setWrapperTranslate(f);l.onTransitionStart();if(!l.animating){l.animating=true;l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd()})}}else{l.updateProgress(f)}l.updateActiveIndex()}if(!l.params.freeModeMomentum||n>=l.params.longSwipesMs){l.updateProgress();l.updateActiveIndex()}return}var k,A=0,T=l.slidesSizesGrid[0];for(k=0;k<l.slidesGrid.length;k+=l.params.slidesPerGroup){if(typeof l.slidesGrid[k+l.params.slidesPerGroup]!=="undefined"){if(i>=l.slidesGrid[k]&&i<l.slidesGrid[k+l.params.slidesPerGroup]){A=k;T=l.slidesGrid[k+l.params.slidesPerGroup]-l.slidesGrid[k]}}else{if(i>=l.slidesGrid[k]){A=k;T=l.slidesGrid[l.slidesGrid.length-1]-l.slidesGrid[l.slidesGrid.length-2]}}}var C=(i-l.slidesGrid[A])/T;var D=function(e){l.params.onSlide?l.params.onSlide(e):l.slideTo(e)};if(n>l.params.longSwipesMs){if(!l.params.longSwipes){D(l.activeIndex);return}if(l.swipeDirection==="next"){if(C>=l.params.longSwipesRatio)D(A+l.params.slidesPerGroup);else D(A)}if(l.swipeDirection==="prev"){if(C>1-l.params.longSwipesRatio)D(A+l.params.slidesPerGroup);else D(A)}}else{if(!l.params.shortSwipes){D(l.activeIndex);return}if(l.swipeDirection==="next"){D(A+l.params.slidesPerGroup)}if(l.swipeDirection==="prev"){D(A)}}};l._slideTo=function(e,t){return l.slideTo(e,t,true,true)};l.slideTo=function(e,t,n,i){if(typeof n==="undefined")n=true;if(typeof e==="undefined")e=0;if(e<0)e=0;l.snapIndex=Math.floor(e/l.params.slidesPerGroup);if(l.snapIndex>=l.snapGrid.length)l.snapIndex=l.snapGrid.length-1;var a=-l.snapGrid[l.snapIndex];if(!l.params.allowSwipeToNext&&a<l.translate){return false}if(!l.params.allowSwipeToPrev&&a>l.translate){return false}if(l.params.autoplay&&l.autoplaying){if(i||!l.params.autoplayDisableOnInteraction){l.pauseAutoplay(t)}else{l.stopAutoplay()}}l.updateProgress(a);for(var r=0;r<l.slidesGrid.length;r++){if(-a>=l.slidesGrid[r]){e=r}}if(typeof t==="undefined")t=l.params.speed;l.previousIndex=l.activeIndex||0;l.activeIndex=e;if(a===l.translate){l.updateClasses();return false}l.updateClasses();l.onTransitionStart(n);var s=c()?a:0,o=c()?0:a;if(t===0){l.setWrapperTransition(0);l.setWrapperTranslate(a);l.onTransitionEnd(n)}else{l.setWrapperTransition(t);l.setWrapperTranslate(a);if(!l.animating){l.animating=true;l.wrapper.transitionEnd(function(){if(!l)return;l.onTransitionEnd(n)})}}return true};l.onTransitionStart=function(e){if(typeof e==="undefined")e=true;if(l.lazy)l.lazy.onTransitionStart();if(e){l.emit("onTransitionStart",l);if(l.activeIndex!==l.previousIndex){l.emit("onSlideChangeStart",l)}}};l.onTransitionEnd=function(e){l.animating=false;l.setWrapperTransition(0);if(typeof e==="undefined")e=true;if(l.lazy)l.lazy.onTransitionEnd();if(e){l.emit("onTransitionEnd",l);if(l.activeIndex!==l.previousIndex){l.emit("onSlideChangeEnd",l)}}if(l.params.hashnav&&l.hashnav){l.hashnav.setHash()}};l.slideNext=function(e,t,n){if(l.params.loop){if(l.animating)return false;l.fixLoop();var i=l.container[0].clientLeft;return l.slideTo(l.activeIndex+l.params.slidesPerGroup,t,e,n)}else return l.slideTo(l.activeIndex+l.params.slidesPerGroup,t,e,n)};l._slideNext=function(e){return l.slideNext(true,e,true)};l.slidePrev=function(e,t,n){if(l.params.loop){if(l.animating)return false;l.fixLoop();var i=l.container[0].clientLeft;return l.slideTo(l.activeIndex-1,t,e,n)}else return l.slideTo(l.activeIndex-1,t,e,n)};l._slidePrev=function(e){return l.slidePrev(true,e,true)};l.slideReset=function(e,t,n){return l.slideTo(l.activeIndex,t,e)};l.setWrapperTransition=function(e,t){l.wrapper.transition(e);if(l.params.effect!=="slide"&&l.effects[l.params.effect]){l.effects[l.params.effect].setTransition(e)}if(l.params.parallax&&l.parallax){l.parallax.setTransition(e)}if(l.params.scrollbar&&l.scrollbar){l.scrollbar.setTransition(e)}if(l.params.control&&l.controller){l.controller.setTransition(e,t)}l.emit("onSetTransition",l,e)};l.setWrapperTranslate=function(e,t,n){var i=0,a=0,r=0;if(c()){i=l.rtl?-e:e}else{a=e}if(!l.params.virtualTranslate){if(l.support.transforms3d)l.wrapper.transform("translate3d("+i+"px, "+a+"px, "+r+"px)");else l.wrapper.transform("translate("+i+"px, "+a+"px)")}l.translate=c()?i:a;if(t)l.updateActiveIndex();if(l.params.effect!=="slide"&&l.effects[l.params.effect]){l.effects[l.params.effect].setTranslate(l.translate)}if(l.params.parallax&&l.parallax){l.parallax.setTranslate(l.translate)}if(l.params.scrollbar&&l.scrollbar){l.scrollbar.setTranslate(l.translate)}if(l.params.control&&l.controller){l.controller.setTranslate(l.translate,n)}l.emit("onSetTranslate",l,l.translate)};l.getTranslate=function(e,t){var n,i,a,r;if(typeof t==="undefined"){t="x"}if(l.params.virtualTranslate){return l.rtl?-l.translate:l.translate}a=window.getComputedStyle(e,null);if(window.WebKitCSSMatrix){r=new window.WebKitCSSMatrix(a.webkitTransform==="none"?"":a.webkitTransform)}else{r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,");n=r.toString().split(",")}if(t==="x"){if(window.WebKitCSSMatrix)i=r.m41;else if(n.length===16)i=parseFloat(n[12]);else i=parseFloat(n[4])}if(t==="y"){if(window.WebKitCSSMatrix)i=r.m42;else if(n.length===16)i=parseFloat(n[13]);else i=parseFloat(n[5])}if(l.rtl&&i)i=-i;return i||0};l.getWrapperTranslate=function(e){if(typeof e==="undefined"){e=c()?"x":"y"}return l.getTranslate(l.wrapper[0],e)};l.observers=[];function A(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver;var i=new n(function(e){e.forEach(function(e){l.onResize(true);l.emit("onObserverUpdate",l,e)})});i.observe(e,{attributes:typeof t.attributes==="undefined"?true:t.attributes,childList:typeof t.childList==="undefined"?true:t.childList,characterData:typeof t.characterData==="undefined"?true:t.characterData});l.observers.push(i)}l.initObservers=function(){if(l.params.observeParents){var e=l.container.parents();for(var t=0;t<e.length;t++){A(e[t])}}A(l.container[0],{childList:false});A(l.wrapper[0],{attributes:false})};l.disconnectObservers=function(){for(var e=0;e<l.observers.length;e++){l.observers[e].disconnect()}l.observers=[]};l.createLoop=function(){l.wrapper.children("."+l.params.slideClass+"."+l.params.slideDuplicateClass).remove();var e=l.wrapper.children("."+l.params.slideClass);l.loopedSlides=parseInt(l.params.loopedSlides||l.params.slidesPerView,10);l.loopedSlides=l.loopedSlides+l.params.loopAdditionalSlides;if(l.loopedSlides>e.length){l.loopedSlides=e.length}var t=[],n=[],i;e.each(function(i,a){var r=u(this);if(i<l.loopedSlides)n.push(a);if(i<e.length&&i>=e.length-l.loopedSlides)t.push(a);r.attr("data-swiper-slide-index",i)});for(i=0;i<n.length;i++){l.wrapper.append(u(n[i].cloneNode(true)).addClass(l.params.slideDuplicateClass))}for(i=t.length-1;i>=0;i--){l.wrapper.prepend(u(t[i].cloneNode(true)).addClass(l.params.slideDuplicateClass))}};l.destroyLoop=function(){l.wrapper.children("."+l.params.slideClass+"."+l.params.slideDuplicateClass).remove();l.slides.removeAttr("data-swiper-slide-index")};l.fixLoop=function(){var e;if(l.activeIndex<l.loopedSlides){e=l.slides.length-l.loopedSlides*3+l.activeIndex;e=e+l.loopedSlides;l.slideTo(e,0,false,true)}else if(l.params.slidesPerView==="auto"&&l.activeIndex>=l.loopedSlides*2||l.activeIndex>l.slides.length-l.params.slidesPerView*2){e=-l.slides.length+l.activeIndex+l.loopedSlides;e=e+l.loopedSlides;l.slideTo(e,0,false,true)}};l.appendSlide=function(e){if(l.params.loop){l.destroyLoop()}if(typeof e==="object"&&e.length){for(var t=0;t<e.length;t++){if(e[t])l.wrapper.append(e[t])}}else{l.wrapper.append(e)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}};l.prependSlide=function(e){if(l.params.loop){l.destroyLoop()}var t=l.activeIndex+1;if(typeof e==="object"&&e.length){for(var n=0;n<e.length;n++){if(e[n])l.wrapper.prepend(e[n])}t=l.activeIndex+e.length}else{l.wrapper.prepend(e)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}l.slideTo(t,0,false)};l.removeSlide=function(e){if(l.params.loop){l.destroyLoop();l.slides=l.wrapper.children("."+l.params.slideClass)}var t=l.activeIndex,n;if(typeof e==="object"&&e.length){for(var i=0;i<e.length;i++){n=e[i];if(l.slides[n])l.slides.eq(n).remove();if(n<t)t--}t=Math.max(t,0)}else{n=e;if(l.slides[n])l.slides.eq(n).remove();if(n<t)t--;t=Math.max(t,0)}if(l.params.loop){l.createLoop()}if(!(l.params.observer&&l.support.observer)){l.update(true)}if(l.params.loop){l.slideTo(t+l.loopedSlides,0,false)}else{l.slideTo(t,0,false)}};l.removeAllSlides=function(){var e=[];for(var t=0;t<l.slides.length;t++){e.push(t)}l.removeSlide(e)};l.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<l.slides.length;e++){var t=l.slides.eq(e);var n=t[0].swiperSlideOffset;var i=-n;if(!l.params.virtualTranslate)i=i-l.translate;var a=0;if(!c()){a=i;i=0}var r=l.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);if(r>0&&r<1){l.effects.fade.fadeIndex=e}t.css({opacity:r}).transform("translate3d("+i+"px, "+a+"px, 0px)")}},setTransition:function(e){l.slides.transition(e);if(l.params.virtualTranslate&&e!==0){var t=l.effects.fade.fadeIndex!==null?l.effects.fade.fadeIndex:l.activeIndex;if(!(l.params.loop||l.params.fade.crossFade)&&t===0){t=l.slides.length-1}l.slides.eq(t).transitionEnd(function(){if(!l)return;var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"];for(var t=0;t<e.length;t++){l.wrapper.trigger(e[t])}})}}},cube:{setTranslate:function(){var e=0,t;if(l.params.cube.shadow){if(c()){t=l.wrapper.find(".swiper-cube-shadow");if(t.length===0){t=u('<div class="swiper-cube-shadow"></div>');l.wrapper.append(t)}t.css({height:l.width+"px"})}else{t=l.container.find(".swiper-cube-shadow");if(t.length===0){t=u('<div class="swiper-cube-shadow"></div>');l.container.append(t)}}}for(var n=0;n<l.slides.length;n++){var i=l.slides.eq(n);var a=n*90;var r=Math.floor(a/360);if(l.rtl){a=-a;r=Math.floor(-a/360)}var s=Math.max(Math.min(i[0].progress,1),-1);var o=0,d=0,f=0;if(n%4===0){o=-r*4*l.size;f=0}else if((n-1)%4===0){o=0;f=-r*4*l.size}else if((n-2)%4===0){o=l.size+r*4*l.size;f=l.size}else if((n-3)%4===0){o=-l.size;f=3*l.size+l.size*4*r}if(l.rtl){o=-o}if(!c()){d=o;o=0}var h="rotateX("+(c()?0:-a)+"deg) rotateY("+(c()?a:0)+"deg) translate3d("+o+"px, "+d+"px, "+f+"px)";if(s<=1&&s>-1){e=n*90+s*90;if(l.rtl)e=-n*90-s*90}i.transform(h);if(l.params.cube.slideShadows){var p=c()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top");var m=c()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");if(p.length===0){p=u('<div class="swiper-slide-shadow-'+(c()?"left":"top")+'"></div>');i.append(p)}if(m.length===0){m=u('<div class="swiper-slide-shadow-'+(c()?"right":"bottom")+'"></div>');i.append(m)}var _=i[0].progress;if(p.length)p[0].style.opacity=-i[0].progress;if(m.length)m[0].style.opacity=i[0].progress}}l.wrapper.css({"-webkit-transform-origin":"50% 50% -"+l.size/2+"px","-moz-transform-origin":"50% 50% -"+l.size/2+"px","-ms-transform-origin":"50% 50% -"+l.size/2+"px","transform-origin":"50% 50% -"+l.size/2+"px"});if(l.params.cube.shadow){if(c()){t.transform("translate3d(0px, "+(l.width/2+l.params.cube.shadowOffset)+"px, "+-l.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+l.params.cube.shadowScale+")")}else{var g=Math.abs(e)-Math.floor(Math.abs(e)/90)*90;var v=1.5-(Math.sin(g*2*Math.PI/360)/2+Math.cos(g*2*Math.PI/360)/2);var b=l.params.cube.shadowScale,y=l.params.cube.shadowScale/v,x=l.params.cube.shadowOffset;t.transform("scale3d("+b+", 1, "+y+") translate3d(0px, "+(l.height/2+x)+"px, "+-l.height/2/y+"px) rotateX(-90deg)")}}var S=l.isSafari||l.isUiWebView?-l.size/2:0;l.wrapper.transform("translate3d(0px,0,"+S+"px) rotateX("+(c()?0:e)+"deg) rotateY("+(c()?-e:0)+"deg)")},setTransition:function(e){l.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e);if(l.params.cube.shadow&&!c()){l.container.find(".swiper-cube-shadow").transition(e)}}},coverflow:{setTranslate:function(){var e=l.translate;var t=c()?-e+l.width/2:-e+l.height/2;var n=c()?l.params.coverflow.rotate:-l.params.coverflow.rotate;var i=l.params.coverflow.depth;for(var a=0,r=l.slides.length;a<r;a++){var s=l.slides.eq(a);var o=l.slidesSizesGrid[a];var d=s[0].swiperSlideOffset;var f=(t-d-o/2)/o*l.params.coverflow.modifier;var h=c()?n*f:0;var p=c()?0:n*f;var m=-i*Math.abs(f);var _=c()?0:l.params.coverflow.stretch*f;var g=c()?l.params.coverflow.stretch*f:0;if(Math.abs(g)<.001)g=0;if(Math.abs(_)<.001)_=0;if(Math.abs(m)<.001)m=0;if(Math.abs(h)<.001)h=0;if(Math.abs(p)<.001)p=0;var v="translate3d("+g+"px,"+_+"px,"+m+"px)  rotateX("+p+"deg) rotateY("+h+"deg)";s.transform(v);s[0].style.zIndex=-Math.abs(Math.round(f))+1;if(l.params.coverflow.slideShadows){var b=c()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top");var y=c()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");if(b.length===0){b=u('<div class="swiper-slide-shadow-'+(c()?"left":"top")+'"></div>');s.append(b)}if(y.length===0){y=u('<div class="swiper-slide-shadow-'+(c()?"right":"bottom")+'"></div>');s.append(y)}if(b.length)b[0].style.opacity=f>0?f:0;if(y.length)y[0].style.opacity=-f>0?-f:0}}if(l.browser.ie){var x=l.wrapper[0].style;x.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){l.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}};l.lazy={initialImageLoaded:false,loadImageInSlide:function(e,t){if(typeof e==="undefined")return;if(typeof t==="undefined")t=true;if(l.slides.length===0)return;var n=l.slides.eq(e);var i=n.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");if(n.hasClass("swiper-lazy")&&!n.hasClass("swiper-lazy-loaded")&&!n.hasClass("swiper-lazy-loading")){i.add(n[0])}if(i.length===0)return;i.each(function(){var e=u(this);e.addClass("swiper-lazy-loading");var i=e.attr("data-background");var a=e.attr("data-src");l.loadImage(e[0],a||i,false,function(){if(i){e.css("background-image","url("+i+")");e.removeAttr("data-background")}else{e.attr("src",a);e.removeAttr("data-src")}e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading");n.find(".swiper-lazy-preloader, .preloader").remove();if(l.params.loop&&t){var r=n.attr("data-swiper-slide-index");if(n.hasClass(l.params.slideDuplicateClass)){var s=l.wrapper.children('[data-swiper-slide-index="'+r+'"]:not(.'+l.params.slideDuplicateClass+")");l.lazy.loadImageInSlide(s.index(),false)}else{var o=l.wrapper.children("."+l.params.slideDuplicateClass+'[data-swiper-slide-index="'+r+'"]');l.lazy.loadImageInSlide(o.index(),false)}}l.emit("onLazyImageReady",l,n[0],e[0])});l.emit("onLazyImageLoad",l,n[0],e[0])})},load:function(){if(l.params.watchSlidesVisibility){l.wrapper.children("."+l.params.slideVisibleClass).each(function(){l.lazy.loadImageInSlide(u(this).index())})}else{if(l.params.slidesPerView>1){for(var e=l.activeIndex;e<l.activeIndex+l.params.slidesPerView;e++){if(l.slides[e])l.lazy.loadImageInSlide(e)}}else{l.lazy.loadImageInSlide(l.activeIndex)}}if(l.params.lazyLoadingInPrevNext){var t=l.wrapper.children("."+l.params.slideNextClass);if(t.length>0)l.lazy.loadImageInSlide(t.index());var n=l.wrapper.children("."+l.params.slidePrevClass);if(n.length>0)l.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){if(l.params.lazyLoading){if(l.params.lazyLoadingOnTransitionStart||!l.params.lazyLoadingOnTransitionStart&&!l.lazy.initialImageLoaded){l.lazy.load()}}},onTransitionEnd:function(){if(l.params.lazyLoading&&!l.params.lazyLoadingOnTransitionStart){l.lazy.load()}}};l.scrollbar={set:function(){if(!l.params.scrollbar)return;var e=l.scrollbar;e.track=u(l.params.scrollbar);e.drag=e.track.find(".swiper-scrollbar-drag");if(e.drag.length===0){e.drag=u('<div class="swiper-scrollbar-drag"></div>');e.track.append(e.drag)}e.drag[0].style.width="";e.drag[0].style.height="";e.trackSize=c()?e.track[0].offsetWidth:e.track[0].offsetHeight;e.divider=l.size/l.virtualSize;e.moveDivider=e.divider*(e.trackSize/l.size);e.dragSize=e.trackSize*e.divider;if(c()){e.drag[0].style.width=e.dragSize+"px"}else{e.drag[0].style.height=e.dragSize+"px"}if(e.divider>=1){e.track[0].style.display="none"}else{e.track[0].style.display=""}if(l.params.scrollbarHide){e.track[0].style.opacity=0}},setTranslate:function(){if(!l.params.scrollbar)return;var e;var t=l.scrollbar;var n=l.translate||0;var i;var a=t.dragSize;i=(t.trackSize-t.dragSize)*l.progress;if(l.rtl&&c()){i=-i;if(i>0){a=t.dragSize-i;i=0}else if(-i+t.dragSize>t.trackSize){a=t.trackSize+i}}else{if(i<0){a=t.dragSize+i;i=0}else if(i+t.dragSize>t.trackSize){a=t.trackSize-i}}if(c()){if(l.support.transforms3d){t.drag.transform("translate3d("+i+"px, 0, 0)")}else{t.drag.transform("translateX("+i+"px)")}t.drag[0].style.width=a+"px"}else{if(l.support.transforms3d){t.drag.transform("translate3d(0px, "+i+"px, 0)")}else{t.drag.transform("translateY("+i+"px)")}t.drag[0].style.height=a+"px"}if(l.params.scrollbarHide){clearTimeout(t.timeout);t.track[0].style.opacity=1;t.timeout=setTimeout(function(){t.track[0].style.opacity=0;t.track.transition(400)},1e3)}},setTransition:function(e){if(!l.params.scrollbar)return;l.scrollbar.drag.transition(e)}};l.controller={setTranslate:function(t,n){var i=l.params.control;var a,r;function s(e){t=e.rtl&&e.params.direction==="horizontal"?-l.translate:l.translate;a=(e.maxTranslate()-e.minTranslate())/(l.maxTranslate()-l.minTranslate());r=(t-l.minTranslate())*a+e.minTranslate();if(l.params.controlInverse){r=e.maxTranslate()-r}e.updateProgress(r);e.setWrapperTranslate(r,false,l);e.updateActiveIndex()}if(l.isArray(i)){for(var o=0;o<i.length;o++){if(i[o]!==n&&i[o]instanceof e){s(i[o])}}}else if(i instanceof e&&n!==i){s(i)}},setTransition:function(t,n){var i=l.params.control;var a;function r(e){e.setWrapperTransition(t,l);if(t!==0){e.onTransitionStart();e.wrapper.transitionEnd(function(){if(!i)return;e.onTransitionEnd()})}}if(l.isArray(i)){for(a=0;a<i.length;a++){if(i[a]!==n&&i[a]instanceof e){r(i[a])}}}else if(i instanceof e&&n!==i){r(i)}}};l.hashnav={init:function(){if(!l.params.hashnav)return;l.hashnav.initialized=true;var e=document.location.hash.replace("#","");if(!e)return;var t=0;for(var n=0,i=l.slides.length;n<i;n++){var a=l.slides.eq(n);var r=a.attr("data-hash");if(r===e&&!a.hasClass(l.params.slideDuplicateClass)){var s=a.index();l.slideTo(s,t,l.params.runCallbacksOnInit,true)}}},setHash:function(){if(!l.hashnav.initialized||!l.params.hashnav)return;document.location.hash=l.slides.eq(l.activeIndex).attr("data-hash")||""}};function T(e){if(e.originalEvent)e=e.originalEvent;var t=e.keyCode||e.charCode;if(!l.params.allowSwipeToNext&&(c()&&t===39||!c()&&t===40)){return false}if(!l.params.allowSwipeToPrev&&(c()&&t===37||!c()&&t===38)){return false}if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return}if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==="input"||document.activeElement.nodeName.toLowerCase()==="textarea")){return}if(t===37||t===39||t===38||t===40){var n=false;if(l.container.parents(".swiper-slide").length>0&&l.container.parents(".swiper-slide-active").length===0){return}var i={left:window.pageXOffset,top:window.pageYOffset};var a=window.innerWidth;var r=window.innerHeight;var s=l.container.offset();var o=[[s.left,s.top],[s.left+l.width,s.top],[s.left,s.top+l.height],[s.left+l.width,s.top+l.height]];for(var u=0;u<o.length;u++){var d=o[u];if(d[0]>=i.left&&d[0]<=i.left+a&&d[1]>=i.top&&d[1]<=i.top+r){n=true}}if(!n)return}if(c()){if(t===37||t===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t===39)l.slideNext();if(t===37)l.slidePrev()}else{if(t===38||t===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false}if(t===40)l.slideNext();if(t===38)l.slidePrev()}}l.disableKeyboardControl=function(){u(document).off("keydown",T)};l.enableKeyboardControl=function(){u(document).on("keydown",T)};l._wheelEvent=false;l._lastWheelScrollTime=(new window.Date).getTime();if(l.params.mousewheelControl){if(document.onmousewheel!==undefined){l._wheelEvent="mousewheel"}if(!l._wheelEvent){try{new window.WheelEvent("wheel");l._wheelEvent="wheel"}catch(e){}}if(!l._wheelEvent){l._wheelEvent="DOMMouseScroll"}}function C(e){if(e.originalEvent)e=e.originalEvent;var t=l._wheelEvent;var n=0;if(e.detail)n=-e.detail;else if(t==="mousewheel"){if(l.params.mousewheelForceToAxis){if(c()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))n=e.wheelDeltaX;else return}else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))n=e.wheelDeltaY;else return}}else{n=e.wheelDelta}}else if(t==="DOMMouseScroll")n=-e.detail;else if(t==="wheel"){if(l.params.mousewheelForceToAxis){if(c()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))n=-e.deltaX;else return}else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))n=-e.deltaY;else return}}else{n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY}}if(!l.params.freeMode){if((new window.Date).getTime()-l._lastWheelScrollTime>60){if(n<0)l.slideNext();else l.slidePrev()}l._lastWheelScrollTime=(new window.Date).getTime()}else{var i=l.getWrapperTranslate()+n;if(i>0)i=0;if(i<l.maxTranslate())i=l.maxTranslate();l.setWrapperTransition(0);l.setWrapperTranslate(i);l.updateProgress();l.updateActiveIndex();if(i===0||i===l.maxTranslate())return}if(l.params.autoplay)l.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false}l.disableMousewheelControl=function(){if(!l._wheelEvent)return false;l.container.off(l._wheelEvent,C);return true};l.enableMousewheelControl=function(){if(!l._wheelEvent)return false;l.container.on(l._wheelEvent,C);return true};function D(e,t){e=u(e);var n,i,a;n=e.attr("data-swiper-parallax")||"0";i=e.attr("data-swiper-parallax-x");a=e.attr("data-swiper-parallax-y");if(i||a){i=i||"0";a=a||"0"}else{if(c()){i=n;a="0"}else{a=n;i="0"}}if(i.indexOf("%")>=0){i=parseInt(i,10)*t+"%"}else{i=i*t+"px"}if(a.indexOf("%")>=0){a=parseInt(a,10)*t+"%"}else{a=a*t+"px"}e.transform("translate3d("+i+", "+a+",0px)")}l.parallax={setTranslate:function(){l.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){D(this,l.progress)});l.slides.each(function(){var e=u(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);D(this,t)})})},setTransition:function(e){if(typeof e==="undefined")e=l.params.speed;l.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=u(this);var n=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;if(e===0)n=0;t.transition(n)})}};l._plugins=[];for(var R in l.plugins){var O=l.plugins[R](l,l.params[R]);if(O)l._plugins.push(O)}l.callPlugins=function(e){for(var t=0;t<l._plugins.length;t++){if(e in l._plugins[t]){l._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}};function I(e){if(e.indexOf("on")!==0){if(e[0]!==e[0].toUpperCase()){e="on"+e[0].toUpperCase()+e.substring(1)}else{e="on"+e}}return e}l.emitterEventListeners={};l.emit=function(e){if(l.params[e]){l.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}var t;if(l.emitterEventListeners[e]){for(t=0;t<l.emitterEventListeners[e].length;t++){l.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}if(l.callPlugins)l.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};l.on=function(e,t){e=I(e);if(!l.emitterEventListeners[e])l.emitterEventListeners[e]=[];l.emitterEventListeners[e].push(t);return l};l.off=function(e,t){var n;e=I(e);if(typeof t==="undefined"){l.emitterEventListeners[e]=[];return l}if(!l.emitterEventListeners[e]||l.emitterEventListeners[e].length===0)return;for(n=0;n<l.emitterEventListeners[e].length;n++){if(l.emitterEventListeners[e][n]===t)l.emitterEventListeners[e].splice(n,1)}return l};l.once=function(e,t){e=I(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);l.off(e,n)};l.on(e,n);return l};l.a11y={makeFocusable:function(e){e[0].tabIndex="0";return e},addRole:function(e,t){e.attr("role",t);return e},addLabel:function(e,t){e.attr("aria-label",t);return e},disable:function(e){e.attr("aria-disabled",true);return e},enable:function(e){e.attr("aria-disabled",false);return e},onEnterKey:function(e){if(e.keyCode!==13)return;if(u(e.target).is(l.params.nextButton)){l.onClickNext(e);if(l.isEnd){l.a11y.notify(l.params.lastSlideMsg)}else{l.a11y.notify(l.params.nextSlideMsg)}}else if(u(e.target).is(l.params.prevButton)){l.onClickPrev(e);if(l.isBeginning){l.a11y.notify(l.params.firstSlideMsg)}else{l.a11y.notify(l.params.prevSlideMsg)}}},liveRegion:u('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=l.a11y.liveRegion;if(t.length===0)return;t.html("");t.html(e)},init:function(){if(l.params.nextButton){var e=u(l.params.nextButton);l.a11y.makeFocusable(e);l.a11y.addRole(e,"button");l.a11y.addLabel(e,l.params.nextSlideMsg)}if(l.params.prevButton){var t=u(l.params.prevButton);l.a11y.makeFocusable(t);l.a11y.addRole(t,"button");l.a11y.addLabel(t,l.params.prevSlideMsg)}u(l.container).append(l.a11y.liveRegion)},destroy:function(){if(l.a11y.liveRegion&&l.a11y.liveRegion.length>0)l.a11y.liveRegion.remove()}};l.init=function(){if(l.params.loop)l.createLoop();l.updateContainerSize();l.updateSlidesSize();l.updatePagination();if(l.params.scrollbar&&l.scrollbar){l.scrollbar.set()}if(l.params.effect!=="slide"&&l.effects[l.params.effect]){if(!l.params.loop)l.updateProgress();l.effects[l.params.effect].setTranslate()}if(l.params.loop){l.slideTo(l.params.initialSlide+l.loopedSlides,0,l.params.runCallbacksOnInit)}else{l.slideTo(l.params.initialSlide,0,l.params.runCallbacksOnInit);if(l.params.initialSlide===0){if(l.parallax&&l.params.parallax)l.parallax.setTranslate();if(l.lazy&&l.params.lazyLoading){l.lazy.load();l.lazy.initialImageLoaded=true}}}l.attachEvents();if(l.params.observer&&l.support.observer){l.initObservers()}if(l.params.preloadImages&&!l.params.lazyLoading){l.preloadImages()}if(l.params.autoplay){l.startAutoplay()}if(l.params.keyboardControl){if(l.enableKeyboardControl)l.enableKeyboardControl()}if(l.params.mousewheelControl){if(l.enableMousewheelControl)l.enableMousewheelControl()}if(l.params.hashnav){if(l.hashnav)l.hashnav.init()}if(l.params.a11y&&l.a11y)l.a11y.init();l.emit("onInit",l)};l.cleanupStyles=function(){l.container.removeClass(l.classNames.join(" ")).removeAttr("style");l.wrapper.removeAttr("style");if(l.slides&&l.slides.length){l.slides.removeClass([l.params.slideVisibleClass,l.params.slideActiveClass,l.params.slideNextClass,l.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row")}if(l.paginationContainer&&l.paginationContainer.length){l.paginationContainer.removeClass(l.params.paginationHiddenClass)}if(l.bullets&&l.bullets.length){l.bullets.removeClass(l.params.bulletActiveClass)}if(l.params.prevButton)u(l.params.prevButton).removeClass(l.params.buttonDisabledClass);if(l.params.nextButton)u(l.params.nextButton).removeClass(l.params.buttonDisabledClass);if(l.params.scrollbar&&l.scrollbar){if(l.scrollbar.track&&l.scrollbar.track.length)l.scrollbar.track.removeAttr("style");if(l.scrollbar.drag&&l.scrollbar.drag.length)l.scrollbar.drag.removeAttr("style")}};l.destroy=function(e,t){l.detachEvents();l.stopAutoplay();if(l.params.loop){l.destroyLoop()}if(t){l.cleanupStyles()}l.disconnectObservers();if(l.params.keyboardControl){if(l.disableKeyboardControl)l.disableKeyboardControl()}if(l.params.mousewheelControl){if(l.disableMousewheelControl)l.disableMousewheelControl()}if(l.params.a11y&&l.a11y)l.a11y.destroy();l.emit("onDestroy");if(e!==false)l=null};l.init();return l};e.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return Object.prototype.toString.apply(e)==="[object Array]"},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent;var t=e.match(/(Android);?[\s\/]+([\d.]+)?/);var n=e.match(/(iPad).*OS\s([\d_]+)/);var i=e.match(/(iPod)(.*OS\s([\d_]+))?/);var a=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||a||n,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===true||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===true||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){var e=document.createElement("div").style;var t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" ");for(var n=0;n<t.length;n++){if(t[n]in e)return true}}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};var t=function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++){t[n]=e[n]}t.length=e.length;return this};var t=function(t,n){var i=[],a=0;if(t&&!n){if(t instanceof e){return t}}if(t){if(typeof t==="string"){var r,s,o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";if(o.indexOf("<li")===0)l="ul";if(o.indexOf("<tr")===0)l="tbody";if(o.indexOf("<td")===0||o.indexOf("<th")===0)l="tr";if(o.indexOf("<tbody")===0)l="table";if(o.indexOf("<option")===0)l="select";s=document.createElement(l);s.innerHTML=t;for(a=0;a<s.childNodes.length;a++){i.push(s.childNodes[a])}}else{if(!n&&t[0]==="#"&&!t.match(/[ .<>:~]/)){r=[document.getElementById(t.split("#")[1])]}else{r=(n||document).querySelectorAll(t)}for(a=0;a<r.length;a++){if(r[a])i.push(r[a])}}}else if(t.nodeType||t===window||t===document){i.push(t)}else if(t.length>0&&t[0].nodeType){for(a=0;a<t.length;a++){i.push(t[a])}}}return new e(i)};e.prototype={addClass:function(e){if(typeof e==="undefined"){return this}var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.add(t[n])}}return this},removeClass:function(e){var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.remove(t[n])}}return this},hasClass:function(e){if(!this[0])return false;else return this[0].classList.contains(e)},toggleClass:function(e){var t=e.split(" ");for(var n=0;n<t.length;n++){for(var i=0;i<this.length;i++){this[i].classList.toggle(t[n])}}return this},attr:function(e,t){if(arguments.length===1&&typeof e==="string"){if(this[0])return this[0].getAttribute(e);else return undefined}else{for(var n=0;n<this.length;n++){if(arguments.length===2){this[n].setAttribute(e,t)}else{for(var i in e){this[n][i]=e[i];this[n].setAttribute(i,e[i])}}}return this}},removeAttr:function(e){for(var t=0;t<this.length;t++){this[t].removeAttribute(e)}return this},data:function(e,t){if(typeof t==="undefined"){if(this[0]){var n=this[0].getAttribute("data-"+e);if(n)return n;else if(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage)return this[0].dom7ElementDataStorage[e];else return undefined}else return undefined}else{for(var i=0;i<this.length;i++){var a=this[i];if(!a.dom7ElementDataStorage)a.dom7ElementDataStorage={};a.dom7ElementDataStorage[e]=t}return this}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){if(typeof e!=="string"){e=e+"ms"}for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,a){function r(e){var a=e.target;if(t(a).is(n))i.call(a,e);else{var r=t(a).parents();for(var s=0;s<r.length;s++){if(t(r[s]).is(n))i.call(r[s],e)}}}var s=e.split(" ");var o,l;for(o=0;o<this.length;o++){if(typeof n==="function"||n===false){if(typeof n==="function"){i=arguments[1];a=arguments[2]||false}for(l=0;l<s.length;l++){this[o].addEventListener(s[l],i,a)}}else{for(l=0;l<s.length;l++){if(!this[o].dom7LiveListeners)this[o].dom7LiveListeners=[];this[o].dom7LiveListeners.push({listener:i,liveListener:r});this[o].addEventListener(s[l],r,a)}}}return this},off:function(e,t,n,i){var a=e.split(" ");for(var r=0;r<a.length;r++){for(var s=0;s<this.length;s++){if(typeof t==="function"||t===false){if(typeof t==="function"){n=arguments[1];i=arguments[2]||false}this[s].removeEventListener(a[r],n,i)}else{if(this[s].dom7LiveListeners){for(var o=0;o<this[s].dom7LiveListeners.length;o++){if(this[s].dom7LiveListeners[o].listener===n){this[s].removeEventListener(a[r],this[s].dom7LiveListeners[o].liveListener,i)}}}}}}return this},once:function(e,t,n,i){var a=this;if(typeof t==="function"){t=false;n=arguments[1];i=arguments[2]}function r(s){n(s);a.off(e,t,r,i)}a.on(e,t,r,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:true,cancelable:true})}catch(n){i=document.createEvent("Event");i.initEvent(e,true,true);i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,a=this;function r(i){if(i.target!==this)return;e.call(this,i);for(n=0;n<t.length;n++){a.off(t[n],r)}}if(e){for(n=0;n<t.length;n++){a.on(t[n],r)}}return this},width:function(){if(this[0]===window){return window.innerWidth}else{if(this.length>0){return parseFloat(this.css("width"))}else{return null}}},outerWidth:function(e){if(this.length>0){if(e)return this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left"));else return this[0].offsetWidth}else return null},height:function(){if(this[0]===window){return window.innerHeight}else{if(this.length>0){return parseFloat(this.css("height"))}else{return null}}},outerHeight:function(e){if(this.length>0){if(e)return this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom"));else return this[0].offsetHeight}else return null},offset:function(){if(this.length>0){var e=this[0];var t=e.getBoundingClientRect();var n=document.body;var i=e.clientTop||n.clientTop||0;var a=e.clientLeft||n.clientLeft||0;var r=window.pageYOffset||e.scrollTop;var s=window.pageXOffset||e.scrollLeft;return{top:t.top+r-i,left:t.left+s-a}}else{return null}},css:function(e,t){var n;if(arguments.length===1){if(typeof e==="string"){if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}else{for(n=0;n<this.length;n++){for(var i in e){this[n].style[i]=e[i]}}return this}}if(arguments.length===2&&typeof e==="string"){for(n=0;n<this.length;n++){this[n].style[e]=t}return this}return this},each:function(e){for(var t=0;t<this.length;t++){e.call(this[t],t,this[t])}return this},html:function(e){if(typeof e==="undefined"){return this[0]?this[0].innerHTML:undefined}else{for(var t=0;t<this.length;t++){this[t].innerHTML=e}return this}},is:function(n){if(!this[0])return false;var i,a;if(typeof n==="string"){var r=this[0];if(r===document)return n===document;if(r===window)return n===window;if(r.matches)return r.matches(n);else if(r.webkitMatchesSelector)return r.webkitMatchesSelector(n);else if(r.mozMatchesSelector)return r.mozMatchesSelector(n);else if(r.msMatchesSelector)return r.msMatchesSelector(n);else{i=t(n);for(a=0;a<i.length;a++){if(i[a]===this[0])return true}return false}}else if(n===document)return this[0]===document;else if(n===window)return this[0]===window;else{if(n.nodeType||n instanceof e){i=n.nodeType?[n]:n;for(a=0;a<i.length;a++){if(i[a]===this[0])return true}return false}return false}},index:function(){if(this[0]){var e=this[0];var t=0;while((e=e.previousSibling)!==null){if(e.nodeType===1)t++}return t}else return undefined},eq:function(t){if(typeof t==="undefined")return this;var n=this.length;var i;if(t>n-1){return new e([])}if(t<0){i=n+t;if(i<0)return new e([]);else return new e([this[i]])}return new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++){if(typeof t==="string"){var a=document.createElement("div");a.innerHTML=t;while(a.firstChild){this[n].appendChild(a.firstChild)}}else if(t instanceof e){for(i=0;i<t.length;i++){this[n].appendChild(t[i])}}else{this[n].appendChild(t)}}return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++){if(typeof t==="string"){var a=document.createElement("div");a.innerHTML=t;for(i=a.childNodes.length-1;i>=0;i--){this[n].insertBefore(a.childNodes[i],this[n].childNodes[0])}}else if(t instanceof e){for(i=0;i<t.length;i++){this[n].insertBefore(t[i],this[n].childNodes[0])}}else{this[n].insertBefore(t,this[n].childNodes[0])}}return this},insertBefore:function(e){var n=t(e);for(var i=0;i<this.length;i++){if(n.length===1){n[0].parentNode.insertBefore(this[i],n[0])}else if(n.length>1){for(var a=0;a<n.length;a++){n[a].parentNode.insertBefore(this[i].cloneNode(true),n[a])}}}},insertAfter:function(e){var n=t(e);for(var i=0;i<this.length;i++){if(n.length===1){n[0].parentNode.insertBefore(this[i],n[0].nextSibling)}else if(n.length>1){for(var a=0;a<n.length;a++){n[a].parentNode.insertBefore(this[i].cloneNode(true),n[a].nextSibling)}}}},next:function(n){if(this.length>0){if(n){if(this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n))return new e([this[0].nextElementSibling]);else return new e([])}else{if(this[0].nextElementSibling)return new e([this[0].nextElementSibling]);else return new e([])}}else return new e([])},nextAll:function(n){var i=[];var a=this[0];if(!a)return new e([]);while(a.nextElementSibling){var r=a.nextElementSibling;if(n){if(t(r).is(n))i.push(r)}else i.push(r);a=r}return new e(i)},prev:function(n){if(this.length>0){if(n){if(this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n))return new e([this[0].previousElementSibling]);else return new e([])}else{if(this[0].previousElementSibling)return new e([this[0].previousElementSibling]);else return new e([])}}else return new e([])},prevAll:function(n){var i=[];var a=this[0];if(!a)return new e([]);while(a.previousElementSibling){var r=a.previousElementSibling;if(n){if(t(r).is(n))i.push(r)}else i.push(r);a=r}return new e(i)},parent:function(e){var n=[];for(var i=0;i<this.length;i++){if(e){if(t(this[i].parentNode).is(e))n.push(this[i].parentNode)}else{n.push(this[i].parentNode)}}return t(t.unique(n))},parents:function(e){var n=[];for(var i=0;i<this.length;i++){var a=this[i].parentNode;while(a){if(e){if(t(a).is(e))n.push(a)}else{n.push(a)}a=a.parentNode}}return t(t.unique(n))},find:function(t){var n=[];for(var i=0;i<this.length;i++){var a=this[i].querySelectorAll(t);for(var r=0;r<a.length;r++){n.push(a[r])}}return new e(n)},children:function(n){var i=[];for(var a=0;a<this.length;a++){var r=this[a].childNodes;for(var s=0;s<r.length;s++){if(!n){if(r[s].nodeType===1)i.push(r[s])}else{if(r[s].nodeType===1&&t(r[s]).is(n))i.push(r[s])}}}return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++){if(this[e].parentNode)this[e].parentNode.removeChild(this[e])}return this},add:function(){var e=this;var n,i;for(n=0;n<arguments.length;n++){var a=t(arguments[n]);for(i=0;i<a.length;i++){e[e.length]=a[i];e.length++}}return e}};t.fn=e.prototype;t.unique=function(e){var t=[];for(var n=0;n<e.length;n++){if(t.indexOf(e[n])===-1)t.push(e[n])}return t};return t}();var n=["jQuery","Zepto","Dom7"];function i(t){t.fn.swiper=function(n){var i;t(this).each(function(){var t=new e(this,n);if(!i)i=t});return i}}for(var a=0;a<n.length;a++){if(window[n[a]]){i(window[n[a]])}}var r;if(typeof t==="undefined"){r=window.Dom7||window.Zepto||window.jQuery}else{r=t}if(r){if(!("transitionEnd"in r.fn)){r.fn.transitionEnd=function(e){var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n,i,a=this;function r(i){if(i.target!==this)return;e.call(this,i);for(n=0;n<t.length;n++){a.off(t[n],r)}}if(e){for(n=0;n<t.length;n++){a.on(t[n],r)}}return this}}if(!("transform"in r.fn)){r.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}}if(!("transition"in r.fn)){r.fn.transition=function(e){if(typeof e!=="string"){e=e+"ms"}for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this}}}window.Swiper=e})();if(true){e.exports=window.Swiper}else if(typeof define==="function"&&define.amd){define([],function(){"use strict";return window.Swiper})}},function(e,t){(function(e,t){var n=window.document,i=n.documentElement,a=e.fn.show,r=e.fn.hide,s=e.fn.toggle;function o(n,i,a,r,s){if(typeof i=="function"&&!s)s=i,i=t;var o={opacity:a};if(r){o.scale=r;n.css(e.fx.cssPrefix+"transform-origin","0 0")}return n.animate(o,i,null,s)}function l(t,n,i,a){return o(t,n,0,i,function(){r.call(e(this));a&&a.call(this)})}e.fn.toggle=function(n,i){if(n===t||typeof n=="boolean")return s.call(this,n);else return this.each(function(){var t=e(this);t[t.css("display")=="none"?"show":"hide"](n,i)})};e.fn.fadeTo=function(e,t,n){return o(this,e,t,null,n)};e.fn.fadeIn=function(e,t){var n=this.css("opacity");if(n>0)this.css("opacity",0);else n=1;return a.call(this).fadeTo(e,n,t)};e.fn.fadeOut=function(e,t){return l(this,e,null,t)};e.fn.fadeToggle=function(t,n){return this.each(function(){var i=e(this);i[i.css("opacity")==0||i.css("display")=="none"?"fadeIn":"fadeOut"](t,n)})};e.fn.hideElement=function(){this.addClass("hide")};e.fn.showElement=function(){this.removeClass("hide")};e.fn.toggleElement=function(e){this.toggleClass("hide",_.isUndefined(e)?t:!e)}})(Zepto)},function(e,t){(function(e){var t={},n,i,a,r,s=750,o;function l(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"}function u(){r=null;if(t.last){if(t.el)t.el.trigger("longTap");t={}}}function c(){if(r)clearTimeout(r);r=null}function d(){if(n)clearTimeout(n);if(i)clearTimeout(i);if(a)clearTimeout(a);if(r)clearTimeout(r);n=i=a=r=null;t={}}function f(e){return(e.pointerType=="touch"||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function h(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}e(document).ready(function(){var p,m,_=0,g=0,v,b;if("MSGesture"in window){o=new MSGesture;o.target=document.body}e(document).bind("MSGestureEnd",function(e){var n=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;if(n){if(t.el)t.el.trigger("swipe");if(t.el)t.el.trigger("swipe"+n)}}).on("touchstart MSPointerDown",function(i){if((b=h(i,"down"))&&!f(i))return;v=b?i:i.touches[0];if(i.touches&&i.touches.length===1&&t.x2){t.x2=undefined;t.y2=undefined}p=Date.now();m=p-(t.last||p);t.el=e("tagName"in v.target?v.target:v.target.parentNode);n&&clearTimeout(n);t.x1=v.pageX;t.y1=v.pageY;if(m>0&&m<=250)t.isDoubleTap=true;t.last=p;r=setTimeout(u,s);if(o&&b)o.addPointer(i.pointerId)}).on("touchmove MSPointerMove",function(e){if((b=h(e,"move"))&&!f(e))return;v=b?e:e.touches[0];c();t.x2=v.pageX;t.y2=v.pageY;_+=Math.abs(t.x1-t.x2);g+=Math.abs(t.y1-t.y2)}).on("touchend MSPointerUp",function(r){if((b=h(r,"up"))&&!f(r))return;c();if(t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30)a=setTimeout(function(){if(t.el)t.el.trigger("swipe");if(t.el)t.el.trigger("swipe"+l(t.x1,t.x2,t.y1,t.y2));t={}},0);else if("last"in t)if(_<30&&g<30){i=setTimeout(function(){var i=e.Event("tap");i.cancelTouch=d;if(t.el)t.el.trigger(i);if(t.isDoubleTap){if(t.el)t.el.trigger("doubleTap");t={}}else{n=setTimeout(function(){n=null;if(t.el)t.el.trigger("singleTap");t={}},250)}},0)}else{t={}}_=g=0}).on("touchcancel MSPointerCancel",d);e(window).on("scroll",d)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})})(Zepto)},function(e,t){(function(e){var t=Date.now||function(){return+new Date};var n=60;var i=1e3;var a={};var r=1;if(!e.core){e.core={effect:{}}}else if(!core.effect){core.effect={}}core.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame;var n=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())){n=false}if(n){return function(e,n){t(e,n)}}var i=60;var a={};var r=0;var s=1;var o=null;var l=+new Date;return function(e,t){var n=s++;a[n]=e;r++;if(o===null){o=setInterval(function(){var e=+new Date;var t=a;a={};r=0;for(var n in t){if(t.hasOwnProperty(n)){t[n](e);l=e}}if(e-l>2500){clearInterval(o);o=null}},1e3/i)}return n}}(),stop:function(e){var t=a[e]!=null;if(t){a[e]=null}return t},isRunning:function(e){return a[e]!=null},start:function(e,s,o,l,u,c){var d=t();var f=d;var h=0;var p=0;var m=r++;if(!c){c=document.body}if(m%20===0){var _={};for(var g in a){_[g]=true}a=_}var v=function(r){var _=r!==true;var g=t();if(!a[m]||s&&!s(m)){a[m]=null;o&&o(n-p/((g-d)/i),m,false);return}if(_){var b=Math.round((g-f)/(i/n))-1;for(var y=0;y<Math.min(b,4);y++){v(true);p++}}if(l){h=(g-d)/l;if(h>1){h=1}}var x=u?u(h):h;if((e(x,g,_)===false||h===1)&&_){a[m]=null;o&&o(n-p/((g-d)/i),m,h===1||l==null)}else if(_){f=g;core.effect.Animate.requestAnimationFrame(v,c)}};a[m]=true;core.effect.Animate.requestAnimationFrame(v,c);return m}}})(window)},function(e,t){window.EasyScroller=function(e,t,n){this.content=e;this.container=t;this.options=n||{};var i=this;this.scroller=new Scroller(function(e,t,n){i.render(e,t,n)},n);this.bindEvents();this.content.style[EasyScroller.vendorPrefix+"TransformOrigin"]="left top";this.reflow()};EasyScroller.prototype.render=function(){var e=document.documentElement.style;var t;if(window.opera&&Object.prototype.toString.call(opera)==="[object Opera]"){t="presto"}else if("MozAppearance"in e){t="gecko"}else if("WebkitAppearance"in e){t="webkit"}else if(typeof navigator.cpuClass==="string"){t="trident"}var n=EasyScroller.vendorPrefix={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[t];var i=document.createElement("div");var a;var r=n+"Perspective";var s=n+"Transform";if(i.style[r]!==a){return function(e,t,n){if(this.content){this.content.style[s]="translate3d("+-e+"px,"+-t+"px,0) scale("+n+")"}}}else if(i.style[s]!==a){return function(e,t,n){if(this.content){this.content.style[s]="translate("+-e+"px,"+-t+"px) scale("+n+")"}}}else{return function(e,t,n){this.content.style.marginLeft=e?-e/n+"px":"";this.content.style.marginTop=t?-t/n+"px":"";this.content.style.zoom=n||""}}}();EasyScroller.prototype.reflow=function(){if(!this.container){return}this.scroller.setDimensions(this.container.clientWidth,this.container.clientHeight,this.content.offsetWidth,this.content.offsetHeight);var e=this.container.getBoundingClientRect();this.scroller.setPosition(e.left+this.container.clientLeft,e.top+this.container.clientTop)};EasyScroller.prototype.destroy=function(){$(window).off("resize.zynga");if("ontouchstart"in window){$(this.container).off("touchstart.zynga");$(this.container).off("touchmove.zynga");$(this.container).off("touchend.zynga");$(this.container).off("touchcancel.zynga")}else{$(this.container).off("mousedown.zynga");$(this.container).off("mousemove.zynga");$(this.container).off("mouseup.zynga");$(this.container).off("mousewheel.zynga")}this.content=null;this.container=null};EasyScroller.prototype.bindEvents=function(){var e=this;if("ontouchstart"in window){$(this.container).on("touchstart.zynga",function(t){if(t.touches[0]&&t.touches[0].target&&t.touches[0].target.tagName&&t.touches[0].target.tagName.match(/input|textarea|select/i)){return}e.scroller.doTouchStart(t.touches,t.timeStamp)},false);$(this.container).on("touchmove.zynga",function(t){t.preventDefault();if($.__swipeHelper.swipeOrientation==="vertical"){e.scroller.doTouchMove(t.touches,t.timeStamp,t.scale)}if($.os.ios&&SUGAR.App.isNative&&t.changedTouches[0].pageY<0){e.scroller.doTouchEnd(t.timeStamp)}},false);$(this.container).on("touchend.zynga",function(t){e.scroller.doTouchEnd(t.timeStamp)},false);$(this.container).on("touchcancel.zynga",function(t){e.scroller.doTouchEnd(t.timeStamp)},false)}else{var t=false;$(this.container).on("mousedown.zynga",function(n){if(n.target.tagName.match(/input|textarea|select/i)){return}e.scroller.doTouchStart([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp);t=true;n.preventDefault()},false);$(this.container).on("mousemove.zynga",function(n){if(!t){return}e.scroller.doTouchMove([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp);t=true},false);$(this.container).on("mouseup.zynga",function(n){if(!t){return}e.scroller.doTouchEnd(n.timeStamp);t=false},false);$(this.container).on("mousewheel.zynga",function(t){if(e.options.zooming){e.scroller.doMouseZoom(t.wheelDelta,t.timeStamp,t.pageX,t.pageY);t.preventDefault()}},false)}};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-scrollable],[data-zoomable]"),t;for(var n=0;n<e.length;n++){t=e[n];var i=t.dataset.scrollable;var a=t.dataset.zoomable||"";var r=a.split("-");var s=r.length>1&&parseFloat(r[0]);var o=r.length>1&&parseFloat(r[1]);new EasyScroller(t,{scrollingX:i==="true"||i==="x",scrollingY:i==="true"||i==="y",zooming:a==="true"||r.length>1,minZoom:s,maxZoom:o})}},false)},function(e,t){var n;(function(){n=function(e,t){this.__callback=e;this.options={scrollingX:true,scrollingY:true,animating:true,animationDuration:250,bouncing:true,locking:true,paging:false,snapping:false,zooming:false,minZoom:.5,maxZoom:3,speedMultiplier:1};for(var n in t){this.options[n]=t[n]}};var e=function(e){return Math.pow(e-1,3)+1};var t=function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)};var i={__isSingleTouch:false,__isTracking:false,__isGesturing:false,__isDragging:false,__isDecelerating:false,__isAnimating:false,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:false,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,n,i){var a=this;if(e===+e){a.__clientWidth=e}if(t===+t){a.__clientHeight=t}if(n===+n){a.__contentWidth=n}if(i===+i){a.__contentHeight=i}a.__computeScrollMax();a.scrollTo(a.__scrollLeft,a.__scrollTop,true)},setPosition:function(e,t){var n=this;n.__clientLeft=e||0;n.__clientTop=t||0},setSnapSize:function(e,t){var n=this;n.__snapWidth=e;n.__snapHeight=t},activatePullToRefresh:function(e,t,n,i,a){var r=this;r.__refreshHeight=e;r.__refreshActivate=t;r.__refreshDeactivate=n;r.__refreshStart=i;r.__refreshPreActivate=a},finishPullToRefresh:function(){var e=this;e.__refreshActive=false;if(e.__refreshDeactivate){e.__refreshDeactivate()}e.scrollTo(e.__scrollLeft,e.__scrollTop,true)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,t,n,i){var a=this;if(!a.options.zooming){throw new Error("Zooming is not enabled!")}if(a.__isDecelerating){core.effect.Animate.stop(a.__isDecelerating);a.__isDecelerating=false}var r=a.__zoomLevel;if(n==null){n=a.__clientWidth/2}if(i==null){i=a.__clientHeight/2}e=Math.max(Math.min(e,a.options.maxZoom),a.options.minZoom);a.__computeScrollMax(e);var s=(n+a.__scrollLeft)*e/r-n;var o=(i+a.__scrollTop)*e/r-i;if(s>a.__maxScrollLeft){s=a.__maxScrollLeft}else if(s<0){s=0}if(o>a.__maxScrollTop){o=a.__maxScrollTop}else if(o<0){o=0}a.__publish(s,o,e,t)},zoomBy:function(e,t,n,i){var a=this;a.zoomTo(a.__zoomLevel*e,t,n,i)},scrollTo:function(e,t,n,i){var a=this;if(a.__isDecelerating){core.effect.Animate.stop(a.__isDecelerating);a.__isDecelerating=false}if(i!=null&&i!==a.__zoomLevel){if(!a.options.zooming){throw new Error("Zooming is not enabled!")}e*=i;t*=i;a.__computeScrollMax(i)}else{i=a.__zoomLevel}if(!a.options.scrollingX){e=a.__scrollLeft}else{if(a.options.paging){e=Math.round(e/a.__clientWidth)*a.__clientWidth}else if(a.options.snapping){e=Math.round(e/a.__snapWidth)*a.__snapWidth}}if(!a.options.scrollingY){t=a.__scrollTop}else{if(a.options.paging){t=Math.round(t/a.__clientHeight)*a.__clientHeight}else if(a.options.snapping){t=Math.round(t/a.__snapHeight)*a.__snapHeight}}e=Math.max(Math.min(a.__maxScrollLeft,e),0);t=Math.max(Math.min(a.__maxScrollTop,t),0);if(e===a.__scrollLeft&&t===a.__scrollTop){n=false}a.__publish(e,t,i,n)},scrollBy:function(e,t,n){var i=this;var a=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft;var r=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(a+(e||0),r+(t||0),n)},doMouseZoom:function(e,t,n,i){var a=this;var r=e>0?.97:1.03;return a.zoomTo(a.__zoomLevel*r,false,n-a.__clientLeft,i-a.__clientTop)},doTouchStart:function(e,t){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var n=this;if(n.__isDecelerating){core.effect.Animate.stop(n.__isDecelerating);n.__isDecelerating=false}if(n.__isAnimating){core.effect.Animate.stop(n.__isAnimating);n.__isAnimating=false}var i,a;var r=e.length===1;if(r){i=e[0].pageX;a=e[0].pageY}else{i=Math.abs(e[0].pageX+e[1].pageX)/2;a=Math.abs(e[0].pageY+e[1].pageY)/2}n.__initialTouchLeft=i;n.__initialTouchTop=a;n.__zoomLevelStart=n.__zoomLevel;n.__lastTouchLeft=i;n.__lastTouchTop=a;n.__lastTouchMove=t;n.__lastScale=1;n.__enableScrollX=!r&&n.options.scrollingX;n.__enableScrollY=!r&&n.options.scrollingY;n.__isTracking=true;n.__isDragging=!r;n.__isSingleTouch=r;n.__positions=[]},doTouchMove:function(e,t,n){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var i=this;if(!i.__isTracking){return}var a,r;if(e.length===2){a=Math.abs(e[0].pageX+e[1].pageX)/2;r=Math.abs(e[0].pageY+e[1].pageY)/2}else{a=e[0].pageX;r=e[0].pageY}var s=i.__positions;if(i.__isDragging){var o=a-i.__lastTouchLeft;var l=r-i.__lastTouchTop;var u=i.__scrollLeft;var c=i.__scrollTop;var d=i.__zoomLevel;if(n!=null&&i.options.zooming){var f=d;d=d/i.__lastScale*n;d=Math.max(Math.min(d,i.options.maxZoom),i.options.minZoom);if(f!==d){var h=a-i.__clientLeft;var p=r-i.__clientTop;u=(h+u)*d/f-h;c=(p+c)*d/f-p;i.__computeScrollMax(d)}}if(i.__enableScrollX){u-=o*this.options.speedMultiplier;var m=i.__maxScrollLeft;if(u>m||u<0){if(i.options.bouncing){u+=o/2*this.options.speedMultiplier}else if(u>m){u=m}else{u=0}}}if(i.__enableScrollY){c-=l*this.options.speedMultiplier;var _=i.__maxScrollTop;if(c>_||c<0){if(i.options.bouncing){c+=l/2*this.options.speedMultiplier;if(!i.__enableScrollX&&i.__refreshHeight!=null){if(!i.__refreshActive&&c>-i.__refreshHeight){if(i.__refreshPreActivate){i.__refreshPreActivate(c)}}if(!i.__refreshActive&&c<=-i.__refreshHeight){i.__refreshActive=true;if(i.__refreshActivate){i.__refreshActivate()}}else if(i.__refreshActive&&c>-i.__refreshHeight){i.__refreshActive=false;if(i.__refreshDeactivate){i.__refreshDeactivate()}}}}else if(c>_){c=_}else{c=0}}}if(s.length>60){s.splice(0,30)}s.push(u,c,t);i.__publish(u,c,d)}else{var g=i.options.locking?3:0;var v=5;var b=Math.abs(a-i.__initialTouchLeft);var y=Math.abs(r-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&b>=g;i.__enableScrollY=i.options.scrollingY&&y>=g;s.push(i.__scrollLeft,i.__scrollTop,t);i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(b>=v||y>=v)}i.__lastTouchLeft=a;i.__lastTouchTop=r;i.__lastTouchMove=t;i.__lastScale=n},doTouchEnd:function(e){if(e instanceof Date){e=e.valueOf()}if(typeof e!=="number"){throw new Error("Invalid timestamp value: "+e)}var t=this;if(!t.__isTracking){return}t.__isTracking=false;if(t.__isDragging){t.__isDragging=false;if(t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100){var n=t.__positions;var i=n.length-1;var a=i;for(var r=i;r>0&&n[r]>t.__lastTouchMove-100;r-=3){a=r}if(a!==i){var s=n[i]-n[a];var o=t.__scrollLeft-n[a-2];var l=t.__scrollTop-n[a-1];t.__decelerationVelocityX=o/s*(1e3/60);t.__decelerationVelocityY=l/s*(1e3/60);var u=t.options.paging||t.options.snapping?4:1;if(Math.abs(t.__decelerationVelocityX)>u||Math.abs(t.__decelerationVelocityY)>u){if(!t.__refreshActive){t.__startDeceleration(e)}}}}}if(!t.__isDecelerating){if(t.__refreshActive&&t.__refreshStart){t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,true);if(t.__refreshStart){t.__refreshStart()}}else{t.scrollTo(t.__scrollLeft,t.__scrollTop,true,t.__zoomLevel);if(t.__refreshActive){t.__refreshActive=false;if(t.__refreshDeactivate){t.__refreshDeactivate()}}}}t.__positions.length=0},__publish:function(n,i,a,r){var s=this;var o=s.__isAnimating;if(o){core.effect.Animate.stop(o);s.__isAnimating=false}if(r&&s.options.animating){s.__scheduledLeft=n;s.__scheduledTop=i;s.__scheduledZoom=a;var l=s.__scrollLeft;var u=s.__scrollTop;var c=s.__zoomLevel;var d=n-l;var f=i-u;var h=a-c;var p=function(e,t,n){if(n){s.__scrollLeft=l+d*e;s.__scrollTop=u+f*e;s.__zoomLevel=c+h*e;if(s.__callback){s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel)}}};var m=function(e){return s.__isAnimating===e};var _=function(e,t,n){if(t===s.__isAnimating){s.__isAnimating=false}if(s.options.zooming){s.__computeScrollMax()}};s.__isAnimating=core.effect.Animate.start(p,m,_,s.options.animationDuration,o?e:t)}else{s.__scheduledLeft=s.__scrollLeft=n;s.__scheduledTop=s.__scrollTop=i;s.__scheduledZoom=s.__zoomLevel=a;if(s.__callback){s.__callback(n,i,a)}if(s.options.zooming){s.__computeScrollMax()}}},__computeScrollMax:function(e){var t=this;if(e==null){e=t.__zoomLevel}t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0);t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var n=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0);var i=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0);var a=t.__clientWidth;var r=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(n/a)*a;t.__minDecelerationScrollTop=Math.floor(i/r)*r;t.__maxDecelerationScrollLeft=Math.ceil(n/a)*a;t.__maxDecelerationScrollTop=Math.ceil(i/r)*r}else{t.__minDecelerationScrollLeft=0;t.__minDecelerationScrollTop=0;t.__maxDecelerationScrollLeft=t.__maxScrollLeft;t.__maxDecelerationScrollTop=t.__maxScrollTop}var s=function(e,n,i){t.__stepThroughDeceleration(i)};var o=t.options.snapping?4:.1;var l=function(){return Math.abs(t.__decelerationVelocityX)>=o||Math.abs(t.__decelerationVelocityY)>=o};var u=function(e,n,i){t.__isDecelerating=false;t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(s,l,u)},__stepThroughDeceleration:function(e){var t=this;var n=t.__scrollLeft+t.__decelerationVelocityX;var i=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var a=Math.max(Math.min(t.__maxDecelerationScrollLeft,n),t.__minDecelerationScrollLeft);if(a!==n){n=a;t.__decelerationVelocityX=0}var r=Math.max(Math.min(t.__maxDecelerationScrollTop,i),t.__minDecelerationScrollTop);if(r!==i){i=r;t.__decelerationVelocityY=0}}if(e){t.__publish(n,i,t.__zoomLevel)}else{t.__scrollLeft=n;t.__scrollTop=i}if(!t.options.paging){var s=.95;t.__decelerationVelocityX*=s;t.__decelerationVelocityY*=s}if(t.options.bouncing){var o=0;var l=0;var u=.03;var c=.08;if(n<t.__minDecelerationScrollLeft){o=t.__minDecelerationScrollLeft-n}else if(n>t.__maxDecelerationScrollLeft){o=t.__maxDecelerationScrollLeft-n}if(i<t.__minDecelerationScrollTop){l=t.__minDecelerationScrollTop-i}else if(i>t.__maxDecelerationScrollTop){l=t.__maxDecelerationScrollTop-i}if(o!==0){if(o*t.__decelerationVelocityX<=0){t.__decelerationVelocityX+=o*u}else{t.__decelerationVelocityX=o*c}}if(l!==0){if(l*t.__decelerationVelocityY<=0){t.__decelerationVelocityY+=l*u}else{t.__decelerationVelocityY=l*c}}}}};for(var a in i){n.prototype[a]=i[a]}})();window.Scroller=n},function(e,t){var n;var i={read:"GET",update:"PUT",create:"POST",delete:"DELETE"};var a=["read","update","create","delete"];var r=function(e){e()};var s={};var o={};var l=function(e,t,n){e=e||{};e.xhr=e.xhr||{};this.request=e;this.status=e.xhr.status;this.responseText=e.xhr.responseText;this.textStatus=t;this.errorThrown=n;if(typeof this.responseText==="string"&&this.responseText.length>0){try{var i=this.request.xhr.getResponseHeader("Content-Type");if(i&&i.indexOf("application/json")===0){this.payload=JSON.parse(this.responseText);this.code=this.payload.error;this.message=this.payload.error_message}}catch(e){}}};_.extend(l.prototype,{toString:function(){return"HTTP error: "+this.status+"\ntype: "+this.textStatus+"\nerror: "+this.errorThrown+"\nresponse: "+this.responseText+"\ncode: "+this.code+"\nmessage: "+this.message}});var u=function(e,t){this.params=e;this.debug=t;this.state={}};_.extend(u.prototype,{execute:function(e,t,n){if(e){this.params.headers=this.params.headers||{};this.params.headers["OAuth-Token"]=e}if(t){this.params.headers=this.params.headers||{};this.params.headers["X-Metadata-Hash"]=t}if(n){this.params.headers=this.params.headers||{};this.params.headers["X-Userpref-Hash"]=n}this.state=_.extend(this.state,o);if(this.debug){console.log("====== Ajax Request Begin ======");console.log(this.params.type+" "+this.params.url);var i=this.params.data?JSON.parse(this.params.data):null;if(i&&i.password)i.password="***";console.log("Payload: ",this.params.data?i:"N/A");var a=$.extend({},this.params);delete a.data;console.log("params: ",a);console.log("====== Request End ======")}this.xhr=$.ajax(this.params)}});var c=function(e,t){var n=e.contents||{};this.status=e.status||200;this.statusText=e.status_text||"";this.responseText=_.isObject(n)?JSON.stringify(n):n;this.readyState=4;this._parent=t.xhr;this.headers=e.headers};_.extend(c.prototype,{isResolved:function(){return this._parent.isResolved()},getResponseHeader:function(e){return this.headers[e]},getAllResponseHeaders:function(){return _.reduce(this.headers,function(e,t,n){return e.concat(n+": "+t+"\n")},"")}});function d(e){var t,n,d,f,h,p,m,g,v,b=null,y=null,x=null,S=null,w=[],L={},E=0;d=e&&e.keyValueStore;t=e&&e.serverUrl||"/rest/v10";m=e&&e.defaultErrorHandler||null;n=e&&e.platform||"";f=e&&e.clientID||"sugar";h=(e&&e.timeout||30)*1e3;g=false;v=!(e&&e.disableBulkApi);if(e&&e.externalLoginUICallback&&_.isFunction(e.externalLoginUICallback)){b=e.externalLoginUICallback}if(d){if(!$.isFunction(d.set)||!$.isFunction(d.get)||!$.isFunction(d.cut)){throw new Error("Failed to initialize Sugar API: key/value store provider is invalid")}var M=function(){y=d.get("AuthAccessToken");x=d.get("AuthRefreshToken");S=d.get("DownloadToken")};if($.isFunction(d.initAsync)){d.initAsync(M)}else{M()}if($.isFunction(d.on)){d.on("cache:clean",function(e){e(["AuthAccessToken","AuthRefreshToken","DownloadToken"])})}}p=false;var k=function(e){if(e){y=e.access_token;x=e.refresh_token;S=e.download_token;if(d){d.set("AuthAccessToken",y);d.set("AuthRefreshToken",x);d.set("DownloadToken",S)}}else{y=null;x=null;S=null;if(d){d.cut("AuthAccessToken");d.cut("AuthRefreshToken");d.cut("DownloadToken")}}};var A=function(e,t,i){return function(a,s,o){var u=new l(t,s,o);var c=function(){if(!w.length||e.refreshingToken(t.params.url)){if(i.error){i.error(u)}else if($.isFunction(e.defaultErrorHandler)){e.defaultErrorHandler(u)}}else{for(var n=0;n<w.length;++n){if(w[n]._oerror)w[n]._oerror(u)}}e.setRefreshingToken(false)};var d,f=true;if(e.needRefreshAuthToken(t.params.url,u.code)){if(t._dequeuing){if(t._oerror)t._oerror(u);e.resetAuth();return}w.push(t);e.setRefreshingToken(true);var h={complete:function(){if(f){d=w.shift();while(d){if(d._ocomplete){d._ocomplete.call(this,d)}d=w.shift()}}},success:function(){e.setRefreshingToken(false);f=false;r(function(){d=w.shift();while(d){d._dequeuing=true;d.execute(e.getOAuthToken());d=w.shift()}})},error:c};if(!("crosstab"in window)||!crosstab.supported){e.login(null,{refresh:true},{complete:h.complete,success:h.success,error:h.error});return}crosstab(function(){crosstab.on("auth:refresh:complete",function(e){var t=e.data;switch(t){case"success":h.success();break;case"error":h.error();break;case"complete":h.complete();crosstab.off("auth:refresh:complete");break}});crosstab.broadcastMaster("auth:refresh")})}else if(e.needQueue(t.params.url)){w.push(t)}else if(g&&u.status==401&&u.payload&&u.payload.url&&u.payload.platform==n){e.handleExternalLogin(t,u,c)}else{c()}}};return{clientID:f,serverUrl:t,defaultErrorHandler:m,timeout:h,debug:false,abortRequest:function(e){var t=L[e];if(t){t.aborted=true;if(t.xhr){t.xhr.aborted=true;t.xhr.abort()}}},getRequest:function(e){return L[e]},setRefreshTokenSuccessCallback:function(e){if(_.isFunction(e))r=e},call:function(e,t,n,a,r){var o,l,c=i[e],d=this,f=this.getOAuthToken();r=r||{};a=a||{};var h={type:c,dataType:"json",headers:{},timeout:r.timeout||this.timeout,contentType:"application/json"};if(!r.url){h.url=t}if(a.success){h.success=function(e,t){o.status=e&&e.status?e.status:t;a.success(e,o)}}h.complete=function(){L[o.uid]=null;if(!p&&a.complete){a.complete(o)}};if(r.iframe===true){if(f){n=n||{};n["OAuth-Token"]=f;h.data=n}}else{if(n&&(e=="create"||e=="update"||e=="delete")){h.data=JSON.stringify(n)}}if(h.type!=="GET"){h.processData=false}o=new u(_.extend(h,r),this.debug);h.error=A(d,o,a);o._oerror=a.error;o._ocomplete=a.complete;o.uid=E++;L[o.uid]=o;l=[f,r.skipMetadataHash?null:this.getMetadataHash(),r.skipMetadataHash?null:this.getUserprefHash()];if(this.isLoginRequest(t)){o.execute()}else if(this.isAuthRequest(t)){o.execute(f)}else if(h.bulk&&v){var m=s[h.bulk]||[];if(!s[h.bulk]){s[h.bulk]=m}m.push({request:o,args:l})}else{o.execute.apply(o,l)}return o},triggerBulkCall:function(e){if(!v){return}e=e||true;var t=s[e],n=[],i=_.last(this.serverUrl.split("/"));if(!t){return}_.each(t,function(e){var t=e.request.params,a=e.args,r=a[0],s=a[1],o=a[2];if(r){t.headers=t.headers||{};t.headers["OAuth-Token"]=r}if(s){t.headers=t.headers||{};t.headers["X-Metadata-Hash"]=s}if(o){t.headers=t.headers||{};t.headers["X-Userpref-Hash"]=o}if(!_.isEmpty(t.url)){t.url=i+t.url.substring(this.serverUrl.length)}n.push(t)},this);this.call("create",this.buildURL("bulk"),{requests:n},{success:function(e,n){_.each(t,function(t,i){var a=t.request,r=e[i],s=r.contents||{},o=new c(r,n);a.xhr=o;if(a.aborted===true||s.error){a.status="error";if(_.isFunction(a.params.error)){a.params.error.call(a.params,a,"error",o.statusText)}}else{if(_.isFunction(a.params.success)){a.params.success.call(a.params,s,"success")}}if(_.isFunction(a.params.complete)){a.params.complete.call(a.params,a)}})}});s[e]=null},clearBulkQueue:function(){s={}},buildURL:function(e,t,n,i){i=i||{};var r=[];var s;r.push(this.serverUrl);if(e){r.push(e)}if(t!="create"&&n&&n.id){r.push(n.id)}if(n&&n.link&&t!="file"){r.push("link");if(_.isString(n.link)){r.push(n.link)}}if(t&&$.inArray(t,a)===-1){r.push(t)}if(n){if(n.relatedId){r.push(n.relatedId)}if(t=="file"&&n.field){r.push(n.field);if(n.fileId){r.push(n.fileId)}}else if(t==="collection"&&n.field){r.push(n.field)}}s=r.join("/");_.each(i,function(e,t){if(e===null||e===undefined){delete i[t]}});i=$.param(i);if(i.length>0){s+="?"+i}return s},buildFileURL:function(e,t){var i={};t=t||{};if(e.field&&t.htmlJsonFormat!==false){i.format="sugar-html-json"}if(t.deleteIfFails===true){i.delete_if_fails=true}if(t.passOAuthToken){i.oauth_token=this.getOAuthToken()}if(t.passDownloadToken){i.download_token=this.getDownloadToken()}if(!_.isUndefined(t.forceDownload)){i.force_download=t.forceDownload?1:0}if(t.cleanCache===true){i[(new Date).getTime()]=1}if(t.platform!==undefined){i.platform=t.platform}else if(n){i.platform=n}if(t.keep===true){i.keep=1}return this.buildURL(e.module,"file",e,i)},getOAuthToken:function(){return d?d.get("AuthAccessToken")||y:y},getRefreshToken:function(){return d?d.get("AuthRefreshToken")||x:x},getDownloadToken:function(){return d?d.get("DownloadToken")||S:S},getMetadataHash:function(){return d?d.get("meta:hash"):null},getUserprefHash:function(){return d?d.get("userpref:hash"):null},getMetadata:function(e){if(_.isString(e)){console.warn("`Api::getMetadata` has changed signature "+"and will drop support for the old signature in a future release. Please update your code.");var t=arguments[4]||{};e={types:arguments[1],modules:arguments[2],callbacks:arguments[3],public:t.getPublic,params:t.params}}e=e||{};var i=e.params||{};if(e.types){i.type_filter=e.types.join(",")}if(e.modules){i.module_filter=e.modules.join(",")}if(n){i.platform=n}var a="read";if(e.public){a="public"}else{e.callbacks=e.callbacks||{};e.callbacks.success=_.wrap(e.callbacks.success,function(e,t,n){if(t){this._serverInfo=t.server_info}if(e){e(t,n)}})}i.module_dependencies=1;var r=this.buildURL("metadata",a,null,i);return this.call(a,r,null,e.callbacks)},records:function(e,t,n,i,a,r){var s=this.buildURL(t,e,n,i);return this.call(e,s,n,a,r)},relationships:function(e,t,n,i,a,r){var s=this.buildURL(t,null,n,i);return this.call(e,s,n.related,a,r)},collection:function(e,t,n,i,a){var r=this.buildURL(e,"collection",t,n);return this.call("read",r,null,i,a)},favorite:function(e,t,n,i,a){var r=n?"favorite":"unfavorite";var s=this.buildURL(e,r,{id:t});return this.call("update",s,null,i,a)},follow:function(e,t,n,i,a){i=i||{};a=a||{};var r=n?"create":"delete",s=n?"subscribe":"unsubscribe",o=this.buildURL(e,s,{id:t});return this.call(r,o,null,i,a)},enumOptions:function(e,t,n,i){var a=this.buildURL(e+"/enum/"+t);return this.call("read",a,null,n,i)},bulk:function(e,t,n){var i=this.buildURL("bulk");return this.call("create",i,e,t,n)},fileDownload:function(e,t,n){t=t||{};n=n||{};var i={};i.success=function(i){if(n.iframe){n.iframe.prepend('<iframe class="hide" src="'+e+'"></iframe>')}else{window.location.href=e}if(_.isFunction(t.success)){t.success.apply(arguments)}};if(_.isFunction(t.error)){i.error=t.error}if(_.isFunction(t.complete)){i.complete=t.complete}return this.call("read",this.buildURL("ping"),{},i,{processData:false})},file:function(e,t,n,i,a){var r={files:n,processData:false};if(e==="delete"){r.iframe=false}else if(!a||a.iframe!==false){r.iframe=true;a=a||{};a.passOAuthToken=true}if(!a||a.deleteIfFails!==false){a=a||{};a.deleteIfFails=true}i.success=_.wrap(i.success,function(e,t){if(t.error&&_.isFunction(i.error)){i.error(t)}else if(_.isFunction(e)){e(t)}});return this.call(e,this.buildFileURL(t,a),null,i,r)},count:function(e,t,n,i){i=i||{};var a=this.buildURL(e,"count",t,i);return this.call("read",a,null,n)},exportRecords:function(e,t,i,a){var r=this;var s=this.buildURL(e.module,"record_list");a=a||{};return this.call("create",s,{records:e.uid},{success:function(s){e=_.omit(e,["uid","module"]);if(a.platform!==undefined){e.platform=a.platform}else if(n){e.platform=n}r.fileDownload(r.buildURL(s.module_name,"export",{relatedId:s.id},e),i,{iframe:t})}})},search:function(e,t,n){n=n||{};var i=null;if(n.data){i=n.data;delete n.data}var a="read";if(n.fetchWithPost){a="create"}var r=n.useNewApi?"globalsearch":"search";var s=this.buildURL(null,r,null,e);return this.call(a,s,i,t,n)},login:function(e,t,i){var a,s,o,l,u,c=this;e=e||{};i=i||{};s=function(e){k(e);if(g){c.setRefreshingToken(false);r(function(){var e=w.shift();while(e){e._dequeuing=true;e.execute(c.getOAuthToken());e=w.shift()}})}if(i.success)i.success(e)};o=function(e){k();if(i.error)i.error(e)};if(t&&t.refresh){a=_.extend({grant_type:"refresh_token",client_id:this.clientID,client_secret:"",refresh_token:this.getRefreshToken(),platform:n?n:"base"},t)}else{a=_.extend({grant_type:"password",username:e.username,password:e.password,client_id:this.clientID,platform:n?n:"base",client_secret:""},t);a.client_info=t}l="create";u=this.buildURL("oauth2","token",a,{platform:n});return this.call(l,u,a,{success:s,error:o,complete:i.complete})},me:function(e,t,n,i){var a=this.buildURL("me",e,t,n);return this.call(e,a,t,i)},css:function(e,t,n){var i={platform:e,themeName:t};var a=this.buildURL("css","read",{},i);return this.call("read",a,{},n)},logout:function(e,t){e=e||{};var n={token:this.getOAuthToken(),refresh_token:this.getRefreshToken()};if(this._serverInfo&&this._serverInfo.version.charAt(0)==="6"){delete n.refresh_token}var i=this.buildURL("oauth2","logout",n);var a=e.complete;e.complete=function(){k();if(a)a()};return this.call("create",i,n,e,t)},ping:function(e,t,i){return this.call("read",this.buildURL("ping",e,null,{platform:n}),null,t,_.extend({skipMetadataHash:true},i||{}))},signup:function(e,t,n){var i=e;i.client_info=t;var a="create";var r=this.buildURL("Leads","register",i);return this.call(a,r,i,n)},verifyPassword:function(e,t){var n={password_to_verify:e};var i="create";var a=this.buildURL("me/password",i);return this.call(i,a,n,t)},updatePassword:function(e,t,n){var i={new_password:t,old_password:e};var a="update";var r=this.buildURL("me/password",a);return this.call(a,r,i,n)},info:function(e){var t=this.buildURL("ServerInfo");return this.call("read",t,null,e)},isAuthenticated:function(){return typeof this.getOAuthToken()==="string"&&this.getOAuthToken().length>0},resetAuth:function(){k()},needRefreshAuthToken:function(e,t){return!p&&(typeof this.getRefreshToken()==="string"&&this.getRefreshToken().length>0)&&!this.isAuthRequest(e)&&t==="invalid_grant"},needQueue:function(e){return p&&!this.isAuthRequest(e)},isAuthRequest:function(e){return new RegExp("/oauth2/").test(e)},isLoginRequest:function(e){return new RegExp("/oauth2/token").test(e)},refreshingToken:function(e){return p&&this.isAuthRequest(e)},setRefreshingToken:function(e){p=e},handleExternalLogin:function(e,t,n){var i=this;if(!i.isLoginRequest(e.params.url)){w.push(e)}i.setRefreshingToken(true);$(window).on("message",function(e){if(!e.originalEvent.origin||e.originalEvent.origin!==window.location.origin){return}$(window).on("message",null);var t=$.parseJSON(e.originalEvent.data);var a=!t||!t.access_token;if(a){n()}i.setRefreshingToken(false);k(t);if(a){return}r(function(){var e=w.shift();while(e){e.execute(i.getOAuthToken());e=w.shift()}})});if(_.isFunction(b)){b(t.payload.url,"_blank","width=600,height=400,centerscreen=1,resizable=1")}},isExternalLogin:function(){return g},setExternalLogin:function(e){g=e},setExternalLoginUICallback:function(e){if(_.isFunction(e)){b=e}},getStateProperty:function(e){return o[e]},setStateProperty:function(e,t){o[e]=t},clearStateProperty:function(e){delete o[e]},resetState:function(){o={}}}}e.exports={getInstance:function(e){return n||this.createInstance(e)},createInstance:function(e){n=new d(e);if(!("crosstab"in window)||!crosstab.supported){return n}crosstab(function(){crosstab.on("auth:refresh",_.bind(function(){if(this._runningRefreshToken){return}this._runningRefreshToken=true;var e=this;this.login(null,{refresh:true},{complete:function(){crosstab.broadcast("auth:refresh:complete","complete")},success:function(){delete e._runningRefreshToken;crosstab.broadcast("auth:refresh:complete","success")},error:function(){delete e._runningRefreshToken;crosstab.broadcast("auth:refresh:complete","error")}})},n))});return n},HttpError:l,HttpRequest:u}},function(e,t,n){(function(n,i){var a,r;(function(){var s={};var o,l;o=this;if(o!=null){l=o.async}s.noConflict=function(){o.async=l;return s};function u(e){var t=false;return function(){if(t)throw new Error("Callback was already called.");t=true;e.apply(o,arguments)}}var c=Object.prototype.toString;var d=Array.isArray||function(e){return c.call(e)==="[object Array]"};var f=function(e,t){if(e.forEach){return e.forEach(t)}for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var h=function(e,t){if(e.map){return e.map(t)}var n=[];f(e,function(e,i,a){n.push(t(e,i,a))});return n};var p=function(e,t,n){if(e.reduce){return e.reduce(t,n)}f(e,function(e,i,a){n=t(n,e,i,a)});return n};var m=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof n==="undefined"||!n.nextTick){if(typeof i==="function"){s.nextTick=function(e){i(e)};s.setImmediate=s.nextTick}else{s.nextTick=function(e){setTimeout(e,0)};s.setImmediate=s.nextTick}}else{s.nextTick=n.nextTick;if(typeof i!=="undefined"){s.setImmediate=function(e){i(e)}}else{s.setImmediate=s.nextTick}}s.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;f(e,function(e){t(e,u(a))});function a(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n()}}}};s.forEach=s.each;s.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var i=0;var a=function(){t(e[i],function(t){if(t){n(t);n=function(){}}else{i+=1;if(i>=e.length){n()}else{a()}}})};a()};s.forEachSeries=s.eachSeries;s.eachLimit=function(e,t,n,i){var a=_(t);a.apply(null,[e,n,i])};s.forEachLimit=s.eachLimit;var _=function(e){return function(t,n,i){i=i||function(){};if(!t.length||e<=0){return i()}var a=0;var r=0;var s=0;(function o(){if(a>=t.length){return i()}while(s<e&&r<t.length){r+=1;s+=1;n(t[r-1],function(e){if(e){i(e);i=function(){}}else{a+=1;s-=1;if(a>=t.length){i()}else{o()}}})}})()}};var g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}};var v=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[_(e)].concat(n))}};var b=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}};var y=function(e,t,n,i){t=h(t,function(e,t){return{index:t,value:e}});if(!i){e(t,function(e,t){n(e.value,function(e){t(e)})})}else{var a=[];e(t,function(e,t){n(e.value,function(n,i){a[e.index]=i;t(n)})},function(e){i(e,a)})}};s.map=g(y);s.mapSeries=b(y);s.mapLimit=function(e,t,n,i){return x(t)(e,n,i)};var x=function(e){return v(e,y)};s.reduce=function(e,t,n,i){s.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n;i(e)})},function(e){i(e,t)})};s.inject=s.reduce;s.foldl=s.reduce;s.reduceRight=function(e,t,n,i){var a=h(e,function(e){return e}).reverse();s.reduce(a,t,n,i)};s.foldr=s.reduceRight;var S=function(e,t,n,i){var a=[];t=h(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(n){a.push(e)}t()})},function(e){i(h(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.filter=g(S);s.filterSeries=b(S);s.select=s.filter;s.selectSeries=s.filterSeries;var w=function(e,t,n,i){var a=[];t=h(t,function(e,t){return{index:t,value:e}});e(t,function(e,t){n(e.value,function(n){if(!n){a.push(e)}t()})},function(e){i(h(a.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.reject=g(w);s.rejectSeries=b(w);var L=function(e,t,n,i){e(t,function(e,t){n(e,function(n){if(n){i(e);i=function(){}}else{t()}})},function(e){i()})};s.detect=g(L);s.detectSeries=b(L);s.some=function(e,t,n){s.each(e,function(e,i){t(e,function(e){if(e){n(true);n=function(){}}i()})},function(e){n(false)})};s.any=s.some;s.every=function(e,t,n){s.each(e,function(e,i){t(e,function(e){if(!e){n(false);n=function(){}}i()})},function(e){n(true)})};s.all=s.every;s.sortBy=function(e,t,n){s.map(e,function(e,n){t(e,function(t,i){if(t){n(t)}else{n(null,{value:e,criteria:i})}})},function(e,t){if(e){return n(e)}else{var i=function(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0};n(null,h(t.sort(i),function(e){return e.value}))}})};s.auto=function(e,t){t=t||function(){};var n=m(e);var i=n.length;if(!i){return t()}var a={};var r=[];var o=function(e){r.unshift(e)};var l=function(e){for(var t=0;t<r.length;t+=1){if(r[t]===e){r.splice(t,1);return}}};var u=function(){i--;f(r.slice(0),function(e){e()})};o(function(){if(!i){var e=t;t=function(){};e(null,a)}});f(n,function(n){var i=d(e[n])?e[n]:[e[n]];var r=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}if(e){var r={};f(m(a),function(e){r[e]=a[e]});r[n]=i;t(e,r);t=function(){}}else{a[n]=i;s.setImmediate(u)}};var c=i.slice(0,Math.abs(i.length-1))||[];var h=function(){return p(c,function(e,t){return e&&a.hasOwnProperty(t)},true)&&!a.hasOwnProperty(n)};if(h()){i[i.length-1](r,a)}else{var _=function(){if(h()){l(_);i[i.length-1](r,a)}};o(_)}})};s.retry=function(e,t,n){var i=5;var a=[];if(typeof e==="function"){n=t;t=e;e=i}e=parseInt(e,10)||i;var r=function(i,r){var o=function(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})},r)}};while(e){a.push(o(t,!(e-=1)))}s.series(a,function(e,t){t=t[t.length-1];(i||n)(t.err,t.result)})};return n?r():r};s.waterfall=function(e,t){t=t||function(){};if(!d(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length){return t()}var i=function(e){return function(n){if(n){t.apply(null,arguments);t=function(){}}else{var a=Array.prototype.slice.call(arguments,1);var r=e.next();if(r){a.push(i(r))}else{a.push(t)}s.setImmediate(function(){e.apply(null,a)})}}};i(s.iterator(e))()};var E=function(e,t,n){n=n||function(){};if(d(t)){e.map(t,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},n)}else{var i={};e.each(m(t),function(e,n){t[e](function(t){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1){a=a[0]}i[e]=a;n(t)})},function(e){n(e,i)})}};s.parallel=function(e,t){E({map:s.map,each:s.each},e,t)};s.parallelLimit=function(e,t,n){E({map:x(t),each:_(t)},e,n)};s.series=function(e,t){t=t||function(){};if(d(e)){s.mapSeries(e,function(e,t){if(e){e(function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)})}},t)}else{var n={};s.eachSeries(m(e),function(t,i){e[t](function(e){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1){a=a[0]}n[t]=a;i(e)})},function(e){t(e,n)})}};s.iterator=function(e){var t=function(n){var i=function(){if(e.length){e[n].apply(null,arguments)}return i.next()};i.next=function(){return n<e.length-1?t(n+1):null};return i};return t(0)};s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var M=function(e,t,n,i){var a=[];e(t,function(e,t){n(e,function(e,n){a=a.concat(n||[]);t(e)})},function(e){i(e,a)})};s.concat=g(M);s.concatSeries=b(M);s.whilst=function(e,t,n){if(e()){t(function(i){if(i){return n(i)}s.whilst(e,t,n)})}else{n()}};s.doWhilst=function(e,t,n){e(function(i){if(i){return n(i)}var a=Array.prototype.slice.call(arguments,1);if(t.apply(null,a)){s.doWhilst(e,t,n)}else{n()}})};s.until=function(e,t,n){if(!e()){t(function(i){if(i){return n(i)}s.until(e,t,n)})}else{n()}};s.doUntil=function(e,t,n){e(function(i){if(i){return n(i)}var a=Array.prototype.slice.call(arguments,1);if(!t.apply(null,a)){s.doUntil(e,t,n)}else{n()}})};s.queue=function(e,t){if(t===undefined){t=1}function n(e,t,n,i){if(!e.started){e.started=true}if(!d(t)){t=[t]}if(t.length==0){return s.setImmediate(function(){if(e.drain){e.drain()}})}f(t,function(t){var a={data:t,callback:typeof i==="function"?i:null};if(n){e.tasks.unshift(a)}else{e.tasks.push(a)}if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}s.setImmediate(e.process)})}var i=0;var a={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(e,t){n(a,e,false,t)},kill:function(){a.drain=null;a.tasks=[]},unshift:function(e,t){n(a,e,true,t)},process:function(){if(!a.paused&&i<a.concurrency&&a.tasks.length){var t=a.tasks.shift();if(a.empty&&a.tasks.length===0){a.empty()}i+=1;var n=function(){i-=1;if(t.callback){t.callback.apply(t,arguments)}if(a.drain&&a.tasks.length+i===0){a.drain()}a.process()};var r=u(n);e(t.data,r)}},length:function(){return a.tasks.length},running:function(){return i},idle:function(){return a.tasks.length+i===0},pause:function(){if(a.paused===true){return}a.paused=true;a.process()},resume:function(){if(a.paused===false){return}a.paused=false;a.process()}};return a};s.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){var i=-1,a=e.length-1;while(i<a){var r=i+(a-i+1>>>1);if(n(t,e[r])>=0){i=r}else{a=r-1}}return i}function a(e,t,a,r){if(!e.started){e.started=true}if(!d(t)){t=[t]}if(t.length==0){return s.setImmediate(function(){if(e.drain){e.drain()}})}f(t,function(t){var o={data:t,priority:a,callback:typeof r==="function"?r:null};e.tasks.splice(i(e.tasks,o,n)+1,0,o);if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}s.setImmediate(e.process)})}var r=s.queue(e,t);r.push=function(e,t,n){a(r,e,t,n)};delete r.unshift;return r};s.cargo=function(e,t){var n=false,i=[];var a={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:true,push:function(e,n){if(!d(e)){e=[e]}f(e,function(e){i.push({data:e,callback:typeof n==="function"?n:null});a.drained=false;if(a.saturated&&i.length===t){a.saturated()}});s.setImmediate(a.process)},process:function r(){if(n)return;if(i.length===0){if(a.drain&&!a.drained)a.drain();a.drained=true;return}var s=typeof t==="number"?i.splice(0,t):i.splice(0,i.length);var o=h(s,function(e){return e.data});if(a.empty)a.empty();n=true;e(o,function(){n=false;var e=arguments;f(s,function(t){if(t.callback){t.callback.apply(null,e)}});r()})},length:function(){return i.length},running:function(){return n}};return a};var k=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){f(n,function(t){console[e](t)})}}}]))}};s.log=k("log");s.dir=k("dir");s.memoize=function(e,t){var n={};var i={};t=t||function(e){return e};var a=function(){var a=Array.prototype.slice.call(arguments);var r=a.pop();var o=t.apply(null,a);if(o in n){s.nextTick(function(){r.apply(null,n[o])})}else if(o in i){i[o].push(r)}else{i[o]=[r];e.apply(null,a.concat([function(){n[o]=arguments;var e=i[o];delete i[o];for(var t=0,a=e.length;t<a;t++){e[t].apply(null,arguments)}}]))}};a.memo=n;a.unmemoized=e;return a};s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};s.times=function(e,t,n){var i=[];for(var a=0;a<e;a++){i.push(a)}return s.map(i,t,n)};s.timesSeries=function(e,t,n){var i=[];for(var a=0;a<e;a++){i.push(a)}return s.mapSeries(i,t,n)};s.seq=function(){var e=arguments;return function(){var t=this;var n=Array.prototype.slice.call(arguments);var i=n.pop();s.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}};s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(e,t){var n=function(){var n=this;var i=Array.prototype.slice.call(arguments);var a=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},a)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}else{return n}};s.applyEach=g(A);s.applyEachSeries=b(A);s.forever=function(e,t){function n(i){if(i){if(t){return t(i)}throw i}e(n)}n()};if(typeof e!=="undefined"&&e.exports){e.exports=s}else if(true){!(a=[],r=function(){return s}.apply(t,a),r!==undefined&&(e.exports=r))}else{o.async=s}})()}).call(t,n(79),n(283).setImmediate)},function(e,t,n){"use strict";n(315);var i=n(394);window.Handlebars.templates=window.Handlebars.templates||{};var a=n(287);i.requireModulesWithinContext(a,function(e){var t=i.adjustTemplateName(e);window.Handlebars.templates[t]=a(e)})},function(e,t,n){"use strict";var i=SUGAR.App;var a={_components:[],add:function e(t){if(_.isFunction(t.onClose)){this._components=_.union(this._components,[t])}else{throw new Error("Unable to register "+t+". Component `onClose` method is missed.")}},remove:function e(t){this._components=_.without(this._components,t)},close:function e(t){if(_.contains(this._components,t)){t.onClose();this.remove(t)}},closeAll:function e(){_.each(this._components,function e(t){this.close(t)},this)},hasActiveComponents:function e(){return this._components.length>0},closeRecent:function e(){this.close(_.last(this._components))}};i.augment("activeComponents",a,false)},function(e,t,n){"use strict";var i=n(120);var a=n(24);(function t(n){var i=false;var r=false;var s=null;var o="";var l=/^(.*):([-\w]+)\.?(\S+)?$/;var u={OFFLINE_MODE:1,CONNECTION:2,SUGAR_INSTANCE:3,NPS:4};var c={init:function e(){var t=n.config.analytics;var a=n.isNative?t.trackers.native:t.trackers.web;var o=_.isObject(a)?a.id:a;var l=t.enabled&&!_.isEmpty(o);a=_.defaults(_.isObject(a)?a:{},t.trackers.default);var u=t.trackers.sdk||{};var c=!_.isEmpty(u.id);u=_.defaults(u,t.trackers.default);var d=l||c;if(d){if(typeof Analytics==="undefined"){n.nomad.loadAnalytics()}if(typeof Analytics!=="undefined"){if(!i&&l){this.initialize();this._attachAnalytics();analytics.start(o,a);n.logger.debug("Analytics enabled for application "+o)}else if(!l){i=false}if(!r&&c){this.initializeSdkTracking();s=u.trackerName;analytics.start(u.id,u);n.logger.debug("Analytics enabled for SDK "+u.id)}else if(!c){r=false}}}if(!d||!i&&!r){this.dispose()}},processConfig:function e(t){var i={};if(!n.config.analytics.ignoreServerSetting&&t.analytics&&!n.isNative){i.analytics=_.extend({},n.config.analytics,{enabled:Boolean(t.analytics.enabled)})}return i},initialize:function e(){n.events.on("app:view:change",function e(t){var n={module:"",layoutType:"",track:"",link:t.link};if(t.action){this._handleGAForActions(t,n)}else if(t.parentModelId){this._handleGAForParentModule(t,n)}else if(t.root){this._handleGAForRootModules(t,n)}else if(t.isDynamic&&t.gaTrack){this._handleGAForDynamics(t,n)}else if(t.isDynamic){return}else{n.layoutType=t.modelId?"detail":"list";n.module=t.module||t.parentModule||t.root}this._buildViewIdAndTrack(n)},this).on("app:start",function e(){if(n.api.isAuthenticated()){this._trackServerInstance(n.config.siteUrl)}},this).on("app:login:success",function e(){this.trackEvent({category:"useHttps",action:n.loginManager.getSetting("useHttps")?"enabled":"disabled"})},this).on("app:sync:complete",function e(){var t=n.metadata.getServerInfo();this.trackEvent({category:"login",action:t.version});this._trackServerInstance(n.config.siteUrl)},this).on("offline:toggled",function e(t){this.setDimension({index:u.OFFLINE_MODE,value:t?"enabled":"disabled"})},this).on("offline:failure",function e(t){this.trackEvent({category:"offline-failure",action:t.code})},this).on("offline:encryption:complete",function e(t){this.trackEvent({category:"storage-encryption",action:t?"failed":"success"})},this).on("offline:tx:create",function e(t){this.trackEvent({category:"tx-create",action:n.offline.utils.actionToSymbol(t.txOptions)})},this).on("offline:tx:success",function e(t){this.trackEvent({category:"tx-success",action:n.offline.utils.actionToSymbol(t.tx),value:n.offline.utils.getTxAge(t.tx)})},this).on("offline:tx:error",function e(t){this.trackEvent({category:"tx-error",action:t.errorCode||"unknown",value:n.offline.utils.getTxAge(t.tx),label:n.offline.utils.actionToSymbol(t.tx)})},this).on("offline:tx:rollback",function e(t){this.trackEvent({category:"tx-rollback",action:n.offline.utils.actionToSymbol(t.tx),value:n.offline.utils.getTxAge(t.tx)})},this).on("offline:wins:completed",function e(t){this.trackEvent({category:"offline:wins",action:"synced",value:t.syncedRecords,label:"numRecords"})},this);i=true},initializeSdkTracking:function e(){n.events.on("app:start",function e(){var t=_.getNested(n,"clientInfo.app.bundleId");var i=n.config.sdkVersion;this._trackSdk({category:"version",action:i,label:t});this._trackSdk({category:"product",action:n.config.productName,label:i});this._trackSdk({category:"bundleId",action:t,label:i});if(n.api.isAuthenticated()){this._trackSdkServerInfo()}},this).on("app:sync:complete",function e(){this._trackSdkServerInfo()},this);r=true},onAppPause:function e(){this.trackEvent({category:"device",action:"pause"})},onAppResume:function e(){this.trackEvent({category:"device",action:"resume"})},setNpsRating:function e(t){this.setDimension({index:u.NPS,value:t})},_handleGAForParentModule:function e(t,n){n.module=t.parentModule;if(t.modelId){n.layoutType="details"}else if(t.dashletId){this._handleGAForDashlets(t,n)}else{n.layoutType="relationships"}},_handleGAForRootModules:function e(t,i){switch(t.root){case"Login":i.layoutType=t.root.toLowerCase();i.module=t.root;i.track="create";break;case"About":case"Settings":i.layoutType=t.root.toLowerCase();i.module=n.utils.capitalize(t.root);i.track="create";break;case"Offline":switch(t.module){case"TxLog":i.layoutType=t.modelId?"detail":"list";i.module=t.module;break;case"offlineStats":i.layoutType=t.module;i.module=t.root;i.track="create";break;default:i.layoutType=t.root.toLowerCase();i.module=t.root;i.track="create";break}break;case"Search":case"Recents":if(t.module&&t.modelId){i.layoutType="detail";i.module=t.module}else{i.layoutType="list";i.module=t.root}break;case"Dashboards":if(t.dashletId){this._handleGAForDashlets(t,i)}else{i.layoutType="dashboard"}break}},_handleGAForActions:function e(t,i){switch(t.action){case"duplicate":i.layoutType="edit";i.track="duplicate";break;case"associate":i.layoutType=t.action;i.module=n.data.getRelatedModule(t.parentModule,t.link);i.track=t.parentModule;break;default:i.layoutType=t.action?t.action:"detail";break}if(t.action==="create"&&t.parentModelId){i.layoutType="edit";i.module=t.parentModule;i.track=t.link;i.link="create"}if(!i.module){i.module=t.module||t.parentModule}},_handleGAForDynamics:function e(t,i){var a=t.gaTrack;if(a==="teamset"){i.layoutType="multienum";i.module=n.controller.getScreenContext().module;i.track="teamset"}else if(a==="textarea"){i.layoutType=a;i.module=t.context.get("parentModel")?t.context.get("parentModel").module:null}else if(a==="duplicate"){i.layoutType="edit";i.module=n.controller.getScreenContext().module;i.track=a}else{i.layoutType=a;i.module=n.controller.getScreenContext().module;if(a==="relate"||a==="parent-list"){i.track=t.context.get("module")}else if(a==="about"){i.module="Login"}}},_handleGAForDashlets:function e(t,n){var i=a.getDashletConfig(t.dashboardId,t.dashletId).view;var r=t.root==="Dashboards";n.layoutType=r?"dashlet":"record-dashlet";if(i.template==="tabbed-dashlet"){n.layoutType="";n.module=""}else if(i.type==="dashablelist"){n.module=r?"list":t.parentModule;n.track=r?i.module:"list";n.link=r?n.link:i.module}else{n.module=r?i.type:t.parentModule;n.track=r?"":i.type}},_buildViewIdAndTrack:function e(t){var n=_.compact([t.layoutType,t.module,t.track,t.link]).join("/");if(!_.isEmpty(n)){var i={view:n};if(t.trackerName){i.trackerName=t.trackerName}this.setActiveView(i)}},setActiveView:function e(t){o=t.view;if(!t.silent){this.trackPageView(t)}},trackPageView:function e(t){if(!i){return}n.logger.debug("GAN-page: "+t.view);if(n.offlineEnabled){this.setDimension({index:u.CONNECTION,value:n.offline.status.noConnection?"offline":"online"})}analytics.trackPageView(t)},trackEvent:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(i){this._trackEvent(t)}},_trackEvent:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.action=""+(t.action||"[unknown]");t.label=_.isUndefined(t.label)?o:t.label;n.logger.debug(String("GAN-event: "+t.category+":"+t.action+"("+t.value+")")+t.label+" "+(t.trackerName||""));analytics.trackEvent(t)},startSession:function e(t){if(i){analytics.startSession(t)}},setDimension:function e(t){if(i){analytics.setDimension(t)}},setMetric:function e(t){if(!i){return}analytics.setMetric(t)},_trackSdk:function e(t){if(r){this._trackEvent({trackerName:s,category:t.category,action:t.action,value:t.value||0,label:t.label||""})}},_trackSdkServerInfo:function e(){var t=n.metadata.getServerInfo();var i=_.getNested(n,"clientInfo.app.bundleId");var a=n.config.siteUrl;if(!_.isEmpty(n.config.siteUrlBehindProxy)){a=n.config.siteUrlBehindProxy}this._trackSdk({category:"instance",action:a,label:i});if(!_.isEmpty(t)){this._trackSdk({category:"server",action:""+t.version+t.flavor,label:i})}},_attachAnalytics:function e(){document.addEventListener("click",this._trackListener,true);document.addEventListener("swipeLeft",this._trackListener,true);document.addEventListener("swipeRight",this._trackListener,true)},_detachAnalytics:function e(){document.removeEventListener("click",this._trackListener,true);document.removeEventListener("swipeLeft",this._trackListener,true);document.removeEventListener("swipeRight",this._trackListener,true)},_trackListener:function e(t){var i=void 0;if(t.path){i=t.path}else{i=$(t.target).parents();i.push(t.target)}_.each(i,function(e){var i=$(e);var a=i.attr("track");if(!a){return}var r=a.match(l);var s=r[1].indexOf(t.type)+1;if(!s){return}var o=r[2]||e.id;var u=r[3]||"";n.analytics.trackEvent({category:t.type,action:o,value:u&&i.hasClass(u)?1:0})})},_trackServerInstance:function e(t){if(n.config.analytics.instanceTracking){this.setDimension({index:u.SUGAR_INSTANCE,value:this._instanceKeyFromUrlWhitelist(t)})}},_instanceKeyFromUrlWhitelist:function e(t){var i=_.find(n.config.analytics.serverUrlWhiteList||[],function(e){var n=new RegExp(e,"i");return n.test(t)});if(n.config.analytics.instanceUrlTracking){i=n.loginManager.getSetting("loginUrl")}return i||"others"},dispose:function e(){n.events.off(null,null,c);i=false;r=false;s=null;n.logger.debug("Analytics disabled")}};n.augment("analytics",c,false);e.exports=c})(SUGAR.App)},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=n(47);var r=n(3);(function e(t){var n=1024*1024*100;var s={set:function e(t,n,i){t[n]=i},push:function e(t,n,i){if(!t[n]){t[n]=[]}t[n].push(i)},pushDocField:function e(t,n,i){t.docFields[i.name]=i}};var o={byType:{name:{dataName:"nameField",action:s.set},fullname:{dataName:"fullNameField",action:s.set},image:{dataName:"imageField",action:s.pushDocField},phone:{dataName:"phoneFields",action:s.push},url:{dataName:"urlFields",action:s.push},email:{ignore:false,dataName:"emailFields",action:s.push},file:{dataName:"docFields",action:s.pushDocField},fieldset:{action:function e(t,n,i){var a=true;_.each(i.fields,function(e){var n=o.byType[e.type];if(n){n.action(t,n.dataName,i);a=false}});if(a){s.push(t,"otherFields",i)}}}},byNameRegEx:{"^(?=.*address)((?!email).)*$":{dataName:"addressFields",action:s.push}},default:{dataName:"otherFields",action:s.push}};var l=function e(t){var n=null;_.each(o.byNameRegEx,function(e,i){var a=new RegExp(i);if(a.test(t.name)){n=e}});return n};var u=t.data.beanModel;t.NomadBean=t.data.beanModel.extend({constructor:function e(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++){i[a]=arguments[a]}var r=i[0];if(r&&!_.isUndefined(r._module)){this.module=r._module;this.fields=t.metadata.getModule(this.module,"fields")}u.prototype.constructor.apply(this,i)},initialize:function e(){this.addValidationTask("nomadValidation",_.bind(this._nomadValidator,this));for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}u.prototype.initialize.apply(this,n)},getSnapshot:function e(t){var n=this;var i=this.toJSON(t);var a=t&&t.fields||_.keys(this.attributes);_.each(a,function(e){var t=n.get(e);if(t instanceof SUGAR.App.MixedBeanCollection){i[e]=t.toJSON()}});return i},_nomadValidator:function e(n,i,a){var r=t.metadata.getModule(this.module).fields;_.each(n,function e(t,n){var a=r[n];if(a&&a.type==="image"){if(this._imageRequiredValidator(a,n,this)){i[n]=i[n]||{};i[n].required=true}}},this);a(null,n,i)},_imageRequiredValidator:function e(n,i,a){if(!t.supportedFeatures.fileUpload){return}var r=false;if(n.required){r=_.isEmpty(a.get(i))}return r},isValidAsync:function e(n,i){var a=this;var s=this.get("_erased_fields");u.prototype.isValidAsync.call(this,n,function(e,o){if(!e){if(!_.isEmpty(s)){_.each(o,function(e,t){if(e.required&&_.contains(s,t)){delete e.required}})}_.each(o,function(e,i){var s=n[i];if(e.required&&s&&s.type==="relate"){if(s.link){var o=a.get(s.link);var l=t.data.createBean(s.module,o);var u=r.isNameErased(l);if(u){delete e.required}}}});_.each(o,function(e,t){if(_.isEmpty(e)){delete o[t]}})}i(_.isEmpty(o),o)})},_getAdditionalListFieldsAmount:function e(n){var i=t.config.ui.numberOfAdditionalListFields;return i.modules&&i.modules[n]?i.modules[n]:i.defaultValue||i},getContextMetaData:function e(n,i){var r=o;var s=this;var u={otherFields:[],phoneFields:[],urlFields:[],emailFields:[],addressFields:[],additionalListFields:[],docFields:{}};var c=this._getAdditionalListFieldsAmount(this.module);_.each(n,function(e,t){var n=r.byType[e.type]||l(e)||(u[r.default.dataName].length<i?r.default:null);if(n&&!n.ignore){n.action(u,n.dataName,e)}if(t>0&&t<=c){u.additionalListFields.push(e)}},this);u.headerField=u.fullNameField||u.nameField;u.subpanels=a.getSubpanels(this.module);u.hasLinkableSubpanels=a.hasLinkableSubpanels(u.subpanels);u.hasCreatableSubpanels=a.hasCreatableSubpanels(u.subpanels);u.listItemTitleField=n[0];u.avatarField=_.find(n,function(e){return e.type==="image"&&e.name==="picture"&&_.contains(t.config.modules.modulesWithAvatars,s.module)});u.addressFieldsGroups=_.groupBy(u.addressFields,function(e){if(e.type==="address"){return e.name}return s.fields[e.name].group});u.actions=this.getAvailableActions(u);return u},getAvailableActions:function e(t){var n={};var i=this._canHaveFiles(t.docFields)||this._canHavePDFs()||this.canHaveAttachments();var a=t.phoneFields.length;var r=[a&&"phone",a&&"message",t.urlFields.length&&"url",_.keys(t.addressFieldsGroups).length&&"map",i&&"doc",t.emailFields.length&&"email"];_.each(r,function(e){if(e){n[e]=Boolean(e)}});return n},getAddresses:function e(n){var i=void 0;var a=void 0;var r=void 0;var s=this;return _.chain(n).map(function(e,n){if(n.lastIndexOf("_c")===n.length-2){n=n.replace("_c","")}r={};_.each(e,function(e,a){var o=s.get(e.name);if(o){i=e.name;i=i.replace(n+"_","");if(i.lastIndexOf("_c")===i.length-2){i=i.replace("_c","")}if(e.type==="enum"){var l=t.metadata.getModule(s.module).fields[e.name];var u=t.lang.getAppListStrings(l.options)||{};o=u[o]||o}r[i]=o}});if(_.keys(r).length){a={};var o=t.lang.get("LBL_"+n.toUpperCase(),s.module);a[o]=r;return a}}).compact().value()},getDocuments:function e(n){var i=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.docsLoading=true;n=_.filter(n,function(e){return t.acl.hasAccessToModel("read",i,e.name)});if(this.module==="Emails"){this._createEmailsDocData()}else if(this.canHaveAttachments()){this._createDocData(this.get("attachment_list"),n)}else if(this._canHaveFiles(n)){var r=a.docData||[];var s=this.get("doc_url");if(_.has(this.fields,"doc_url")&&!_.isEmpty(s)){var o=this.get("filename");if(_.has(this.fields,"doc_type")){o+=" ("+this.get("doc_type")+")"}r=this._createDocData([{name:o,uri:s,openExternally:true,nonSugarURL:true}],n,null,{silent:true})}if(a.fileData){this._createDocData(a.fileData,n,r)}else{this.getFiles({success:function e(t){i._createDocData(t,n,r)},error:function e(n){t.logger.debug("Error creating file url for "+i.module+" : "+n);i.docsLoading=false;i.trigger("docs:ready",r)}},{iframe:false,deleteIfFails:false})}}else if(this._canHavePDFs()){this._createDocData([{name:this.module+".pdf",uri:t.api.serverUrl+"/"+this.module+"/"+this.id+"/pdf",file_mime_type:"application/pdf",filename:this.get("name")+".pdf",oauth:true}],n)}else{this.docsLoading=false;this.trigger("docs:ready",[])}},_createEmailsDocData:function e(){var n=this.get("attachments_collection");var i=[];if(!(n instanceof Backbone.Collection)){return}n.each(function(e){var n={"content-length":e.get("file_size"),"content-type":e.get("file_mime_type"),name:e.get("filename"),uri:"rest/v"+t.config.restVersion+"/Notes/"+e.get("id")+"/file/filename"};i.push(n)});this._createDocData(i,[{name:"filename",type:"file"}])},_createDocData:function e(a,s,o,l){var u=this;var c=_.pluck(s,"name");this.docsLoading=false;l=l||{};var d=[];var f=function e(n){if(!_.isString(n)||u.module==="Documents"){return false}return!t.acl.hasAccessToModel("read",u,n)||!_.contains(c,n)};_.each(a,function e(i,a){var o=void 0;var l=void 0;var c=i.uri||i.file_uri;var h=i["content-length"];var p=i.name||i.document_revision_filename;if(!c||f(a)){return}var m=!_.isEmpty(t.api.getDownloadToken());var g=_.find(s,function(e){return e.name===a});o=g?t.lang.get(g.label,u.module):p;if(p&&h){o+=" ("+u._fileSizeFormat(i["content-length"])+")";if(h>n){i.openExternally=true}}if(p&&!i.nonSugarURL){l=c.split(/rest\/v\d*\//)[1];c=t.api.serverUrl+"/"+l+"?platform="+t.config.platform;if(m){if(!i.oauth){c+="&download_token={download_token}"}}else{c+="&oauth_token={oauth_token}"}}var v={};v[o]={url:c,openExternally:i.openExternally||false,isImage:g&&g.type==="image",file_mime_type:i.file_mime_type||i["content-type"]||this.get("file_mime_type")||"",filename:r.sanitizeFileName(i.filename||i.name||this.get(a)),oauth:i.oauth,fieldName:a};d.push(v)},this);o=o||[];var h=_.keys(a);var p=_.filter(o,function(e,t){return!_.contains(h,_.values(e)[0].fieldName)});d.push.apply(d,i(p));if(!l.silent){this.trigger("docs:ready",d)}return d},_fileSizeFormat:function e(t){return t<=0?"0":String(r.humanFileSize(t))},_canHaveFiles:function e(n){var i=t.config.modules.modulesWithFiles||[];return!_.isEmpty(n)||_.contains(i,this.module)||_.has(this.fields,"doc_url")},_canHavePDFs:function e(){var n=t.config.modules.modulesWithPDFs||[];return _.contains(n,this.module)},getFieldsDataArray:function e(n,i){var a=void 0;var r=void 0;var s=void 0;var o=void 0;var l=[];var u=this;var c=void 0;var d=void 0;_.each(n,function(e){o={};r=u.get(e.name);d=e.name;s=t.metadata.getModule(u.module).fields[d];if(r&&(_.isUndefined(i)||r.match(i))){c=e.label||s.label||s.vname||d;a=t.lang.get(c,u.module);o[a]=r;l.push(o)}});return l},getAccessibleFields:function e(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"read";var a=this;n=_.filter(n,function(e){return t.acl.hasAccessToModel(i,a,e.name)});return n||[]},getAccessibleFieldsGroups:function e(t,n){var i={};var a=this;_.each(t,function(e,t){e=a.getAccessibleFields(e,n);if(e.length){i[t]=e}});return i},isDataDefined:function e(t,n){return _.any(t,function e(t){var i=this.get(t.name);return n?_.isString(i)&&i.match(n):i},this)},hasActiveEmail:function e(t){return _.any(t,function e(t){return _.any(this.get(t.name),function(e){return!Number(e.invalid_email)&&!Number(e.opt_out)})},this)},hasDeleteAccess:function e(){if(t.acl.hasAccessToModel("delete",this)&&!_.contains(t.config.modules.nonDeletableModules,this.module)){return!(t.serverInfo.isSevenUp&&(this.get("closed_revenue_line_items")||_.find(t.config.modules.nonDeletableSalesStages,function e(t){return t===this.get("sales_status")||t===this.get("sales_stage")},this)))}return false},hasEditAccess:function e(){return t.acl.hasAccessToModel("edit",this)&&!_.contains(t.config.modules.nonEditableModules,this.module)},hasUnlinkAccess:function e(n,i){if(i.relationship_type==="many-to-many"){return true}if(!_.isEmpty(n)){return!_.find(n,function e(n){return!t.acl.hasAccessToModel("edit",this,n.name)},this)}else if(i.via_parent_id){return t.acl.hasAccessToModel("edit",this,i.relationship_role_column)}return true},changeCurrencyId:function e(n,i){i=i||{};var a=this.get("currency_id")||n;var r={};var s=i.silentField||{};_.each(this.fields,function e(i,s){if(i.type!=="currency"){return}var o=this.get(s);if(o){var l=t.currency.convertAmount(o,a,n);this.set(s,l,{silent:true})}r[s]=true},this);this.set("currency_id",n,{silent:true});if(!i.silent){_.each(r,function e(t,n){if(s===n){return false}this.trigger("change:"+n)},this)}},getChangeDiff:function e(t,n){var i={};t=t||{};n=n||[];_.each(this.attributes,function(e,a){if(_.contains(n,a)){return}var r=t[a];if(!_.isEqual(r,e)){i[a]=r}});return i},save:function e(t,n){n=n||{};n.lastModified=this.get("date_modified");return u.prototype.save.call(this,t,n)},uploadFile:function e(n,i,a,r){a=a||{};r=r||{};r.iframe=false;var s=this;r.deleteIfFails=Boolean(r.isCreate);return t.api.file("create",{id:this.id,module:this.module,field:n},i,{success:function e(t,i,r){var o=t[n];if(o){s._onFileChange(t,n);if(a.success){a.success(t)}}else{var l=new SUGAR.Api.HttpError({xhr:r});l.responseText=t.xhr?t.xhr.message:l.responseText;if(a.error){a.error(l)}}},error:function e(t){t.isFileUploadError=true;a.error.call(this,t)}},r)},deleteFile:function e(n,i,a,r){var s=this;r=r||{};var o={success:function e(t){s._onFileChange(t,n);if(a.success){a.success(t)}},error:function e(t){t.isFileUploadError=true;if(a.error){a.error(t)}}};return t.api.file("delete",{module:this.module,id:this.id,field:n},null,o,r)},_onFileChange:function e(t,n){this.set(n,t[n].name);if(t.record){this.set("date_modified",t.record.date_modified)}else{this._docsUpdated=true}},isCloseActionAvailable:function e(){var n=this.get("status");var i=r.getClosedStatusValue(this.module);var a=i===n;return i&&!a&&t.acl.hasAccessToModel("edit",this,"status")&&!_.contains(t.config.modules.nonEditableModules,this.module)},copy:function e(t,n,i){_.each(this._defaults,function e(t,n){this.set(n,"")},this);u.prototype.copy.call(this,t,n,i);this._unsetByDef();this._unsetByACL()},_unsetByDef:function e(){var n=this.get("email1");var i=function e(t){if(_.isString(t)){this.unset(t)}else{_.each(this.attributes,function e(n,i){if(t.test(i)){this.unset(i)}},this)}};_.each(t.NomadBean._getDoNotCopyFields(this.module),function e(t){i.call(this,t)},this);var a=t.metadata.getModule(this.module);var r=a?a.fields:null;var s=_.chain(r).filter(function(e){return _.contains(t.NomadBean._doNotCopyFieldTypes,e.type)}).pluck("name").value();_.each(s,function e(t){i.call(this,t)},this);if(n){this.set("email1",n)}},_unsetByACL:function e(){var n=this;var i=_.getNested(t.metadata.getView(this.module,"edit"),"panels.0.fields");var a=function e(i){_.each(i,function(i){if(_.isEmpty(i.fields)){var a=i.name;if(!t.acl.hasAccessToModel("edit",n,a)){n.unset(a)}}else{e(i.fields)}})};a(i)}},{_doNotCopyFieldNames:{All:["created_by","created_by_name","modified_by_name","modified_user_id","date_entered","date_modified","my_favorite","deleted",/^email([^_]|_(?!c$|reminder))+$/],Employees:["user_name","user_hash","system_generated_password","pwd_last_changed","authenticate_id","sugar_login","is_admin","picture","status"],Calls:["status"],Contacts:["portal_active","portal_app","portal_name","portal_password","portal_password1"],Notes:["contact_email","contact_phone","file_mime_type","file_url"],Tasks:["contact_email","contact_phone","status"],Meetings:["status"],RevenueLineItems:["quote_id","quote_name"],Opportunities:["closed_revenue_line_items"]},_doNotCopyFieldTypes:["file","password","image"],_getDoNotCopyFields:function e(){var n=null;t.events.on("app:sync:complete",function(){n=null});var i={"7.0":{"ENT, ULT":{Opportunities:["amount","date_closed"]}}};var a=function e(n,a){var r=_.find(i,function(e,i){if(!t.utils.versionCompare(a,i,">=")){return false}var r=_.find(e,function(e,t){var i=t.split(/,\s*/);return _.contains(i,n)});return r});return r&&_.values(r)[0]};var s=function e(){if(n!==null){return n}var i=t.metadata.getServerInfo();var s=i.flavor;var o=i.version;var l=t.NomadBean._doNotCopyFieldNames;var u=a(s,o);n=r.merge(l,u,function(e,t){return _.union(e,t)});return n};return function e(t){var n=s();var i=n.All;var a=n[t];if(a){i=_.union(i,a)}return i}}()});t.data.beanModel=t.NomadBean})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){var i=t.config.raven;var a=function e(){var t=[];var n=i&&i.enabled&&i.enhancedErrorReporting&&i.enhancedErrorReporting.maxLogSize;return{push:function e(i){i.timestamp=(new Date).toISOString();t.push(i);if(t.length>n){t.shift()}},empty:function e(){t=[]},getAll:function e(){return _.clone(t).reverse()}}}();var r=function e(t,n,i){var a=t[n];t[n]=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}i.apply(this,n);return a.apply(this,n)};t[n]._originalMethod=a};var s=function e(t,n){t[n]=t[n]._originalMethod};var o=function e(t,n,i){var a={method:t,module:n.module};if(n.id){a.modelId=n.id}if(n.filterDef){a.filterDef=n.filterDef}if(i){a.options=_.pick(i,["byPtr","limit","myItems","query","offset"]);if(i.relate&&n.link&&n.link.bean){a.link=n.link.name;a.parentModule=n.link.bean.module;a.parentId=n.link.bean.id}if(i.favorite){a.action=n.get("my_favorite")?"favorite":"unfavorite"}if(i.following){a.action=n.get("following")?"follow":"unfollow"}}return a};var l=function e(t){return{route:t}};var u=function e(t,n,i){return{code:t.code,status:t.status}};var c=function e(t){return{options:t}};var d=n(82);var f=[{context:t.data,method:"sync",filter:o,label:"data-manager.sync"},{context:t.nomad,method:"login",label:"app.login"},{context:t.nomad,method:"logout",label:"app.logout"},{context:t.nomad,method:"onMemoryWarning"},{context:t.nomad,method:"onResume"},{context:t.nomad,method:"onPause"},{context:t.error,method:"handleHttpError",filter:u},{context:t.NomadController.prototype,method:"navigate",filter:l},{context:t.NomadController.prototype,method:"goBack"},{context:t.NomadController.prototype,method:"clean",label:"controller.clean"},{context:d,method:"_loadScreen",filter:c}];var h={init:function e(){if(!(i&&i.enabled&&i.enhancedErrorReporting)||this.initialized){return false}_.each(f,function(e){r(e.context,e.method,function t(){var n={label:e.label||e.method};if(e.filter){for(var i=arguments.length,r=Array(i),s=0;s<i;s++){r[s]=arguments[s]}_.extend(n,e.filter.apply(this,r)||{})}a.push(n)})});this.initialized=true},getLog:function e(){return a.getAll()},dispose:function e(){_.each(f,function(e){s(e.context,e.method)});a.empty();this.initialized=false}};t.augment("enhancedErrorReporter",h,true)})(SUGAR.App)},function(e,t,n){"use strict";var i=n(22);(function e(t){t.raven={initialize:function e(){},ravenDataCallback:function e(n){n.tags=_.extend(n.tags||{},{native:t.isNative,osVersion:_.getNested(t,"clientInfo.device.osVersion"),uuid:_.getNested(t,"clientInfo.device.uuid"),device:_.getNested(t,"clientInfo.device.model"),offline:t.config.offline&&t.config.offline.enabled});n.extra=_.extend(n.extra||{},{model:_.getNested(t,"clientInfo.device.model"),modelName:_.getNested(t,"clientInfo.device.modelName"),bundleId:_.getNested(t,"clientInfo.app.bundleId"),serverUrl:i.getServerUrl(),serverVersion:i.getServerVersion(),extendedLog:t.enhancedErrorReporter.getLog()});return n},ravenShouldSendCallback:function e(){return t.config.raven.enabled},ravenReported:function e(n){if(t.error){var i=n.data||{};t.error.logFatalError(i.message,i)}},setUser:function e(t){Raven.setUser(t?{id:t}:null)}};if(t.config.raven&&t.config.raven.enabled&&!_.isEmpty(t.config.raven.url)){document.addEventListener("ravenSuccess",t.raven.ravenReported,false);document.addEventListener("ravenFailure",t.raven.ravenReported,false);Raven.config(t.config.raven.url,{tags:{version:t.config.appVersion,build:t.config.appBuild,env:t.config.raven.env},dataCallback:t.raven.ravenDataCallback,shouldSendCallback:t.raven.ravenShouldSendCallback}).install();t.events.on("app:start",function(){t.raven.setUser(t.api.isAuthenticated()?"authenticated":null)}).on("app:login:success",function(){t.raven.setUser("authenticated")}).on("app:logout",function(){t.raven.setUser()})}})(SUGAR.App)},function(e,t,n){"use strict";var i=n(22);var a=n(3),r=a.isOnline;(function e(t){var a=n(5);var s=n(6);var o={INTERNET_UNAVAILABLE:-1,CONNECTION_FAILED:-2,CONNECTION_TIMEOUT:-3,INVALID_CREDENTIALS:-4};var l=function e(){t.router.login()};var u=t.error.handleStatusCodesFallback;var c=t.error.enableOnError;t.error.statusCodes["200"]=t.error.statusCodes["0"];t.error=_.extend(t.error,{enableOnError:function e(){if(t.config.raven&&t.config.raven.enabled){return true}for(var n=arguments.length,i=Array(n),a=0;a<n;a++){i[a]=arguments[a]}return c.apply(this,i)},_alertUnauthorized:function e(){t.alert.show("auth_error",{level:"error",messages:t.lang.get("ERR_MOBILE_NOT_AUTHORIZED"),autoClose:true})},_alertSystemError:function e(n){var i=n.status||n.status===0?n.status.toString():"N/A";var a=void 0;if(n instanceof t.offline.Error){a=n.localizedMessage()}else{a=t.lang.get("ERR_MOBILE_INTERNAL").replace("{{{code}}}",i)}t.alert.show("system_error",{level:"error",messages:a,autoClose:true,uid:"ERR_MOBILE_INTERNAL_"+i,pageHash:n.request?n.request.params.pageHash:null})},handleNeedLoginError:function e(){t.alert.show("auth_error",{level:"error",messages:t.lang.get("ERR_MOBILE_INVALID_CREDS"),autoClose:true});l();this._sendAnalytics(o.INVALID_CREDENTIALS)},handleInvalidGrantError:function e(){t.alert.show("auth_error",{level:"error",messages:t.lang.get("ERR_MOBILE_SESSION_EXPIRED"),autoClose:true});l()},handleUnhandledError:function e(n,a,r){try{this.logFatalError(n,{url:a,line:r,version:i.getProductVersion(),serverVersion:i.getServerVersion(),serverUrl:i.getServerUrl(),clientInfo:t.clientInfo})}catch(e){}},logFatalError:function e(n,i){try{var a=t.config.env==="prod";n=n||"Unknown error";t.logger.fatal(n+"\n"+JSON.stringify(i));n=a?t.lang.get("ERR_INTERNAL_ERR_MSG"):"FATAL: "+n;t.alert.show("system_error",{level:"error",messages:n,autoClose:true});t.analytics.trackEvent({category:"device",action:"exception"})}catch(e){}},handleUnauthorizedError:function e(){this._alertUnauthorized();l()},handleForbiddenError:function e(t){this._alertUnauthorized();this._sendAnalytics(t.status)},handleNotFoundError:function e(n){t.alert.show("not_found_error",{level:"error",messages:this._adjustErrorMessage("ERR_MOBILE_NOT_FOUND",n),autoClose:true});this._sendAnalytics(n.status)},handleTimeoutError:function e(n){t.alert.show("system_error",{level:"error",messages:this._adjustErrorMessage("ERR_MOBILE_TIMEOUT",n),autoClose:true,uid:"ERR_MOBILE_TIMEOUT",pageHash:n.request.params.pageHash});this._sendAnalytics(o.CONNECTION_TIMEOUT)},handleMethodConflictError:function e(t){this._sendAnalytics(t.status)},handleStatusCodesFallback:function e(n,i,c){var d=void 0;var f=n.status;t.alert.dismissAll({animate:false});if(_.isUndefined(n.status)){if(n===t.offline.Error.OutOfSpaceError){t.alert.show("offline_error",{level:"error",messages:n.localizedMessage(),autoClose:true})}return}var h=void 0;if(n.status=="0"&&(n.textStatus==="error"||n.textStatus==="abort")&&_.isEmpty(n.errorThrown)){if(r()){d="Server is unreachable. "+(navigator.connection?"Connection: "+navigator.connection.type:"");f=o.CONNECTION_FAILED}else{d="Device is offline";f=o.INTERNET_UNAVAILABLE}t.alert.show("network_error",this._getNetworkAlertParams(n,i,c))}else if(n.status=="412"){if(t.nomad._isSyncing||t.nomad._hasAskedForSync){return}t.nomad._hasAskedForSync=true;a.showConfirm(t.lang.get("ERR_MOBILE_METADATA_CHANGED_RELOAD"),{callback:function e(n){t.nomad.dismissAlerts();if(n===2){if(document.activeElement){document.activeElement.blur()}t.controller.clean({disposeAll:true});t.nomad.syncApp()}else{t.nomad._hasAskedForSync=false;t.alert.show("meta_error",{level:"error",messages:t.lang.get("ERR_MOBILE_METADATA_CHANGED"),autoClose:true})}}})}else if(n.status=="422"&&n.message&&(h=n.message.match(/^(.*) is an invalid email address$/))){t.alert.show("meta_error",{level:"error",messages:t.lang.get("ERROR_EMAIL",null,{email:h[1]}),autoClose:false})}else if(n.status=="433"){s._getNativeParam("appDownloadUrl",function(e,n){if(e){t.logger.error(e)}if(n){a.showConfirm(t.lang.get("ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION_UPDATE",null,{brandName:t.config.brandName}),{callback:function e(i){t.nomad.dismissAlerts();if(i===2){s.openUrl(n)}l()}})}else{t.alert.show("incompatible_client",{level:"error",messages:t.lang.get("ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION",null,{brandName:t.config.brandName}),autoClose:false})}})}else{this._alertSystemError(n);if(n.status=="400"){l()}}var p=!_.contains([0,433,412],n.status);if(p||!p&&t.logger.levels[t.config.logger.level].value<=t.logger.levels.DEBUG.value){if(d){t.logger.error(d)}u(n);this._logRequestUrl(n)}this._sendAnalytics(f)},handleNotSupportedPlatform:function e(){window.location.replace("error-not-supported-platform.html?desktop_url="+i.getDesktopUrl())},handleExternalLoginNotAvailable:function e(){t.alert.show("sso_error",{level:"error",messages:t.lang.get("ERR_MOBILE_SSO_NOT_CONFIGURED"),autoClose:true})},isAccessError:function e(t){return _.contains([403,404],t.status)},_getNetworkAlertParams:function e(n,i,a){var s={};var o=void 0;if(r()){o="ERR_MOBILE_CONNECTION_FAILED";s={messages:this._adjustErrorMessage(o,n),level:"error",uid:o}}else if(t.offlineEnabled){o="WARN_MOBILE_INTERNET_UNAVAILABLE";s={messages:t.lang.get(o),level:"warning",uid:o}}else{o="ERR_MOBILE_INTERNET_UNAVAILABLE";s={messages:t.lang.get(o),level:"error",uid:o}}s=_.extend({autoClose:true,pageHash:n.request.params.pageHash,forceAlert:a&&a.forceAlert,requestOptions:a},s);var l=i&&i.module;a=a||{};var u=t.offlineEnabled&&l&&!t.offline.isModuleOfflineEnabled(l)&&a.method!=="read"&&!_.contains(["Filters"],l);var c=u||n.isFileUploadError;if(c){delete s.uid}return s},_sendAnalytics:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"unknown";t.analytics.trackEvent({category:"api-error",action:n})},_isPingRequest:function e(t){return new RegExp("/ping").test(t)},_adjustErrorMessage:function e(n,i){var a=i&&i.request&&i.request.params?t.api.isLoginRequest(i.request.params.url)||this._isPingRequest(i.request.params.url):false;if(a){n+="_LOGIN"}return t.lang.get(n,null,{brandName:t.config.brandName,minVersion:t.config.minServerVersion,supportedFlavors:t.config.supportedServerFlavors.join(", ")})},_logRequestUrl:function e(n){if(n.request&&n.request.params&&n.request.params.url){t.logger.error("URL of failed request: "+n.request.params.url)}}});t.error.statusCodes["422"]=t.error.handleStatusCodesFallback})(SUGAR.App)},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(12);var s=n(5);var o=n(23);var l=n(47);var u=n(20);var c=n(32);var d=n(121);var f=n(10);var h=n(123),p=h.saveUser,m=h.restoreUser;var g={};window.nomadAppEventHandlerContext=g;a.events.on("all",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}var s=[];var o=[e].concat(n);_.each(a.events._events,function(t,n){var i=n.split(".");if(i.length>1&&i[0]===e){s.push(n)}});if(s.length>0){_.each(s,function(e){var t;o[0]=e;(t=a.events).trigger.apply(t,i(o))})}});a.events.on("app:init",function(){window.clearInterval(a.metadata._validateMDInterval);a.metadata._validateMDInterval=null;a.isBodyScrollRequired=$.os.android&&!a.isTablet;_.extend(a.metadata.fieldTypeMap,{iframe:"url",link:"url",multienum:"multienum",name:"name",double:"float",username:"text",user_name:"text"});a.lang.setCurrentLanguage(a.lang.getLanguage()||"en_us");r.updateServerInfo();r.resetMeta(false,false);m();c.updateOfflineUserSetting();l.initSubpanels();a.data.declareModels();r.updateAuthStore();a.config.sugarLogic=a.config.sugarLogic||{};if(a.config.sugarLogic.enabled&&a.config.sugarLogic.isDynamic){a.loadSugarLogic()}r.configureSugarLogic();if(a.isSynced){o.initializeContextMeta()}if(a.isNative&&navigator.splashscreen){_.delay(function(){navigator.splashscreen.hide()},500)}},g).on("nativeMessage",function(e){a.logger.debug("Received native message: "+JSON.stringify(e));if(e.target==="redirect"&&!_.isEmpty(e.path)){a.controller.navigate(e.path)}}).on("app:sync",function(){r._isSyncing=true;f.show("app:sync",{template:"preloader-panel"})},g).on("app:sync:complete",function(){r._isSyncing=false;r._hasAskedForSync=false;a.logger.debug("Sync complete");a.loginManager.handleSyncComplete();a.hacks.hackModuleList();l.initSubpanels();a.hacks.hackAcls();p();o.initializeContextMeta();r.updateAuthStore();a.analytics.init();r.configureSugarLogic();var e=JSON.stringify(a.metadata.get());if(e&&e.length>1e6){a.analytics.trackEvent({category:"metadata",action:"limit",value:parseInt(e.length/1e3,10),label:_.getNested(a,"clientInfo.device.uuid")})}},g).on("app:sync:error",function(e){r._isSyncing=false;r._hasAskedForSync=false;a.logger.debug("Sync failed");if(!(e instanceof SUGAR.Api.HttpError)){var t=_.extend({version:"N/A",flavor:"N/A",minVersion:a.config.minServerVersion,supportedFlavors:a.config.supportedServerFlavors.join(", ")},e.server_info);e=a.lang.get(e.label,null,t)||(_.isString(e)?e:a.lang.get("LBL_MOBILE_META_SYNC_FAILED"));s.showAlert(e,{callback:function e(){a.nomad.dismissAlerts();f.hide("app:sync",{animate:true});a.loginManager.logout()},title:a.lang.get("ERR_GENERIC_TITLE")})}else if(e.code==="invalid_grant"){f.hide("app:sync");a.error.handleInvalidGrantError()}else{s.showConfirm(a.lang.get("LBL_MOBILE_META_SYNC_FAILED_RETRY"),{callback:function e(t){a.nomad.dismissAlerts();if(t===2){a.nomad.syncApp()}else{f.hide("app:sync",{animate:true});a.loginManager.logout()}},title:a.lang.get("ERR_GENERIC_TITLE"),buttonLabels:[a.lang.get("LBL_MOBILE_RELOGIN_BUTTON"),a.lang.get("LBL_YES")]})}},g).on("offline:encryption:start",function(){a.alert.show("offline_encryption",{level:"info",messages:a.lang.get("LBL_OFFLINE_ENCRYPTION_IN_PROGRESS"),autoClose:false,closable:false})},g).on("offline:encryption:complete",function(e){if(e){a.alert.dismiss("offline_encryption");a.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}else{a.alert.show("offline_encryption",{level:"success",messages:a.lang.get("LBL_OFFLINE_ENCRYPTION_SUCCESS"),autoClose:true})}},g).on("app:login:success",function(){a.loginManager.handleLoginSuccess();r.syncApp()},g).on("app:logout",function(){a.alert.dismiss("logout");r.resetMeta(false,true);u.toggleTouchIdOnLogin(false);a.data.declareModels();a.controller.clean({disposeAll:true});a.nomad.deactivateMainMenu();if(a.offlineEnabled){c.stop()}}).on("app:start",function(){a.started=true},g).on("offline:failure",function(e){if(e===a.offline.Error.OfflineDisabledError){return}if(e===a.offline.Error.StorageUnavailableError){s.showAlert(e.localizedMessage()+"\n"+a.lang.get("LBL_OFFLINE_DISABLED"))}else if(e===a.offline.Error.OutOfSpaceError){d.cleanUp()}else{a.alert.show("offline_error",{level:"error",messages:e.localizedMessage(),autoClose:true})}},g).on("app:dashboards:changed",function(){if(!a.api.isAuthenticated()){return}var e=a.lang.get("LBL_DASHBOARDS_CHANGED_PROMPT");a.nomad.dashboards.verifyDefaultView();s.showConfirm(e,{callback:function e(t){if(t===2){a.nomad.dismissAlerts();a.controller.navigateToDefaultView();a.controller.clean();a.nomad.mainMenu.render()}}})},g).on("app:locale:change",function(){a.nomad.setHTMLDirection()},g)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(23);var s=n(3),o=s.isNameErased,l=s.isEmptyValue,u=s.supportsFavorite,c=s.stringToHtmlEntities,d=s.htmlEntitiesToString,f=s.humanFileSize,h=s.escapeRegExp,p=s.formatLinks;var m={};if(i.offline){m[i.offline.SyncActions.CREATE]="LBL_ACTION_CREATE";m[i.offline.SyncActions.UPDATE]="LBL_ACTION_UPDATE";m[i.offline.SyncActions.DELETE]="LBL_ACTION_DELETE";m[i.offline.SyncActions.LINK]="LBL_ACTION_LINK";m[i.offline.SyncActions.UNLINK]="LBL_ACTION_UNLINK";m[i.offline.SyncActions.FAVORITE]="LBL_ACTION_FAVORITE";m[i.offline.SyncActions.FOLLOW]="LBL_ACTION_FOLLOW"}var g={};if(i.offline){g[i.offline.SyncActions.CREATE]="LBL_ACTION_CREATE_EXPLANATION";g[i.offline.SyncActions.UPDATE]="LBL_ACTION_UPDATE_EXPLANATION";g[i.offline.SyncActions.DELETE]="LBL_ACTION_DELETE_EXPLANATION";g[i.offline.SyncActions.LINK]="LBL_ACTION_LINK_EXPLANATION";g[i.offline.SyncActions.UNLINK]="LBL_ACTION_UNLINK_EXPLANATION";g[i.offline.SyncActions.FAVORITE]="LBL_ACTION_FAVORITE_EXPLANATION";g[i.offline.SyncActions.FOLLOW]="LBL_ACTION_FOLLOW_EXPLANATION"}var v=function e(t){var n=_.union(i.metadata.getModuleNames({filter:"visible"}),["Users"]);var a=_.contains(n,t.module);var r=a?'<a href="#'+t.module+"/"+t.id+'">'+Handlebars.Utils.escapeExpression(t.name)+"</a>":'<span class="module-name">'+Handlebars.Utils.escapeExpression(t.name)+"</span>";return new Handlebars.SafeString(r)};var b=function e(){var t=function e(t){var n=void 0;var a=void 0;var r=i.serverInfo.isSevenUp;if(r){n=/<strong>.*?<\/strong>/g;a=/(<strong>)|(<\/strong>)/g}else{n=/<span class="highlight">.*?<\/span>/g;a=/(<span class="highlight">)|(<\/span>)/g}var s=d({stringToTransform:t});s=c({stringToTransform:s});var o=t.match(n);var l=void 0;_.each(o,function(e){l=c({stringToTransform:e.replace(a,"")});s=s.replace(c({stringToTransform:e}),'<span class="highlight">'+l+"</span>")});return s};Handlebars.helpers.__sanitizeSearchResult=t;return t}();var y={ifHasAccessToModel:function e(t,n,a){var r=a.hash.field;return i.acl.hasAccessToModel(t,n,r)?a.fn(this):a.inverse(this)},moduleNameSingular:function e(t){return i.lang.getModuleName(t)},optionLabel:function e(t,n){var a=_.isString(t)?i.lang.getAppListStrings(t):t;return a[n]},searchListItem:function e(t){if(!i.acl.hasAccess("list",t.module)){return Handlebars.SafeString("")}var n=t.searchInfo;var a=n?n.highlighted:null;var r=o(t)?i.lang.get("LBL_VALUE_ERASED"):Handlebars.Utils.escapeExpression(t.get("name"));var s="";var l=[];if(this.fields&&this.fields.length){if(this.fields[0].type!=="name"){l.push(this.fields[0])}}var u=[];_.each(a,function(e,t){var n=void 0;if(_.isArray(e.text)){n=_.map(e.text,function(e){return b(e)}).join("")}else{n=b(e.text)}if(t==="name"){r=n}else{u.push(t);s+='<div class="search-result clip">'+i.lang.get(e.label,e.module)+": "+n+"</div>"}},this);var c='<div class="item-name clip">'+r+"</div>";if(!_.isEmpty(s)){c+=s}return new Handlebars.SafeString(c)},getTxLogActionName:function e(t){t=m[t];var n=i.lang.get(t)||t;return new Handlebars.SafeString(n)},getTxLogModuleName:function e(){return i.lang.getModuleName(this.model.attributes._tx_bean_module,{plural:true})},getTxLogActionExplanation:function e(){var t=this.model.attributes._tx_action;var n=void 0;var a=this.model.attributes.bean;var s=void 0;if(a){s=_.isEmpty(a.name)?a[r.getContextMeta("list",a._module).nameField.name]:a.name}else{s=i.lang.get("LBL_RECORD_DELETED")}var o={module:i.lang.getModuleName(this.model.attributes._tx_bean_module),name:s};if(t===i.offline.SyncActions.FAVORITE&&!this.model.attributes._tx_updated_fields.my_favorite.after){n="LBL_ACTION_UNFAVORITE_EXPLANATION"}else if(t===i.offline.SyncActions.FOLLOW&&!this.model.attributes._tx_updated_fields.following.after){n="LBL_ACTION_UNFOLLOW_EXPLANATION"}else if(this.model.attributes.related){o.relatedModule=i.lang.getModuleName(this.model.attributes._tx_related_module);o.relatedName=this.model.attributes.related.name;if(t===i.offline.SyncActions.CREATE){n="LBL_ACTION_CREATE_RELATED_EXPLANATION"}}n=n||g[t]||"Unknown action";o.relatedName=o.relatedName||i.lang.get("LBL_RECORD_DELETED");o.relatedModule=o.relatedModule||i.lang.getModuleName(this.model.attributes._tx_related_module);var l=i.lang.get(n,null,o);return new Handlebars.SafeString(l)},getTxLogItemStatusClass:function e(){var t=void 0;if(this.model.attributes._tx_error_count){var n=parseInt(this.model.attributes._tx_error,10);var a=i.offline.TransactionStatuses.UNRECOVERABLE;t=_.indexOf(a,n)>-1?"error":"warning"}return t},getErrorDescription:function e(t){var n=t;switch(t){case"403":n=i.lang.get("ERR_MOBILE_NOT_AUTHORIZED");break;case"409":n=i.lang.get("ERR_OFFLINE_SYNC_CONFLICT");break;case"412":n=i.lang.get("ERR_MOBILE_METADATA_CHANGED");break;case"500":n=i.lang.get("ERR_MOBILE_INTERNAL",null,{code:t});break}return new Handlebars.SafeString(n)},teamSearchItem:function e(t){var n=void 0;var i=void 0;var a="";var r="";var s=(t.collection.query||"").trim();var o=function e(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};if(s){i=new RegExp("("+o(Handlebars.Utils.escapeExpression(s))+")","i");_.each(["name","name_2"],function(e){r=t.get(e);n=r.match(i);if(n){a+=r.replace(n[0],"<b>"+n[0]+"</b>")}else{a+=r}a+=" "})}return new Handlebars.SafeString(a)},humanFileSize:function e(t){var n=f(t);if(n===null){return i.lang.get("LBL_NOT_AVAILABLE")}return n.toString(true)},listItems:function e(t,n,i){var a=_.map(t,function(e){var t=n.constructor.listItemDataProviders;var a=n.getListItemTpl(e);var r=n.getListItemDataProvider(e);var s=t[r]||t.ListItem;var o=s.prepareItemData(e,n,i);return Handlebars.helpers.partial(a,o,i).string});return new Handlebars.SafeString(a.join(""))},partial:function e(t,n,a){var r=a.hash.view;var s=r&&r.options.templateOptions&&r.options.templateOptions.partials?r.options.templateOptions.partials[t]:i.template.get(t);return new Handlebars.SafeString(s?s(n):"")},emailPlaceholder:function e(t,n){return i.lang.get(n.hash.required?"LBL_REQUIRED":"")},primaryEmail:function e(t){return t&&t.length?t[0].email_address:""},ifHasValue:function e(t,n,i){return t.get(n)?i.fn(this):i.inverse(this)},icon:function e(t,n){var a=i.template.get("icon");var r={iconClass:_.getNested(i.config.ui.icons,t),additionalClass:_.getNested(n.hash,"additionalClass")};return new Handlebars.SafeString(a(r))},moduleIcon:function e(t,n){var a=i.template.get("icon-module");var r={iconClass:_.getNested(i.config.ui.icons.modules,t)||_.getNested(i.config.ui.icons,n.hash.iconKey),additionalClass:_.getNested(n.hash,"additionalClass"),displayInitials:!n.hash.iconKey&&i.config.ui.displayInitials,module:t,iconLabel:n.hash.iconLabel};return new Handlebars.SafeString(a(r))},moduleIconLabel:function e(t){var n=i.lang.getAppListStrings("moduleIconList")[t]||i.lang.getModuleName(t)||t;var a=n.indexOf(" ");return a===-1?n.substring(0,2):n.substring(0,1)+n.substring(a+1,a+2)},clearButton:function e(t){var n=t.hash.iconKey||"edit.clear";return Handlebars.helpers.icon(n,{hash:{additionalClass:"clear-button"}})},isFavoriteable:function e(t,n){var a=void 0;var r=void 0;var s=void 0;var o="";if(t instanceof Backbone.Model){a=t.module;s=t;r={isFavorite:t.get("my_favorite")}}else{a=t;r={};s=i.data.createBean(a)}if(a&&u(s)){o=n.fn(r)}return new Handlebars.SafeString(o)},join:function e(t,n){var i=n.hash.delimiter||",";var a=n.hash.start||0;var r=t?t.length:0;var s=n.hash.end||r;var o="";if(s>r){s=r}if(_.isFunction(n.fn)){for(var l=a;l<s;l++){if(l>a){o+=i}if(_.isString(t[l])){o+=t[l]}else{o+=n.fn(t[l])}}return o}return[].concat(t).slice(a,s).join(i)},joinPrimaryFirst:function e(t,n){var i=_.sortBy(t,function(e){return!e.primary});return Handlebars.helpers.join(i,n)},multienumStr:function e(t,n,a){var r=a.fn,s=a.hash;var o=_.isString(s.delimiter)?s.delimiter:", ";var l="";if(n&&n.length){var u=_.isString(t)?i.lang.getAppListStrings(t):t;n=_.isString(n)?n.replace(/(\^)/g,"").split(","):n;_.each(n,function(e){if(u[e]){l+=r?r({id:e,name:u[e]}):u[e]+o}})}if(l){l=l.substr(0,l.length-2)}return new Handlebars.SafeString(l)},fieldByName:function e(){var t={my_favorite:{name:"my_favorite",type:"favorite"},following:{name:"following",type:"follow"}};return function e(n,i,a){if(!n){return""}var r=_.isObject(n)?_.extend({},n):t[n]||{name:n};var s=a.hash.type;var o=i.view||this;var l=r.model||i.model;if(s){r.type=s}a.hash.model=l;return Handlebars.helpers.field.call(r,o,a)}}(),prop:function e(t,n,a){t=t||{};if(_.isString(t)){t=i.lang.getAppListStrings(t)}if(t[n]){return t[n]}if(!_.isUndefined(a.hash.defaultValue)){return a.hash.defaultValue}return l(n)?"":n},nl2:function e(t,n){var i=n.hash.str||" ";return t.replace(/\n|\r|\t/,i)},ifFewCurrenciesAreAvailable:function e(t){var n=_.any(i.metadata.getCurrencies(),function(e){return e.status==="Active"});return n?t.fn(this):t.inverse(this)},isEmpty:function e(t,n){return l(t)?n.fn(this):n.inverse(this)},isNotEmpty:function e(t,n){return l(t)?n.inverse(this):n.fn(this)},ifFeatureSupported:function e(t,n){return i.supportedFeatures[t]?n.fn(this):n.inverse(this)},brandName:function e(){return i.config.brandName},html2text:function e(t,n){var i=/(<([^>]+)>)/gi;var a=t||"";var r=a.replace(i,"").replace(/\s\s+/g," ");if(n&&r.length>=n){r=r.substr(0,n);r+="..."}return r},ternary:function e(t,n,i){return t?n:i},labeledFields:function e(t,n){var a=i.metadata.getModule(n,"fields");var r=[];_.each(t,function(e,t){var s=a[t];var o=i.lang.get(s.vname,n);r.push(o)});return new Handlebars.SafeString(r.join(", "))},comment:function e(t,n){var a=_.union(i.metadata.getModuleNames({filter:"visible"}),["Users"]).sort();var r=c({stringToTransform:t,allowUrlChars:true});r=p(r);_.each(i.utils.deepCopy(n),function(e){if(!_.isObject(e)){return}_.each(e,function(t,n){e[n]=c({stringToTransform:t})});var t=new RegExp("@\\["+h(e.module)+":"+h(e.id)+":"+h(e.name)+"\\]","g");var n=_.indexOf(a,e.module,true)===-1?e.name:"<a href='#"+e.module+"/"+e.id+"' class='sugar_tag label-"+e.module+"'>"+e.name+"</a>";r=r.replace(t,n)});return new Handlebars.SafeString(r)},userPicture:function e(t){var n=i.template.get("icon");var r={iconClass:i.config.ui.icons.menu.user,additionalClass:"user-icon"};var s=$(n(r));var o=i.api.buildFileURL({field:"picture",module:"Users",id:t},a.getFileOptions());s.css({backgroundImage:"url("+o+")"}).addClass("withPicture");return new Handlebars.SafeString(s[0].outerHTML)},activityItem:function e(t){var n=t.activity_type;var a=t.data;var r=a.object,s=a.subject;var o="LBL_ACTIVITY_"+n.toUpperCase();var l={record:v(r),module:i.lang.getModuleName(r.module)};switch(n){case"update":_.extend(l,{changes:Handlebars.helpers.labeledFields(a.changes,r.module)});break;case"link":case"unlink":_.extend(l,{relatedRecord:v(s)});break}var e=i.lang.get(o,null,l);return new Handlebars.SafeString(e)},isActivityItemValid:function e(t,n){var a=t.activity_type;var r=t.data,s=r.object,o=r.subject;var l=Boolean(s&&s.module);if(l){switch(a){case"link":case"unlink":l=Boolean(o&&o.module);break;case"update":l=Boolean(i.metadata.getModule(s.module,"fields"));break}}if(!l){i.logger.error("Activity item is not valid")}return l?n.fn(this):n.inverse(this)},debugAttributes:function e(t,n,a){if(_.indexOf(["debug","e2e"],i.config.scheme)===-1){return""}var r=Object.prototype.hasOwnProperty.call(a.hash,"localize");var s=Object.prototype.hasOwnProperty.call(a.hash,"removeSpaces");var o=n?Handlebars.Utils.escapeExpression(n):"";o=r?i.lang.get(n,a.hash.localize):o;o=s?o.replace(/\s+/g,""):o;return new Handlebars.SafeString(t+'="'+o+'"')},currencySelect:function e(t){var n="";if(i.supportedFeatures.enumViaActionSheet){var a=_.find(t,function(e,t){return e.selected});a=a?a.iso4217:t[0].iso4217;n='<span class="actionsheet-select">'+a+"</span>"}else{n='<select name="currency_select">';_.each(t,function(e,t){var i=e.selected?"selected":"";var a=e.disabled?"disabled":"";n+='<option value="'+t+'" '+i+" "+a+' label="'+e.iso4217+'">'+e.iso4217+"</option>"});n+="</select>"}return new Handlebars.SafeString(n)},gaTrack:function e(t,n){var a=n.gaTrack&&n.gaTrack[t];return a?new Handlebars.SafeString(i.utils.formatString('track="{0}"',[a])):""},for:function e(t,n,i){var a="";var r={};for(var s=t;s<n;s++){r.index=s;r.counter=s+1;a+=i.fn(this,{data:r})}return a},childViews:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=n.pop();var r=a.data.root;if(_.isEmpty(n)){n=_.map(this._viewDefs,function(e){return e.viewId})}var s="";_.each(n,function(e){var t=r.createViewById(e);var n=t.$el[0].tagName;s+="<"+n+' view-cid="'+t.cid+'" class="'+(t.$el.attr("class")||"")+' view-holder-hide"></'+n+">"});return new Handlebars.SafeString(s)}};_.each(y,function(e,t){return Handlebars.registerHelper(t,e)});e.exports=y},function(e,t,n){"use strict";var i=SUGAR.App;var a=Backbone.History.extend({_initialized:false,start:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.silent=true;Backbone.History.prototype.start.call(i.navigation.history,t);window.removeEventListener("popstate",this.checkUrl,false);window.removeEventListener("hashchange",this.checkUrl,false);if(!this._initialized){$(window).on("popstate",_.bind(this._handleBrowserNavigation,this));this._initialized=true}this.clear();i.controller.navigate(window.location.hash)},stop:function e(){this.clear();for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}Backbone.History.prototype.stop.apply(this,n)},navigate:function e(t){var n=void 0;this._previous=this._current;if(t.back){this.pop();n=this._current.url}else{var i=this.getPrevStep();n=t.url;if(this._current&&!t.replaceCurrent){this._steps.push(this._current)}else if(i&&i.url===n){this._steps.pop()}this._current=_.omit(t,"replaceCurrent")}if(!t.updateUrlOnly){this._logRouteChange();this.loadUrl(n)}if(this._current&&this._current.data){delete this._current.data}this._syncBrowserHistory()},getSteps:function e(){return this._steps},getCurrentStep:function e(){return this._current},getPrevStep:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.includeSkipped;return n?this._previous:_.last(this._steps)},getCurrentUrl:function e(){return this._current?this._current.url:""},getStepById:function e(t){return _.findWhere(this._steps,{id:t})},clear:function e(){this._steps=[];this._current=null;this._previous=null},pop:function e(){if(this._steps.length!==0){this._current=this._steps.pop()}return this._current},getLength:function e(){return this._steps.length+1},go:function e(){},_handleBrowserNavigation:function e(t){var n=t.state;var a=window.location.hash;this._syncBrowserHistory();if(n){i.controller.handleBackButton()}else{i.controller.navigate(a)}},_syncBrowserHistory:function e(){var t=window.history;var n=window.location.hash;var i=this._steps;var a=i.length>1?i[i.length-2]:this._current;var r=a?a.url:n;var s=this._current?this._current.url:n;t.pushState({back:true},"",r);t.pushState({back:false},"",s)},_logRouteChange:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.stepDef,a=t.options;var r="";if(n){r+='Route changed to "'+n.name+'"'}if(a){r+=" step options: "+JSON.stringify(a)}if(r){i.logger.debug(r)}}});e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={dashboard:function e(t,n,i,a,r){return{root:"Dashboards",dashboardId:t,dashletId:n,module:i,modelId:a,action:r}},recordDashboard:function e(t,n,i,a,r,s,o,l){return{root:t||"",parentModule:n,parentModelId:i,dashboardId:a,dashletId:r,module:s,modelId:o,action:l}},linkedListRecordDashboard:function e(t,n,a,r,s,o){return{linkParentModule:t,linkParentModelId:n,moduleLink:a,parentModule:i.data.getRelatedModule(t,a),parentModelId:r,dashboardId:s,dashletId:o}},twinDashboard:function e(t,n,i,a,r,s){return{root:"Dashboards",parentDashboardId:t,parentDashletId:n,parentModule:i,parentModelId:a,dashboardId:r,dashletId:s}},defaultView:function e(){i.controller.navigateToDefaultView()},list:function e(t,n){return{root:t,module:n}},record:function e(t,n,i,a){return{root:t,module:n,modelId:i,action:a}},create:function e(t,n){return{root:t,module:n,action:"create"}},relatedList:function e(t,n,i){return{link:i,parentModule:t,parentModelId:n}},relatedRecord:function e(t,n,i,a,r){return{link:i,parentModule:t,parentModelId:n,modelId:a,action:r}},associate:function e(t,n,i){return{link:i,parentModule:t,parentModelId:n,action:"associate"}},createRelated:function e(t,n,i){return{link:i,parentModule:t,parentModelId:n,action:"create"}},about:function e(){return{root:"About"}},logout:function e(t){i.loginManager.logout({clear:t,resetRoute:true})},settings:function e(){return{root:"Settings"}},offline:function e(t,n){return{root:"Offline",module:t,modelId:n}},errorEmulation:function e(){return{root:"ErrorEmulation"}},createCall:function e(t,n,i,a,r){return{module:"Calls",action:"createCall",callData:{direction:t,startDate:n,durationHours:i,durationMinutes:a,status:r}}},createRelatedCall:function e(t,n,i,a,r,s,o,l,u){return{parentModule:t,parentModelId:n,action:"createCall",link:i,callData:{direction:a,startDate:r,durationHours:s,durationMinutes:o,status:l,logCall:u}}},configure:function e(t,n,i,a,r){return{serverUrl:t,loginName:n,pageUrl:i,ssoOption:a,useHttps:r}}}},function(e,t,n){"use strict";e.exports={about:{},settings:{},logout:{},"error-emulation":{},offline:{"offline-list":{"offline-detail":{}}},list:{"home-dashboard":{"home-dashboard-dashlet":{"home-dashboard-detail":{"home-dashboard-action":{}}},"double-dashboard":{mappedOptions:{parentDashboardId:"dashboardId",parentDashletId:"dashletId"}}},"list-create":{},"record-detail":{"record-action":{},"relationships-list":{"relationships-create":{},"relationships-detail":{"linked-list-dashboard":{mappedOptions:{linkParentModule:"parentModule",linkParentModelId:"parentModelId",moduleLink:"link",parentModelId:"modelId"}},"relationships-createCall":{},"relationships-action":{}},mappedOptions:{parentModelId:"modelId",parentModule:"module"}},"record-dashboard-dashlet":{"record-dashboard-detail":{"record-dashboard-action":{}},mappedOptions:{parentModule:"module",parentModelId:"modelId"}},"relationships-associate":{mappedOptions:{parentModelId:"modelId",parentModule:"module"}},"record-createCall":{}}},"search-list":{"search-create":{},"search-record-detail":{"search-record-action":{}}},"default-view":{}}},function(e,t,n){"use strict";var i=n(2);(function e(t){var n=t.alert.show;var a=t.alert.init;var r={};t.alert.show=function e(){for(var i=arguments.length,a=Array(i),s=0;s<i;s++){a[s]=arguments[s]}if(!a[1]){a[1]={}}var o=a[1];if(o.pageHash&&o.pageHash!==window.location.hash){return}if(o.uid&&t.offlineEnabled){var l=_.getNested(o,"requestOptions.params",{});if(!l.skipOfflineRead&&r[o.uid]&&!o.forceAlert){return}r[o.uid]=1}if(o.autoClose){_.defaults(o,{autoCloseDelay:t.config.ui.alertAutoCloseDelay})}return n.apply(this,a)};t.alert.init=function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}a.apply(this,n);this.klass=i.getViewClass({baseType:"alert"})}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.minutesToQuarterHours;var s=n(24);var o=n(7);var l=n(16);var u=n(27);var c=n(10);var d=i.Controller.extend({_screenContext:{},_propagatingData:null,updateHeader:function e(t,n){var i=this.layoutManager.getLayouts();var a=_.find(i,function(e){return _.contains(e._components,t)});var r=a&&a._header;if(!r){return}var s=n(r);if(_.isObject(s)){r.setConfig(s)}},initialize:function e(){i.plugins.attach(this,"view");this.context=new o;if(i.isTouchCapable&&i.config.ui.fastClickEnabled){window.FastClick.attach(document.body)}if(!_.isEmpty($.os)){$(document.body).addClass($.os.android?"android":"ios")}var t=n(82);this.layoutManager=t.init({rootHolder:i.$contentEl,recordHolder:$("#content-child")});this._initializeNavigation();this._initializeOffline()},_createCall:function e(t){var n=t.callData;var i=this.layoutManager._loadScreen(_.extend(t,{action:"create",isLoggingCall:n&&n.logCall}));var a=this.layoutManager.getRecordLayout().getComponent("edit");var s=r(n.durationMinutes);var o=n.durationHours;if(s===60){o=n.durationHours+1;s=0}a.setCallData({direction:n.direction,date_start:n.startDate,duration_hours:String(o),duration_minutes:String(s),status:n.status});return i},disposeDynamic:function e(t){this.layoutManager.disposeDynamicLayout(t);this.setMaskOnContentElement()},_loadScreen:function e(t){if(!t.isDynamic){this._beforeLoadStatic(t)}var n=void 0;if(t.action==="createCall"){n=this._createCall(t)}else{if(this._propagatingData){t=_.extend({propagatingData:this._propagatingData},t)}n=this.layoutManager._loadScreen(t)}this._loadData(n);this._afterLoad(t);if(t.action==="associate"){this._handleAssociateRoute(n,t)}return n},loadScreen:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=void 0;if(_.isFunction(t)){n={views:[t]}}else if(_.isObject(t)){if(_.isFunction(t.view)){n={views:[t.view],initOptions:t.initOptions,data:t.data,context:t.context,headerConfig:t.headerConfig}}else{n={views:[t.primary.view],initOptions:t.primary.initOptions,data:t.primary.data,context:t.primary.context,headerConfig:t.primary.headerConfig}}}if(t.fullScreen){n.fullScreen=true;n.appendTo="root"}var a=[n];if(i.isTablet&&t.secondary){a.splice(0,0,{views:[t.secondary.view],data:t.secondary.data,initOptions:t.secondary.initOptions,context:t.secondary.context,headerConfig:t.secondary.headerConfig})}var r={layouts:a,applyMaskToList:t.applyMaskToList,fullScreen:t.fullScreen};if(t.isDynamic){r.isDynamic=true;r.gaTrack=t.gaTrack}var s=this._loadScreen(r);var o=[];_.each(s,function(e){var t=_.find(e._components,function(e){return e._stringType!=="header"});if(t){o.push(t)}});return o},getScreenContext:function e(){return this._screenContext},getScreenContextRoot:function e(){var t=this._screenContext.root;var n=this._screenContext;if(t==="Dashboards"){t=[t];if(n.parentDashboardId){t.push(n.parentDashboardId,n.parentDashletId)}else if(n.dashboardId){t.push(this._screenContext.dashboardId);if(n.dashletId){t.push(n.dashletId)}}t=t.join("/")}return t},onHeaderMenuClick:function e(t){i.nomad.mainMenu.toggleMenu()},onHeaderCancelClick:function e(t){i.controller.goUp()},onUserPictureChange:function e(t){i.nomad.mainMenu._loadUserPicture(t.options.pictureId)},_handleAssociateRoute:function e(t,n){var i=this;var a=_.last(t);var r=a.getComponent(l);if(r.options.multiselect){r.onHeaderSaveClick=function(){i._linkRecords(r.getSelectedModels(),n)}}else{r.on("selection:change",function(e){i._linkRecords(e,n)})}},_linkRecords:function e(t,n){var a=this;var r=void 0;var s=i.data.createBean(n.parentModule,{id:n.parentModelId});i.syncAlertManager.pause("update",s);var o=asyncLib.queue(function(e,t){e.relateBean.save(null,{relate:true,fields:["id"],success:function e(){t()},error:function e(n,i,a){r=i;t(i)}})},1);o.drain=function(){i.syncAlertManager.resume("update",s,r);if(!r){a._onLinkRecordsSuccess({linkedModels:t,parentModel:s})}};_.each(t,function(e){o.push({relateBean:i.data.createRelatedBean(s,e.id,n.link)})})},_onLinkRecordsSuccess:function e(t){this._handleAfterLinkAction(t);i.controller.navigate({initiator:u.RELATE})},_handleAfterLinkAction:function e(t){var n=t.model?t.model.module:t.linkedModels[0].module;var i=t.parentModel;this.layoutManager.invalidateLayouts({list:{modules:[n]},detail:[{module:i.module,modelId:i.id}]})},onEditViewSave:function e(t){var n={};var a=t.options;var r=a.model;var s=a.parentModel;if(a.isCreate){n={list:{modules:[r.module,"Recents","Search"]}}}else{n={list:{modules:["Search"]},detail:{items:[{module:r.module,modelId:r.get("id")}],loadParams:{partialLoad:true}}}}this.layoutManager.invalidateLayouts(n);if(r.link){this._invalidateAfterLinkAction(r)}var o=i.navigation.history.getPrevStep();if(!i.acl.hasAccessToModel("view",r)){this.layoutManager.invalidateLayouts({detail:[{module:r.module,modelId:r.get("id")}]});this.navigateToDefaultView();return}else if(a.isCreate&&this._screenContext.link&&(!o||this._screenContext.parentModelId===o.screenOptions.modelId)){this._handleAfterLinkAction(a)}if(!a.skipNavigation){i.controller.navigate({contextOptions:{module:r&&r.module,modelId:r&&r.id,parentModule:s&&s.module,parentModelId:s&&s.id,isCreate:a.isCreate},initiator:u.SAVE})}},_afterLoad:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=void 0;if(t.isDynamic){var a=_.find(t.layouts,function(e){return Boolean(e)});n={gaTrack:t.gaTrack||a.gaTrack,context:a.context};n.isDynamic=true}else{n=_.clone(this._screenContext)}this.setMaskOnContentElement(t);i.trigger("app:view:change",n)},_beforeLoadStatic:function e(t){this._screenContext=this._createScreenContext(t);if(t.root==="Login"){i.navigation.history.clear()}this._propagatingData=null;var n=i.navigation.history.getCurrentStep();if(t.modelId&&!_.contains([u.UP,u.BACK,u.SAVE],n.initiator)){_.each(this.layoutManager.getLayouts(),function e(n){var i=n?n.getDataById(t.modelId):null;if(i){this._propagatingData=i}},this)}},setMaskOnContentElement:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!i.isTablet){return}var n=t.applyMaskToList;if(_.isUndefined(n)&&this.layoutManager.getLayouts().length>1){var a=this.layoutManager.getRecordLayout();var r=a.options.baseType==="edit";if(t.isDynamic&&!t.fullScreen||a._applyMaskToList||r){n=true}}if(n){this.layoutManager.getRecordLayout()._applyMaskToList=true;c.show("hide-content-column",{$appendTo:i.$contentEl,templateOptions:{additionalClass:"overlay--visible"}})}else{c.hide("hide-content-column")}},_createScreenContext:function e(t){return i.utils.deepCopy(_.omit(t,"layouts"))},_loadData:function e(t){_.each(t,function e(t){var n=t.context.isDataFetched();var a=false;var r=i.navigation.history.getCurrentStep()||{};var s=!_.contains([u.UP,u.BACK],r.initiator);var o={};var l=void 0;if(!n||t.options.isDynamic){a=true}else if(t.needLoadParams){if(_.isObject(t.needLoadParams)){o=t.needLoadParams}t.needLoadParams=null;o.backgroundSync=true;a=true}else if(_.contains(["detail","edit"],t.options.baseType)){a=s}else if(t.options.baseType==="list"){if(i.config.ui.forceListReload){a=true}else{a=false}}if(a){o.params=l;this._loadDataWithParams(t,o)}},this)},_loadDataWithParams:function e(t,n){n.params=n.params||{};if(t.options.baseType==="detail"||t.options.baseType==="edit"){n.params.viewed=true}if(n.partialLoad){t.loadDataPartial(n)}else{t.context.resetLoadFlag();t.loadData(n)}},_initializeNavigation:function e(){i.events.on("data:sync:success",function e(t,n,a){var r={};var s=t==="delete";if(s){var o=this.layoutManager.getRootLayout();var l=_.without(["Recents"],o.module);var c=o.context.get("parentModel");var d=o.context.get("parentModule");r={list:{modules:l}};if(n.link){this._invalidateAfterLinkAction(n)}if(!_.isEmpty(c)){this.layoutManager.invalidateLayouts({detail:[{modelId:c.id,module:d}]})}this.layoutManager.invalidateLayouts(r)}var f=this.layoutManager.getRecordLayout();if(s&&f&&f.model.id===n.id){i.controller.navigate({initiator:u.DELETE,contextOptions:{modelId:n.id}})}else{if(s){i.navigation.manager.forbidStep({modelId:n.id})}if(a.params.viewed&&this.getScreenContextRoot()!=="Recents"){this.layoutManager.invalidateLayouts({list:{modules:["Recents"]}})}}},this);i.events.on("data:sync:error",function e(t,n,a,r){var s=this._screenContext;if(r&&i.error.isAccessError(r)&&s.action==="edit"&&s.modelId){i.navigation.manager.forbidStep({modelId:n.id})}},this)},_invalidateAfterLinkAction:function e(t){var n={detail:[{modelId:t.link.bean.id,module:t.link.bean.module}]};this.layoutManager.invalidateLayouts(n)},_initializeOffline:function e(){i.events.on("offline:data:updated",function e(t){if(t.action==="delete"){this.layoutManager.invalidateLayouts({list:{modules:[t.module,"Recents"]}})}if(t.isCollection){var n=this.layoutManager.getRootLayout();if(n.options.baseType!=="list"||n.module!==t.module){this.layoutManager.invalidateLayouts({list:{modules:[t.module]}})}}},this)},clean:function e(t){t=t||{};this.disposeDynamic({disposeAll:true});i.activeComponents.closeAll();c.hideAll();if(t.disposeAll&&i.supportedFeatures.dashboards){s.resetCollection()}this.layoutManager._clean(t)},navigate:function e(t,n){if(t instanceof Handlebars.SafeString){t=t.toString()}n=_.isObject(t)?t:_.extend({url:t},n);if(document.activeElement){document.activeElement.blur()}if(!this._isHandledByDynamic(n)){i.navigation.manager.navigate(n)}},navigateToDefaultView:function e(){i.controller.navigate({initiator:u.HOME})},goUp:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t.initiator=u.UP;this.navigate(t)},go:function e(){},goBack:function e(t){t=t||{};t.initiator=u.BACK;this.navigate(t)},handleBackButton:function e(t){t=t||{};t.initiator=u.BACK_BUTTON;this.navigate(t)},_isHandledByDynamic:function e(t){var n=this.layoutManager.isDynamicLayoutLoaded();var a=i.activeComponents.hasActiveComponents();var r=i.navigation.manager.getHistoryLength()>1;var s=this.layoutManager.isDynamicLayoutLoaded()&&!this.layoutManager.layoutCache.isEmpty();var o=false;switch(t.initiator){case u.BACK:if(n){this.disposeDynamic();o=true}else if(a){i.activeComponents.closeAll()}break;case u.BACK_BUTTON:if(n){this.disposeDynamic();o=true}else if(a){i.activeComponents.closeRecent();o=true}t.initiator=u.BACK;break;case u.UP:if(n){this.disposeDynamic();o=true}break;default:if(n){this.disposeDynamic({skipAttachPrevious:true})}i.activeComponents.closeAll();break}var l=i.controller.layoutManager.getLayouts();if(n&&o&&!r&&!s){if(i.api.isAuthenticated()){i.navigation.manager.exitApp()}else{o=!_.isEmpty(l)}}var c=l.length===1;if(o&&c){$(document.body).removeClass("show-content-child")}return o},loadAdditionalComponents:function e(){}});i.augment("NomadController",d,false);e.exports=d},function(e,t,n){"use strict";(function e(t){var n=t.data.sync;var i=t.data.createBeanCollection;var a=t.data.createMixedBeanCollection;_.extend(t.data,{sync:function e(){for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}var s=a[0],o=a[1],l=a[2];var u=void 0;l.apiOptions=l.apiOptions||{};l.apiOptions.cid=o.cid;l.apiOptions.pageHash=t.navigation.history.getCurrentUrl();l.params=l.params||{};l.query=l.params.q;if(s==="read"){if(t.offlineEnabled&&_.isUndefined(l.params.skipOfflineRead)){l.params.skipOfflineRead=o.offlineReadDisabled}}var c=_.isUndefined(l.params.erased_fields);if(c){l.params.erased_fields=1}if(o instanceof t.BeanCollection&&l.query){u=o.orderBy;o.orderBy=null}if(o instanceof t.MixedBeanCollection&&!_.isEmpty(o.module_list)&&!o._parentBean){delete l.fields}else if(this._isRecentsCollection(o)){l.module_list=t.metadata.getModuleNames({filter:"visible",access:"list"});l.module_list=_.without(l.module_list,"Emails");l.limit=t.config.fetchLimit.recents;delete l.fields}if(s==="read"&&o.module==="Emails"&&!o.offlineReadDisabled){l.view="list";delete l.fields}var d=n.apply(this,a);if(u){o.orderBy=u}return d},_getMergedFields:function e(n){return _.chain(n).map(function(e){return t.metadata.getModule(e).mergedFields}).flatten().uniq().value()},_isRecentsCollection:function e(n){return n instanceof t.BeanCollection&&n.module==="Recents"},createBeanCollection:function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++){n[a]=arguments[a]}return this._createCollection(i,n)},createMixedBeanCollection:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}return this._createCollection(a,n)},_createCollection:function e(t,n){var i=t.apply(this,n);i.cid=_.uniqueId("c");return i}})})(SUGAR.App)},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[];var i=true;var a=false;var r=undefined;try{for(var s=e[Symbol.iterator](),o;!(i=(o=s.next()).done);i=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){a=true;r=e}finally{try{if(!i&&s["return"])s["return"]()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,n)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var a=n(57);var r=n(52);var s=n(7);var o=n(3),l=o.parseQueryString;var u=SUGAR.App;var c=u.Router;u.Router=u.Router.extend({DEFAULT_ROUTE:"Search",init:function e(){c.prototype.init.call(this);this.addRoutes(a.getRoutes())},_isloginViewLoaded:function e(){var t=u.controller.layoutManager.getRootLayout();return Boolean(t&&t.getComponent(r))},login:function e(){if(!this._isloginViewLoaded()){u.controller.clean({disposeAll:true});u.controller.loadScreen({context:new s({module:"Login"}).prepare(),view:r})}},logout:function e(){if(!this._isloginViewLoaded()){u.loginManager.logout({clear:true})}},navigate:function e(t,n){u.controller.navigate(t,n)},go:function e(t){},goBack:function e(){u.controller.goBack()},refresh:function e(){u.navigation.manager.refresh()},buildLinkRoute:function e(t,n,i,a,r){var s=_.isString(t)?t:t.get("module");s+="/"+n+"/link/"+i;if(a){s+="/"+a}if(r){s+="/"+r}return s},_routeHandler:function e(t){var n=t.route;this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment();for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++){a[r-1]=arguments[r]}t.apply(this,a);u.routing.after(n,a)},_addDefaultRoutes:function e(){}});u.routing.utils={convertExternalRoute:function e(t){if(_.isEmpty(t)){return""}if(t==="logout"){return"logout"}if(t==="activities"){return"Activities"}var n=_.reduce(u.navigation.manager.getRoutes(),function(e,t){var n=t.route;if(_.isString(n)&&n.indexOf(":")===-1){e.push(n)}return e},[]);if(_.contains(n,t)){return t}var a=t.split("/");var r=a[0];var s=void 0;var o=["home","search","recents","dashboards"];var c=_.contains(o,a[0].toLowerCase());var d=c?a[0]+"/":null;if(r==="bwc"){var f=a[1];var h=f.split("?")[1];var p=l(h);r=p.module;if(!r){return""}var m=p.action;var g=p.record;m=m.toLowerCase();if(m==="index"){s=[r]}else if(m==="detailview"&&!_.isEmpty(g)){s=[r,g]}else if(m==="editview"&&_.isEmpty(g)){if(p.parent_type&&p.parent_id){s=[p.parent_type,p.parent_id,"link",r.toLowerCase(),"create"]}else{s=[r,"create"]}}else{s=[r]}}else{s=a}var v=s.length;if(c){if(r==="Dashboards"){return t}else if(r==="Home"&&a.length===2){return t.replace("Home","Dashboards")}else if(!s[1]||!_.contains(u.metadata.getModuleNames(),s[1])){return a[0].toLowerCase()==="home"?u.router.DEFAULT_ROUTE:a[0]}s.shift();r=s[0]}var b=s,y=i(b,4),x=y[1],S=y[2],w=y[3];var L=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=c?d:"";return a+n.join("/")};var E=u.metadata.getModule(r);var M=(c?d:"")+s.join("/");if(c&&v===2||E&&(S==="Dashboards"||s[5]==="Dashboards")){return M}else if(r==="Offline"){var k=["TxLog","offlineStats","offlineSettings","offlineDataGeneration"];if(t===r||x==="TxLog"&&S||_.contains(k,x)&&s.length===2){return M}return false}else if(r==="Configure"||r.substring(0,10)==="createCall"){return M}else if(x==="offline"&&S==="TxLog"&&!_.isEmpty(w)){return M}else if(r==="error"){if(!x||x&&!S){return M}}else if(r){var A=["vcard-import","create"];var T=x==="create";var C=_.contains(u.config.modules.nonCreatableModules,r);if(T&&C){return L(r)}else if(T){return L(r,"create")}else if(!_.isEmpty(x)&&!T){if(_.isEmpty(S)&&!_.contains(A,x)){return L(r,x)}else if(_.contains(["edit"],S)&&(_.isEmpty(w)||_.isNumber(parseInt(w)))){return M}else if(S==="links"&&_.contains(["create","associate"],w)){return M}}var D=["vcard-import"];if(!_.isEmpty(x)&&_.contains(D,x)){return false}if(S==="link"){var R=s[4];var O=s[5];if(!_.isEmpty(w)&&_.isEmpty(R)){return M}else if(w==="calls"&&R.split("?")[0]==="createCall"){return M}else if(R&&_.isEmpty(O)){return M}else if(R&&_.contains(["edit"],O)){return M}return false}return r}return false}}},function(e,t,n){"use strict";function i(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var a=SUGAR.App;var r=n(6);var s=n(13);var o=n(21);var l=n(125);var u={kAppUpdatedKey:"kAppUpdated",kSessionCountKey:"kSessionCount",kStartDateKey:"kStartDate",kAttemptIndexKey:"kAttemptIndex",kLastFeedbackSubmitDateKey:"kLastFeedbackSubmitDate",init:function e(){this._subscribeEvents();if(a.api.isAuthenticated()){this.checkNpsTriggerCriteria()}},_subscribeEvents:function e(){a.events.on("app:login:success",this._onLoginSuccess,this).on("app:upgraded",this._onAppUpgrade,this)},_unsubscribeEvents:function e(){a.events.off("app:login:success app:upgraded",null,this)},_subscribeViewChangeEvents:function e(){a.events.on("app:view:change",this._onViewChange,this)},_unsubscribeViewChangeEvents:function e(){a.events.off("app:view:change",null,this)},_onLoginSuccess:function e(){var t=s.getSetting({store:s.Stores.SETTINGS,name:this.kAppUpdatedKey});var n=o.getSetting(this.kLastFeedbackSubmitDateKey);var i=o.getSetting(this.kAttemptIndexKey);if(!n&&t||_.isUndefined(i)){this._moveToAttemptIndex(0);s.setSetting({store:s.Stores.SETTINGS,name:this.kAppUpdatedKey,value:0})}this.incrementNpsSessionCount();this.checkNpsTriggerCriteria()},_onAppUpgrade:function e(){s.setSetting({store:s.Stores.SETTINGS,name:this.kAppUpdatedKey,value:1})},checkNpsTriggerCriteria:function e(){var t=this;var n=o.getSetting();var i=n[this.kAttemptIndexKey]||0;var s=n[this.kStartDateKey];var l=n[this.kSessionCountKey];var u=a.config.nps.attemptCriteria[i];if(this._daysFromToday(s)>=u.days&&l>u.sessions){this._unsubscribeViewChangeEvents();if(!a.isNative){this._subscribeViewChangeEvents();return}r._getNativeParam("appDownloadUrl",function(e,n){if(!e&&n){var i=void 0;if($.os.ios){i=/^itms-apps:\/\//i}else{i=/^(?:https?:\/\/play\.google\.com\/store\/apps\/details\?id=|market:\/\/)/i}if(i.test(n)){t.storeUrl=n}}t._subscribeViewChangeEvents()})}},_onViewChange:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(n.root==="Search"){this._unsubscribeViewChangeEvents();l.show({onSelect:function e(n){var i=n.rateCount;a.analytics.setNpsRating(i);o.setSetting(t.kLastFeedbackSubmitDateKey,(new Date).getTime());t._onNpsSubmit()},onRateAppSelect:function e(){r.openUrl(t.storeUrl)},onCancel:function e(){t._onNpsSkip()},storeUrl:this.storeUrl})}},_onNpsSkip:function e(){var t=o.getSetting(this.kAttemptIndexKey);this._moveToAttemptIndex(t+1<a.config.nps.attemptCriteria.length?t+1:t)},_onNpsSubmit:function e(){this._moveToAttemptIndex(a.config.nps.attemptCriteria.length-1)},_moveToAttemptIndex:function e(){var t;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;o.setSetting((t={},i(t,this.kAttemptIndexKey,n),i(t,this.kStartDateKey,(new Date).getTime()),i(t,this.kSessionCountKey,0),t))},incrementNpsSessionCount:function e(){var t=o.getSetting(this.kSessionCountKey)||0;o.setSetting(this.kSessionCountKey,t+1)},_daysFromToday:function e(t){var n=new Date(t).getTime();var i=(new Date).getTime();return parseInt((i-n)/(24*3600*1e3))}};var c={init:function e(){if(a.config.nps.enabled){u.init()}},onAppPause:function e(){this.timePaused=(new Date).getTime();var t=this.timeResumed?(this.timePaused-this.timeResumed)/1e3:0;if(a.api.isAuthenticated()&&t>a.config.nps.sessionLength){u.incrementNpsSessionCount()}},onAppResume:function e(){this.timeResumed=(new Date).getTime();if(a.api.isAuthenticated()){u.checkNpsTriggerCriteria()}}};a.augment("npsManager",c,false);e.exports=c},function(e,t,n){"use strict";var i=n(3),a=i.supportsMyItems;var r=n(2);(function e(t){var i=t.view.declareComponent;t.view.declareComponent=function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++){n[a]=arguments[a]}var s=n[0],o=n[1],l=n[2];if(_.isFunction(o)){return o}else if(s==="field"){return r.getFieldClass({baseType:o,module:l,shouldReturnDefault:true})}return i.apply(this,n)};SUGAR.forms.FlashField=_.noop;SUGAR.forms.markField=_.noop;SUGAR.forms.unmarkField=_.noop;t.metadata.copy=function e(n,i){i=i||{};if(i.bean instanceof t.Bean){return t.utils.deepCopy(n)}return n};t.data.getEditableFields=function e(n,i){var a=["id"];_.each(i,function(e){if(t.acl.hasAccessToModel("edit",n,e)){var i=n.get(e);var r=n.fields[e];if(i&&r&&r.type==="collection"&&!_.isEmpty(i.links)){_.each(i.links,function(e){a.push(e.link.name)})}else{a.push(e)}}});return n.toJSON({fields:a})};var s=SUGAR.expressions.SidecarExpressionContext.prototype.setValue;SUGAR.expressions.SidecarExpressionContext.prototype.setValue=function e(t,n){if(_.isObject(n)&&_.keys(n).length===1&&_.keys(n)[0]==="undefined"){return}s.call(this,t,n);var i=this.getField(t);if(i&&i.type==="enum"&&i.def.visibility_grid){i.render()}};SUGAR.expressions.SidecarExpressionContext.prototype.setFieldRequired=function e(t,n){n=SUGAR.expressions.Expression.isTruthy(n);var i=this.view.getField(t,this.model);if(i){i.setRequired(n)}};_.extend(SUGAR.expressions.SidecarExpressionContext.prototype,{addClass:function e(t,n){var i=this.view.getField(t,this.model);if(i){i.$el.addClass(n)}},removeClass:function e(t,n){var i=this.view.getField(t,this.model);if(i){i.$el.removeClass(n)}}});t.error.errorName2Keys.email="ERR_MOBILE_EMAIL";t.MixedBeanCollection.prototype.fetch=function e(n){var i=t.metadata.getModuleNames({filter:"visible",access:"list"});n=n||{};n.module_list=n.module_list||this.module_list||i;this.module_list=n.module_list;if(n.module_list!==i&&!this._parentBean){n.module_list=_.filter(n.module_list,function(e){return _.contains(i,e)})}if(!n.module_list.length){return}var r=_.isUndefined(n.myItems)?this.myItems:n.myItems;if(r){var s=_.select(n.module_list,function(e){return a(e)});n=_.extend({},n,{module_list:s})}return t.BeanCollection.prototype.fetch.call(this,n)};t.augment("hacks",{hackModuleList:function e(){var n=t.user.get("module_list");var i=t.metadata.getModules();for(var a=0;a<n.length;++a){if(!i[n[a]]){n.splice(a--,1)}}},hackAcls:function e(){var n=t.user.getAcls();var i=n.Users;if(_.isEmpty(n)){return}i.delete="no";if(_.isArray(i.fields)){i.fields={}}i.fields.status={create:"no",write:"no"};var a=["access","admin","delete","developer","edit","export","import","list","massupdate","view"];_.each(_.keys(n),function(e){if(!t.metadata.getModule(e)&&!_.contains(t.user.get("module_list"),e)){_.each(a,function(t){n[e][t]="no"})}});t.user.set("acl",n)}});delete t.validation.validators.datetime;delete t.validation.validators.primaryEmail;var o=$.param;$.param=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=n[0];if(a instanceof ArrayBuffer){return a}return o.apply(this,n)};var l=function e(n){var i=n.files;var a=n.files.fieldName;var r=i.fileData.name||"newfile";var s=i.fileData.type||"application/octet-stream";var o=i.fileData.binary;var l={"OAuth-Token":t.api.getOAuthToken()};var u=function e(t){var n=function e(t){return t.charCodeAt(0)&255};var i=Array.prototype.map.call(t,n);var a=new Uint8Array(i);return a.buffer};var c="xxxxxx";var d="\r\n";var f="";f+="--"+c+d;f+="Content-Disposition: form-data;";f+='name="'+a+'"; filename="'+r+'"'+d;f+="Content-Type: "+s+d+d;f+=o+d;f+="--"+c+"--";return $.ajax({complete:n.complete,error:n.error,success:n.success,type:"POST",url:n.url,data:u(f),processData:false,contentType:"multipart/form-data; boundary="+c,headers:l,dataType:"json"})};var u=$.ajax;$.ajax=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=n[0];if(a.files&&a.files.length>0){return l(a)}return u.apply($,n)};var c=t.metadata.sync;t.metadata.sync=function e(n,i){if(t.lang.getLanguage()&&t.user.get("preferences")&&t.lang.getLanguage()!==t.user.get("preferences").language||!t.config.cacheMeta){i=i||{};i.forceRefresh=true;t.logger.debug("Forcing meta refresh as user language has changed")}c.call(this,n,i)};t.accessibility={run:function e(){}};t.cache.clean=_.noop;var d=t.cache.init;t.cache.init=function e(){var i=t.config.env+":"+t.config.appId+":";var a=1;var r=n(154);r({uniqueKey:a,env:t.config.env,appId:t.config.appId});t.cache.set(i+"uniqueKey",a);d.call(this)};t.events.on("app:init",function(){var e=t.api.records;t.api.records=function n(i,a,r,s,o,l){var u=void 0;l=l||{};if(s.recents){delete s.recents;a="recent";if(o.success){u=o.success;o.success=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=n[0];a.next_offset=-1;u.apply(this,n)}}}return e.call(t.api,i,a,r,s,o,l)};var n=t.api.search;t.api.search=function i(){for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}var o=r[0];var l=r[1],u=r[2];var c=t.serverInfo.isSevenUp&&_.contains(["Users","Employees"],o.module_list);if(c){o.q=o.q||"";var d=o.q.split(" ");var f=void 0;if(d.length>1){f=[{$and:[{first_name:{$starts:_.first(d)}},{last_name:{$starts:_.rest(d).join(" ")}}]}]}else{f=[{$or:[{first_name:{$starts:_.first(d)}},{last_name:{$starts:_.first(d)}}]}]}o=_.extend({},o,{filter:f,q:null});return e.call(this,"read",o.module_list,null,o,l,u)}return n.apply(this,r)};var i=function e(){var n=0;var i=false;$(window.document).on({ajaxSuccess:function e(a,r,s){var o=void 0;var l=void 0;if(i||s.type.toUpperCase()!=="GET"){return}var u=r.getResponseHeader("cache-control")||"";o=/max-age=(\d+)/i.exec(u)||[];o=Number(o[1])||0;if(o>t.config.maxHttpCacheAge){o=t.config.maxHttpCacheAge}l=new Date;l=l.setSeconds(l.getSeconds()+o);if(l>n){n=l}},ajaxError:function e(){i=n>(new Date).getTime()},ajaxBeforeSend:function e(a,r,s){var o=(new Date).getTime();if(s.type==="GET"){if(i&&n>o){s.url+=(s.url.indexOf("?")===-1?"?":"&")+"nomad_timestamp="+o}else{i=false}}else if(s.url!==t.api.buildURL("bulk")){i=n>o}}})};i();var a=t.api.buildURL;t.api.buildURL=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var r=n[1];var s=a.apply(this,n);if(r==="favorite"||r==="unfavorite"){var o={fields:"my_favorite,following"};if(r==="favorite"){o.viewed=1}s+="?"+$.param(o)}return s}})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){t.baseMetadata={_hash:"_base_",modules:{Dashboards:{_hash:"DashboardsHash",fields:{_hash:"DashboardsFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar"},dashboard_type:{name:"dashboard_type",type:"varchar"},date_modified:{name:"date_modified",type:"datetime"},url:{name:"url",type:"varchar"},metadata:{name:"metadata",type:"metadata"}},layouts:{},views:{}},Comments:{_hash:"CommentsHash",layouts:{},fields:{name:{name:"name",type:"varchar"},date_entered:{name:"date_entered",type:"datetime"},date_modified:{name:"date_modified",type:"datetime"},created_by:{name:"created_by",type:"id"},created_by_name:{name:"created_by_name",type:"relate",link:"created_by_link"},activities:{name:"activities",type:"link",relationship:"comments",module:"Activities"},parent_id:{name:"parent_id",type:"id"},data:{name:"data",type:"json"},_hash:"CommentsFieldsHash"}},Activities:{_hash:"ActivitiesHash",layouts:{},fields:{_hash:"ActivitiesFieldsHash",name:{name:"name",type:"varchar"},date_entered:{name:"date_entered",type:"datetime"},date_modified:{name:"date_modified",type:"datetime"},parent_id:{name:"parent_id",type:"id"},parent_type:{name:"parent_type",type:"varchar"},activity_type:{name:"activity_type",type:"varchar"},data:{name:"data",type:"json"},comment_count:{name:"comment_count",type:"int"},last_comment:{name:"last_comment",type:"json"},created_by:{name:"created_by",type:"id"},comments:{module:"Comments",name:"comments",relationship:"comments",type:"link"}},mergedFields:[],filters:{_hash:"ActivitiesFiltersHash",activity:{meta:{create:false,default_filter:"all_records",quicksearch_field:[],quicksearch_priority:2,filters:[{id:"all_records",name:"LBL_LISTVIEW_FILTER_ALL",filter_definition:[],editable:false},{id:"messages_for_create",name:"LBL_ACTIVITY_CREATE",filter_definition:{$or:[{activity_type:"create"},{activity_type:"attach"}]},editable:false},{id:"messages_for_update",name:"LBL_ACTIVITY_UPDATE",filter_definition:{activity_type:"update"},editable:false},{id:"messages_for_link",name:"LBL_ACTIVITY_LINK",filter_definition:{activity_type:"link"},editable:false},{id:"messages_for_unlink",name:"LBL_ACTIVITY_UNLINK",filter_definition:{activity_type:"unlink"},editable:false},{id:"messages_for_post",name:"LBL_ACTIVITY_POST",filter_definition:{activity_type:"post"},editable:false}]}}},views:{list:{meta:{panels:[{fields:[]}]}},"activitystream-dashlet":{meta:{panels:[{fields:[]}],view:{auto_refresh:0,currentFilterId:"all_records",module:"Activities",type:"activitystream-dashlet"}}}}},Filters:{_hash:"FiltersHash",fields:{_hash:"FiltersFieldsHash"},layouts:{}},Teams:{_hash:"TeamsHash",favoritesEnabled:false,ftsEnabled:false,mergedFields:["id","name","name_2"],fields:{_hash:"TeamsFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar",unified_search:true},name_2:{name:"name_2",type:"varchar",unified_search:true},primary:{name:"primary",type:"boolean"}},views:{list:{meta:{panels:[{fields:[{name:"name",type:"text"},{name:"name_2",type:"varchar"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}}},Login:{_hash:"LoginHash",fields:{_hash:"LoginFieldsHash",username:{name:"username",type:"username",required:true},password:{name:"password",type:"password",required:true}},views:{login:{meta:{panels:[{label:"Login",fields:[{name:"username",label:"Username"},{name:"password",label:"Password"}]}]}}}},About:{_hash:"AboutHash",fields:{_hash:"AboutFieldsHash",app_version:{name:"app_version",type:"varchar"},trial_until:{name:"trial_until",type:"date"},sdk_version:{name:"sdk_version",type:"varchar"},server_version:{name:"server_version",type:"varchar"},server_url:{name:"server_url",type:"url"},support_email:{name:"support_email",type:"url"},support_website:{name:"support_website",type:"url"}},views:{about:{meta:{panels:[{label:"LNK_ABOUT",fields:[{name:"app_version",label:"LBL_MOBILE_APP_VERSION",view:"readonly"},{name:"trial_until",label:"LBL_MOBILE_TRIAL_UNTIL",view:"readonly"},{name:"sdk_version",label:"LBL_MOBILE_SDK_VERSION",view:"readonly"},{name:"server_version",label:"LBL_MOBILE_SERVER_VERSION",view:"readonly"},{name:"server_url",label:"LBL_MOBILE_SERVER_URL",css_class:"server_url"},{name:"support_email",label:"LBL_MOBILE_FEEDBACK",css_class:"support_email hide"},{name:"support_website",label:"LBL_MOBILE_SUPPORT",css_class:"support_website"}]}]}}},layouts:{about:{meta:{type:"about",components:[{view:"about"}]}}}},Error:{_hash:"Error",fields:{_hash:"ErrorHash"},layouts:{},views:{}},Settings:{_hash:"SettingsHash",fields:{_hash:"SettingsFieldsHash",language:{name:"language",type:"enum",default:"en_us"},logging:{name:"logging",type:"enum"},fontSize:{name:"fontSize",type:"enum",default:"normal"}},views:{settings:{meta:{panels:[{label:"LNK_SETTINGS",fields:[{name:"language",label:"LBL_LANGUAGE",options:"available_language_dom",view:"edit",default:"en_us"},{name:"logging",label:"LBL_LOG_LEVEL",options:["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"],view:"edit"},{name:"fontSize",label:"LBL_SET_FONTSIZE",view:"edit",default:"normal"}]}]}}},layouts:{settings:{meta:{type:"settings",components:[{view:"settings"}]}}}},TxLog:{_hash:"txLogHash",fields:{_hash:"TxLogFieldsHash",_tx_action:{name:"_tx_action"},_tx_bean_module:{name:"_tx_bean_module"},_tx_updated_fields:{name:"_tx_updated_fields"},_tx_error_count:{name:"_tx_error_count"}},views:{list:{meta:{panels:[{label:"XXX",fields:[{name:"_tx_action"},{name:"_tx_bean_module"}]}]}},detail:{meta:{panels:[{label:"XXX",fields:[{name:"_tx_action"},{name:"_tx_bean_module"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}},detail:{meta:{type:"detail",components:[{view:"detail"}]}}}},Offline:{_hash:"OfflineHash",fields:{_hash:"OfflineFieldsHash"},views:{},layouts:{}},Recents:{_hash:"RecentsHash",fields:{_hash:"RecentsFieldsHash"},views:{list:{meta:{panels:[{fields:[]}]}}},layouts:{list:{meta:{type:"list"}}}},Search:{_hash:"SearchHash",fields:{_hash:"SearchFieldsHash",assigned_user_id:{name:"assigned_user_id"}},views:{list:{meta:{panels:[{fields:[]}]}}},layouts:{list:{meta:{type:"list"}}},favoritesEnabled:true},ErrorEmulation:{_hash:"ErrorEmulationHash",fields:{_hash:"ErrorEmulationHash"},views:{},layouts:{}},ProductTypes:{_hash:"ProductTypesHash",fields:{_hash:"ProductTypesFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"varchar",vname:"LBL_NAME",unified_search:true}},views:{list:{meta:{panels:[{fields:[{name:"name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name"],ftsEnabled:false,favoritesEnabled:false,_patched:true},ProductCategories:{_hash:"ProductCategoriesHash",fields:{_hash:"ProductCategoriesFieldsHash",id:{name:"id",vname:"LBL_ID",type:"id",required:true},name:{name:"name",vname:"LBL_NAME",type:"varchar",len:50,required:true,unified_search:true},parent_id:{name:"parent_id",type:"id",vname:"LBL_PARENT_NAME"},parent_name:{id_name:"parent_id",link:"member_categories",module:"ProductCategories",name:"parent_name",source:"non-db",type:"relate",vname:"LBL_PARENT_CATEGORY"}},views:{list:{meta:{panels:[{fields:[{name:"name"},{name:"parent_name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name","parent_name","parent_id"],ftsEnabled:false,favoritesEnabled:false,_patched:true},ProductTemplates:{_hash:"ProductTemplatesHash",fields:{_hash:"ProductTemplatesFieldsHash",id:{name:"id",vname:"LBL_ID",type:"id",required:true},deleted:{name:"deleted",vname:"LBL_DELETED",type:"bool",required:false,default:"0"},date_entered:{name:"date_entered",vname:"LBL_DATE_ENTERED",type:"datetime"},date_modified:{name:"date_modified",vname:"LBL_DATE_MODIFIED",type:"datetime"},modified_user_id:{name:"modified_user_id",rname:"user_name",id_name:"modified_user_id",vname:"LBL_MODIFIED_ID",type:"assigned_user_name"},created_by:{name:"created_by",rname:"user_name",id_name:"modified_user_id",vname:"LBL_CREATED_ID",type:"assigned_user_name"},type_id:{name:"type_id",type:"id",required:false,vname:"LBL_TYPE_ID"},manufacturer_id:{name:"manufacturer_id",type:"id",required:false,vname:"LBL_LIST_MANUFACTURER_ID"},manufacturer_name:{name:"manufacturer_name",rname:"name",id_name:"manufacturer_id",type:"relate",vname:"LBL_MANUFACTURER_NAME",join_name:"manufacturers",link:"manufacturer_link",module:"Manufacturers"},category_id:{name:"category_id",type:"id",required:false,vname:"LBL_LIST_CATEGORY_ID"},category_name:{name:"category_name",rname:"name",id_name:"category_id",vname:"LBL_CATEGORY_NAME",join_name:"product_categories",type:"relate",link:"category_link",module:"ProductCategories",source:"non-db"},type_name:{name:"type_name",rname:"name",id_name:"type_id",vname:"LBL_TYPE",join_name:"product_types",type:"relate",link:"type_link",module:"ProductTypes",source:"non-db"},name:{name:"name",vname:"LBL_NAME",type:"varchar",len:50,required:true,unified_search:true},mft_part_num:{name:"mft_part_num",vname:"LBL_MFT_PART_NUM",type:"varchar",len:50},vendor_part_num:{name:"vendor_part_num",vname:"LBL_VENDOR_PART_NUM",type:"varchar",len:50},date_cost_price:{name:"date_cost_price",vname:"LBL_DATE_COST_PRICE",type:"date"},cost_price:{name:"cost_price",vname:"LBL_COST_PRICE",type:"currency",required:true,len:null},discount_price:{name:"discount_price",vname:"LBL_DISCOUNT_PRICE",required:true,type:"currency",len:null},list_price:{name:"list_price",vname:"LBL_LIST_PRICE",required:true,type:"currency",len:null},cost_usdollar:{name:"cost_usdollar",vname:"LBL_COST_USDOLLAR",type:"currency",len:null},discount_usdollar:{name:"discount_usdollar",vname:"LBL_DISCOUNT_USDOLLAR",type:"currency",len:null},list_usdollar:{name:"list_usdollar",vname:"LBL_LIST_USDOLLAR",type:"currency",len:null},currency_id:{name:"currency_id",vname:"LBL_CURRENCY",type:"currency_id",required:false,default:"-99"},currency_symbol:{name:"currency_symbol",type:"varchar",vname:"LBL_CURRENCY_SYMBOL_NAME",source:"non-db"},currency:{name:"currency",vname:"LBL_CURRENCY",type:"varchar",required:false,sortable:false},status:{name:"status",vname:"LBL_STATUS",type:"enum",options:"product_template_status_dom",len:100},tax_class:{name:"tax_class",vname:"LBL_TAX_CLASS",type:"enum",options:"tax_class_dom",len:100},date_available:{name:"date_available",vname:"LBL_DATE_AVAILABLE",type:"date"},website:{name:"website",vname:"LBL_URL",type:"varchar",len:255},weight:{name:"weight",vname:"LBL_WEIGHT",type:"decimal",len:12,precision:"2"},qty_in_stock:{name:"qty_in_stock",vname:"LBL_QUANTITY",type:"int",len:5},description:{name:"description",vname:"LBL_DESCRIPTION",type:"text"},support_name:{name:"support_name",vname:"LBL_SUPPORT_NAME",type:"varchar",len:50},support_description:{name:"support_description",vname:"LBL_SUPPORT_DESCRIPTION",type:"varchar",len:255},support_contact:{name:"support_contact",vname:"LBL_SUPPORT_CONTACT",type:"varchar",len:50},support_term:{name:"support_term",vname:"LBL_SUPPORT_TERM",type:"enum",options:"support_term_dom",len:100},pricing_formula:{name:"pricing_formula",vname:"LBL_PRICING_FORMULA",type:"varchar",len:100},pricing_factor:{name:"pricing_factor",vname:"LBL_PRICING_FACTOR",type:"decimal",len:8,precision:"2"},created_by_link:{name:"created_by_link",type:"link",relationship:"product_templates_created_by",vname:"LBL_CREATED_BY_USER",link_type:"one",module:"Users",source:"non-db"},modified_user_link:{name:"modified_user_link",type:"link",relationship:"product_templates_modified_user",vname:"LBL_MODIFIED_BY_USER",link_type:"one",module:"Users",source:"non-db"},category_link:{name:"category_link",type:"link",relationship:"product_templates_product_categories",vname:"LBL_PRODUCT_CATEGORIES",link_type:"one",module:"ProductCategories",source:"non-db"},type_link:{name:"type_link",type:"link",relationship:"product_templates_product_types",vname:"LBL_PRODUCT_TYPES",link_type:"one",module:"ProductTypes",source:"non-db"},manufacturer_link:{name:"manufacturer_link",type:"link",relationship:"product_templates_manufacturers",vname:"LBL_MANUFACTURERS",link_type:"one",module:"Manufacturers",source:"non-db"}},views:{list:{meta:{panels:[{fields:[{name:"name",label:"LBL_NAME"},{name:"category_name",label:"LBL_CATEGORY_NAME"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["currency_id","category_id","category_name","cost_price","cost_usdollar","discount_price,","discount_usdollar","list_price","list_usdollar","mft_part_num","name","tax_class","weight"],ftsEnabled:false,favoritesEnabled:false,_patched:true},Forecasts:{_hash:"ForecastsHash",config:{sales_stage_won:["Closed Won"],sales_stage_lost:["Closed Lost"]},fields:{}},Manufacturers:{_hash:"ManufacturersHash",fields:{_hash:"ManufacturersFieldsHash",id:{name:"id",type:"id"},name:{name:"name",type:"name",unified_search:true}},views:{list:{meta:{panels:[{fields:[{name:"name",label:"LBL_NAME",default:true,enabled:true,type:"name"}]}]}}},layouts:{list:{meta:{type:"list",components:[{view:"list"}]}}},mergedFields:["name"],ftsEnabled:false,favoritesEnabled:false}},views:{"activitystream-dashlet":{meta:{}}},relationships:{comments:{lhs_key:"id",lhs_module:"Activities",lhs_table:"activities",name:"comments",relationship_type:"one-to-many",rhs_key:"parent_id",rhs_module:"Comments",rhs_table:"comments"},product_templates_product_types:{lhs_key:"id",lhs_module:"ProductTypes",lhs_table:"product_types",name:"product_templates_product_types",relationship_type:"one-to-many",rhs_key:"type_id",rhs_module:"ProductTemplates",rhs_table:"product_templates"},product_templates_product_categories:{lhs_key:"id",lhs_module:"ProductCategories",lhs_table:"product_categories",name:"product_templates_product_categories",relationship_type:"one-to-many",rhs_key:"category_id",rhs_module:"ProductTemplates",rhs_table:"product_templates"}},app_strings:{LBL_COMMENT_ADD:"Add a Comment",LBL_REQUIRED:"Required",LBL_MORE_BUTTON:"More",LBL_TRY_AGAIN:"Try again",LBL_NEW_RECORDS:"Recently Created",LBL_ASSIGNED_TO_ME:"My {{{module}}}",LBL_LISTVIEW_FILTER_ALL:"All {{{module}}}",LBL_UNFAVORITE:"Unfavorite",LBL_ACTIVITY_CREATE:"Created {{{record}}} {{{module}}}",LBL_ACTIVITY_UPDATE:"Updated {{{changes}}} on {{{record}}} {{{module}}}",LBL_ACTIVITY_LINK:"Linked {{{relatedRecord}}} to {{{record}}} {{{module}}}",LBL_ACTIVITY_UNLINK:"Unlinked {{{relatedRecord}}} from {{{record}}} {{{module}}}",LBL_OFFLINE_PREFETCHING_RELATIONSHIP:"{{relationship}} for {{parentModule}}",LBL_OFFLINE_PREFETCH_RELATED_ACTION:"Download related records...",ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR:"Failed to enable offline mode. Unable to reach the server.",LBL_SHOWING_CACHED_DATA:"Unable to reach the server. Showing latest available data ({{lastFetched}})",LBL_FUTURE:"Future",LBL_CLOSE_AND_SAVE_BUTTON:"Close {{moduleSingular}} and save",LBL_DASHBOARDS_CHANGED_PROMPT:"Your dashboard configuration has changed. Do you want to reload?",LBL_RECORDS:"Records",LBL_DASHBOARDS:"Dashboards",LBL_MOBILE_SEARCH_PLACEHOLDER:"Search {{searchCriteria}}...",LBL_MOBILE_SPECIFIC_DASHBOARD:"Specific Dashboard",LBL_MOBILE_SPECIFIC_MODULE:"Specific Module",LBL_MOBILE_DEFAULT_VIEW:"Start Screen",LBL_MOBILE_DEFAULT_MODULE:"Selected Module",LBL_MOBILE_DEFAULT_DASHBOARD:"Selected Dashboard",LBL_MOBILE_DEFAULT_DASHLET:"Selected Dashlet",LBL_ALL_DASHLETS:"All Dashlets",LBL_MOBILE_GLOBAL_SEARCH:"Global Search",LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER:"Type @ to mention a user. Type # to reference a record.",LBL_MOBILE_TUTORIAL_HOME_MENU:"Main menu",LBL_MOBILE_TUTORIAL_HOME_PLUS:"Quick create new record",LBL_MOBILE_TUTORIAL_HOME_SWIPE:"Swipe for more options",LBL_DETAILS:"Details",LBL_DETAIL_RELATED:"Related",LBL_CREATE_RELATED_MODULE_WARN:"This {{module}} requires a {{relatedModule}}."+" <a class='alert-link' href='{{{createLink}}}'>Create a {{relatedModule}} record</a>.",LBL_RECORD_SHARE_BUTTON:"Share",LBL_RECORD_NOT_FOUND:"Record not found.",LBL_RELATED_RECORD_NOT_FOUND:"Related record not found.",LBL_NOT_AUTHORIZED:"You are not authorized to view this record.",LBL_SET_FONTSIZE:"Font size",LBL_FONTSIZE_TINY:"Tiny",LBL_FONTSIZE_SMALL:"Small",LBL_FONTSIZE_NORMAL:"Normal (default)",LBL_FONTSIZE_LARGE:"Large",LBL_FONTSIZE_LARGER:"Larger",LBL_FONTSIZE_HUGE:"Huge",LBL_FONTSIZE_EXTRA_HUGE:"Extra huge",LBL_CLOSE_SAVE_BUTTON:"Close task and save",LBL_MOBILE_PROCESSING_FILE:"Preparing file...",ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED:"File is too big. Maximum allowed size is {{size}}",LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION:"Edit record",LBL_LATER:"Later",LBL_LOADING_FILES:"Still loading document list. Please try again later",LBL_NEW_WEB_VERSION:"A new version of this application is available. Would you like to update?",LBL_MOBILE_DOWNLOAD_FAILED:"Download failed\r\n{{{this}}}",LBL_MOBILE_DETAIL_SHOW_MORE:"More...",LBL_MOBILE_DETAIL_SHOW_LESS:"...Less",LBL_OFFLINE_MODE:"Offline Mode",LBL_OFFLINE_PREFETCH_PROMPT:"Downloading your assigned, favorited, and followed records for offline access may take some time to complete. A fast connection is recommended. Would you like to proceed?",LBL_OFFLINE_PREFETCH_FIRST_PROMPT:"Do you want your assigned, favorited, and followed records to be downloaded now for offline access? A fast connection is recommended as this operation may take some time. You may download later from Main Menu > Offline.",LBL_OFFLINE_PREFETCH_SUCCESS:"Records downloaded successfully",LBL_OFFLINE_PREFETCH_ACTION:"Download your records...",LBL_OFFLINE_PREFETCH_ERROR:"Error while downloading records",LBL_OFFLINE_PREFETCHING:"Loading records...",LBL_OFFLINE_PREFETCHING_MODULE:"Loading {{module}} {{progressValue}}...",LBL_OFFLINE_PREFETCHING_EST_TIME:"Time left is about {{estimatedTime}}s...",LBL_OFFLINE_PREFETCHING_MODULE_COMPLETE:"Loading {{module}} completed",LBL_OFFLINE_DB_CLEANING_IN_PROGRESS:"Cleaning storage...",LBL_OFFLINE_DB_CLEANING_COMPLETED:"Clean-up completed",LBL_OFFLINE_ROLLBACK_PROMPT:"Do you want to rollback this change?",LBL_OFFLINE_ROLLBACK_SUCCESS:"Rollback completed",LBL_OFFLINE_ROLLBACK_FAILED:"Rollback failed",LBL_OFFLINE_CLEAR_DB:"Clear Storage...",LBL_OFFLINE_COMPACT_DB:"Compact Storage...",LBL_OFFLINE_CLEAN_UP_PROMPT:"This action will delete records you haven't accessed in a while. Proceed?",LBL_OFFLINE_CLEAR_DB_PROMPT:"Do you want to delete all records from the local storage?",LBL_OFFLINE_MENU_SETTINGS:"Offline Settings",LBL_OFFLINE_DEBUG_SETTINGS:"Debug Settings",LBL_OFFLINE_STATUS_NO_PENDING_TX:"No changes pending synchronization.",LBL_OFFLINE_STATUS_PENDING_TX:"Changes are pending synchronization.",LBL_OFFLINE_STATUS_ONLINE:"Device is online.",LBL_OFFLINE_STATUS_OFFLINE:"Device is offline.",LBL_OFFLINE_STATUS_BAD_NETWORK:"Unable to reach the server.",LBL_OFFLINE_STATUS_SYNC_FAILED:"Last synchronization attempt failed. Check the transaction log.",LBL_OFFLINE_SYNC_IN_PROGRESS:"Synchronization in progress...",LBL_OFFLINE_TRANSACTION_SYNCED:"Transaction synchronized.",LBL_OFFLINE_ENABLE_PROMPT:"Are you sure you want to turn on offline support?",LBL_OFFLINE_DISABLE_PROMPT:"Do you want to turn off offline support? All changes pending synchronization will be lost.",LBL_OFFLINE_ENABLED:"Offline mode enabled",LBL_OFFLINE_DISABLED:"Offline mode disabled",LBL_OFFLINE_STATS:"Storage statistics",LBL_OFFLINE_SERVER_FETCH:"Fetching from server...",LBL_OFFLINE_MERGE_DATA_CONFIRM:"Someone has edited the same record on the server. Confirm to auto-merge your changes or reject to discard them.",LBL_OFFLINE_LAST_SYNC_TS:"Last synchronization attempt: {{ts}}",LBL_ACTION_UPDATE:"UPDATE",LBL_ACTION_CREATE:"CREATE",LBL_ACTION_DELETE:"DELETE",LBL_ACTION_LINK:"LINK",LBL_ACTION_UNLINK:"UNLINK",LBL_ACTION_FAVORITE:"FAVORITE",LBL_ACTION_FOLLOW:"FOLLOW",LBL_ACTION_CREATE_EXPLANATION:'Created {{module}} "{{name}}"',LBL_ACTION_UPDATE_EXPLANATION:'Updated {{module}} "{{name}}"',LBL_ACTION_DELETE_EXPLANATION:'Deleted {{module}} "{{name}}"',LBL_ACTION_LINK_EXPLANATION:'Linked {{module}} "{{name}}" to {{relatedModule}} "{{relatedName}}"',LBL_ACTION_UNLINK_EXPLANATION:'Unlinked {{module}} "{{name}}" from {{relatedModule}} "{{relatedName}}"',LBL_ACTION_FOLLOW_EXPLANATION:'Followed {{module}} "{{name}}"',LBL_ACTION_UNFOLLOW_EXPLANATION:'Unfollowed {{module}} "{{name}}"',LBL_ACTION_FAVORITE_EXPLANATION:'Favorited {{module}} "{{name}}"',LBL_ACTION_UNFAVORITE_EXPLANATION:'Unfavorited {{module}} "{{name}}"',LBL_ACTION_CREATE_RELATED_EXPLANATION:'Created {{module}} "{{name}}" related to {{relatedModule}} "{{relatedName}}"',LBL_EMAIL_ACTION_SET_PRIMARY:"Primary",LBL_EMAIL_ACTION_SET_OPT_OUT:"Opt-out",LBL_EMAIL_ACTION_SET_OPT_IN:"Opt-in",LBL_EMAIL_ACTION_SET_VALID:"Valid",LBL_EMAIL_ACTION_SET_INVALID:"Invalid",LBL_ROLLBACK_BUTTON:"Rollback",LBL_TX_LOG:"Transaction Log",LBL_TX_LOG_DETAIL:"Transaction Detail",LBL_RECORD_DELETED:"(Record deleted)",LBL_FILE_SIZE_UNITS_B:"Bytes",LBL_FILE_SIZE_UNITS_KB:"kB",LBL_FILE_SIZE_UNITS_MB:"MB",LBL_CHOOSE_ITEMS:"Choose items",LBL_OFFLINE_DB_SIZE:"Database size",LBL_OFFLINE_DATA_ENCRYPTION_ENABLED:"Data encryption is enabled.",LBL_OFFLINE_RECORDS_PER_MODULE:"Records per module",LBL_OFFLINE_TOTAL_RECORDS:"Total Records",LBL_OFFLINE_LAST_DOWNLOAD:"Last download",LBL_RECENTLY_VIEWED:"Recently Viewed",ERR_MOBILE_METADATA_CHANGED_RELOAD:"Server configuration has changed and reload is required. Proceed?",ERR_MOBILE_CONFLICT:"Someone has edited the same record on the server. Confirm to auto-merge your changes or reject to discard them.",ERR_MOBILE_METADATA_CHANGED:"Server configuration has changed.",ERR_MOBILE_FILE_READ:"Failed to read the file",ERR_MOBILE_FILE_NOT_FOUND:"File not found",ERR_MOBILE_FILE_NOT_READABLE:"File not readable",ERR_MOBILE_FILE_ABORTED:"Read operation was aborted",ERR_MOBILE_FILE_SECURITY:"File is locked",ERR_MOBILE_FILE_DOWNLOAD_FAILED:"Unable to download the file.",ERR_MOBILE_VIEW_NOT_SUPPORTED:"Mobile version does not support this functionality. Do you want to open the desktop version?",ERR_OFFLINE:"Offline error",ERR_OFFLINE_STORAGE_UNAVAILABLE:"Failed to open local storage",ERR_OFFLINE_STORAGE_CREATE:"Failed to create local storage",ERR_OFFLINE_START_FAILED_OUT_OF_SPACE:"Failed to create local storage: you've run out of space.",ERR_OFFLINE_OUT_OF_SPACE:"You've run out of space for local storage.",ERR_OFFLINE_DB_CLEANING_ERROR:"Database clean-up failed",ERR_OFFLINE_CLEAN_UP_CONFIRMATION:"You have reached the maximum record limit for offline mode so we will be periodically cleaning up older records",ERR_OFFLINE_PREFETCH_FAILED:"Failed to prefetch records from server",ERR_OFFLINE_SYNC_ERROR:"Synchronization error",ERR_OFFLINE_SYNC_CONFLICT:"Synchronization conflict",ERR_OFFLINE_SERVERTIME_UNAVAILABLE:"Failed to get server time",ERR_MOBILE_DASHBOARDS_FETCHING:"Failed to load dashboards from server",ERR_FILTERS_FETCHING:"Unable to fetch your filters",ERR_OFFLINE_ENCRYPTION_FAILED:"Failed to encrypt local storage",LBL_OFFLINE_ENCRYPTION_IN_PROGRESS:"Encrypting offline data. This may take several minutes.",LBL_OFFLINE_ENCRYPTION_SUCCESS:"Offline data encryption completed.",ERR_ACCESS_SPECIFIC_MODULE:"You do not have access to {{{module}}} module.",LBL_MOBILE_WAIT:"Please wait...",LBL_OK:"OK",LBL_YES:"Yes",LBL_NO:"No",LBL_CANCEL_BUTTON_LABEL:"Cancel",LBL_SKIP:"Skip",LBL_UPDATE:"Update",LBL_CONTINUE:"Continue",LBL_MOBILE_RELOGIN_BUTTON:"Re-login",LBL_MOBILE_META_SYNC_FAILED:"Unable to sync with server.",LBL_MOBILE_META_SYNC_FAILED_RETRY:"Unable to sync with server. Retry?",LBL_LOADING:"Loading...",LBL_WARNING:"Warning",LBL_CONFIRM:"Confirm",LBL_ENABLE:"Enable",LNK_ABOUT:"About",LBL_MOBILE_APP_VERSION:"App Version",LBL_MOBILE_TRIAL_UNTIL:"Trial Until",LBL_MOBILE_SDK_VERSION:"SDK Version",LBL_MOBILE_SERVER_VERSION:"Server Version",LBL_MOBILE_SERVER_URL:"Instance URL",LBL_MOBILE_FEEDBACK:"Feedback",LBL_MOBILE_SUPPORT:"Support",LBL_LOGIN_USERNAME:"Username",LBL_LOGIN_PASSWORD:"Password",LNK_TERMS_OF_USE:"Terms of Use",LNK_PRIVACY_POLICY:"Privacy Policy",LNK_THIRD_PARTY_SOFTWARE:"Third Party Software",LBL_LOGIN_BUTTON_TITLE:"Log In",LBL_EXTERNAL_LOGIN_BUTTON_TITLE:"Single Sign-On",LBL_LOG_LEVEL:"Log Level",LBL_NOT_AVAILABLE:"N/A",LBL_USE_HTTPS:"Use secure connection",LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM:"Login settings have been reconfigured.",LBL_TRIAL_PERIOD_EXPIRED:"Your trial period has expired.",ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN:"Server does not support secure connection. Please turn off secure connection.",ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN:"Server supports secure connection. Please turn on secure connection.",ERR_MOBILE_HTTP_CONNECTION_USE_MSG:"Your connection is not secure. Contact your administrator.",LBL_LOGIN_SETTINGS_HEADER:"Login Settings",LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE:"Set up your {{{brandName}}} instance",LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC:"In order for the app to work, you will need to type in the URL of the {{{brandName}}} instance. If you do not have the instance URL, please contact your administrator.",LBL_TOUCHID:"Touch ID",LBL_FACEID:"Face ID",LBL_ENABLE_TOUCHID:"Enable {{{biometryType}}}",LBL_SETUP_TOUCHID:"Setup {{{biometryType}}}",LBL_TOUCH_ID_AUTHENTICATE_SUBTITLE:"Sign in using your finger",LBL_TOUCH_ID_NOT_ENROLLED_MSG:"{{{biometryType}}} is not set up on your device. \n\nGo to your device settings to set up {{{biometryType}}}. Once set up, enable {{{biometryType}}} for {{{brandName}}} in Main Menu > Settings.",LBL_TOUCH_ID_DISCLAIMER:"Using {{{biometryType}}} with {{{brandName}}} will allow you to use your biometric identifier instead of entering your password to access {{{brandName}}}.",LBL_TOUCH_ID_ENABLE_CONFIRM_MSG:" Would you like to proceed with {{{biometryType}}}?",LBL_TOUCH_ID_ENTER_PASSWORD_TITLE:"Enter {{{brandName}}} Password to Enable {{{biometryType}}}",LBL_SETUPBUDDY_HEADER_TITLE:"Setup",LBL_MDM_CONFIRM_CHANGE:"Application configuration has changed from Mobile Device Manager. Please re-login to apply changes.",ERR_GEOLOCATION_PERMISSION_DENIED:"Please give {{{brandName}}} access to your location via your device's settings.",ERR_GEOLOCATION_POSITION_UNAVAILABLE_MSG:"Current location is not available",ERR_GEOLOCATION_POSITION_TIMEOUT_MSG:"Current location retrieval timed out. \nPlease try again.",ERR_GEOLOCATION_PLACEMARKS_UNAVAILABLE_MSG:"Location placemarks are not available",ERR_GEOLOCATION_INVALID_COORDINATES_MSG:"Location coordinates are invalid",ERR_SYNC_FAILED:"Unable to sync with server.",ERR_INTERNAL_ERR_MSG:"Internal error",ERR_MOBILE_NOT_AUTHORIZED:"Access not authorized.",ERR_MOBILE_INVALID_CREDS:"Invalid username or password.",ERR_MOBILE_INVALID_PASSWORD:"Invalid password.",ERR_MOBILE_SESSION_EXPIRED:"Your session expired.",ERR_MOBILE_SSO_NOT_CONFIGURED:"SSO login is unavailable. Ensure the instance is on Sugar 7.5 or greater and configured for SSO.",ERR_MOBILE_NOT_FOUND:"Resource not found.",ERR_MOBILE_TIMEOUT:"Server is not responding.",ERR_MOBILE_CONNECTION_FAILED:"Can't reach the server.",ERR_MOBILE_NOT_FOUND_LOGIN:"No {{{brandName}}} server found at the given URL.",ERR_MOBILE_TIMEOUT_LOGIN:"Server is not responding at the given URL.",ERR_MOBILE_CONNECTION_FAILED_LOGIN:"Server unavailable at the given URL.",ERR_MOBILE_INTERNET_UNAVAILABLE:"Internet connection unavailable.",ERR_MOBILE_INTERNAL:"Internal error ({{{code}}}). Please try again later.",ERR_MOBILE_VALIDATION:"Record is invalid",ERR_SERVER_FLAVOR_INCOMPATIBLE:"Incompatible server flavor: {{{flavor}}}. Supported flavors: {{{supportedFlavors}}}.",ERR_SERVER_VERSION_INCOMPATIBLE:"Incompatible server version: {{{version}}}. Minimum required version: {{{minVersion}}}.",ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION:"Your app is outdated and is no longer compatible with the {{{brandName}}} instance you are connecting to.",ERR_MOBILE_INCOMPATIBLE_CLIENT_VERSION_UPDATE:"Your app is outdated and is no longer compatible with the {{{brandName}}} instance you are connecting to. Do you want to update it?",ERR_GENERIC_TITLE:"Error",LBL_MOBILE_BY:"By",LBL_MOBILE_FILTER_IS_NOT_AVAILABLE:"This filter is not available in offline",LBL_BULK_LOAD_OFFLINE_RECORDS:"Offline Records",LBL_BULK_LOAD_DOWNLOAD_SETTINGS:"Download Settings",LBL_BULK_LOAD_PREFETCH_MESSAGE:"Download your assigned, favorite, and followed records for offline access. You can update your preferences in offline settings.",LBL_BULK_LOAD_COMPLETED_MESSAGE:"Your records have finished downloading. You can now access them in offline mode.",LBL_BULK_LOAD_ERROR_CONFIRM:"Not all your records were downloaded.\n Do you want to try again?",LBL_BULK_LOAD_USE_CELLULAR:"Use cellular data",LBL_BULK_LOAD_NOT_RIGHT_NOW:"Not right now",LBL_BULK_LOAD_PAUSED_MESSAGE:"Download has paused and it will resume when you open the app again.",LBL_BULK_LOAD_STATUS_DOWNLOADING:"Downloading {{{module}}}: {{count}}",LBL_BULK_LOAD_STATUS_IDLE:"Update Latest Records",LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION:"Waiting for connection",LBL_BULK_LOAD_STATUS_PAUSED:"Paused",LBL_BULK_LOAD_STATUS_STOPPING:"Stopping",LBL_BULK_LOAD_BTN_DOWNLOAD:"Download",LBL_BULK_LOAD_BTN_PAUSE:"Pause",LBL_BULK_LOAD_BTN_RESUME:"Resume",LBL_BULK_LOAD_CONNECTION_USE_MESSAGE:"Only WiFi connection is used by default",LBL_NPS_RATING_MSG:"How would you rate your \n{{{productName}}} experience?",LBL_NPS_THANKS_MSG:"Thanks for your feedback!",LBL_NPS_APPSTORE_RATE_MSG:"Would you mind rating it on the App Store?",LBL_NPS_NO_THANKS:"No, Thanks",LBL_NPS_NOT_NOW:"Not Now",LBL_NPS_RATE_NOW:"Rate Now",WARN_MOBILE_INTERNET_UNAVAILABLE:"Network is unavailable. You can still use the app while offline",WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS:"Your changes will be synced when you are online. <a class='alert-link' href='{{{link}}}'>See details</a>",ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS:"There are unsynced data. Please check the <a class='alert-link' href='{{{link}}}'>transaction log</a>",LBL_CONVERT:"Convert",LBL_CONVERT_LEAD:"Convert Lead",LBL_SEARCH_EXISTING_RECORD:"Search Existing {{{this}}}",LBL_DUPLICATES_CHECK_FAILED:"Duplicates check failed",LBL_MOVE_RELATED_ACTIVITIES_PROMPT:"Do you want to move related activities to the contact record?",LBL_LEAD_CONVERSION_SUCCESS:"You successfully converted the lead {{{name}}}",LBL_MOBILE_NO_DUPLICATES_FOUND:"No Duplicates Found.",ERR_LEAD_CONVERSION_FAIL:"Lead Conversion Failed",LBL_SELECT_DUPLICATE_RECORD:"Select From Duplicate {{{modulePlural}}}",LBL_SELECTED_EXISTING_RECORD:"Selected {{{moduleSingular}}}",LBL_CREATED_NEW_RECORD:"Created New {{{moduleSingular}}}",LBL_VO_BACK_BTN:"Back button",LBL_VO_HOME_BTN:"Home button",LBL_VO_DASHBOARD_BTN:"Dashboard button",LBL_VO_SEARCH_BTN:"Search button",LBL_VO_RIGHT_MENU_BTN:"Right menu button",LBL_VO_ADD_BTN:"Add button"}};t._mod_strings=["LBL_ATTACHMENTS","LBL_EMAIL_BODY","LBL_MODULE_NAME","LBL_MODULE_NAME_SINGULAR","LBL_RELATED_RECORD_DEFAULT_NAME","LBL_RELATED_MODULE","LBL_CREATE_RELATED","LBL_CREATE_MODULE","LBL_RELATED_MODULE","LBL_EDIT_RELATED","LBL_EDIT","LBL_ASSOC_EXISTING","LBL_ASSOC","LBL_ASSIGN","LBL_RELATED_MODULE_PLURAL","LBL_DASHLET_FORECAST_NOT_SETUP","LBL_DASHLET_FORECAST_NOT_SETUP_ADMIN","LBL_DASHLET_FORECAST_CONFIG_LINK_TEXT","LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","LBL_CLOSED","LBL_FORECAST_DETAILS_SURPLUS","LBL_FORECAST_DETAILS_EXCEED","LBL_FORECAST_DETAILS_DEFICIT","LBL_FORECAST_DETAILS_SHORT","LBL_FORECAST_DETAILS_NO_DATA","LBL_FORECAST_DETAILS_MEETING_QUOTA","LBL_SALES_STAGE","LBL_AMOUNT","LBL_PERCENT","LBL_CUMULATIVE_TOTAL","LBL_OW_PROBABILITY","LBL_QUOTA","LBL_QUOTA_ADJUSTED","LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME","LBL_NEW_RECORDS","LBL_ASSIGNED_TO_ME","LBL_LISTVIEW_FILTER_ALL","LBL_MY_SCHEDULED_ITEMS","LBL_MY_SCHEDULED_CALLS","LBL_MY_SCHEDULED_MEETINGS"];t._app_list_strings=["record_type_display","moduleIconList","moduleList","moduleListSingular","available_language_dom","forecasts_options_dataset","forecasts_chart_options_group","top10_opportunities_duration_options","history_filter_options","generic_timeperiod_options","opportunity_metrics_dom"];t._app_strings=_.union(_.keys(t.baseMetadata.app_strings),["LBL_TRY_AGAIN","LBL_CONTINUE","LBL_FAVORITES_FILTER","LBL_ACTIVITY_STREAM","LBL_RECORD_NOT_FOUND","LBL_RELATED_RECORD_NOT_FOUND","LBL_NOT_AUTHORIZED","LBL_SET_FONTSIZE","LBL_LATER","LBL_ACTION_UPDATE","LBL_ACTION_CREATE","LBL_ACTION_DELETE","LBL_ACTION_LINK","LBL_ACTION_UNLINK","LBL_ACTION_FAVORITE","LBL_ACTION_FOLLOW","LBL_ROLLBACK_BUTTON","LBL_UNLINKING","LBL_DELETING","LBL_SAVING","LBL_UNLINKED","LBL_DELETED","LBL_SAVED","LBL_MOBILE_CHOOSE_RECIPIENT","LBL_MOBILE_CHOOSE_PHONE","LBL_MOBILE_CHOOSE_URL","LBL_MOBILE_DOC","LBL_MOBILE_CHOOSE_DOC","LBL_MOBILE_CHOOSE_LOCATION","LBL_MOBILE_WAIT","LBL_MOBILE_LOG_CALL_CONFIRM","LBL_MOBILE_TUTORIAL_HOME_MENU","LBL_MOBILE_TUTORIAL_HOME_PLUS","LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION","LBL_MOBILE_TUTORIAL_HOME_SWIPE","LBL_MOBILE_DOWNLOAD_STARTED","LBL_MOBILE_DOWNLOAD_COMPLETED","LBL_UPCOMING","LBL_MOBILE_NO_RECORDS","LBL_RECENTLY_UPDATED","LBL_RECENTLY_VIEWED","LBL_MOBILE_NO_ACTIONS_AVAILABLE","LBL_DELETE_BUTTON","LBL_SAVE_BUTTON_LABEL","LBL_HOME","LBL_ENABLE","LBL_SKIP","LBL_DETAILS","LBL_UPDATE","LBL_CREATE_RELATED_MODULE_WARN","LBL_MOBILE_DESKTOP","LBL_LOGOUT","LBL_RECORDS","LBL_MOBILE_SEARCH_PLACEHOLDER","LBL_DONE_BUTTON_LABEL","LBL_OPTIONAL","LBL_REQUIRED","LBL_CHOOSE_LINK","LBL_NO_ACCESS","LBL_NO_ACCESS_LOWER","LBL_CHOOSE_PARENT_TYPE","LBL_RELATED_MODULE","LBL_MOBILE_UPLOAD_IN_PROGRESS","LBL_MOBILE_UPLOAD_SUCCESS","LBL_MOBILE_PROCESSING_IMAGE","LBL_MOBILE_PROCESSING_FILE","LBL_MOBILE_DELETE_CONFIRM","LBL_DUPLICATE_BUTTON_LABEL","LBL_CREATE_RELATED_RECORD","LBL_ASSOC_RELATED_RECORD","LBL_MOBILE_SELECT_TEAMS","LBL_CHOOSE_ITEMS","LBL_VIEW_BUTTON","LBL_EDIT_BUTTON","LBL_UNLINK_BUTTON","LBL_CALL_BUTTON","LBL_SMS_BUTTON","LBL_EMAIL_BUTTON","LBL_MAP_BUTTON","LBL_URL_BUTTON","LBL_FILE_BUTTON","LBL_MORE_BUTTON","LBL_FOLLOW","LBL_UNFOLLOW","LBL_FAVORITE","LBL_UNFAVORITE","LBL_FOLLOWING","LBL_MOBILE_DETAIL_SHOW_MORE","LBL_MOBILE_DETAIL_SHOW_LESS","LBL_MOBILE_PTR_RELEASE","LBL_LOADING_FILES","LBL_MOBILE_UNLINK_CONFIRM","LBL_INVITEES","LBL_SEND_INVITE","LBL_SELECT_ACTION_LABEL","LNK_SETTINGS","LBL_LANGUAGE","LBL_NAME","LBL_NONE","LBL_TIME_RELATIVE","LBL_TIME_AGO_NOW","LBL_TIME_AGO_SECONDS","LBL_TIME_AGO_MINUTE","LBL_TIME_AGO_MINUTES","LBL_TIME_AGO_HOUR","LBL_TIME_AGO_HOURS","LBL_TIME_AGO_DAY","LBL_TIME_AGO_DAYS","LBL_TIME_AGO_YEAR","LBL_TIME_UNTIL_SECONDS","LBL_TIME_UNTIL_MINUTE","LBL_TIME_UNTIL_MINUTES","LBL_TIME_UNTIL_HOUR","LBL_TIME_UNTIL_HOURS","LBL_TIME_UNTIL_DAY","LBL_TIME_UNTIL_DAYS","LBL_TIME_UNTIL_YEAR","LBL_NOT_AVAILABLE","LBL_FILE_SIZE_UNITS_B","LBL_FILE_SIZE_UNITS_KB","LBL_FILE_SIZE_UNITS_MB","LBL_USE_HTTPS","LBL_RECONFIGURE_LOGIN_SETTINGS_CONFIRM","LBL_TRIAL_PERIOD_EXPIRED","LBL_MOBILE_TRIAL_UNTIL","ERR_MOBILE_HTTPS_CONNECTION_FAILED_LOGIN","ERR_MOBILE_HTTP_CONNECTION_FAILED_LOGIN","ERR_MOBILE_HTTP_CONNECTION_USE_MSG","LBL_LOGIN_SETTINGS_HEADER","LBL_LOGIN_SETTINGS_INSTANCE_SETUP_TITLE","LBL_LOGIN_SETTINGS_INSTANCE_SETUP_DESC","LBL_TOUCHID","LBL_FACEID","LBL_ENABLE_TOUCHID","LBL_SETUP_TOUCHID","LBL_TOUCH_ID_AUTHENTICATE_SUBTITLE","LBL_TOUCH_ID_NOT_ENROLLED_MSG","LBL_TOUCH_ID_DISCLAIMER","LBL_TOUCH_ID_ENABLE_CONFIRM_MSG","LBL_TOUCH_ID_ENTER_PASSWORD_TITLE","LBL_SETUPBUDDY_HEADER_TITLE","ERR_GEOLOCATION_PERMISSION_DENIED","ERR_GEOLOCATION_POSITION_UNAVAILABLE_MSG","ERR_GEOLOCATION_POSITION_TIMEOUT_MSG","ERR_GEOLOCATION_PLACEMARKS_UNAVAILABLE_MSG","ERR_GEOLOCATION_INVALID_COORDINATES_MSG","LBL_MDM_CONFIRM_CHANGE","LBL_REMOVE","LBL_TODAY","LBL_FUTURE","LBL_CLOSE_BUTTON_TITLE","LBL_CLOSE_AND_SAVE_BUTTON","LBL_MOBILE_SPECIFIC_DASHBOARD","LBL_MOBILE_SPECIFIC_MODULE","LBL_MOBILE_DEFAULT_VIEW","LBL_MOBILE_DEFAULT_MODULE","LBL_MOBILE_DEFAULT_DASHBOARD","LBL_MOBILE_DEFAULT_DASHLET","LBL_MOBILE_GLOBAL_SEARCH","LBL_DASHBOARDS_CHANGED_PROMPT","LBL_DEFAULT_HELP_DASHBOARD_TITLE","LBL_DEFAULT_HELP_DASHLET_TITLE","LBL_LEARNING_RESOURCES_NAME","LBL_DASHLET_RECENT_TWEETS_SUGARCRM_NAME","TPL_DASHLET_MY_MODULE","LBL_DEFAULT_DASHBOARD_TITLE","LBL_ACTIVE_TASKS_DASHLET_DUE_NOW","LBL_ACTIVE_TASKS_DASHLET_UPCOMING","LBL_ACTIVE_TASKS_DASHLET_TODO","LBL_COMMENT","LBL_COMMENT_ADD","LBL_ACTIVITY_CREATE","LBL_ACTIVITY_UPDATE","LBL_ACTIVITY_LINK","LBL_ACTIVITY_UNLINK","LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER","LBL_SUBMIT_BUTTON_LABEL","LBL_SHOWING_CACHED_DATA","LBL_DASHLET_FORECASTS_GROUPBY","LBL_DASHLET_FORECASTS_DATASET","LBL_DASHLET_FORECASTS_CHART_NAME","LBL_LIKELY","LBL_BEST","LBL_ACTIVE_TASKS_DASHLET","LBL_INACTIVE_TASKS_DASHLET_DEFERRED","LBL_INACTIVE_TASKS_DASHLET_COMPLETED","LBL_ALL_DASHLETS","LBL_TWITTER_REPLY","LBL_TWITTER_RETWEET","LBL_TWITTER_FAVORITE","LBL_CONNECT_TEST_FAIL","LBL_ERROR_CANNOT_FIND_TWITTER","LBL_CONFIGURE_TWITTER","LBL_PLANNED_ACTIVITIES_DASHLET","LBL_HISTORY_DASHLET","LBL_DASHLET_OPPORTUNITY_NAME","LBL_DASHLET_CASES_SUMMARY_NAME","LBL_DASHLET_CASESSUMMARY_SUMMARY","LBL_DASHLET_CASESSUMMARY_OPEN_CASES","LBL_DASHLET_CASESSUMMARY_CLOSE_CASES","LBL_OFFLINE_MODE","LBL_OFFLINE_PREFETCH_PROMPT","LBL_OFFLINE_PREFETCH_FIRST_PROMPT","LBL_OFFLINE_PREFETCH_SUCCESS","LBL_OFFLINE_PREFETCH_ERROR","LBL_OFFLINE_PREFETCH_ACTION","LBL_OFFLINE_PREFETCH_RELATED_ACTION","LBL_OFFLINE_PREFETCHING","LBL_OFFLINE_PREFETCHING_MODULE","LBL_OFFLINE_PREFETCHING_EST_TIME","LBL_OFFLINE_PREFETCHING_RELATIONSHIP","LBL_OFFLINE_PREFETCHING_MODULE_COMPLETE","LBL_OFFLINE_DB_CLEANING_IN_PROGRESS","LBL_OFFLINE_DB_CLEANING_COMPLETED","LBL_OFFLINE_ROLLBACK_PROMPT","LBL_OFFLINE_ROLLBACK_FAILED","LBL_OFFLINE_ROLLBACK_SUCCESS","LNK_OFFLINE_SETTINGS","LBL_OFFLINE_ENABLE_PROMPT","LBL_OFFLINE_DISABLE_PROMPT","LBL_OFFLINE_ENABLED","LBL_OFFLINE_DISABLED","LBL_OFFLINE_CLEAR_DB","LBL_OFFLINE_COMPACT_DB","LBL_OFFLINE_CLEAN_UP_PROMPT","LBL_OFFLINE_CLEAR_DB_PROMPT","LBL_OFFLINE_SERVER_FETCH","LBL_OFFLINE_MERGE_DATA_CONFIRM","LBL_OFFLINE_LAST_SYNC_TS","LBL_OFFLINE_SYNC_IN_PROGRESS","LBL_OFFLINE_TRANSACTION_SYNCED","LBL_OFFLINE_TOTAL_RECORDS","LBL_OFFLINE_LAST_DOWNLOAD","LBL_OFFLINE_DB_SIZE","LBL_OFFLINE_DATA_ENCRYPTION_ENABLED","LBL_OFFLINE_RECORDS_PER_MODULE","LBL_TX_LOG","LBL_TX_LOG_DETAIL","LBL_OFFLINE_MENU_SETTINGS","LBL_OFFLINE_DEBUG_SETTINGS","LBL_OFFLINE_STATS","LBL_ACTION_CREATE_EXPLANATION","LBL_ACTION_UPDATE_EXPLANATION","LBL_ACTION_DELETE_EXPLANATION","LBL_ACTION_LINK_EXPLANATION","LBL_ACTION_UNLINK_EXPLANATION","LBL_ACTION_FAVORITE_EXPLANATION","LBL_ACTION_FOLLOW_EXPLANATION","LBL_ACTION_UNFOLLOW_EXPLANATION","LBL_ACTION_UNFAVORITE_EXPLANATION","LBL_ACTION_CREATE_RELATED_EXPLANATION","LBL_EMAIL_ACTION_SET_PRIMARY","LBL_EMAIL_ACTION_SET_OPT_OUT","LBL_EMAIL_ACTION_SET_OPT_IN","LBL_EMAIL_ACTION_SET_VALID","LBL_EMAIL_ACTION_SET_INVALID","LBL_EMAIL_ADD","LBL_RECORD_DELETED","LBL_COLLECTION_PRIMARY","LBL_TEAM_SET_SELECTED","ERR_MOBILE_EMAIL","ERR_MOBILE_FILE_NOT_SUPPORTED","ERR_MOBILE_FILE_READ","ERR_MOBILE_FILE_NOT_FOUND","ERR_MOBILE_FILE_NOT_READABLE","ERR_MOBILE_FILE_ABORTED","ERR_MOBILE_FILE_SECURITY","ERR_MOBILE_FILE_DOWNLOAD_FAILED","ERR_MOBILE_FILE_SIZE_LIMIT_EXCEEDED","ERR_MOBILE_BROWSER_NOT_AUTHORIZED","ERR_MOBILE_BROWSER_FORBIDDEN","ERR_MOBILE_BROWSER_PAGE_NOT_FOUND","ERR_MOBILE_BROWSER_INTERNAL_SERVER_ERROR","ERR_MOBILE_BROWSER_SERVICE_UNAVAILABLE","ERR_MOBILE_STORAGE_UNAVAILABLE","ERR_MOBILE_GENERIC_NATIVE_ERROR","ERR_MOBILE_FILE_PROCESSING","ERR_MOBILE_METADATA_CHANGED","ERR_MOBILE_DASHBOARDS_FETCHING","ERR_FILTERS_FETCHING","ERR_NO_DOCS","ERR_MOBILE_UPLOAD","ERR_MOBILE_VALIDATION","ERR_NO_RECORDS_SELECTED","ERR_RENDER_FAILED_TITLE","ERR_RENDER_FAILED_MSG","ERR_RENDER_FIELD_FAILED_MSG","ERR_CONTACT_TECH_SUPPORT","ERR_NO_VIEW_ACCESS_TITLE","ERR_LAYOUT_RENDER_TITLE","ERR_INTERNAL_ERR_MSG","ERROR_MAXVALUE","ERROR_MINVALUE","ERROR_MAX_FIELD_LENGTH","ERROR_MIN_FIELD_LENGTH","ERROR_DATETIME","ERROR_FIELD_REQUIRED","ERROR_EMAIL","ERROR_NUMBER","ERROR_IS_BEFORE","ERROR_IS_AFTER","ERROR_IS_GREATER_THAN","ERROR_IS_LESS_THAN","ERROR_DUPLICATE_EMAIL","ERR_MOBILE_CONFLICT","ERR_MOBILE_VIEW_NOT_SUPPORTED","ERR_ACCESS_SPECIFIC_MODULE","ERR_OFFLINE","ERR_OFFLINE_STORAGE_UNAVAILABLE","ERR_OFFLINE_STORAGE_CREATE","ERR_OFFLINE_START_FAILED_OUT_OF_SPACE","ERR_OFFLINE_OUT_OF_SPACE","ERR_OFFLINE_CLEAN_UP_CONFIRMATION","ERR_OFFLINE_PREFETCH_FAILED","ERR_OFFLINE_DB_CLEANING_ERROR","ERR_OFFLINE_SYNC_CONFLICT","ERR_OFFLINE_SYNC_ERROR","ERR_OFFLINE_SERVERTIME_UNAVAILABLE","ERR_OFFLINE_NO_CONNECTION_ENABLE_ERROR","ERR_OFFLINE_ENCRYPTION_FAILED","LBL_OFFLINE_ENCRYPTION_IN_PROGRESS","LBL_OFFLINE_ENCRYPTION_SUCCESS","WARN_MOBILE_INTERNET_UNAVAILABLE","WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS","ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS","LBL_CONVERT","LBL_CONVERT_LEAD","LBL_SELECT_ONE_FROM_DUPLICATED_RECORDS","LBL_SEARCH_EXISTING_RECORD","LBL_DUPLICATES_CHECK_FAILED","LBL_MOVE_RELATED_ACTIVITIES_PROMPT","LBL_LEAD_CONVERSION_SUCCESS","LBL_SHOW_MORE","LBL_SHOW_LESS","LBL_BACK","LBL_NEXT_BUTTON_LABEL","LBL_MOBILE_NO_DUPLICATES_FOUND","ERR_LEAD_CONVERSION_FAIL","LBL_RELATED_RECORD_DEFAULT_NAME","LBL_RELATED_MODULE","LBL_CREATE_RELATED","LBL_CREATE_MODULE","LBL_RELATED_MODULE","LBL_EDIT_RELATED","LBL_EDIT","LBL_ASSOC_EXISTING","LBL_ASSOC","LBL_ASSIGN","LBL_RELATED_MODULE_PLURAL","LBL_CHART_LEGEND_CLOSE","LBL_CHART_LEGEND_OPEN","LBL_CHART_NO_DATA","LBL_DASHLET_TOP10_SALES_OPPORTUNITIES_NAME","LBL_DASHLET_PIPLINE_NAME","LBL_CHART_UNDEFINED","LBL_NO_FIELD_ACCESS","LBL_RECORD_SHARE_BUTTON","TPL_RECORD_SHARE_SUBJECT","TPL_RECORD_SHARE_BODY","LBL_MOBILE_BY","LBL_MOBILE_FILTER_IS_NOT_AVAILABLE","LBL_BULK_LOAD_OFFLINE_RECORDS","LBL_BULK_LOAD_DOWNLOAD_SETTINGS","LBL_BULK_LOAD_PREFETCH_MESSAGE","LBL_BULK_LOAD_COMPLETED_MESSAGE","LBL_BULK_LOAD_ERROR_CONFIRM","LBL_BULK_LOAD_USE_CELLULAR","LBL_BULK_LOAD_NOT_RIGHT_NOW","LBL_BULK_LOAD_PAUSED_MESSAGE","LBL_BULK_LOAD_STATUS_DOWNLOADING","LBL_BULK_LOAD_STATUS_IDLE","LBL_BULK_LOAD_STATUS_WAITING_FOR_CONNECTION","LBL_BULK_LOAD_STATUS_PAUSED","LBL_BULK_LOAD_STATUS_STOPPING","LBL_BULK_LOAD_BTN_DOWNLOAD","LBL_BULK_LOAD_BTN_PAUSE","LBL_BULK_LOAD_BTN_RESUME","LBL_BULK_LOAD_CONNECTION_USE_MESSAGE","LBL_NPS_RATING_MSG","LBL_NPS_THANKS_MSG","LBL_NPS_APPSTORE_RATE_MSG","LBL_NPS_NO_THANKS","LBL_NPS_NOT_NOW","LBL_NPS_RATE_NOW","LBL_VO_BACK_BTN","LBL_VO_HOME_BTN","LBL_VO_DASHBOARD_BTN","LBL_VO_SEARCH_BTN","LBL_VO_RIGHT_MENU_BTN","LBL_VO_ADD_BTN"]);t.mod_strings={}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(20);var r=n(7);var s=n(3),o=s.execRegex;var l={base:1,bool:1,currency:1,date:1,datetimecombo:1,email:1,enum:1,float:1,file:1,image:1,int:1,multienum:1,name:1,parent:1,password:1,phone:1,radioenum:1,relate:1,address:1,invitees:1,send_invites:1,teamset:1,text:1,textarea:1,url:1,tag:1};var u={collection:{Emails:["to_collection","cc_collection","bcc_collection","from_collection","attachments_collection"]}};var c=["teamset","multienum","image","file"];(function e(){var t=i.metadata.set;var n=function e(t){var n=t.filters;if(!n||!n.basic||!n.basic.meta){return[]}return _.pluck(n.basic.meta.filters,"name")};var s=new RegExp("^("+"NTC_|"+"MSG_|"+"EXCEPTION_|"+"LNK_|"+"TPL_|"+"LBL_SHORTCUT_|"+"LBL_SWEETSPOT_|"+"LBL_TOUR_"+")");var l=function e(t){return s.test(t)};var d=function e(t,n,i,a){var r=void 0;var s=/.*?(?:translateLabel\((?:'|")(\w+)(?:'|")\s*,\s*(?:'|")(\w*)(?:'|")\)).*?/gm;var l=[/.*?(?:getDropdownValue\((?:'|")(\w+)(?:'|"))+.*?/gm,/.*?(?:getDropdownKeySet\((?:'|")(\w+)(?:'|"))+.*?/gm,/.*?(?:getDropdownValueSet\((?:'|")(\w+)(?:'|"))+.*?/gm];o(t,s,function(e){var t=e[2];if(_.isEmpty(t)){n[e[1]]=true}else{i[t]=i[t]||{};i[t][e[1]]=true}});var u=function e(t){a[t[1]]=true};for(r=0;r<3;++r){o(t,l[r],u)}};var f=function e(t){_.each(t,function(e,n){if(i.config.dashboards.dashlets[n]||e.meta&&e.meta.tabs){if(e.templates){e.templates=null}}else{delete t[n]}})};var h=function e(t,n){if(n&&t){_.each(n,function(e,i){if(t[i]){return}delete n[i]})}};var p=function e(t,n){_.each(n,function(n){if(n instanceof RegExp){e(t,_.filter(_.keys(t),function(e){return n.test(e)}))}else{delete t[n]}})};var m=function e(t){var n=_.chain(t.subpanels.subpanel_setup).values().sortBy(function(e){return e.order}).value();_.each(n,function(e){e.context={link:e.get_subpanel_data};e.label=e.title_key;p(e,["subpanel_name","title_key","get_subpanel_data","order"])});t.layouts=_.extend(t.layouts||{},{subpanels:{meta:{components:n}}});delete t.subpanels};var g=function e(t,n){if(t._hash==="_base_"){return}var a=null;t.modules=_.omit(t.modules,"Forecasts");_.each(t.modules,function(e,s){var o=[];_.each(e.views,function(e){if(e.meta&&e.meta.panels){var t=_.chain(e.meta.panels[0].fields).filter(function(e){return e.type!=="link"}).map(function(e){return _.isString(e)?{name:e}:e}).value();_.each(t,function(e){if(_.contains(c,e.type)){e.sortable=0}});a=new i.view.View({context:new r,meta:{panels:[{fields:t}]}});o=_.union(o,a.getFieldNames(s));a.dispose();if(_.contains(o,"email")){o.push("email1")}}});if(s==="Activities"){return}o=_.union(o,n?["name","my_favorite","following"]:["name"]);if(_.find(o,function(t){return e.fields[t]&&e.fields[t].type==="currency"})){o=_.union(o,["currency_id"])}if(s==="Opportunities"){o=_.union(o,["closed_revenue_line_items"])}if(s==="Documents"){o=_.union(o,["doc_url","doc_type","filename"])}if(!t.server_info.ftsEnabled||!e.ftsEnabled){o=_.chain(e.fields).filter(function(e){return Boolean(e.unified_search)&&e.type!=="link"}).map(function(e){return e.name}).union(o).value()}e.mergedFields=_.union(e.mergedFields||[],o);var l=/\$[a-z_]+/gi;var u=[];if(e.fields){_.each(e.mergedFields,function t(n){if(e.fields[n]&&e.fields[n].formula){var i=e.fields[n].formula.match(l);_.each(i,function(n){n=n.substr(1);if(e.fields[n]&&e.fields[n].type!=="link"&&!_.contains(u,n)&&!_.contains(e.mergedFields,n)){u.push(n);t(n)}})}})}e.mergedFields=_.union(e.mergedFields,u)})};var v=function e(t){var n=t.toUpperCase();if(n.substr(-2)==="_C"){n=n.substr(0,n.length-2)}return"LBL_"+n};var b=function e(t){var n=["Calls","Meetings"];var i=_.getNested(t,"layouts.convert-main");if(!i){return}var a=_.getNested(i,"meta.modules");var r=_.any(a,function(e){return _.contains(n,e.module)&&e.required});if(r){delete t.layouts["convert-main"];return}i.meta.modules=_.filter(a,function(e){return!_.contains(n,e.module)});if(_.isEmpty(i.meta.modules)){delete t.layouts["convert-main"]}};i.metadata.set=function e(r,s,o){var c=_.getNested(r,"modules.Opportunities.config.opps_view_by");if(_.getNested(r,"modules.Emails")){r.modules.Emails.activityStreamEnabled=false}if(r.modules_info&&r.modules_info.RevenueLineItems&&c&&c!=="RevenueLineItems"){r.modules_info.RevenueLineItems.visible=false;r.modules_info.RevenueLineItems.display_tab=false}if(r._override_values){_.each(r._override_values,function(e,t){if(!r[e]){delete r._override_values[t]}})}if(r.config){var y={};_.extend(y,i.analytics.processConfig(r.config));_.extend(y,a.processConfig(r.config));y.offlineEnabled=Boolean(r.config.offlineEnabled);y.leadConvActivityOpt=r.config.leadConvActivityOpt;r.config=y}var x=false;if(r.server_info){var S=r.server_info;x=S?i.utils.versionCompare(S.version,"7.0RC",">="):false;r.server_info.isSevenUp=x}else{r.server_info={}}if(!o&&r._hash!=="_base_"){f(r.views);var w=i.metadata.getHash();if(w!==r._hash&&w!=="_base_"){if(r.modules){i.logger.debug("Metadata hash has changed. Resetting to base.");i.metadata.reset();i.metadata.set(JSON.parse(JSON.stringify(i.baseMetadata)),false,true)}else{r._hash=w}}i.nomad.initSupportedFeatures();i.nomad.updateSupportedFeatures(r);var L=_.isEmpty(i.config.modules.unsupportedModules)?[]:_.clone(i.config.modules.unsupportedModules);if(!i.supportedFeatures.emails&&!_.contains(L,"Emails")){L.push("Emails")}if(r.app_list_strings&&r.app_list_strings.available_language_dom){delete r.app_list_strings.available_language_dom[""]}if(!r.currencies){r.currencies={}}_.each(r.currencies,function(e){e.conversion_rate=e.conversion_rate||e.rate});_.each(r.modules_info,function(e,t){if(_.contains(L,t)){delete r.modules_info[t]}});if(r.modules_info){_.each(i.config.modules.hiddenModules,function(e){if(r.modules_info[e]){r.modules_info[e].visible=false}})}if(!r.mod_strings){r.mod_strings={}}r.mod_strings=_.extend({},i.mod_strings,r.mod_strings);_.each(r.modules,function(e,t){if(_.contains(L,t)){delete r.modules[t];if(!_.contains(i.config.modules.requiredStringsModules,t)){delete r.mod_strings[t]}}});var E=_.contains(["ENT","ULT"],r.server_info.flavor);var M="portal_flag";if(_.isEmpty(r.relationships)){r.relationships={}}var k=r.relationships.tasks_notes;if(k){k.relationship_role_column="parent_type";k.relationship_role_column_value="Tasks";k.relationship_type="one-to-many"}_.each(r.relationships,function(e,t){if(t==="_hash"){return}e=e||{};e.relationship_type=e.true_relationship_type||e.relationship_type;if(r.modules[e.lhs_module]&&r.modules[e.rhs_module]){if(e.relationship_role_column==="parent_type"||t==="contact_tasks"||t==="contact_notes"){e.via_parent_id=true}}else{delete r.relationships[t]}});if(r.relationships.accounts_opportunities){r.relationships.accounts_opportunities={lhs_key:"id",lhs_module:"Accounts",lhs_table:"accounts",name:"accounts_opportunities",relationship_type:"one-to-many",rhs_key:"account_id",rhs_module:"Opportunities",rhs_table:"opportunities"}}_.extend(r.relationships,i.baseMetadata.relationships);var A={};var T={};var C={};_.each(r.modules,function(e,t){if(e._patched){return}if(x){delete e.subpanels}var n=C[t]||{};var a={};C[t]=n;var s=["fieldTemplates","menu"];if(t!=="Forecasts"){s.push("config")}p(e,s);if(t!=="Activities"&&e.filters){e.filters={basic:e.filters.basic,default:e.filters.default}}if(e.layouts){if(e.layouts.subpanels&&e.layouts.subpanels.meta&&e.layouts.subpanels.meta.components){if(_.isArray(e.layouts.subpanels.meta.components)){_.each(e.layouts.subpanels.meta.components,function(e){n[e.label]=true})}else{delete e.layouts.subpanels}}if(i.supportedFeatures.leadConversion&&t==="Leads"){b(e)}}if(e.views){p(e.views,_(e.views).keys().filter(function(e){return!_.contains(["list","detail","edit","forecast-pipeline","dupecheck-list"],e)}))}if(e.views&&e.views["forecast-pipeline"]){var o=e.views["forecast-pipeline"];_.extend(o.meta.timeperiod[0],{type:"enum",view:"edit"});delete o.meta.panels;delete o.templates}if(!E){delete e.fields[M]}if(t==="RevenueLineItems"||t==="Products"){if(e.fields.opportunity_name&&e.fields.opportunity_id&&e.fields.opportunity_id.required){e.fields.opportunity_name.required=true}}_.each(e.fields,function(i,r){var s=u[i.type];if(s){s=s[t];if(!_.contains(s,r)){return delete e.fields[r]}}if(r!=="_hash"&&_.isEmpty(i.name)){delete e.fields[r];return}p(i,["comment","dbType","isnull","table","reportable","audited","join_name","merge_filter","duplicate_merge","bean_name","cols","rows","function","importable","massupdate","studio","bean_filter_field","link_class","link_file","rhs_key_override","enable_range_search","duplicate_merge_dom_value","help","no_default","comments","custom_module","db_concat_fields","subquery","query_type","operator","db_field","custom_type"]);n[i.vname]=true;if(i.type==="id"){delete i.len}if(i.formula){d(i.formula,A,C,T)}if(i.options){T[i.options]=true}if(i.type==="relate"||i.type==="parent"){delete i.len}if(i["link-type"]&&!i.link_type){i.link_type=i["link-type"]}if(i.relationship_fields){a[i.name]=true;_.each(i.relationship_fields,function(t){a[t]=true;var i=e.fields[t];if(i){n[i.vname]=true;if(i.options){T[i.options]=true}}})}if(i.required&&e.fields.email&&i.name==="email1"){e.fields.email.required=true}if(i.type==="collection"){_.each(i.links,function(e,t){if(_.isString(e)){i.links[t]={name:e}}})}});var l=e.fields.team_name;if(l){delete l.len;l.type="teamset"}l=e.fields.name;if(l&&t==="Documents"){l.type="name"}if(t==="Meetings"){l=e.fields.date_start;if(l&&l.validation){delete l.validation.compareto}}else if(t==="Activities"){e.views=i.baseMetadata.modules.Activities.views;e.views["activitystream-dashlet"].meta.view.limit=i.config.fetchLimit.activities}if(e.views){delete e.views.listview;delete e.views.search;if(e.views.edit&&e.views.edit.meta&&e.views.edit.meta.panels){_.each(e.views.edit.meta.panels[0].fields,function(e){if(_.isObject(e)&&(e.name==="reminder"||e.name==="email_reminder")){_.each(["fields","related_fields"],function(t){_.find(e[t],function(n,i){if((n.name||n)===e.name+"_checked"){e[t].splice(i,1);return true}})})}})}}var c=void 0;if(r.mod_strings&&r.mod_strings[t]){if(r.mod_strings[t].LBL_EMAIL){c="LBL_EMAIL"}else if(r.mod_strings[t].LBL_EMAIL_ADDRESS){c="LBL_EMAIL_ADDRESS"}}var f=/^(?=.*address)((?!email).)*$/;var h=_.find(e.fields,function(e){return e.type==="file"});if(t!=="Forecasts"){_.each(e.views,function(r,s){if(r.meta){delete r.meta.templateMeta;if(r.meta.panels){if(r.meta.panels.length){r.meta.panels.length=1}if(r.meta.panels[0]){var o=[];var l=r.meta.panels[0].fields;var u=-1;delete r.meta.panels[0].label;l=_.reject(l,function(n){var a=_.isString(n)?n:n.name;var r=_.isEmpty(e.fields[a])&&n.type!=="fieldset";if(r&&!window.jasmine){i.logger.error(t+"."+s+"."+a+" field is missing vardef")}return r});if(s==="list"){l=_.filter(l,function(e){return Boolean(e.default)||_.isString(e)})}r.meta.panels[0].fields=l;_.each(l,function(t,i){var r=_.isObject(t);var d=r?t.name:t;var h=e.fields[d];var m=void 0;if(t.options){T[t.options]=true}a[d]=true;n[t.label||h.vname]=true;if(h){if(h.options){T[h.options]=true}if(h.type==="relate"){a[h.id_name]=true;a[h.link]=true}else if(h.type==="parent"){a.parent_id=true;a.parent_type=true}}if(t.type==="fieldset"){_.each(t.fields,function(t){a[t.name]=true;if(t.default){n[t.default]=true}else{n[t.label||e.fields[t.name].vname]=true}if(t.options){T[t.options]=true}})}if(!E&&d===M){u=i}if(r){p(t,["default","enabled","link","width","wireless_edit_only","customCode"]);if(f.test(t.name)&&h){if(s==="edit"||s==="detail"){m=_.extend(t,{index:i});if(!m.group){m.group=h.group}if(m.group){o.push(m)}}else if(t.group||h.group){n[v(t.group||h.group)]=true}}if(t.name==="email1"){l[i]={name:"email",type:"email",label:t.label||c,required:h.required};n[t.label||c]=true;a.email=true}}else{if(f.test(d)&&h){if((s==="edit"||s==="detail")&&h.group){o.push({name:d,group:h.group,index:i})}else if(h.group){n[v(h.group)]=true}}if(t==="email1"){l[i]={name:"email",type:"email",label:c,required:h.required};n[c]=true;a.email=true}}});if(u!==-1){l.splice(u,1)}var d={};if(o.length>0){d=_.groupBy(o,"group");var m=0;_.each(d,function(e,t){var i=e[0].index-m;_.each(e,function(e){l.splice(i,1)});var a={name:t,fields:_.pluck(e,"name"),type:"address",label:v(t)};l.splice(i,0,a);m+=e.length-1;n[a.label]=true})}if(s==="edit"&&(t==="Meetings"||t==="Calls")){l.push({name:"send_invites",type:"bool",label:"LBL_SEND_INVITE"});l.push({name:"invitees",type:"invitees",label:"LBL_INVITEES"})}}}var g=_.map(r.meta.panels[0].fields,function(e){return e.name||e});if(h&&!_.contains(g,h.name)&&s==="edit"&&t!=="Notes"){r.meta.panels[0].fields.push(h.name)}}})}var g=[];var y=[];var S=function e(t,a,s){g.push(a);a=t[a];if(a){var o=1e3;_.each(a.collection_list,function(e,a){if(!t[a]&&!e.generate_select&&!_.contains(y,e.module)&&!_.contains(L,e.module)){e.title_key="LBL_"+e.get_subpanel_data.toUpperCase()+"_SUBPANEL_TITLE";e.order=-o++;e.creatable=!_.contains(i.config.modules.nonCreatableModules,e.module);e.linkable=false;t[a]=e;var l=r.mod_strings[s];if(l&&!l[e.title_key]){l[e.title_key]=e.module}n[e.title_key]=true;y.push(e.module)}})}};if(_.isObject(e.subpanels)&&!_.isArray(e.subpanels)&&!_.isEmpty(e.subpanels.subpanel_setup)){_.each(e.subpanels.subpanel_setup,function(a,s){if(!a){return}if(s!=="activities"&&s!=="history"){if((t==="Meetings"||t==="Calls")&&_.contains(["Users","Leads","Contacts"],a.module)){a.linkable=true;a.creatable=a.module!=="Users";n[a.title_key]=true}else if(a.panel_definition){if(a.module!=="Users"){a.creatable=!_.contains(i.config.modules.nonCreatableModules,a.module)&&!_.isEmpty(_.find(a.top_buttons,function(e){return!e.widget_class||e.widget_class.indexOf("Create")>-1}));a.linkable=!_.contains(i.config.modules.nonLinkableModules,a.module)&&!_.isEmpty(_.find(a.top_buttons,function(e){return!e.widget_class||e.widget_class.indexOf("Select")>-1}));n[a.title_key]=true}else{g.push(s)}}else{a.creatable=(_.isUndefined(a.canCreate)?true:a.canCreate)&&!_.contains(i.config.modules.nonCreatableModules,a.module);a.linkable=(_.isUndefined(a.canLink)?true:a.canLink)&&!_.contains(i.config.modules.nonLinkableModules,a.module);n[a.title_key]=true}if(a.panel_definition){a.order=-a.order}if(a.get_subpanel_data&&a.get_subpanel_data.indexOf("function:")===0){a.get_subpanel_data=a.set_subpanel_data}var o=e.fields[a.get_subpanel_data];if(!o||!r.relationships[o.relationship]){g.push(s);delete n[a.title_key];if(r.modules[a.module]){i.logger.error("Invalid "+t+"."+s+" subpanel")}}}p(a,["add_subpanel_data","set_subpanel_data","top_buttons","panel_definition","sort_by","sort_order","subpanel_name"])});S(e.subpanels.subpanel_setup,"activities",t);S(e.subpanels.subpanel_setup,"history",t);_.each(g,function(t){delete e.subpanels.subpanel_setup[t]});m(e)}else{delete e.subpanels}});if(r.views){_.each(i.baseMetadata.views,function(e,t){if(!r.views[t]){r.views[t]=e}})}if(i.config.stringCleanupEnabled){if(_.isEmpty(r.modules)&&!_.isEmpty(i.metadata.getModules())){h(i.metadata.getStrings("app_strings"),r.app_strings);h(i.metadata.getStrings("app_list_strings"),r.app_list_strings);if(!_.isEmpty(r.mod_strings)){var D=i.metadata.getStrings("mod_strings");_.each(D,function(e,t){h(e,r.mod_strings[t])})}}else{if(r.mod_strings&&!r.mod_strings._patched){r.mod_strings=_.pick(r.mod_strings,_.union(_.keys(r.modules),[c],i.config.modules.requiredStringsModules));_.each(r.mod_strings,function(e,t){_.each(e,function(e,a){var s=r.modules[t];var o=C[t]||{};var u=[];if(s){u=n(s)}if(!o[a]&&!_.contains(_.union(i._mod_strings,u),a)){if(l(a)){delete r.mod_strings[t][a]}}_.each(o,function(e,t){if(!r.mod_strings[t]){A[t]=true}})})});r.mod_strings._patched=true}if(r.app_list_strings&&!r.app_list_strings._patched){_.each(r.app_list_strings,function(e,t){if(!T[t]&&!_.contains(i._app_list_strings,t)){delete r.app_list_strings[t]}});r.app_list_strings._patched=true}if(r.app_strings&&!r.app_strings._patched){_.each(i._app_strings,function(e){A[e]=true});_.each(r.app_strings,function(e,t){if(!A[t]&&l(t)){delete r.app_strings[t]}});r.app_strings._patched=true}}}if(r.app_list_strings.reminder_time_options){if(!_.isArray(r.app_list_strings.reminder_time_options)){var R=[];var O=_.keys(r.app_list_strings.reminder_time_options).sort(function(e,t){return e-t});_.each(O,function(e){R.push([e,r.app_list_strings.reminder_time_options[e]])});r.app_list_strings.reminder_time_options=R}var I=_.find(r.app_list_strings.reminder_time_options,function(e){return e[0]==-1});if(!I){r.app_list_strings.reminder_time_options.unshift([-1,r.app_strings.LBL_NONE])}}}if(r.views&&r.views.forecastdetails){r.views.forecastdetails.meta.timeperiod[0].type="enum"}if(r.views&&r.views.bubblechart){_.extend(r.views.bubblechart.meta.filter_duration[0],{type:"enum",view:"edit"})}t.call(this,r,s,o);g(r,x)}})();(function e(){var t={image:function e(){return i.supportedFeatures.fileUpload?undefined:["edit"]},password:["edit"],html:[],encrypt:[],currency_id:[]};var a={currency_symbol:[]};var r=i.metadata._patchMetadata;i.metadata._patchMetadata=function e(){for(var i=arguments.length,s=Array(i),o=0;o<i;o++){s[o]=arguments[o]}var u=s[1];if(!u||u._patched===true){return u}r.apply(this,s);_.each(u.views,function e(i,r){if(i.meta){_.each(i.meta.panels,function(e){var i=[];_.each(e.fields,function(e,s){if(_.isString(e)){return}var o=t[e.type];if(_.isFunction(o)){o=o()}if(o&&(o.length===0||_.contains(o,r))){i.push(s)}var c=a[e.name];if(c&&(c.length===0||_.contains(c,r))){i.push(s)}if(r==="edit"&&!(l[e.type]||_.contains(n(11).getCustomFields(),e.type))){e.view="readonly"}if(r==="edit"&&e.name==="date_modified"){e.view="readonly"}if(r==="edit"&&e.name==="date_entered"){e.view="readonly"}var d=u.fields[e.name];if(r==="edit"&&e.type==="url"&&d){var f=d.gen;var h=isNaN(parseInt(f,10))?Boolean(f):Boolean(parseInt(f,10));if(h){e.view="readonly"}}if(d&&d.type==="collection"){e.isCollection=true}});_.each(i,function(t,n){e.fields.splice(t-n,1)})},this)}},this);return u}})()},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(11);var r=n(378);var s=n(43);var o=function e(t){return!i.nomad.canCreateModule(t)||_.contains(i.config.modules.readonlyModules,t)};var l=function e(t){return _.any(t,function(e){return e.required&&o(e.module)})};var u=function e(t){return _.filter(t,function(e){return!o(e.module)})};var c={name:"convert",types:["context-menu","toolbar","right-menu-detail"],modules:["Leads"],label:i.lang.get("LBL_CONVERT"),iconKey:"actions.convert",stateHandlers:{isVisible:function e(t,n){var a=i.metadata.getModule("Leads","layouts")["convert-main"];if(!i.supportedFeatures.leadConversion||!a){return false}var r=a.meta.modules;return n.get("status")!=="Converted"&&!l(r)&&!_.isEmpty(u(r))}},handler:function e(t,n){var a=i.metadata.getModule("Leads","layouts")["convert-main"];var o=u(a.meta.modules);var l=i.controller.loadScreen({isDynamic:true,applyMaskToList:true,view:r,data:{leadModel:n,conversionModules:o}})[0];l.onConversionSuccess=_.wrap(l.onConversionSuccess,function(e){e.call(l);n.set("status","Converted");if(t instanceof s){t._renderActionButtons()}})},rank:10};a.registerRecordAction(c);e.exports=c},function(e,t,n){"use strict";var i=function e(t,n,i){var a=t.modContextData[n.module];if(!a.actions[i]){return[]}return n.getAccessibleFields(a[i+"Fields"])};var a=function e(t,n){return i(t,n,"phone")};var r=function e(t,n){return i(t,n,"email")};var s=function e(t,n){return i(t,n,"url")};var o=function e(t,n){var i=t.modContextData[n.module];if(!i.actions.map){return{}}return t.addressFieldsGroups||n.getAccessibleFieldsGroups(i.addressFieldsGroups)};var l=SUGAR.App;var u=n(3);var c=n(6);var d=n(65);var f=n(85);var h=n(3),p=h.supportsFavorite;var m={name:"phone",types:["context-menu","toolbar"],label:"LBL_CALL_BUTTON",iconKey:"actions.call",stateHandlers:{isVisible:function e(t,n){var i=a(t,n);return Boolean(i.length)},isMultipleChoice:function e(t,n){var i=a(t,n);var r=n.getFieldsDataArray(i);return r.length>1},isEnabled:function e(t,n){var i=a(t,n);return n.isDataDefined(i)}},handler:function e(t,n){var i=a(t,n);var r=n.getFieldsDataArray(i);c.callPhone(r,{model:n})},autoClose:true,rank:4};var g=_.extend({},m,{name:"message",types:["context-menu","toolbar"],label:"LBL_SMS_BUTTON",iconKey:"actions.sms",handler:function e(t,n){var i=n.getAccessibleFields(t.modContextData[n.module].phoneFields);var a=n.getFieldsDataArray(i);c.sendSms(a)},rank:9});var v=function e(t,n){var i=t._buildRecordRoute({model:n,hash:{link:t.context.get("link"),appendRoot:true,action:"edit"}});l.controller.navigate(i,{initiator:t.navigationName})};e.exports=function e(t){var n=t.model;var i=[{name:"favorite",types:["context-menu"],label:n.get("my_favorite")?"LBL_UNFAVORITE":"LBL_FAVORITE",stateHandlers:{isVisible:function e(t,n){return p(n)}},isFavorite:true,handler:function e(t,n){t.onToggleFieldValue(n,"favorite","my_favorite")},rank:6},{name:"view",types:["context-menu"],label:"LBL_VIEW_BUTTON",iconKey:"actions.view",stateHandlers:{isVisible:function e(t,n){return f.isViewActionVisible(n)}},handler:v,rank:1},{name:"edit",types:["context-menu"],label:"LBL_EDIT_BUTTON",iconKey:"actions.edit",stateHandlers:{isVisible:function e(t,n){return f.isEditActionVisible(n)}},handler:v,rank:1},{name:"email",types:["context-menu","toolbar"],label:"LBL_EMAIL_BUTTON",iconKey:"actions.email",stateHandlers:{isVisible:function e(t,n){var i=r(t,n);return Boolean(i.length)},isEnabled:function e(t,n){var i=r(t,n);return n.hasActiveEmail(i)},isMultipleChoice:function e(t,n){var i=r(t,n);var a=n.getFieldsDataArray(i);var s=u.extractAndSortEmails(a);return s.length>1}},handler:function e(t,n){var i=r(t,n);var a=n.getFieldsDataArray(i);var s=u.extractAndSortEmails(a);if(!_.isEmpty(s)){c.sendEmail(s)}},autoClose:true,rank:7},{name:"unlink",types:["context-menu"],label:"LBL_UNLINK_BUTTON",iconKey:"actions.unlink",stateHandlers:{isVisible:function e(t,n){return t.unlinkVisible&&n.hasUnlinkAccess(t.relateFields,t.relationship)}},handler:function e(t,n){return t._deleteRecord(n,true)},rank:5},{name:"delete",types:["context-menu"],label:"LBL_DELETE_BUTTON",iconKey:"actions.delete",stateHandlers:{isVisible:function e(t,n){return!n.link&&n.hasDeleteAccess()}},handler:function e(t,n){return t._deleteRecord(n)},rank:2},m,g,{name:"map",types:["context-menu","toolbar"],label:"LBL_MAP_BUTTON",iconKey:"actions.map",stateHandlers:{isVisible:function e(t,n){var i=o(t,n);return!_.isEmpty(i)},isEnabled:function e(t,n){var i=o(t,n);var a=n.getAddresses(i);return _.any(a)},isMultipleChoice:function e(t,n){var i=o(t,n);var a=n.getAddresses(i);return a.length>1}},handler:function e(t,n){var i=t.addressFieldsGroups||n.getAccessibleFieldsGroups(t.modContextData[n.module].addressFieldsGroups);var a=n.getAddresses(i);c.openAddress({addresses:a})},autoClose:true,rank:8},{name:"url",types:["context-menu","toolbar"],label:"LBL_URL_BUTTON",iconKey:"actions.url",stateHandlers:{isVisible:function e(t,n){var i=s(t,n);return Boolean(i.length)},isEnabled:function e(t,n){var i=s(t,n);var a=d.prototype.regexp;return n.isDataDefined(i,a)},isMultipleChoice:function e(t,n){var i=s(t,n);var a=n.getFieldsDataArray(i,d.prototype.regexp);return a.length>1}},handler:function e(t,n){var i=s(t,n);var a=n.getFieldsDataArray(i,d.prototype.regexp);c.openUrl(a,{encode:true})},autoClose:true,rank:11},{name:"file",types:["context-menu","toolbar"],label:n.module==="Emails"?l.lang.get("LBL_ATTACHMENTS","Emails"):"LBL_FILE_BUTTON",iconKey:"actions.file",stateHandlers:{isVisible:function e(t,n){var i=n.getAccessibleFields(t.modContextData[n.module].docFields);var a=!_.isEmpty(i)||!_.isEmpty(n.docData)||n._canHaveFiles()||n.canHaveAttachments()||n._canHavePDFs();var r=l.acl.hasAccessToModel("view",n);var s=n.module!=="Reports"||l.acl.hasAccessToModel("export",n);return a&&r&&s},isMultipleChoice:function e(t,n){return n.docData&&n.docData.length>1},isLoading:function e(t,n){return n.docsLoading},isEnabled:function e(t,n){var i=this.stateHandlers.isVisible(t,n);return i&&(n.docsLoading||u.docIsAvailable(n.docData))}},handler:function e(t,n){var i=n.docData;if(_.isEmpty(i)){window.alert(l.lang.get(n.docsLoading?"LBL_LOADING_FILES":"ERR_NO_DOCS"));return}c.openDoc(n.docData)},autoClose:true,rank:10},{name:"close",types:["context-menu"],label:"LBL_CLOSE_BUTTON_TITLE",iconKey:"actions.close",stateHandlers:{isVisible:function e(t,n){return n.isCloseActionAvailable()}},handler:function e(t,n){var i="status";n.set(i,u.getClosedStatusValue(n.module||t.module));n.save(null,{fields:[i],error:function e(){n.set(i,n.previousAttributes()[i])},success:function e(){if(n.collection&&_.isArray(n.collection.filterDef)&&_.find(n.collection.filterDef,function(e){return e[i]&&e[i].$not_in&&_.contains(e[i].$not_in,n.get(i))})){t.collection.remove(n);if(t.collection.next_offset!==-1){--t.collection.next_offset}if(!t.collection.length){t.collection.fetch()}}}})},autoClose:true,rank:3}];if(t.type==="context-menu"&&n.module!=="Reports"){i=_.reject(i,function(e){return e.name==="file"})}return i}},function(e,t,n){"use strict";var i=n(3),a=i.getClosedStatusValue;e.exports=function e(t){var n=t.view,i=t.model;return[{name:"close",types:["edit-menu"],label:"LBL_CLOSE_AND_SAVE_BUTTON",stateHandlers:{isVisible:function e(t,n){return n.isCloseActionAvailable()}},handler:function e(t,n){t.model.set("status",a(t.module));t.save()},rank:10}]}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(12);var r=n(2);var s=n(6);var o=n(47),l=o.getSubpanels,u=o.hasCreatableSubpanels,c=o.hasLinkableSubpanels;var d=n(3),f=d.buildRoute;var h=n(85);var p=n(7);e.exports=function(e){var t=e.model,o=e.viewType,d=e.viewSubType;var m=t.link;var g=m?m.bean.module:t.module;var v=m&&i.data.getRelatedModule(m.bean.module,m.name);var b=i.metadata.getModuleNames({filter:"visible"});var y=n(51);var x=n(16);var S=n(26);var w=n(81);var L=function e(t,n){var r=l(g);var s=n==="create"?_.filter(r,function(e){return a.canCreateRelated(e.module,g,e.context.link)}):_.filter(r,function(e){return e.linkable&&i.acl.hasAccess("list",e.module)});s=_.map(s,function(e){return{value:e.module,label:i.lang.get(e.label,g),module:e.module,context:e.context}});var o=new p({collection:new i.BeanCollection(s),skipFetch:true});var u=i.controller.loadScreen({isDynamic:true,headerConfig:{title:i.lang.get("LBL_CHOOSE_LINK"),cancel:true,save:false,search:false},view:x,context:o,initOptions:{preset:"staticItems"}})[0];u.on("selection:change",function e(a){var r=a[0].get("context"),s=r.link;var o=i.router.buildLinkRoute(g,t.id,s,null,n);i.controller.navigate(o,{initiator:this.navigationName})})};var E=function e(t,n){var a=f(t,{hash:{link:m&&m.name,appendRoot:true,action:n}});i.controller.navigate(a)};var M=[{name:"create",types:["right-menu-list"],label:i.lang.get("LBL_CREATE_MODULE",g,i.lang.getModuleName(g)),iconKey:"menu.create",stateHandlers:{isVisible:function e(t,n){if(n.link||t instanceof y){return false}return a.canCreateModule(g)}},handler:function e(){return E(t,"create")}},{name:"edit",types:["right-menu-detail"],label:"LBL_EDIT_BUTTON",iconKey:"actions.edit",stateHandlers:{isVisible:function e(){return h.isEditActionVisible(t)}},handler:function e(){return E(t,"edit")},rank:10},{name:"view",types:["right-menu-detail"],label:"LBL_VIEW_BUTTON",iconKey:"actions.view",stateHandlers:{isVisible:function e(){return h.isViewActionVisible(t)}},handler:function e(){return E(t,"edit")},rank:10},{name:"duplicate",types:["right-menu-detail"],label:"LBL_DUPLICATE_BUTTON_LABEL",iconKey:"menu.duplicate",stateHandlers:{isVisible:function e(){var t=v||g;return a.canCreateModule(t)&&!_.include(i.config.modules.nonDuplicatableModules,t)}},handler:function e(){var n=i.controller.getScreenContext();var a=n.link;var r=w.get({baseType:"edit",create:true,link:a,parentModule:n.parentModule,module:t.module});i.controller.loadScreen({isDynamic:true,gaTrack:"duplicate",view:S,headerConfig:r,context:new p({duplicate:true,sourceModel:t,module:t.module}).prepare()})},rank:10},{name:"create-related",types:["right-menu-detail","right-menu-list"],label:m?i.lang.get("LBL_CREATE_RELATED",v,i.lang.getModuleName(v)):"LBL_CREATE_RELATED_RECORD",iconKey:"menu.create",stateHandlers:{isVisible:function e(){var n=t.link;if(!n&&o==="list"||n&&o==="detail"){return false}return v?a.canCreateRelated(v,g,n.name):u(l(g))}},handler:function e(){if(o==="list"){E(t,"create")}else{L(t,"create")}},rank:20},{name:"create-parent",types:["right-menu-list"],label:i.lang.get("LBL_CREATE_MODULE",g,i.lang.getModuleName(g)),iconKey:"menu.create",stateHandlers:{isVisible:function e(t,n){return t instanceof y&&a.canCreateModule(g)}},handler:function e(t,n){var a=n.module;var s=t;var o=i.controller._loadScreen({isDynamic:true,layouts:{views:r.getViewClass({module:a,baseType:"edit"}),baseType:"edit",module:a,create:true}})[0].getComponent("edit");o.handleSaveSuccess=_.wrap(o.handleSaveSuccess,function(e){o.skipNavigationAfterSave=true;e.call(o);var t=o.model.clone();i.controller.disposeDynamic();s.trigger("selection:change",[t])})}},{name:"link-related",types:["right-menu-detail","right-menu-list"],label:m?i.lang.get("LBL_ASSOC_EXISTING",v,i.lang.getModuleName(v)):"LBL_ASSOC_RELATED_RECORD",iconKey:"menu.linkRelated",stateHandlers:{isVisible:function e(){var n=t.link;if(!n&&o==="list"||n&&o==="detail"){return false}if(n&&o==="list"){return a.canLinkRelated(g,n.name)}return c(l(g))}},handler:function e(){if(o==="list"){E(t,"associate")}else{L(t,"associate")}},rank:10},{name:"share",types:["right-menu-detail"],label:"LBL_RECORD_SHARE_BUTTON",iconKey:"menu.share",handler:function e(){return s.shareRecord(t)},rank:30}];_.each(b,function(e){M.push({name:"create-"+e+"-record",module:e,modules:["Search"],types:["right-menu-list"],label:i.lang.get("LBL_CREATE_MODULE",e,i.lang.getModuleName(e)),stateHandlers:{isVisible:function t(){return a.canCreateModule(e)}},handler:function t(){return i.controller.navigate("Search/"+e+"/create")},rank:40})});return M}},function(e,t,n){"use strict";var i=n(2);var a=n(59);i.registerComponent({baseType:"list",module:"Activities",cmp:a});i.registerComponent({baseType:"activitystream-dashlet",cmp:a});i.registerComponent({baseType:"bubblechart",cmp:n(88)});i.registerComponent({baseType:"cases-summary",cmp:n(89)});i.registerComponent({baseType:"donutchart",cmp:n(60)});i.registerComponent({baseType:"forecastchart",cmp:n(31)});i.registerComponent({baseType:"forecast-pareto",cmp:n(90)});i.registerComponent({baseType:"forecast-pipeline",cmp:n(91)});i.registerComponent({baseType:"forecastdetails",cmp:n(92)});i.registerComponent({baseType:"list-view-dashlet",cmp:n(40)});i.registerComponent({baseType:"opportunity-metrics",cmp:n(93)});i.registerComponent({baseType:"saved-reports-chart",cmp:n(94)});i.registerComponent({baseType:"tabbed-list-view-dashlet",cmp:n(61)});i.registerComponent({baseType:"twitter-container-dashlet",cmp:n(95)});i.registerComponent({baseType:"webpage",cmp:n(96)})},function(e,t,n){"use strict";var i=n(2);i.registerComponent({cmp:n(4),baseType:"text"});i.registerComponent({cmp:n(97),baseType:"address"});i.registerComponent({cmp:n(98),baseType:"bool"});i.registerComponent({cmp:n(41),baseType:"collection"});i.registerComponent({cmp:n(337),baseType:"email-recipients"});i.registerComponent({cmp:n(338),baseType:"email-sender"});i.registerComponent({cmp:n(41),baseType:"email-attachments"});i.registerComponent({cmp:n(99),baseType:"currency"});i.registerComponent({cmp:n(62),baseType:"date"});i.registerComponent({cmp:n(100),baseType:"datetimecombo"});i.registerComponent({cmp:n(101),baseType:"email"});i.registerComponent({cmp:n(339),baseType:"htmleditable"});i.registerComponent({cmp:n(102),baseType:"enum"});i.registerComponent({cmp:n(103),baseType:"favorite"});i.registerComponent({cmp:n(104),baseType:"fieldset"});i.registerComponent({cmp:n(63),baseType:"file"});i.registerComponent({cmp:n(105),baseType:"float"});i.registerComponent({cmp:n(106),baseType:"follow"});i.registerComponent({cmp:n(107),baseType:"image"});i.registerComponent({cmp:n(42),baseType:"int"});i.registerComponent({cmp:n(108),baseType:"invitees"});i.registerComponent({cmp:n(109),baseType:"label"});i.registerComponent({cmp:n(110),baseType:"multienum"});i.registerComponent({cmp:n(111),baseType:"parent"});i.registerComponent({cmp:n(112),baseType:"phone"});i.registerComponent({cmp:n(113),baseType:"radioenum"});i.registerComponent({cmp:n(114),baseType:"relate"});i.registerComponent({cmp:n(115),baseType:"tag"});i.registerComponent({cmp:n(116),baseType:"teamset"});i.registerComponent({cmp:n(64),baseType:"textarea"});i.registerComponent({cmp:n(65),baseType:"url"})},function(e,t,n){"use strict";var i=n(2);i.registerComponent({baseType:"context-menu",cmp:n(369)});i.registerComponent({cmp:n(68),baseType:"filters"});i.registerComponent({cmp:n(69),baseType:"header"});i.registerComponent({cmp:n(136),baseType:"headerEdit"});i.registerComponent({baseType:"alert",cmp:n(126)});i.registerComponent({cmp:n(146),baseType:"main-menu"});i.registerComponent({cmp:n(384),baseType:"right-menu"});i.registerComponent({cmp:n(52),baseType:"login"});i.registerComponent({cmp:n(124),baseType:"about"});i.registerComponent({cmp:n(134),baseType:"errorEmulation"});i.registerComponent({cmp:n(135),baseType:"error"});i.registerComponent({cmp:n(383),baseType:"offlineDataGeneration"});i.registerComponent({cmp:n(147),baseType:"offlineSettings"});i.registerComponent({cmp:n(148),baseType:"offlineStats"});i.registerComponent({cmp:n(149),baseType:"offline"});i.registerComponent({cmp:n(152),baseType:"settings"});i.registerComponent({cmp:n(127),baseType:"dashboard"});i.registerComponent({cmp:n(128),baseType:"detail"});i.registerComponent({cmp:n(43),baseType:"record-card"});i.registerComponent({cmp:n(50),baseType:"record-summary"});i.registerComponent({cmp:n(129),baseType:"detail",module:"TxLog"});i.registerComponent({cmp:n(14),baseType:"inner-list"});i.registerComponent({cmp:n(70),baseType:"configurable-list"});i.registerComponent({cmp:n(33),baseType:"list"});i.registerComponent({cmp:n(138),baseType:"list",module:"Search"});i.registerComponent({cmp:n(139),baseType:"list",module:"Comments"});i.registerComponent({cmp:n(144),baseType:"list",module:"Teams"});i.registerComponent({cmp:n(16),baseType:"selection-list"});i.registerComponent({cmp:n(143),module:"TxLog"});i.registerComponent({cmp:n(380),module:"Leads"});i.registerComponent({cmp:n(379),module:"Emails"});i.registerComponent({cmp:n(26),baseType:"edit"});var a=n(67);i.registerComponent({cmp:a,baseType:"edit",module:"Tasks"});i.registerComponent({cmp:a,baseType:"edit",module:"Notes"});var r=n(130);i.registerComponent({cmp:r,baseType:"edit",module:"Meetings"});i.registerComponent({cmp:r,baseType:"edit",module:"Calls"});i.registerComponent({cmp:n(131),module:"RevenueLineItems"});i.registerComponent({cmp:n(132),module:"Users"});i.registerComponent({cmp:n(370),baseType:"address-edit"});i.registerComponent({cmp:n(133),baseType:"textarea-edit"})},function(e,t,n){"use strict";(function e(t){var n=window.store;var i=function e(t){this._async=Boolean(t.async);this._bucketName=t.name+":"};_.extend(i.prototype,{version:1,_syncApi:{get:function e(t){return n.get(this._bucketName+t)},getAll:function e(){var t=this._bucketName;var i=t.length;var a={};_.each(n.getAll(),function(e,n){var r=n.indexOf(t);if(r===0){a[n.substr(i)]=e}});return a},has:function e(t){return n.has(this._bucketName+t)},set:function e(t,i){n.set(this._bucketName+t,i)},cut:function e(t){n.cut(this._bucketName+t)},cutAll:function e(){var t=this._bucketName;_.each(_.keys(this._syncApi.getAll.call(this)),function(e){n.cut(t+e)})}},_asyncApi:{get:function e(t,n){n.call(this,null,this._syncApi.get.call(this,t))},getAll:function e(t){t.call(this,null,this._syncApi.getAll.call(this))},has:function e(t,n){n.call(this,null,this._syncApi.has.call(this,t))},set:function e(t,n,i){this._syncApi.set.call(this,t,n);if(i){i.call(this,null)}},cut:function e(t,n){this._syncApi.cut.call(this,t);if(n){n.call(this,null)}},cutAll:function e(t){this._syncApi.cutAll.call(this);if(t){t.call(this,null)}}},init:function e(t){_.extend(this,this._async?this._asyncApi:this._syncApi);if(t){t.call(this,null,this)}}});t.localStorageKeyValueStore={open:function e(){},initBucket:function e(t,n){var a=new i(t);a.init(n)}}})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){var n=function e(){};var i={db:null,openDb:function e(n){this.db=t.nomad.openDb(n);if(!this.db){throw new Error("Can't open SQL database "+n.name)}},query:function e(t,n,i){var a=this;this.db.transaction(function(e){e.executeSql(t,n||[],function(e,t){if(i){i.call(a,null,t)}},function(e,t){if(i){i.call(a,t)}})})},createDataTable:function e(t,n){var i=this;this.query("CREATE TABLE IF NOT EXISTS "+t+" (key STRING PRIMARY KEY, value TEXT)",[],function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++){t[a]=arguments[a]}if(n){n.apply(i,t)}})},get:function e(t,n,i){var a=this;this.query("SELECT value FROM "+t+" WHERE key = ? LIMIT 1",[n],function(e,t){if(e){if(i){i.call(a,e)}return}var n=void 0;if(t.rows.length){n=t.rows.item(0).value==="undefined"?undefined:JSON.parse(t.rows.item(0).value)}if(i){i.call(a,null,n)}})},getAll:function e(t,n){var i=this;this.query("SELECT key, value FROM "+t,[],function(e,t){var a=void 0;var r={};var s=void 0;if(e){if(n){n.call(i,e)}return}for(s=t.rows.length,a=0;a<s;a++){var o=t.rows.item(a);r[o.key]=o.value==="undefined"?undefined:JSON.parse(o.value)}if(n){n.call(i,null,r)}})},has:function e(t,n,i){var a=this;this.query("SELECT key FROM "+t+" WHERE key = ? LIMIT 1",[n],function(e,t){if(e){if(i){i.call(a,e)}return}if(i){i.call(a,null,Boolean(t.rows.length))}})},set:function e(t,n,i,a){var r=this;this.query("REPLACE INTO "+t+" (key, value) values (?, ?)",[n,JSON.stringify(i)],function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}if(a){a.apply(r,t)}})},cut:function e(t,n,i){var a=this;this.query("DELETE FROM "+t+" WHERE key = ?",[n],function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++){t[n]=arguments[n]}if(i){i.apply(a,t)}})},cutAll:function e(t,n){var i=this;this.query("DELETE FROM "+t,[],function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++){t[a]=arguments[a]}if(n){n.apply(i,t)}})}};var a=function e(t){this._async=Boolean(t.async);if(!this._async){this._cache={}}this._bucketName=t.name};_.extend(a.prototype,{version:1,_syncApi:{get:function e(n){return _.isObject(this._cache[n])?t.utils.deepCopy(this._cache[n]):this._cache[n]},getAll:function e(){return t.utils.deepCopy(this._cache)},has:function e(t){return _.has(this._cache,t)},set:function e(n,a){i.set(this._bucketName,n,a);this._cache[n]=_.isObject(a)?t.utils.deepCopy(a):a},cut:function e(t){i.cut(this._bucketName,t);delete this._cache[t]},cutAll:function e(){i.cutAll(this._bucketName);this._cache={}}},_asyncApi:{get:function e(t,n){i.get(this._bucketName,t,_.bind(n,this))},getAll:function e(t){i.getAll(this._bucketName,_.bind(t,this))},has:function e(t,n){i.has(this._bucketName,t,_.bind(n,this))},set:function e(t,a,r){i.set(this._bucketName,t,a,r?_.bind(r,this):n)},cut:function e(t,a){i.cut(this._bucketName,t,a?_.bind(a,this):n)},cutAll:function e(t){i.cutAll(this._bucketName,t?_.bind(t,this):n)}},init:function e(t){var n=this;i.createDataTable(this._bucketName,function(e){if(e){if(t){t.call(n,e)}return}if(n._async){_.extend(n,n._asyncApi);if(t){t.call(n,null,n)}}else{i.getAll(n._bucketName,function(e,i){if(e){if(t){t.call(n,e)}return}n._cache=i;_.extend(n,n._syncApi);if(t){t.call(n,null,n)}})}})}});t.sqlKeyValueStore={open:function e(t){i.openDb(t)},initBucket:function e(t,n){var i=new a(t);i.init(n)}}})(SUGAR.App)},function(e,t,n){"use strict";var i=n(13);var a=n(86);(function e(t){var r=n(5);var s=n(6);var o={CallState:{IDLE:"IDLE",DIALING:"DIALING",CONNECTED:"CONNECTED"},_callModule:"Calls",getCallLog:function e(){return i.getSetting({store:i.Stores.SETTINGS,name:"callLog"})},setCallLog:function e(t){if(t&&t.recordId&&t.recordName){i.setSetting({store:i.Stores.SETTINGS,name:"callLog",value:t})}else{i.removeSetting({store:i.Stores.SETTINGS,name:"callLog"})}},clearCallLog:function e(){i.removeSetting({store:i.Stores.SETTINGS,name:"callLog"})},callPhone:function e(n,i){var a={phone:n,module:i.module,recordId:i.recordId,recordName:i.recordName};this.setCallLog(a);if(!t.isNative){this.bindCallEnd()}if(!$.os.phone){a.started=true;a.startedOn=(new Date).getTime()}t.logger.debug("Initiating a phone call to "+n);s._callPhone(n)},callStateChanged:function e(n){var i=this.getCallLog();if(n.length===0){if(i){i.endedOn=(new Date).getTime();t.logger.debug("End call: "+i.id+":"+i.state);this.setCallLog(i);this.onAppResume()}return}t.logger.debug("Call state changed: "+n.length);var a=n[0];t.logger.debug("First call: "+a.id+":"+a.state);if(i){if(a.state===this.CallState.DIALING){i.id=a.id;i.state=a.state;i.direction="Outbound";i.startedOn=(new Date).getTime();i.started=true;this.setCallLog(i)}else if(a.state===this.CallState.IDLE){i.id=a.id;i.state=a.state;i.endedOn=(new Date).getTime();this.setCallLog(i);this.onAppResume()}else if(a.state===this.CallState.CONNECTED){i.state=a.state;this.setCallLog(i)}}},onAppPause:function e(){},onAppResume:function e(){if(!t.isSynced){return}var n=this.getCallLog();if(_.isEmpty(n)){return}if($.os.android&&n.state!==this.CallState.IDLE&&t.isNative){return}if(!n.started){this.clearCallLog();return}n.endedOn=n.endedOn||(new Date).getTime();var i=this;if(this._canLogCall(n)){r.showConfirm(t.lang.get("LBL_MOBILE_LOG_CALL_CONFIRM"),{callback:function e(t){if(t===2){i.logCall(n)}}})}this.clearCallLog()},logCall:function e(n){var i=n.endedOn-n.startedOn;var r=i/1e3;var s=1;var o=0;if(r>60){s=r/60;if(s>60){o=s/60;s%=60}}var l=a.getRelationshipLink(n.module,this._callModule);var u=n.direction==="Outbound"&&l?t.router.buildLinkRoute(n.module,n.recordId,l,null,"createCall"):"createCall";u+="?direction="+n.direction+"&start_date="+new Date(n.startedOn).toISOString()+"&duration_hours="+o+"&duration_minutes="+s+"&status=Held"+"&log_call=true";t.controller.navigate(u)},_canLogCall:function e(n){var i=["Employees","Calls"];var a=!_.contains(i,n.module);var r=t.metadata.getModule(this._callModule);var s=r&&t.acl.hasAccess("create",this._callModule);var o=n.module==="Users"&&n.recordId===t.user.get("id");return s&&r&&a&&!o},bindCallEnd:function e(){var n=void 0;var i=[{state:this.CallState.DIALING}];this.callStateChanged(i);if($.os.android){n=_.bind(function e(){if(this._pageIsVisible()){t.logger.debug("bindCallEnd return handler called");document.removeEventListener("webkitvisibilitychange",n);this.onAppResume()}},this);document.addEventListener("webkitvisibilitychange",n,false)}else if($.os.ios){n=_.bind(function e(){window.removeEventListener("pageshow",n);this.onAppResume()},this);window.addEventListener("pageshow",n,false)}},_pageIsVisible:function e(){return!document.webkitHidden}};t.events.on("nativeMessage",function(e){if(e.target==="telephony"){o.callStateChanged(e.calls)}});t.augment("telephony",o,false)})(SUGAR.App)},function(e,t,n){"use strict";var i=n(2);var a=n(41);var r=i.extendComponent(a,{fallbackValueKey:"email_address"});e.exports=r},function(e,t,n){"use strict";var i=n(2);var a=n(41);var r=i.extendComponent(a,{fallbackValueKey:"email_address"});e.exports=r},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(7);var s=n(64);var o=n(371);var l=a.extendComponent(s,{isDisabled:function e(){return true},events:function e(){var e=s.prototype.events;return _.extend({},e,{"click .field--textarea":"onClick","click .field-detail--textarea":"onClick"})},onClick:function e(t){i.controller.loadScreen({isDynamic:true,view:o,context:new r({html:this.value}),headerConfig:{title:i.lang.get("LBL_EMAIL_BODY","Emails"),save:!this.isDisabled(),saveLabel:"LBL_DONE_BUTTON_LABEL",cancel:true}})}});e.exports=l},function(e,t,n){"use strict";(function e(t){var n={createUpdateDelete:function e(n){var i=this;var a=n.params||{};var r=n.method,s=n.module,o=n.data,l=n.callbacks,u=n.originalApi,c=n.options;if(!a.deferSync&&t.offline.isOnline()){asyncLib.waterfall([function e(n){t.offline.storage.readTransactions({limit:1,success:function e(t){n(null,t)},error:n})}],function(e,n){if(e&&l.error){t.logger.error("createUpdateDeleteSync failed"+e);l.error(e)}else if(n){i._offlineSync(r,s,o,a,l)}else{i._serverSync(r,s,o,a,l,u,c)}})}else{i._offlineSync(r,s,o,a,l)}},_isInitialStateRequired:function e(t,n,i,a){return t==="update"||t==="favorite"||t==="follow"||(t==="create"||t==="delete")&&i.link},_offlineSync:function e(n,i,a,r,s){var o=this;asyncLib.series([function e(s){if(o._isInitialStateRequired(n,i,a,r)){var l=r.relate?a.relatedModule:i;var u=r.relate?a.relatedId:a.id;t.offline.storage.readSingleRawRecord(l,{id:u},{success:function e(t){r.initialState=t;s()},error:s})}else{s()}}],function(e){if(e){var o="Failed to read initial record during offline sync. Module: {0}, data: {1}";o=t.utils.formatString(o,[i,JSON.stringify(a||{})]);t.logger.error(o);if(s.error){s.error(e)}return}t.offline.storage.sync(n,a,i,_.extend({},{ts:t.utils.getTimestamp(),success:function e(i){t.trigger("offline:data:sync:success",i);if(s.success){s.success(i)}t.logger.trace("Successfully executed: "+n)},error:function e(t){if(s.error){s.error(t)}},complete:s.complete},r))})},_serverSync:function e(n,i,a,r,s,o,l){var u=this;var c=function e(o){var l=void 0;var u=t.acl.hasAccessToModel("access",t.data.createBean(i,o));if(n==="delete"||!u){l=[function e(n){t.offline.storage.sync("delete",a,i,_.extend(r,{hardDelete:true,success:function e(){n()},error:n}))}];if(r.relate){l.push(function(e){t.offline.storage.saveRecords({serverData:o.record,module:i,callback:e})});l.push(function(e){t.offline.storage.saveRecords({serverData:o.related_record,module:a.relatedModule,callback:e})})}asyncLib.series(l,function(e){if(e){t.logger.error(e);s.error(e)}else{s.success(o)}})}else{var c=n!=="follow"?o:{id:a.id,following:a.following};if(_.isObject(c)){l=[function e(n){t.offline.storage.saveRecords({serverData:r.relate?c.record:c,module:i,callback:n,clientData:a})}];if(r.relate){l.push(function(e){t.offline.storage.saveRecords({serverData:c.related_record,module:i,relationshipData:a,callback:e})})}if(n==="create"&&!r.relate||n==="create"&&r.relate&&!a.relatedId){l.push(function(e){t.offline.storage.updateLastViewed(r.relate?c.related_record:c,{module:r.relate?a.relatedModule:i,callback:e})})}if(n!=="delete"){l.push(function(e){t.offline.storage.markToBeSynced({module:r.relate?a.relatedModule:i,callback:e,action:"update",record:r.relate?c.related_record:c})})}asyncLib.series(l,function(e){if(e){t.logger.error(e);s.error(e)}else{s.success(o);t.trigger("offline:data:updated",{isCollection:false,action:"update"})}})}else{s.success(o)}}};var d=function e(o){if(o&&t.utils.isConnectivityError(o)){u._offlineSync(n,i,a,r,s)}else if(s.error){s.error(o)}};if(n==="favorite"||n==="follow"){t.offline.api.callOriginalApi(o,[i,a.id,n==="favorite"?a.my_favorite:a.following,{success:c,error:d,complete:s.complete}])}else{if(n==="create"&&!a.relatedId){var f=a.link?a.related:a;f.id=t.utils.generateUUID()}t.offline.api.callOriginalApi(o,[n,i,a,t.offline.utils.getCleanedParams(r),{success:c,error:d,complete:s.complete},l])}}};_.extend(t.offline.api,{createUpdateDelete:_.bind(n.createUpdateDelete,n),_createUpdateDeleteScope:n})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){var n=void 0;t.offline.api={originalMethods:{},NO_CONNECTION_ERROR:{status:0,textStatus:"error",toString:function e(){return"No internet connection"}},override:function e(){_.extend(this.originalMethods,{records:t.api.records,relationships:t.api.relationships,favorite:t.api.favorite,follow:t.api.follow,search:t.api.search,file:t.api.file,collection:t.api.collection});_.extend(t.api,{records:this.records,relationships:this.relationships,favorite:this.favorite,follow:this.follow,search:this.search,file:this.file,collection:this.collection})},restore:function e(){if(_.isEmpty(this.originalMethods)){return}_.extend(t.api,{records:this.originalMethods.records,relationships:this.originalMethods.relationships,favorite:this.originalMethods.favorite,follow:this.originalMethods.follow,search:this.originalMethods.search,file:this.originalMethods.file,collection:this.originalMethods.collection});this.originalMethods={}},records:function e(i,a,r,s,o,l){if(t.offline.isModuleOfflineEnabled(a)||_.contains(t.config.offline.customOfflineModules||[],a)){return n._executeOfflineApi(i,a,r,s,o,n.originalMethods.records,l)}return n.originalMethods.records.call(t.api,i,a,r,t.offline.utils.getCleanedParams(s),o,l)},relationships:function e(i,a,r,s,o,l){if(t.offline.isModuleOfflineEnabled(a)&&t.offline.utils.isLinkSupported(a,r.link)){s.relate=true;r.relatedModule=t.data.getRelatedModule(a,r.link);return n._executeOfflineApi(i,a,r,s,o,n.originalMethods.relationships,l)}return n.originalMethods.relationships.call(t.api,i,a,r,t.offline.utils.getCleanedParams(s),o,l)},collection:function e(){for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}var s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];if(t.offline.isModuleOfflineEnabled(s)||_.contains(t.config.offline.customOfflineModules||[],s)){return n._executeOfflineApi("collection",s,o,l,u,n.originalMethods.collection,c)}return n.originalMethods.collection.call(t.api,a)},favorite:function e(){for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}if(!a[4]){a[4]={}}var s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];if(t.offline.isModuleOfflineEnabled(s)){return n._executeOfflineApi("favorite",s,{id:o,my_favorite:l},c,u,n.originalMethods.favorite)}return n.originalMethods.favorite.apply(t.api,a)},follow:function e(){for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}if(!a[4]){a[4]={}}var s=a[0],o=a[1],l=a[2],u=a[3],c=a[4];if(t.offline.isModuleOfflineEnabled(s)){return n._executeOfflineApi("follow",s,{id:o,following:l},c,u,n.originalMethods.follow)}return n.originalMethods.follow.apply(t.api,a)},search:function e(t,i,a){return n._executeOfflineApi("search",null,null,t,i,null,a)},file:function e(){for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}var s=a[0],o=a[1],l=a[3];var u=l.success;var c=o.module;if(_.contains(["create","delete"],s)){l.success=function e(n,i,a){var r={id:o.id};r[o.field]=_.isEmpty(n.record)?"":n.record[o.field];t.offline.storage.saveRecords({serverData:r,module:c,ignoreRecordDirtiness:true,callback:_.bind(u,t.api,n,i,a)})}}return n.originalMethods.file.apply(t.api,a)},callOriginalApi:function e(i,a){var r=void 0;var s=void 0;var o={search:1,ping:1,follow:3,favorite:3,file:3,collection:3,records:4,relationships:4};if(_.isString(i)){if(i==="read"){r=t.api.call;s=a[3]}else{r=n.originalMethods[i]||t.api[i];s=a[o[i]]}}else{r=i;_.find(n.originalMethods,function(e,t){if(e===i){s=a[o[t]];return true}})}var l=_.last(a)||{};var u=s.error;var c=function e(){t.logger.debug("Original API callback suppressed. Offline layer is not initialized")};var d=l.catchServerRequest||_.noop;if(!t.offlineEnabled){return u?u.call(this,t.offline.Error.OfflineDisabledError):c()}_.each(s,function(e,n){if(_.isFunction(e)){s[n]=function n(){d(null);if(!t.offlineEnabled){return u?u.call(this,t.offline.Error.OfflineDisabledError):c()}for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}e.apply(this,a)}}});var f=r.apply(t.api,a);d(f)},_executeOfflineApi:function e(t,n,i,a,r,s,o){o=o||{};var l=void 0;var u={method:t,module:n,data:i,params:a,callbacks:r,originalApi:s,options:o};o.catchServerRequest=function e(t){l=t};var c=function e(){return l};switch(t){case"search":this.readMixedCollection(u);break;case"read":{var d=i&&i.link?i.relatedId:i?i.id:null;var f=d?this.readSingle:this.readCollection;f.call(this,u);break}case"collection":{this.readCollectionFieldRecords(u);break}default:this.createUpdateDelete(u)}return c}};n=t.offline.api})(SUGAR.App)},function(e,t,n){"use strict";n(118);(function e(t){var n=t.offline.api.ReadCollectionStatus;var i={readCollectionFieldRecords:function e(i){var a=this;var r=i.module,s=i.data,o=i.params,l=i.callbacks,u=i.options;var c=[];t.offline.utils.callOnce(l);if(!o.skipOfflineRead){c.push(function(e){a._offlineRead(e,r,s,t.utils.deepCopy(o),l,u)})}if(t.offline.isOnline()){if(!o.skipServerSync){c.push(function(e){a._serverRead(e,r,s,o,l,u)})}}else if(l.error){var d=_.extend({request:{params:u}},t.offline.api.NO_CONNECTION_ERROR);l.error(d)}t.events.trigger("offline:collection:read",{status:n.START,apiOptions:u});asyncLib.waterfall(c,function(e,t){return a._onReadCollectionComplete(e,t,u,l)})},_offlineRead:function e(n,i,a,r,s,o){var l=this;t.offline.storage.sync("collection",a,i,_.extend({},r,{ts:t.utils.getTimestamp(),success:function e(t){var o=t||[];if(!_.isArray(o)){o=[o]}var u=l._getNextOffset(i,a.field,o,r);var c={records:o,next_offset:u};if(s.success){s.success(c)}n()},error:function e(t){if(s.error){s.error(t)}n(t)},complete:s.complete}))},_serverRead:function e(n,i,a,r,s,o){t.offline.api.callOriginalApi("collection",[i,a,t.offline.utils.getCleanedParams(r),{success:function e(l){if(s.success){s.success(l)}l=l||{};if(r.serverSyncSuccess&&l.records){r.serverSyncSuccess({records:l.records,next_offset:l.next_offset},r)}if(_.isEmpty(l.records)){n(null,{serverData:l})}else{n(null,{serverData:l});var u={id:a.id};u[a.field]=l;t.offline.storage.saveRecords({module:i,serverData:u,callback:function e(s,u){var c=u.isDataUpdated&&!r.skipOfflineRead;n(s,{serverData:l,isDataUpdated:c});if(c){t.trigger("offline:data:updated",{isCollection:true,action:"update",mixedCollection:true,requestParams:r,cid:o.cid,module:i,serverNextOffset:l.next_offset,data:a})}}})}},error:function e(t){if(s.error){s.error(t)}n(t)},complete:s.complete},o])},_onReadCollectionComplete:function e(i,a,r,s){a=a||{};if(i){if(s.error){s.error(i)}if(i instanceof t.offline.Error&&i!==t.offline.Error.OfflineDisabledError){t.logger.error("read_collection failed. "+i)}}else{t.trigger("offline:api:read:success")}if(s.complete){s.complete(a.serverData)}t.events.trigger("offline:collection:read",{status:n.FINISH,isDataUpdated:a.isDataUpdated,apiOptions:r})},_getNextOffset:function e(n,i,a,r){var s=_.countBy(a,"_link");var o=r.offset||{};var l=r.serverNextOffset||{};var u=t.offline.utils.getCollectionFields(n)[i];var c={};_.each(u.links,function(e){var t=e.name;var n=o[t]||0;var i=s[t]||0;c[t]=r.max_num>a.length||l[t]===-1?-1:n+i});return c}};_.extend(t.offline.api,{readCollectionFieldRecords:_.bind(i.readCollectionFieldRecords,i),_readCollectionFieldRecordsScope:i})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){var n={readMixedCollection:function e(n){var i=this;var a=n.method,r=n.data,s=n.params,o=n.callbacks,l=n.options;var u=[];t.offline.utils.callOnce(o);if(!s.skipOfflineRead){u.push(_.bind(function e(t){this._offlineRead(t,a,r,s,o,l)},this))}if(t.offline.isOnline()){if(!s.skipServerSync){u.push(_.bind(function e(t){this._serverRead(t,a,r,s,o,l)},this))}}else if(o.error){var c=_.extend({},t.offline.api.NO_CONNECTION_ERROR,{request:{params:l}});o.error(c)}t.events.trigger("offline:collection:read",{status:t.offline.api.ReadCollectionStatus.START,isSearchRequest:true,apiOptions:l});asyncLib.waterfall(u,function(e,t){return i._onReadCollectionComplete(e,t,n)})},_offlineRead:function e(n,i,a,r,s,o){var l=r.module_list?r.module_list.split(","):[];var u=l.length>1;var c=t.offline.utils.getOfflineModules();l=_.intersection(l,c);t.offline.storage.sync("search",null,null,_.extend({},r,{module_list:l.join(),ts:t.utils.getTimestamp(),success:function e(i){var a=void 0;var o=void 0;var l=void 0;var c={};i=i||[];if(!_.isArray(i)){i=[i]}if(!t.offline.utils.checkIsEmptyQuery(r.q)){o=t.offline.utils.compileSearchRegExp(r.q);l=t.offline.utils.compileHighlightRegExp(r.q);_.each(r.module_list.split(","),function(e){c[e]=t.metadata.getModule(e).fields});_.each(i,function(e){a=e._module||e.module;e._search={isOffline:true};_.each(t.offline.storage.offlineMeta[a].searchFields,function(t){var n=t.name;var i=e[n];if((_.isString(i)||_.isNumber(i))&&o.test(i)){e._search.highlighted=e._search.highlighted||{};e._search.highlighted[n]={module:a,text:i.toString().replace(l,"<strong>$1</strong>"),label:c[a][n].vname}}})})}if(u){i=_.sortBy(i,function(e){return e._client_date_modified}).reverse()}if(u){var d=r.max_num||t.config.maxQueryResult;i=i.splice(r.offset||0,d)}var f=r.max_num>i.length?-1:(r.offset||0)+i.length;var h={records:i,next_offset:f};if(s.success){s.success(h)}n()},error:function e(t){if(s.error){s.error(t)}n(t)},complete:s.complete}))},_serverRead:function e(n,i,a,r,s,o){t.offline.api.callOriginalApi(i,[t.offline.utils.getCleanedParams(r),{success:function e(i){if(s.success){s.success(i)}i=i||{};if(r.serverSyncSuccess&&i.records){r.serverSyncSuccess({records:i.records,next_offset:i.next_offset},r)}if(_.isEmpty(i.records)){n()}else{t.offline.storage.saveRecords({serverData:i.records,callback:function e(i,a){var s=a.isDataUpdated&&!r.skipOfflineRead;n(i,{isDataUpdated:s});if(s){t.trigger("offline:data:updated",{isCollection:true,action:"update",mixedCollection:true,requestParams:r,cid:o.cid})}}})}},error:function e(t){if(s.error){s.error(t)}n(t)},complete:s.complete},o])},_onReadCollectionComplete:function e(n,i,a){i=i||{};if(n){if(n instanceof t.offline.Error&&n!==t.offline.Error.OfflineDisabledError){t.logger.error("readSyncMixedCollection failed. "+n)}}else{t.logger.debug("Read mixed collection success")}if(a.callbacks.complete){a.callbacks.complete(i)}t.events.trigger("offline:collection:read",{status:t.offline.api.ReadCollectionStatus.FINISH,isSearchRequest:true,isDataUpdated:i.isDataUpdated,apiOptions:a.options})}};_.extend(t.offline.api,{readMixedCollection:_.bind(n.readMixedCollection,n),_readMixedCollectionScope:n})})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;e.exports={readCollection:function e(t,n){var a=this;i.events.trigger("offline:collection:read",{status:i.offline.api.ReadCollectionStatus.START,apiOptions:t.options});var r={};asyncLib.waterfall([function(e){return a._localRead(t,e)},function(e){return a._serverRead(r,t,e)},function(e){return a._saveRecords(r,e)},function(e){return a._readLastViewed(r,e)},function(e){return a._updateLastViewed(r,t,e)}],function(e){if(e&&e.stopWaterfall){e=null}var i={isDataUpdated:r.dbSaveResult&&r.dbSaveResult.isDataUpdated,serverData:r.serverData};n(e,i,t.options,t.callbacks)})},_localRead:function e(t,n){var a=t.params;var r=_.without(i.offline.utils.getOfflineModules(),"Teams");var s=a.module_list?_.intersection(a.module_list.split(","),r):r;var o=_.map(s,function(e){return{op:"readRecents",module:e,options:{max_num:i.config.fetchLimit.recents}}});var l=function e(i,a){t.callbacks.complete(i||a);n(i)};i.offline.storage.exec(o,function(e){if(!e){e=[]}else if(_.isArray(e)){e=_.sortBy(e,function(e){return-new Date(e._last_viewed_date)}).slice(0,i.config.fetchLimit.recents)}else{e=[e]}t.callbacks.success({records:e,next_offset:-1});l(null,e)},l)},_serverRead:function e(t,n,a){var r=n.params;if(r.skipServerSync||!i.offline.isOnline()){a({stopWaterfall:true});return}r=i.offline.utils.getCleanedParams(r);r.module_list=_.intersection(r.module_list.split(","),i.offline.utils.getOfflineModules()).join(",");var s={error:a,success:function e(n){t.serverData=n;var i=_.isEmpty(n.records)?{stopWaterfall:true}:null;a(i)}};i.offline.api.callOriginalApi("records",[n.method,n.module,null,r,s,n.options])},_saveRecords:function e(t,n){i.offline.storage.saveRecords({serverData:t.serverData.records,callback:function e(i,a){t.dbSaveResult=a;n(i)}})},_readLastViewed:function e(t,n){var a=t.serverData;i.offline.storage.exec({op:"readLastViewed",options:{ids:_.pluck(a.records,"id")}},function(e){var i=a.records;if(e){if(!_.isArray(e)){e=[e]}i=_.filter(a.records,function(t){var n=_.findWhere(e,{bean_id:t.id});if(!n){return true}var i=new Date(n.date_last_viewed).getTime();var a=new Date(t._last_viewed_date).getTime();return a>i})}t.lastViewedRecords=i;n(null)},n)},_updateLastViewed:function e(t,n,a){var r={isCollection:true,action:"update",module:"Recents",cid:n.options.cid};if(_.isEmpty(t.lastViewedRecords)){if(t.dbSaveResult.isDataUpdated){i.trigger("offline:data:updated",r)}a()}else{var s=_.map(t.lastViewedRecords,function(e){return{id:e.id,module:e._module,ts:i.utils.getTimestamp(e._last_viewed_date)}});i.offline.storage.exec({op:"updateLastViewed",data:s,options:{}},function(){i.trigger("offline:data:updated",r);a()},a)}}}},function(e,t,n){"use strict";(function e(t){var n={readSingle:function e(n){var i={"offline:api:read:success":{}};var a=false;var r=n.method,s=n.module,o=n.data,l=n.params,u=n.callbacks,c=n.options;var d=function e(){if(u.error){u.error({status:404})}};t.offline.utils.callOnce(u);var f=function e(){t.logger.debug("readSyncSingle success");_.each(i,function(e,n){t.trigger(n,e)})};var h=function e(n){t.logger.error("readSyncSingle failed. "+n)};var p=function e(n){var d=l.relate?"relationships":"records";t.offline.api.callOriginalApi(d,[r,s,o,t.offline.utils.getCleanedParams(l),{success:function e(r){t.offline.storage.saveRecords({serverData:r,module:s,relationshipData:l.relate?o:null,callback:function e(s){if(s){h(s)}else{if(!a&&u.success){u.success(r)}i["offline:data:updated"]={isCollection:false,action:n?"update":"create",id:o.id,date_modified:t.utils.getTimestamp(r.date_modified)};f()}}})},error:function e(n){if(u.error){u.error(n)}if(n===t.offline.Error.OfflineDisabledError){return}var a=l.relate?o.relatedModule:s;var r=l.relate?o.relatedId:o.id;switch(n.status){case 412:return;case 403:case 404:i["offline:data:updated"]={isCollection:false,action:"delete",status:n.status,module:a,data:o,id:o.id}}var c=l.relate?{module:s,data:o,relate:l.relate}:{module:a,id:r,relate:l.relate};t.offline.storage.resolveError({nonTransactionResolve:c,error:n,callback:function e(t){if(t){h(t)}else{f()}}})}},c])};var m=function e(){t.offline.storage.sync("read",o,s,_.extend({},l,{ts:t.utils.getTimestamp(),success:function e(n){var i=!l.skipServerSync&&t.offline.isOnline();if(n){if(u.success){u.success(n);a=true}i=i&&t.offline.utils.isDataSynchronized(n)}else if(!i){d()}if(i){p(n)}else{f()}},error:function e(t){if(u.error){u.error(t)}h(t)},complete:u.complete}))};m()}};_.extend(t.offline.api,{readSingle:_.bind(n.readSingle,n),_readSingleScope:n})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){_.extend(t.offline,{declareOfflineBeanCollection:function e(){var n=t.data.beanCollection;t.OfflineBeanCollection=t.data.beanCollection.extend({initialize:function e(){this.cid=_.uniqueId("c");for(var t=arguments.length,i=Array(t),a=0;a<t;a++){i[a]=arguments[a]}n.prototype.initialize.apply(this,i)},fetch:function e(t){this._handleFetchWithQuery(this._mergeCollection,t);return n.prototype.fetch.call(this,t)},_handleFetchWithQuery:function e(t,n){n=n||{};n.params=n.params||{};if(n.params.q){n.params.serverSyncSuccess=_.bind(t,this)}},_mergeCollection:function e(n,i){var a=n.records;var r=n.next_offset;var s=_.filter(a,function e(n){var i=this.get(n.id);return!(i&&!t.offline.utils.isDataSynchronized(i))},this);this.set(s,{remove:false});this.offset=r===-1?this.offset+(a||[]).length:r;this.next_offset=r}});return t.OfflineBeanCollection}})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){_.extend(t.offline,{declareOfflineBean:function e(){var n=t.data.beanModel.prototype;var i=n.save;var a=n._setCollectionFieldValues;t.OfflineBean=t.data.beanModel.extend({save:function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++){n[a]=arguments[a]}var r=n[1];if(r&&r.fields&&_.contains(r.fields,"email")){var s=void 0;var o=_.find(this.attributes,function e(t,n){return this.fields[n]&&this.fields[n].type==="email"},this);if(o){s=_.find(o,function(e){return e.primary_address});if(s){r.fields.push("email1");this.attributes.email1=s.email_address}}}i.apply(this,n)},_setCollectionFieldValues:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var r=n[0];_.each(r,function(e,t){if(e===null){r[t]=undefined}});a.apply(this,n)}});return t.OfflineBean}})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){_.extend(t.offline,{declareOfflineMixedBeanCollection:function e(){var n=t.data.mixedBeanCollection;t.OfflineMixedBeanCollection=t.data.mixedBeanCollection.extend({fetch:function e(i){var a=t.OfflineBeanCollection.prototype;a._handleFetchWithQuery.call(this,a._mergeCollection,i);return n.prototype.fetch.call(this,i)}});return t.OfflineMixedBeanCollection}})})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=function e(t,n,a,r,s){this.code=t;this.message=n;this.label=a;this.err=r;if(s){this.sqlInfo=i.config.env==="dev"?s.transactionSql:_.map(s.transactionSql,function(e){return{module:e.module,sql:e.sql}})}};a.prototype=new Error;_.extend(a.prototype,{localizedMessage:function e(){var t=void 0;try{t=i.lang.get(this.label||"ERR_OFFLINE")}catch(e){t="Offline Error";i.logger.fatal("Failed to localize offline error. "+e)}return t},toString:function e(){var t=this.localizedMessage()+": ("+this.code+") "+this.message;var n=/\\'/g;if(this.err){var i=void 0;try{i=JSON.stringify(this.err)}catch(e){i=this.err.toString()}t+="\nOriginal error: "+i}if(this.sqlInfo){t+=". All SQL in transaction: "+JSON.stringify(this.sqlInfo).replace(n,'"')}return t}});i.offline.Error=a;_.extend(i.offline.Error,{OfflineDisabledError:new a("offline_disabled","Offline Mode is disabled","Offline is not initialized"),OutOfSpaceError:new a("out_of_space","Out of space","ERR_OFFLINE_OUT_OF_SPACE"),StorageUnavailableError:new a("storage_unavailable","Failed to open db","ERR_OFFLINE_STORAGE_UNAVAILABLE"),EncryptionFailedError:new a("encryption_failed","Failed to encrypt local storage.","ERR_OFFLINE_ENCRYPTION_FAILED"),UnknownError:new a("unknown","Unknown error")});e.exports=a},function(e,t,n){"use strict";var i=SUGAR.App;var a={combiners:["$or","$and"],filterKeys:{my_items:{$owner:""},favorites:{$favorite:"_this"}}};_.extend(i.offline,{_parsedFiltersCache:{},convertReadRecordsFilter:function e(t,n){var r=[];var s=t.filter?t.filter:[];_.each(a.filterKeys,function(e,n){if(!_.isUndefined(t[n])){r.push(e)}});if(_.isEmpty(s)&&_.isEmpty(r)){return}var o=!_.isEmpty(r)||!_.find(a.combiners,function(e){return s[0][e]});if(o){s=[{$and:_.union(s,r)}]}var l=JSON.stringify({module:n,filter:s});if(this._parsedFiltersCache[l]){return this._parsedFiltersCache[l]}var u=this._convertFilterRecursive(s,[]);if(!u){this._parsedFiltersCache[l]={isSupported:false};return this._parsedFiltersCache[l]}var c=i.offline.storage.convertFilter(n,u)||{};this._parsedFiltersCache[l]={filter:u,filterFields:c.fields,filterSql:c.sql,isSupported:Boolean(c.sql)};return this._parsedFiltersCache[l]},_convertFilterRecursive:function e(t,n){var i=this;if(_.isArray(t)){_.each(t,function(e){return i._convertFilterRecursive(e,n)})}else if(_.isObject(t)){_.each(t,function(e,t){if(_.contains(a.combiners,t)){var r=[];n.push({operator:t,filters:r});i._convertFilterRecursive(e,r)}else if(_.isObject(e)){_.each(e,function(e,i){n.push({field:t,condition:i,value:e})})}else{n.push({field:t,value:e,condition:"$equals"})}})}return n.length?n:null}})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=n(17);(function e(t){var n=function e(){throw new Error("Not implemented. Please override this method with your implementation")};var r={Emails:["to_collection","cc_collection","bcc_collection","from_collection","attachments_collection"]};var s={createTransaction:"offline:tx:create",deleteTransaction:"offline:tx:delete"};t.offline.storage={_regularSyncOperations:["create","update","favorite","delete","follow"],basicOfflineFields:[{type:"boolean",name:"my_favorite"},{type:"boolean",name:"following"},{type:"date",name:"_last_fetched"}],RelTypes:{ONE_TO_ONE:"one-to-one",ONE_TO_MANY:"one-to-many",MANY_TO_MANY:"many-to-many",ONE_TO_MANY_BY_ROLE_COLUMN:"one-to-many-byRoleColumn"},offlineMeta:{},_execQueue:null,_migrationSummary:{},getMigrationSummary:function e(){return this._migrationSummary},resetMigrationSummary:function e(){this._migrationSummary={}},exec:function e(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_.noop;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_.noop;var r=function e(n){a(n);t.logger.error(n);t.trigger("offline:failure",n)};if(!t.offlineEnabled){r(t.offline.Error.OfflineDisabledError);return}if(!_.isArray(n)){n=[n]}this._exec(n,function(e){i(e);_.each(n,function(e){var n=s[e.op];if(n){t.trigger(n,{txOptions:e.options})}})},function(e){e=t.offlineEnabled?e||t.offline.Error.UnknownError:t.offline.Error.OfflineDisabledError;r(e)})},_exec:function e(t,i,a){n()},execAndSpecificReturn:function e(n,i){var a=!_.isEmpty(i)&&i.regularSync;var r=i.dbSuccess;if(a&&_.contains(this._regularSyncOperations,i.method)){if(i.method==="delete"){n.push({op:"readSingle",data:i.data,module:i.module,options:_.extend(i,{readDeleted:true})});i.dbSuccess=function e(t){r.call(this,t?{id:t.id}:{id:i.data.id})}}else{n.unshift({op:"createTransaction",data:i.data,module:i.module,options:i});n.push({op:"readSingle",data:i.data,module:i.module,options:i})}if(i.relate){n.push({op:"readSingleRelated",data:i.data,module:i.module,options:i});i.dbSuccess=function e(t){r.call(this,{record:t[0],related_record:t[1]})}}var s=i.action===t.offline.SyncActions.LINK||i.action===t.offline.SyncActions.UNLINK;if(!s){n.push({op:"updateLastViewed",data:i.relate?{id:i.data.relatedId}:i.data,module:i.relate?i.data.relatedModule:i.module,options:i})}if(i.method!=="delete"){n.push({op:"markToBeSynced",data:{action:"update",record:{id:i.relate?i.data.relatedId:i.data.id}},module:i.relate?i.data.relatedModule:i.module})}}this.exec(n,i.dbSuccess,i.dbFailure)},_executeSynchronized:function e(t){this._execQueue.push(t)},init:function e(t){this.computeOfflineMeta(t);this._init(t);if(!this._execQueue){this.initExecQueue()}},initExecQueue:function e(){var t=this;this._execQueue=asyncLib.queue(function(e,n){e.call(t,n)},1)},_init:function e(t){},computeOfflineMeta:function e(t){_.each(t.modules,function e(t,n){this.offlineMeta[n]={}},this);this.prepareOfflineRelationships(t.relationships);this.offlineMeta.modules=t.modules;_.each(t.modules,function e(n,i){var a=this.offlineMeta[i];a.fields=this._getOfflineModuleFields(n,a);a.searchFields=this.getOfflineModuleSearchFields(i,t)},this)},_getOfflineModuleFields:function e(t,n){var i=_.pluck(t.fields,"name");var a=_.union(["date_modified"],n.oneToManyRelFields,i);var r=[].concat(this.basicOfflineFields);var s=_.where(t.fields,{link_type:"relationship_info"});_.each(s,function(e){_.each(e.relationship_fields,function(e,t){n.fieldsBlacklist=n.fieldsBlacklist||[];if(t!=="id"&&!_.contains(n.fieldsBlacklist,e)){n.fieldsBlacklist.push(e)}})});var o=["link","collection"];_.each(t.fields,function(e){if(_.isObject(e)&&!_.contains(o,e.type)&&e.name!=="id"&&!_.contains(n.fieldsBlacklist,e.name)&&!_.findWhere(r,{name:e.name})&&_.contains(a,e.name)){r.push(e)}},this);return r},getOfflineModuleSearchFields:function e(n,i){i=i||t.metadata.get();var a=i.modules[n];var r=this.offlineMeta[n];var s=["assigned_user_id","modified_user_id","created_by"];var o=_.getNested(i,"server_info.fts.enabled");var l=_.contains(["Users","Employees"],n);var u=_.select(r.fields,function(e){var t=void 0;if(l){t=e.type==="name"}else if(o&&a.ftsEnabled){var n=e.full_text_search;if(n){t=_.isUndefined(n.searchable)?e.unified_search:n.searchable}}else{t=e.unified_search}return t&&!_.contains(s,e.name)});if(_.isEmpty(u)){var c=_.findWhere(r.fields,{name:"name"});if(c){u.push(c)}}return u},prepareOfflineRelationships:function e(n){var i=this;var a={};_.each(n,function(e,n){var r=t.offline.isModuleOfflineEnabled(e.lhs_module)&&t.offline.isModuleOfflineEnabled(e.rhs_module);if(!r||n==="_hash"||e.relationship_type==="user-based"){return false}var s=i.getRelationshipType(e);var o=s===i.RelTypes.ONE_TO_MANY||s===i.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN?"_wrapOneToManyRelationship":"_wrapManyToManyRelationship";a[n]=i[o](e,s);a[n].type=s},this);this.offlineMeta.relationships=_.extend({},a)},getRelationshipType:function e(t){if(!_.isEmpty(t.join_table)){return this.RelTypes.MANY_TO_MANY}else if(_.isEmpty(t.join_table)&&_.isEmpty(t.relationship_role_column)){return this.RelTypes.ONE_TO_MANY}else if(_.isEmpty(t.join_table)&&!_.isEmpty(t.relationship_role_column)){return this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN}},getRelationshipByLink:function e(n,i){var a=t.metadata.getModule(n).fields[i].relationship;return this.getAdjustedRelationship(n,a)},getAdjustedRelationship:function e(t,n){var i=this.offlineMeta.relationships[n];if(!i){return null}var a=i.type===this.RelTypes.MANY_TO_MANY&&t===i.parentModule;if(a){i=_.extend({},i,{parentModule:i.childModule,childModule:i.parentModule,parentIdColumn:i.childIdColumn,childIdColumn:i.parentIdColumn})}return i},getCUTransactionParams:function e(n,i,a){var r=void 0;var s=void 0;var o=void 0;var l=void 0;var u=null;var c=null;var d=a.txId||t.utils.generateUUID();var f=t.utils.getTimestamp(null,{msecPrecision:true});if(a.relate){r=i.relatedId;s=i.relatedModule;o=i.id;l=n;u=i.link;if(a.action===t.offline.SyncActions.UNLINK){c={before:{module:i.relatedModule,id:i.relatedId},after:null}}else if(a.action===t.offline.SyncActions.LINK){var h=this.getRelationshipByLink(n,i.link);if(h.type===this.RelTypes.MANY_TO_MANY){c={before:null,after:{module:i.relatedModule,id:i.relatedId}}}else{var p=a.initialState[h.parentIdColumn];var m=h.type===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN;if(p){c={before:{module:m?a.initialState.parent_type:n,id:m?a.initialState.parent_id:a.initialState[h.parentIdColumn]},after:{module:i.relatedModule,id:i.relatedId}}}else{c={before:null,after:{module:i.relatedModule,id:i.relatedId}}}}}else{c=t.offline.utils.getBeforeAndAfter(i.related,a.initialState)}}else{r=i.id;s=n;o=null;l=null;if(a.action!==t.offline.SyncActions.DELETE){c=t.offline.utils.getBeforeAndAfter(i,a.initialState)}}if(c){c=JSON.stringify(c)}return[a.action,f,r,s,o,l,c,d,u]},_wrapOneToManyRelationship:function e(n,i){var a=this._getParentModule(n);var r=this._isParentOnRight(a,n);var s=r?n.lhs_key:n.rhs_key;var o=r?n.lhs_module:n.rhs_module;var l=this.offlineMeta[o];var u="parent_type";l.oneToManyRelFields=l.oneToManyRelFields||[];if(!_.contains(l.oneToManyRelFields,s)){l.oneToManyRelFields.push(s)}if(i===this.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN&&!_.contains(l.oneToManyRelFields,u)){l.oneToManyRelFields.push(u)}return{name:n.name,parentModule:a,childModule:o,parentIdColumn:s,parentNameFieldDef:t.data.getRelatedNameField(o,s),roleColumns:n.relationship_role_columns}},_wrapManyToManyRelationship:function e(n){var i=this._getParentModule(n);var a=this._isParentOnRight(i,n);var r=a?n.lhs_module:n.rhs_module;var s=a?n.lhs_table:n.rhs_table;var o=t.metadata.getModule(i,"fields");var l={};var u=_.findWhere(o,{link_type:"relationship_info",link:s});if(u){l=_.omit(u.relationship_fields,"id")}var c={name:n.name,parentModule:i,relationshipTable:n.join_table,childModule:r,childIdColumn:a?n.join_key_rhs:n.join_key_lhs,parentIdColumn:a?n.join_key_lhs:n.join_key_rhs,childKey:a?n.lhs_key:n.rhs_key,parentKey:a?n.rhs_key:n.lhs_key,additionalColumns:l,singleModule:n.lhs_module===n.rhs_module,originalType:n.relationship_type,roleColumns:n.relationship_role_columns};if(n.primary_flag_column){c.primaryFlagModule=n.primary_flag_side==="rhs"?n.lhs_module:n.rhs_module;c.link=n[n.primary_flag_side+"_table"]}return c},_isParentOnRight:function e(t,n){var i=this.getRelationshipType(n);if(i===this.RelTypes.MANY_TO_MANY){return t===n.rhs_module}return n.rhs_key==="id"},_getModuleRelationships:function e(n){var i=t.metadata.getModule(n);var a=t.offline.utils.getOfflineModules();var r=[];_.each(i.fields,function e(t){if(t.type==="link"){var i=this.getAdjustedRelationship(n,t.relationship);if(i&&_.contains(a,i.parentModule)&&_.contains(a,i.childModule)){r.push(i)}}},this);return r},_shouldCustomRelUpdateChild:function e(t,n){return t.originalType===this.RelTypes.ONE_TO_MANY&&!n.skipUpdateRelRecord||t.originalType===this.RelTypes.ONE_TO_ONE||Boolean(t.primaryFlagModule)},_getParentModule:function e(t){return t.rhs_key==="id"?t.rhs_module:t.lhs_module},openDb:function e(t,i,a){n()},migrate:function e(t,i,a){n()},isEncryptionSupported:function e(){return false},encrypt:function e(t,i){n()},upgrade:function e(n,a,r){r=r||{};var s=parseInt(this.getSqlStorageVersion(),10);var o=parseInt(t.cache.get("offline:version"),10);var l=[];var u=r.success||_.noop;var c=r.error||_.noop;if(!(s-o)){t.logger.debug("Version has not changed. No actual upgrade required");u(n,a);return}a=this._getUpgradedMeta(a);for(;s>o;o++){if(this._upgrade[o]){l.push.apply(l,i(this._upgrade[o](n)))}}if(_.isEmpty(l)){t.logger.debug("Storage structure has not changed");u(n,a)}else{this._runUpgrade(l,function(){u(n,a)},function(e){c(e)})}},_runUpgrade:function e(t,i,a){n()},_getUpgradedMeta:function e(n){var i=!n.modules||n.hash||n.userId;if(!i){return _.clone(n)}var a={modules:{},relationships:n.relationships,siteUrl:n.siteUrl,_hash:n.hash||n._hash,_userId:n.userId||n._userId};delete n.relationships;delete n.hash;delete n.userId;_.chain(n.modules||n).omit(t.config.offline.exclude).each(function(e,t){a.modules[t]={_hash:e.hash,fields:{_hash:e.fieldsHash}}});return a},drop:function e(t){n()},getDetails:function e(){return{type:t.config.offline.storageAdapter}},isOutOfSpace:function e(t){this._isOutOfSpace(t)},open:function e(n){n=_.extend({env:"dev",name:"sidecar",size:5,version:"1.0"},n);var i=n.name+"-"+n.env;var a=n.size*1024*1024;var r=n,s=r.version;try{this._db=this.openDb(i,s,a)}catch(e){t.logger.fatal("Failed to open database: "+i+" "+s+" ("+a+" bytes). "+e);return false}return true},isOpened:function e(){return Boolean(this._db)},sync:function e(n,i,a,r){this._executeSynchronized(function e(s){var o=this;t.logger.trace("storageAdapter: "+n+"-"+a+(i&&i.id?"-"+i.id:""));r=_.extend({regularSync:true,method:n,dbSuccess:function e(t){s();if(r.success){r.success(t)}if(r.complete){r.complete(t)}},dbFailure:function e(t){s();if(r.error){r.error(t)}if(r.complete){r.complete(t)}}},r||{});switch(n){case"read":{r.dbSuccess=function e(t){s();if(r.success){t=o._parseReadSuccessResponse(i,a,t,r)}if(r.complete){r.complete(t)}};var l=i&&i.link?i.relatedId:i?i.id:null;if(l){this._readSimpleOrRelated(a,i,r)}else if(r.relate){this._readManyRelatedRecords(a,i,r)}else if(a==="TxLog"){this._readTxLogRecords(a,i,r)}else{this._readManyRecords(a,r)}break}case"create":if(r.relate){this._createRelatedRecord(a,i,r)}else{this._createRecord(a,i,r)}break;case"update":if(r.relate){this._updateRelatedRecord(a,i,r)}else{this._updateRecord(a,i,r)}break;case"delete":if(r.relate){this._unlinkRecord(a,i,r)}else if(r.hardDelete){this._hardDelete(a,i,r)}else{this._softDeleteRecord(a,i,r)}break;case"favorite":this._favorite(a,i,r);break;case"follow":this._follow(a,i,r);break;case"search":r.max_num=r.max_num||t.config.maxQueryResult;if(r.module_list.split(",").length>1){r=_.omit(r,"offset");r.max_num=t.config.offline.maxMixedCollectionQueryResult}r.dbSuccess=function e(t){s();if(r.success){r.success(t)}if(r.complete){r.complete(t)}};this._search(r);break;case"collection":this._readCollectionFieldRecords({module:a,modelId:i.id,fields:[i.field],options:r}).then(function(e){r.dbSuccess(e[i.field])},function(e){return r.dbFailure});break;default:break}})},_parseReadSuccessResponse:function e(t,n,i,a){if(i){var r=false;if(a.relate){r=_.isEmpty(t.relatedId)}else{r=_.isUndefined(t)}if(r&&!_.isArray(i)){i=[i]}else if(!r&&_.isArray(i)){i=i[0]}}a.success(i);return i},_readTxLogRecords:function e(t,n,i){i=_.extend({limit:i.max_num,count:true,errFirst:true},i||{});this.exec([{op:"readTransactions",bean:null,data:n,options:i}],i.dbSuccess,i.dbFailure)},saveRecords:function e(t){var n=this;var i=_.isArray(t.serverData)?t.serverData:[t.serverData];var r=this._getSaveRecordsTasks(i,t);var s=function e(s){asyncLib.waterfall(r,function(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var o=i.length;var l=!e&&(o===1||!_.isEmpty(t.collectionFields));if(!l){s();t.callback(e,e?undefined:r);return}a.mapSeries(i,function(e){return n._saveCollectionRecords({module:t.relationshipData?t.relationshipData.relatedModule:t.module,serverData:e,clientData:t.clientData,relationshipData:t.relationshipData})}).then(function(n){_.each(n,function(e){return _.extend(r,e)});s();t.callback(e,e?undefined:r)},function(e){s();t.callback(e)})})};if(t.backgroundMode){s(_.noop)}else{this._executeSynchronized(s)}},_getSaveRecordsTasks:function e(n,i){var a=this;var r=i.relationshipData;var s=r?r.relatedModule:i.module;var o=_.filter(n,function(e){return t.offline.isModuleOfflineEnabled(e._module||s)});if(!o.length){return[]}var l=r?i.relDef||t.offline.storage.getRelationshipByLink(i.module,r.link):null;var u=l&&l.type===this.RelTypes.MANY_TO_MANY;return[function(e){var t=_.groupBy(o,function(e){return e._module||s});var n=[];_.each(t,function(e,t){var a=_.pluck(e,"id");n.push({op:"readModuleRecords",module:t||s,data:{id:a}});if(u){var r=_.extend({},i.relationshipData);r.relatedIds=a;n.push({op:"readManyRelated",module:i.module,data:r,options:{}})}});a.exec(n,function(t){if(t&&!_.isArray(t)){t=[t]}var n={records:t};if(u){n.related={};var i=_.groupBy(t,"id");_.each(i,function(e,t){n.related[t]=e.length===2})}e(null,n)},e)},function(e,n){var u=e&&e.records;var c=[];_.each(o,function(n){var d=u&&_.findWhere(u,{id:n.id});var f=d&&!t.offline.utils.isDataSynchronized(d);var h=f?i.ignoreRecordDirtiness:!t.offline.utils.checkDatesEqual(d,n)||t.offline.utils.isFavoriteFollowModified(d,n);if(h){var p=t.offline.utils.actionToString(d?t.offline.SyncActions.UPDATE:t.offline.SyncActions.CREATE);if(n.date_modified){n._client_date_modified=n.date_modified}n._last_fetched=t.utils.getTimestamp();c.push({op:p,module:n._module||s,data:n,options:{initialState:d,updateRelatedNames:o.length===1}})}var m=r&&(i.ignoreRecordDirtiness||!f);if(m){switch(d&&l.type){case a.RelTypes.ONE_TO_MANY:m=d[l.parentIdColumn]!==r.id;break;case a.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN:m=!(d[l.parentIdColumn]===r.id&&d.parent_type===i.module);break;case a.RelTypes.MANY_TO_MANY:m=!(e&&e.related[n.id]);break}if(m){var g=_.extend({},r,{related:n,relatedId:n.id});c.push({op:"createLink",module:i.module,data:g,options:{ts:t.utils.getTimestamp(n.date_modified)}})}}});if(c.length){a.exec(c,function(){return n(null,{isDataUpdated:true})},n)}else{n(null)}}]},resolveSuccess:function e(t){this._executeSynchronized(function e(n){this._resolveTransaction({transaction:t.transaction,module:t.module,serverData:t.serverData,relationshipData:t.relationshipData,callback:function e(){n();if(t.callback){for(var i=arguments.length,a=Array(i),r=0;r<i;r++){a[r]=arguments[r]}t.callback.apply(this,a)}}})})},_resolveTransaction:function e(n){var i=n.callback,a=n.relationshipData;var r=false;var s=false;var o=t.utils.getTimestamp();var l=this;asyncLib.waterfall([function e(t){l.exec([{op:"countAssociatedTransactions",options:{txData:n.transaction}}],function(e){r=e&&e.count>0;t()},t)},function e(t){if(!a){t();return}l.exec([{op:"countAssociatedTransactions",options:{txData:{_tx_uid:n.transaction._tx_uid,_tx_bean_id:n.transaction._tx_related_id}}}],function(e){s=e&&e.count>0;t()},t)},function e(t){l.exec([{op:"readSingle",data:{id:n.serverData.id},module:a?a.relatedModule:n.module,options:{readDeleted:true}}],function(e){t(null,e)},t)},function e(i,u){var c=n.transaction;var d=c._tx_action;var f=c._tx_bean_module;if(d===t.offline.SyncActions.CREATE){d=t.offline.SyncActions.UPDATE}var h=[{op:"deleteTransaction",data:null,module:null,options:{txId:c._tx_uid}}];var p=function e(t){h.push({op:"updateValuesSingle",data:_.pick(t,"id","date_modified"),module:f})};if(a){if(d===t.offline.SyncActions.UPDATE||d===t.offline.SyncActions.LINK||d===t.offline.SyncActions.UNLINK){if(!_.isEmpty(a.related)){if(r){p(a.related)}else{a.related._last_fetched=o;h.push({op:"updateValuesSingle",module:a.relatedModule,data:a.related});h.push({op:"resetDateModified",data:{id:a.related.id},module:a.relatedModule})}}if(a.record&&!s){a.record._last_fetched=o;h.push({op:"updateValuesSingle",module:a.recordModule,data:a.record});h.push({op:"resetDateModified",data:{id:a.record.id},module:a.recordModule})}}if(d===t.offline.SyncActions.UNLINK&&!s&&!r){h.push({op:"deleteLink",module:a.recordModule,data:{id:a.id,link:a.link,related:a.related,relatedId:a.relatedId,relatedModule:a.relatedModule},options:{hardDelete:true}})}}else if(d===t.offline.SyncActions.DELETE){h.push({op:"hardDelete",module:f,data:n.serverData});h.push({op:"deleteLastViewed",data:n.serverData,module:f})}else if(r){p(n.serverData)}else{n.serverData._last_fetched=o;h.push({op:t.offline.utils.actionToString(d),data:n.serverData,module:f});h.push({op:"resetDateModified",data:{id:n.serverData.id},module:f})}l.exec(h,function(){t.trigger("offline:tx:success",{tx:c});u()},function(e){u(e)})}],i)},resolveError:function e(n){var i=void 0;var a=void 0;var r=void 0;if(n.nonTransactionResolve&&!(n.error.status===404||n.error.status===403)){n.callback();return}if(!t.utils.isConnectivityError(n.error)&&!n.nonTransactionResolve){t.trigger("offline:tx:error",{tx:n.txLog,errorCode:n.error.status})}var s=void 0;switch(n.error.status){case 0:if(n.callback){_.defer(n.callback,n.error)}break;case 409:{n.error.record=n.error.record||n.error.payload&&n.error.payload.record||{};var o=n.txLog;var l=t.offline.utils.getOfflineModules();var u=[];if(!_.contains(l,o._tx_bean_module)||_.isEmpty(t.utils.getChangedProps(n.updatedFields,n.error.record))){u.push({op:"deleteTransaction",options:{txId:o._tx_uid}})}else{s={op:"updateValuesSingle",data:null,module:o._tx_bean_module};u=[s,{op:"updateTransaction",data:{txLog:_.extend(_.clone(o),{_tx_error_count:o._tx_error_count+1,_tx_error:n.error.status})}}]}this._executeSynchronized(function e(i){var a=function e(t){i();if(n.callback){n.callback(t)}};if(s){this.exec([{op:"countAssociatedTransactions",options:{txData:o}}],_.bind(function e(i){if(i&&i.count>0){s.data=_.pick(n.error.record,"id","date_modified")}else{s.data=t.utils.deepCopy(n.error.record);s.data._last_fetched=t.utils.getTimestamp()}this.exec(u,a,a)},this),a)}else{this.exec(u,a,a)}});break}case 404:if(n.nonTransactionResolve){if(n.nonTransactionResolve.relate){i=[{op:"deleteLink",module:n.nonTransactionResolve.module,data:n.nonTransactionResolve.data}]}else{i=[{op:"hardDelete",module:n.nonTransactionResolve.module,data:{id:n.nonTransactionResolve.id}}]}}else{a=n.txLog._tx_bean_module;r=n.txLog._tx_bean_id;i=[{op:"hardDelete",module:a,data:{id:r}}];i.push({op:"deleteTransaction",data:null,module:null,options:{txId:n.txLog._tx_uid}})}this._executeSynchronized(function e(t){this.exec(i,function(){t();if(n.callback){n.callback()}},function(e){t();if(n.callback){n.callback(e)}})});break;case 422:if(n.txLog){i=[{op:"deleteTransaction",data:null,module:null,options:{txId:n.txLog._tx_uid}},{op:"updateValuesSingle",data:{id:n.txLog._tx_bean_id,date_modified:n.txLog._tx_ts,_client_date_modified:n.txLog._tx_ts},module:n.txLog._tx_bean_module}]}this._executeSynchronized(function e(t){this.exec(i,function(){t();if(n.callback){n.callback()}},function(e){t();if(n.callback){n.callback(e)}})});break;case 403:{var c=void 0;if(n.nonTransactionResolve){a=n.relate?n.nonTransactionResolve.data.relatedModule:n.nonTransactionResolve.module;var d=n.relate?n.nonTransactionResolve.data.id:n.nonTransactionResolve.id;c={op:"hardDelete",module:a,data:{id:d},options:{skipRelationshipsClean:true}}}else{c={op:"updateTransaction",data:{txLog:_.extend(n.txLog,{_tx_error_count:++n.txLog._tx_error_count,_tx_error:n.error.status})}}}this._executeSynchronized(function e(t){this.exec([c],function(){t();if(n.callback){n.callback(n.nonTransactionResolve?null:n.error)}},function(e){t();if(n.callback){n.callback(e)}})});break}case 500:default:this._executeSynchronized(function e(t){this.exec([{op:"updateTransaction",data:{txLog:_.extend(n.txLog,{_tx_error_count:++n.txLog._tx_error_count,_tx_error:n.error.status})}}],function(){t();if(n.callback){n.callback(n.error)}},function(e){t();if(n.callback){n.callback(e)}})});break}},rollbackTransaction:function e(n,i,a){i=i||{};var r=this;this._executeSynchronized(function e(s){this.exec([{op:"countAssociatedTransactions",options:{txData:n}}],function(e){i.resetDirty=!e||e.count===0;var o=[{op:"deleteTransaction",options:{txId:n._tx_uid}}];var l=void 0;if(n._tx_action===t.offline.SyncActions.UPDATE){l=r._getRollbackUpdateTasks}else if(n._tx_action===t.offline.SyncActions.CREATE){l=r._getRollbackCreateTasks}else if(n._tx_action===t.offline.SyncActions.DELETE){l=r._getRollbackDeleteTasks}else if(n._tx_action===t.offline.SyncActions.FAVORITE){l=r._getRollbackFavoriteTasks}else if(n._tx_action===t.offline.SyncActions.FOLLOW){l=r._getRollbackFollowTasks}else if(n._tx_action===t.offline.SyncActions.UNLINK){l=r._getRollbackUnlinkTasks}else if(n._tx_action===t.offline.SyncActions.LINK){l=r._getRollbackLinkTasks}l=_.bind(l,r);o=o.concat(l(n,i));r.exec(o,function(){s();t.trigger("offline:tx:rollback",{tx:n});a()},function(e){s();a(e)})},function(e){s();a(e)})})},_getRollbackUpdateTasks:function e(t,n){var i=this._getTxUpdatedFields(t);var a=t._tx_bean_module;var r={id:t._tx_bean_id};_.each(i,function(e,t){r[t]=e.before},this);var s=[{op:"updateValuesSingle",data:r,module:a,options:n}];if(n.resetDirty){s.push({op:"resetDateModified",module:a,data:r})}return s},_getRollbackCreateTasks:function e(t,n){return[{op:"hardDelete",data:{id:t._tx_bean_id},module:t._tx_bean_module,options:n}]},_getRollbackDeleteTasks:function e(t){return[{op:"resetDeletedSingle",data:{id:t._tx_bean_id},module:t._tx_bean_module}]},_getRollbackFavoriteTasks:function e(t,n){var i=this._getTxUpdatedFields(t);var a=t._tx_bean_module;var r={id:t._tx_bean_id,my_favorite:i.my_favorite.before};if(i.following){r.following=i.following.before}var s=[{op:"updateValuesSingle",data:r,module:a,options:n}];if(n.resetDirty){s.push({op:"resetDateModified",module:a,data:{id:t._tx_bean_id}})}return s},_getRollbackFollowTasks:function e(t,n){var i=this._getTxUpdatedFields(t);var a=t._tx_bean_module;var r=[{op:"updateValuesSingle",data:{id:t._tx_bean_id,following:Boolean(i.following.before)},module:a,options:n}];if(n.resetDirty){r.push({op:"resetDateModified",module:a,data:{id:t._tx_bean_id}})}return r},_getRollbackUnlinkTasks:function e(t,n){var i=[{op:"createLink",module:t._tx_related_module,data:{id:t._tx_related_id,link:t._tx_link,related:{id:t._tx_bean_id},relatedId:t._tx_bean_id,relatedModule:t._tx_bean_module}}];if(n.resetDirty){i.push({op:"resetDateModified",module:t._tx_bean_module,data:{id:t._tx_bean_id}})}return i},_getRollbackLinkTasks:function e(t,n){var i=this._getTxUpdatedFields(t);var a=void 0;if(i.before){a=[{op:"createLink",module:i.before.module,data:{id:i.before.id,link:t._tx_link,related:{id:t._tx_bean_id},relatedId:t._tx_bean_id,relatedModule:t._tx_bean_module}}]}else{a=[{op:"deleteLink",module:t._tx_related_module,data:{id:t._tx_related_id,link:t._tx_link,related:{id:t._tx_bean_id},relatedId:t._tx_bean_id,relatedModule:t._tx_bean_module}}]}if(n.resetDirty){a.push({op:"resetDateModified",module:t._tx_bean_module,data:{id:t._tx_bean_id}})}return a},_getTxUpdatedFields:function e(t){return _.isString(t._tx_updated_fields)?JSON.parse(t._tx_updated_fields):t._tx_updated_fields},readSingleRawRecord:function e(t,n,i){this._executeSynchronized(function e(a){this.exec([{op:"readSingle",data:n,module:t,options:_.extend(i,{readDeleted:true})}],function e(){a();if(i.success){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}i.success.apply(this,n)}},function e(){a();if(i.error){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}i.error.apply(this,n)}})})},readRecordsByIds:function e(t,n,i){this._executeSynchronized(function e(a){this.exec([{op:"readModuleRecords",data:{id:n},module:t}],function e(){a();if(i.success){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}i.success.apply(this,n)}},function e(){a();if(i.error){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}i.error.apply(this,n)}})})},readTransactions:function e(t,n){this._executeSynchronized(function e(i){this.exec([{op:"readTransactions",bean:null,data:n,options:t}],function e(){i();if(t.success){for(var n=arguments.length,a=Array(n),r=0;r<n;r++){a[r]=arguments[r]}t.success.apply(this,a)}},function e(){i();if(t.error){for(var n=arguments.length,a=Array(n),r=0;r<n;r++){a[r]=arguments[r]}t.error.apply(this,a)}})})},getStats:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};n=_.defaults(n,{modules:t.offline.utils.getOfflineModules(),success:function e(n){t.logger.debug(n)},error:function e(n){t.logger.error("getStats failed. "+n)}});var i={count:{}};var a=this;this._executeSynchronized(function(e){asyncLib.series([function e(t){a.getRecordsCount(n,function(e,n){i.count=n;t(e,n)})},function e(t){a.getStorageSize(n,function(e,n){if(!e){_.extend(i,n)}t(e,n)})}],function(t){e();if(t){n.error(t)}else{n.success(i)}})})},getRecordsCount:function e(t,n){this.exec([{op:"getStats",data:null,module:null,options:t}],function(e){n(null,e)},n)},_NO_STORAGE_INFO:{dbSize:-1,totalDiskSpace:-1,freeDiskSpace:-1},getStorageSize:function e(t,n){n(null,_.clone(this._NO_STORAGE_INFO))},compact:function e(){var n=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=i.flushTransactions,s=r===undefined?false:r,o=i.modules,l=i.expirationDate,u=i.callback,c=u===undefined?_.noop:u;var d=a.resolve();var f=_.findIndex(o,function(e){return e.moduleName==="EmailParticipants"});if(f!==-1){var h=o.splice(f,1)[0];o.push(h)}if(s){d=d.then(function(){return new a(function(e,t){n.exec([{op:"clearTransactionLog"}],e,t)})})}this._executeSynchronized(function(e){d.then(function(){return a.mapSeries(o,function(e){return n._cleanUpModule({module:e,expirationDate:l})})}).then(function(){e();c()}).catch(function(n){t.logger.error("Failed to clean up database. "+n);e();c(n)})})},_cleanUpModule:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.module,r=n.expirationDate;return this._getRecordsToCleanUp({module:i,expirationDate:r}).then(function(e){return new a(function(n,a){t._hardDelete(i.moduleName,e,{skipOneToManyChildren:true,dbSuccess:n,dbFailure:a})})})},_getRecordsToCleanUp:function e(){var n=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=i.module,s=i.expirationDate;var o=this._getModuleLimit(r.moduleName);var l=Math.ceil(r.recordsCount-o+(100-t.config.offline.cleanUp.recordsToKeepPercentage)/100*o);var u=this._getCleanUpSelectionTasks({module:r.moduleName,expirationDate:s,limit:l});var c=function e(t){return new a(function(e,i){n.exec([t],function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];t=_.isArray(t)?t:[t];e(_.compact(t))},i)})};return a.reduce(u,function(e,t){if(n._shouldCleanMore(r,e.length)){return c(t)}return e},[])},_getCleanUpSelectionTasks:function e(n){var i=n.module,a=n.expirationDate,r=n.limit;var s=t.config.offline.staticModules||[];var o=[];if(!_.contains(s,i)){o.push({expirationDate:a,includeUserRecords:false,limit:r},{expirationDate:a,includeUserRecords:true,limit:r})}o.push({includeUserRecords:true,limit:r});var l=o.map(function(e){return{op:"findViewedBefore",module:i,options:e}});return this._getModuleCleanUpSelectionTasks(l,n)},_getModuleCleanUpSelectionTasks:function e(t,n){var i=n.module;if(i==="EmailParticipants"){return[{op:"findUnlinkedEmailParticipants",options:n},{op:"readMany",module:"EmailParticipants",options:{max_num:n.limit}}]}return t},_shouldCleanMore:function e(t,n){var i=t.moduleName,a=t.recordsCount;var r=this._getModuleLimit(i);return a-n>r},_getModuleLimit:function e(n){var i=t.config.offline.dbLimits;return i.modules[n]||i.default},_favorite:function e(n,i,a){a.action=t.offline.SyncActions.FAVORITE;i={id:i.id,my_favorite:i.my_favorite,_client_date_modified:a.ts};if(i.my_favorite){i.following=true}this.execAndSpecificReturn([{op:"updateValuesSingle",data:i,module:n,options:a}],_.extend({data:i,module:n},a))},_follow:function e(n,i,a){a.action=t.offline.SyncActions.FOLLOW;this.execAndSpecificReturn([{op:"updateValuesSingle",data:{id:i.id,following:i.following,_client_date_modified:a.ts},module:n,options:a}],_.extend({data:i,module:n},a))},_updateRecord:function e(n,i,a){var r=this;a.action=t.offline.SyncActions.UPDATE;i._client_date_modified=a.ts;if(t.offline.utils.isRecordAssignedToLoginUser(i)){i.following=true}this._setErasedFieldsData(i,a);var s=[{op:"updateValuesSingle",data:i,module:n,options:a}];this._saveCollectionRecords({module:n,clientData:i}).then(function(){r.execAndSpecificReturn(s,_.extend({data:i,module:n},a))},a.dbFailure)},_updateRelatedRecord:function e(n,i,a){var r=this;a.action=t.offline.SyncActions.UPDATE;i.related._client_date_modified=a.ts;if(t.offline.utils.isRecordAssignedToLoginUser(i.related)){i.related.following=true}this._setErasedFieldsData(i.related,a);var s=[{op:"updateValuesSingle",data:i.related,module:i.relatedModule,options:a}];var o=this.getRelationshipByLink(n,i.link);var l=this.getRelationshipType(o);var u=t.data.getRelationshipFields(n,i.link);var c=!_.isEmpty(_.pick(i.related,u));if(l===this.RelTypes.MANY_TO_MANY&&c){s.push({op:"createLink",module:n,data:i,options:a})}this._saveCollectionRecords({module:i.relatedModule,clientData:i.related}).then(function(){r.execAndSpecificReturn(s,_.extend({data:i,module:n},a))},a.dbFailure)},_createRecord:function e(n,i,a){i.id=i.id||t.utils.generateUUID();i.date_entered=a.ts;i._client_date_modified=a.ts;if(t.offline.utils.isRecordAssignedToLoginUser(i)){i.following=true}a.action=t.offline.SyncActions.CREATE;this.execAndSpecificReturn([{op:"createSingle",data:i,module:n,options:a}],_.extend({data:i,module:n},a))},_createRelatedRecord:function e(n,i,a){var r=this;i.related._client_date_modified=a.ts;if(i.relatedId){var s=function e(){a.action=t.offline.SyncActions.LINK;r.execAndSpecificReturn([{op:"createLink",module:n,data:i,options:a}],_.extend({data:i,module:n},a))};var o=function e(t){var n=t[0];var i=t[1];if(!_.isEmpty(i)){return a.dbSuccess({record:n,relatedRecord:i})}s()};var l=t.offline.storage.getRelationshipByLink(n,i.link);var u=t.offline.storage.getRelationshipType(l);if(u===t.offline.storage.RelTypes.MANY_TO_MANY){r.exec([{op:"readSingle",data:i,module:n,options:_.extend(a,{readDeleted:true})},{op:"readSingleRelated",module:n,data:i,options:a}],o,a.dbFailure)}else{s()}}else{var c=t.utils.generateUUID();i.relatedId=c;i.related.id=c;a.action=t.offline.SyncActions.CREATE;if(t.offline.utils.isRecordAssignedToLoginUser(i.related)){i.related.following=true}this.execAndSpecificReturn([{op:"createSingle",module:i.relatedModule,data:i.related,options:a},{op:"createLink",module:n,data:i,options:a}],_.extend({data:i,module:n},a))}},_softDeleteRecord:function e(n,i,a){a.action=t.offline.SyncActions.DELETE;this.execAndSpecificReturn([{op:"createTransaction",module:n,data:i,options:a},{op:"softDeleteSingle",module:n,data:i,options:a}],_.extend({data:i,module:n},a))},_hardDelete:function e(n,i,a){a.action=t.offline.SyncActions.DELETE;this.execAndSpecificReturn([{op:"hardDelete",module:n,data:i,options:a},{op:"deleteLastViewed",data:i,module:n}],_.extend({data:i,module:n},a))},_unlinkRecord:function e(n,i,a){a.action=t.offline.SyncActions.UNLINK;var r=[{op:"deleteLink",module:n,data:i,options:a}];if(!a.hardDelete){r.push({op:"createTransaction",module:n,data:i,options:a})}this.execAndSpecificReturn(r,_.extend({data:i,module:n},a))},_readSimpleOrRelated:function e(t,n,i){var a=this;var r=i.relate;var s={op:r?"readSingleRelated":"readSingle",data:n,module:t,options:i};var o=[s];var l=n.relatedModule;if(this._shouldUpdateLastViewedDate(i)){o.splice(0,0,{op:"updateLastViewed",data:r?{id:n.relatedId}:n,module:r?l:t,options:i});o.splice(0,0,{op:"markToBeSynced",module:r?l:t,data:{action:"update",record:{id:r?n.relatedId:n.id}}})}this.exec(o,function(e){if(e){a._readCollectionFieldRecords({module:r?l:t,modelId:r?n.relatedId:n.id}).then(function(t){_.extend(e,t);i.dbSuccess(e)},function(e){return i.dbFailure(e)})}else{i.dbSuccess(e)}},i.dbFailure)},_readCollectionFieldRecords:function e(n){var i=this;var r=n.module,s=n.fields,o=n.options,l=o===undefined?{}:o;var u=t.metadata.getModule(r,"fields");var c=_.isArray(s)?s:_.keys(t.offline.utils.getCollectionFields(r));var d=l.offset||{};var f=l.max_num||t.config.maxQueryResult;return a.mapSeries(c,function(e){if(!i._isCollectionFieldSupported(r,e)){return a.resolve()}var s=u[e];return a.mapSeries(s.links,function(e){var o=e.name;if(d[o]===-1||!t.offline.utils.isLinkSupported(r,o)){return a.resolve([])}var l=t.data.getRelatedModule(r,o);var u=t.metadata.getModule(l,"fields");var c=s.order_by;return i._readManyRelatedRecords(r,{id:n.modelId,relatedModule:l,link:o},{offset:d[o]||0,order_by:c}).then(function(e){var t=e;if(t&&!_.isArray(t)){t=[t]}var n=c.split(":")[0];var i=u[n].sort_on||n;return _.map(t,function(e){e._link=o;return{sort:e[i]||e[n]||"",rec:e}})})})}).then(function(e){var t={};_.each(c,function(n,i){var a=u[n].order_by.split(":")[1]||"";var r=a.toLowerCase()==="asc";var s=_.flatten(e[i]).sort(function(e,t){return(r?1:-1)*e.sort.localeCompare(t.sort)}).splice(0,f).map(function(e){return e.rec});if(!_.isEmpty(s)){t[n]=s}});return t})},_saveCollectionRecords:function e(n){var i=this;var r=n.module;var s=t.offline.utils.extractColFieldValues(r,n.clientData||n.serverData,{isClientData:Boolean(n.clientData)});return a.mapSeries(_.keys(s),function(e){if(!i._isCollectionFieldSupported(r,e)){return a.resolve()}var o=s[e];return a.mapSeries(_.keys(o),function(e){if(!t.offline.utils.isLinkSupported(r,e)){return a.resolve()}return new a(function(t,a){var r=i._getSaveCollectionRecordsTasks(e,o[e],n);asyncLib.waterfall(r,function(e,n){if(e){a(e)}else{t(n)}})})})}).then(function(e){return _.flatten(e).some(function(e){return e&&e.isDataUpdated})?{isDataUpdated:true}:undefined})},_getSaveCollectionRecordsTasks:function e(n,a,r){var s=this;var o=t.offline.isOnline();var l=r.module;var u=r.clientData;var c=r.serverData||{};var d=c.id||u.id;var f=[];var h=t.data.getRelatedModule(l,n);if(o){var p={module:l,relationshipData:{id:d,link:n,relatedModule:h},ignoreRecordDirtiness:Boolean(u),needUpdateData:false};f.push.apply(f,i(this._getSaveRecordsTasks(a.add,p)))}else{var m=_.map(a.add,function(e){return{op:"createLink",module:l,data:{id:d,link:n,relatedModule:h,relatedId:e.id,related:{id:e.id}}}});if(m.length){f.push(function(e){s.exec(m,function(t){return e(null,t)},function(t){return e})})}}var g=_.map(a.delete,function(e){return{op:"deleteLink",module:l,data:{id:d,link:n,relatedModule:h,relatedId:e,related:{id:e}}}});if(g.length){f.push(function(e){s.exec(g,function(t){return e(null,t)},e)})}return f},_readManyRecords:function e(t,n){var i=this;return new a(function(e,a){i.exec([{op:"readMany",module:t,options:n}],function(t){return e(t)},function(e){a(e);n.dbFailure(e)})}).then(function(e){var r=e;var s=n.collectionFields;if(_.isEmpty(r)||_.isEmpty(s)){n.dbSuccess(r);return}if(!_.isArray(r)){r=[r]}return a.mapSeries(r,function(e){return i._readCollectionFieldRecords({module:t,fields:s,modelId:e.id})}).then(function(e){_.each(r,function(t,n){_.extend(t,e[n])});n.dbSuccess(r)})})},_readManyRelatedRecords:function e(t,n){var i=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new a(function(e,a){i.exec([{op:"readManyRelated",module:t,data:n,options:r}],function(){if(r.dbSuccess){r.dbSuccess.apply(r,arguments)}e.apply(undefined,arguments)},function(e){if(r.dbFailure){r.dbFailure(e)}a(e)})})},_search:function e(t){this.exec([{op:"search",options:t}],t.dbSuccess,t.dbFailure)},_shouldUpdateLastViewedDate:function e(t){return t&&t.viewed},fillTxLogData:function e(t,n){_.each(t,function(e){if(e._tx_updated_fields){e._tx_updated_fields=JSON.parse(e._tx_updated_fields)}});var i={};var a=function e(t,n){var a=t["_tx_"+n+"_module"];if(!a){return}if(!_.has(i,a)){i[a]=[]}i[a].push(t["_tx_"+n+"_id"])};_.each(t,function(e){a(e,"bean");a(e,"related")});var r=function e(t,n,i){var a=t["_tx_"+n+"_id"];if(!a){return}var r=t["_tx_"+n+"_module"];if(_.isArray(i[r])){t[n]=_.find(i[r],function(e){return e.id===a})}else{t[n]=i[r]}};this._executeSynchronized(function e(a){this.readModuleRecords(i,function(e,i){a();if(!e){_.each(t,function(e){r(e,"bean",i);r(e,"related",i)})}n(e,t)})})},readModuleRecords:function e(t,n,i){var a=this;_.each(t,function(e,n){var i={op:"readModuleRecords",module:n,data:{id:e},options:{}};t[n]=function e(t){a.exec([i],function(e){t(null,e)},t)}});asyncLib.parallel(t,n)},markToBeSynced:function e(t){this.exec([{op:"markToBeSynced",module:t.module,data:{action:t.action,record:t.record}}],t.callback,t.callback)},resetToBeSynced:function e(t){this.exec([{op:"resetToBeSynced",module:t.module,data:{records:t.records}}],t.callback,t.callback)},readToBeSynced:function e(t){this.exec([{op:"readToBeSynced",module:t.module,options:t}],function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!e){e=[]}if(!_.isArray(e)){e=[e]}t.callback({records:e})},t.callback)},updateLastViewed:function e(t,n){this.exec([{op:"updateLastViewed",data:t,module:n.module,options:n}],n.callback,n.callback)},_isCollectionFieldSupported:function e(t,n){return r[t]&&_.contains(r[t],n)},_setErasedFieldsData:function e(t,n){var a;var r=_.getNested(n,"initialState._erased_fields",[]);var s=(a=_).without.apply(a,[r].concat(i(_.keys(t))));if(s.length!==r.length){t._erased_fields=s}}}})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){var n={};t.offline.utils={notImplemented:function e(){throw new Error("Not implemented. Please override this method with your implementation")},generateUUID:function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;var n=e=="x"?t:t&3|8;return n.toString(16)})},isDataSynchronized:function e(n){if(n instanceof t.Bean){return n.get("_client_date_modified")===n.get("date_modified")}else if(_.isObject(n)){return n._client_date_modified&&n.date_modified&&n._client_date_modified===n.date_modified}return false},prepareHighlightQuery:function e(t){var n="(\\*|\\%)+";t=t?t.trim().replace(/[-\[\]{}()+.,\\\^$|#\s]/g,"\\$&").replace(new RegExp("(^"+n+")|("+n+"$)","g"),"").replace(/%|\*/g,".*").replace(/_|\?/g,"."):"";return t},prepareQuery:function e(t){t=t?t.trim().replace(/[-\[\]{}()+.,\\\^$|#\s]/g,"\\$&").replace(/%|\*/g,".*").replace(/_|\?/g,"."):"";return"^"+t},checkIsEmptyQuery:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=t.replace(/%|\*/g,"").replace(/_|\?/g,"");n=n.trim();return _.isEmpty(n)},compileHighlightRegExp:function e(t){t=this.prepareHighlightQuery(t);return new RegExp("([^\\s:-;,><]*"+t+"[^\\s:-;,><]*)","i")},compileSearchRegExp:function e(t){return new RegExp(this.prepareQuery(t))},actionToSymbol:function e(n){var i=n._tx_action||n.action;var a=n._tx_related_id||n.relate;return t.offline.SYNC_ACTIONS_SYMBOLS[i]+(a?"_RELATED":"")},getTxAge:function e(t){return parseInt((new Date-new Date(t._tx_ts))/1e3,10)},getCleanedParams:function e(t){return _.omit(t,["changedFields","skipServerSync","skipOfflineRead","serverSyncSuccess","deferSync","initialState","relate"])},actionToString:function e(n){if(n===t.offline.SyncActions.CREATE){return"createSingle"}else if(n===t.offline.SyncActions.UPDATE||n===t.offline.SyncActions.LINK){return"updateValuesSingle"}else if(n===t.offline.SyncActions.DELETE||n===t.offline.SyncActions.UNLINK){return"hardDelete"}else if(n===t.offline.SyncActions.FAVORITE||n===t.offline.SyncActions.FOLLOW){return"updateValuesSingle"}throw new Error("Invalid action")},isRecordAssignedToLoginUser:function e(n){return n.assigned_user_id&&n.assigned_user_id===t.user.id},getOfflineModules:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=_.keys(t.metadata.get().modules);if(n.filter){i=_.intersection(i,t.metadata.getModuleNames({filter:n.filter}))}if(n.includeStatic){i=_.union(t.config.offline.staticModules,i)}if(n.checkAccess){i=_.filter(i,function(e){return t.acl.hasAccess("access",e)})}return _.filter(i,function(e){return t.offline.isModuleOfflineEnabled(e)})},getBeforeAndAfter:function e(t,n){n=n||{};var i={};_.each(t,function(e,t){if(t==="_client_date_modified"||t==="id"||e===n[t]){return}i[t]={after:e,before:n[t]?n[t]:null}},this);return _.isEmpty(i)?null:i},getInitialState:function e(t,n){var i=JSON.parse(t._tx_updated_fields);_.each(i,function(e,t){if(t==="email"){return}n[t]=e.before});return n},fetchPageByPage:function e(n,i,a,r,s){var o=s.maxRecords||20;var l=s.pageSize||20;r=r||0;_.extend(i,{offset:i.offset||0,max_num:l,order_by:i.order_by||"date_modified:DESC"});if(s.isBulkLoad){_.extend(i,{e2e_skip:true})}t.offline.api.callOriginalApi("records",["read",n,null,i,{success:function e(u){if(_.isEmpty(u.records)){return s.callback()}a({module:n,records:u.records,callback:function e(c){if(c){return s.callback(c)}var d=r>=o;r+=l;i.offset+=l;if(s.iterator){s.iterator(d?o:r)}if(d||u.next_offset===-1){s.callback()}else{t.offline.utils.fetchPageByPage(n,i,a,r,s)}}})},error:s.callback}])},ping:function e(n){var i=Number(new Date);t.offline.api.callOriginalApi("ping",[null,{success:function e(){var t=new Date-i;n(null,t)},error:function e(t){n(t)}}])},getServerTime:function e(n){t.offline.api.callOriginalApi("ping",["whattimeisit",{success:function e(t){n(null,t)},error:n},{skipMetadataHash:true}])},shouldUpdateLastViewedDate:function e(t){return t&&t.viewed},callOnce:function e(t){var n={success:false,error:false,complete:false};_.each(t,function(e,i){t[i]=function t(){if(n[i]){return}n[i]=true;for(var a=arguments.length,r=Array(a),s=0;s<a;s++){r[s]=arguments[s]}e.apply(this,r);e=null}})},paginate:function e(t,n){var i=0;var a=void 0;var r=[];if(_.isEmpty(t)){return r}var s=function e(t,i){var a=i*n;var r=(i+1)*n;return t.slice(a,r)};a=s(t,i);while(!_.isEmpty(a)){r.push(a);a=s(t,++i)}return r},getStoppableAsyncFlow:function e(n,i,a){var r=false;var s=_.map(i,function(e){return function n(){if(r){t.logger.debug("Async flow interrupted");a()}else{e.apply(undefined,arguments)}}});asyncLib[n](s,a);return function e(){r=true}},checkDatesEqual:function e(n,i){return n&&i&&n.date_modified===n._client_date_modified&&n.date_modified===t.utils.getTimestamp(i.date_modified)},isFavoriteFollowModified:function e(t,n){return t&&n&&(!_.isUndefined(n.my_favorite)&&Boolean(Number(n.my_favorite))!==Boolean(Number(t.my_favorite))||!_.isUndefined(n.following)&&Boolean(Number(n.following))!==Boolean(Number(t.following)))},getCollectionFields:function e(i){var a=n[i];if(_.isUndefined(a)){var r=t.metadata.getModule(i,"fields");var s=_.filter(r,function(e){return e.type==="collection"});if(_.isEmpty(s)){a=null}else{a={};_.each(s,function(e){a[e.name]=e})}n[i]=a}return a},extractColFieldValues:function e(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},a=i.isClientData;var r=this.getCollectionFields(t);var s={};if(!r){return s}_.each(r,function(e,t){s[t]={};if(a){_.each(e.links,function(e){var i=e.name;if(n[i]){s[t][i]=n[i]}})}else{_.each(n[t]&&n[t].records,function(n){var i=_.find(e.links,function(e){return n._link===e.name});if(i){var a=i.name;if(!s[t][a]){s[t][a]={add:[]}}s[t][a].add.push(n)}})}if(!s[t]){delete s[t]}});return s},isLinkSupported:function e(n,i){var a=t.metadata.getModule(n).fields[i].relationship==="";return!a&&t.offline.isModuleOfflineEnabled(t.data.getRelatedModule(n,i))},haveMetaModulesChanged:function e(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=_.filter(_.keys(n.modules),function(e){return t.offline.isModuleOfflineEnabled(e)}).sort();var r=_.filter(_.keys(i.modules),function(e){return t.offline.isModuleOfflineEnabled(e)}).sort();return!_.isEqual(a,r)}}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a="meta:hashes";var r={CREATE:1,UPDATE:2,DELETE:3,LINK:4,UNLINK:5,FAVORITE:6,FOLLOW:7};var s=void 0;var o=void 0;var l=void 0;var u=["offline:toggled","offline:failure","offline:bulkload:progress","offline:cleanup:completed","offline:api:read:success","offline:status:update","offline:collection:read","offline:data:updated","offline:data:sync:success","offline:tx:create","offline:tx:success","offline:tx:delete","offline:tx:error","offline:tx:rollback","offline:wins:completed","offline:encryption:start","offline:encryption:complete","offline:storage:migrate"];var c={INITIALIZED_TS_KEY:"offline:initialized_ts",State:{OK:0,WARNING:1,ERROR:2},SyncActions:r,SYNC_ACTIONS_SYMBOLS:_.invert(r),TransactionStatuses:{UNRECOVERABLE:[403,405,422,500]},status:null,_userEnabled:true,_noConnection:false,set userEnabled(e){this._userEnabled=Boolean(e)},get userEnabled(){return this._userEnabled},isSupported:function e(t){return i.utils.versionCompare(t.version||"",i.config.offline.minServerVersion,">=")},storageExists:function e(){return Boolean(i.cache.get("offline:version"))},registerEvents:function e(){_.each(u,function(e){i.events.unregister(i,e);i.events.register(e,i)})},initialize:function e(){$(document).on("ajaxComplete",this._onAjaxComplete);this._setDataModels();this.storage.init(i.metadata.get());this.api.override();this.syncManager.httpErrorHandler=_.bind(i.error.handleStatusCodesFallback,i.error);this.syncManager.init();this._registerSyncExecutors();this.status={state:this.State.OK};this._initialized=true;i.logger.debug("Offline initialized")},isInitialized:function e(){return this._initialized},_registerSyncExecutors:function e(){_.each(i.config.offline.syncManager.executors,function(e,t){e=_.extend(e,{name:t});var n=new(i.offline[i.utils.capitalize(t)+"SyncExecutor"])(e);i.offline.syncManager.registerExecutor(n)})},initStorage:function e(){return i.offline.storage.open({env:i.config.env,name:i.config.appId,size:i.config.offline.storageSize,adapter:i.offline[i.config.offline.storageAdapter+"Adapter"]})},_cutCachedData:function e(){_.each(["offline:version",a,"offline:encrypted","sync:wins:status"],function(e){i.cache.cut(e)})},uninitialize:function e(){$(document).off("ajaxComplete",this._onAjaxComplete);this.api.restore();this._resetDataModels();this.status=null;i.offlineEnabled=false;this._initialized=false;i.logger.debug("Offline stopped")},_setDataModels:function e(){s=i.data.beanModel;o=i.data.beanCollection;l=i.data.mixedBeanCollection;i.data.beanModel=this.declareOfflineBean();i.data.beanCollection=this.declareOfflineBeanCollection();i.data.mixedBeanCollection=this.declareOfflineMixedBeanCollection();i.data.reset();i.data.declareModels()},_resetDataModels:function e(){i.data.beanModel=s;i.data.beanCollection=o;i.data.mixedBeanCollection=l;i.data.reset();i.data.declareModels()},prepareDb:function e(t){var n=this;var a=Promise.resolve();if(t){a=a.then(function(){var e=i.utils.deepCopy(i.metadata.get());e.modules=_.omit(e.modules,i.config.offline.exclude);return n.upgrade(e)}).then(function(e){return n.migrate(e)})}var r=i.cache.get("offline:encrypted");if(i.config.offline.dbEncryptionEnabled&&!r){a=a.then(function(){return n.encrypt()})}return a},isOfflineEnabled:function e(){return i.config.offlineEnabled&&i.config.offline.enabled&&this.userEnabled&&this.isSupported(i.metadata.getServerInfo())},dropStorage:function e(t){var n=this;return new Promise(function(e,t){if(!n.storage.isOpened()){n.initStorage()}i.logger.debug("Dropping storage");n.storage.drop(function(a){n._cutCachedData();if(a){i.logger.error("Failed to drop storage: "+a);t(a)}else{e()}})})},upgrade:function e(t){var n=this;return new Promise(function(e,r){var s=i.cache.get(a);i.logger.debug("Upgrading offline storage");i.offline.storage.upgrade(t,s,{success:function t(a,r){i.logger.debug("Successfully upgraded offline storage");n.storeOfflineMeta(a);i.cache.set("offline:version",n.storage.getSqlStorageVersion());e({metadata:a,prevMetadata:r})},error:function e(t){i.logger.error("Failed to upgrade offline storage. "+t);r(t)}})})},encrypt:function e(){return new Promise(function(e,t){if(i.offline.storage.isEncryptionSupported()){i.trigger("offline:encryption:start");_.defer(function(){i.offline.storage.encrypt(function(){i.logger.debug("Successfully encrypted offline storage");i.trigger("offline:encryption:complete");i.cache.set("offline:encrypted",true);e()},function(e){i.logger.error("Failed to encrypt offline storage. "+e);i.trigger("offline:encryption:complete",i.offline.Error.EncryptionFailedError);t(e)})})}else{e()}})},migrate:function e(t){var n=t.metadata,a=t.prevMetadata;var r=i.offline.utils.haveMetaModulesChanged(n,a);var s=!i.config.offline.debug.forceMigrate&&a&&a._hash===n._hash&&a._userId===i.user.get("id")&&a.siteUrl===i.utils.stripHttpPrefix(i.config.siteUrl)&&!r;i.offline.storage.resetMigrationSummary();var o=Promise.resolve();if(!s){i.logger.debug("Migrating offline storage");o=o.then(function(){return new Promise(function(e,t){i.offline.utils.getServerTime(function(n,a){if(n){i.logger.error("Failed to get server time: "+n);n=new i.offline.Error("server_time_unavailable","Failed to retrieve server time","ERR_OFFLINE_SERVERTIME_UNAVAILABLE",n);t(n)}else{i.cache.set(i.offline.INITIALIZED_TS_KEY,a);e()}})})}).then(function(){return new Promise(function(e,t){i.offline.storage.migrate(n,a,{forceDrop:i.config.offline.debug.forceMigrate,isModulesConfigChanged:r,success:function t(){i.trigger("offline:storage:migrate",{storageRebuilt:i.offline.storage.getMigrationSummary().storageRebuilt});i.logger.debug("Successfully migrated offline storage");e()},error:t})})})}return o.catch(function(e){e.label=i.lang.get("ERR_OFFLINE_STORAGE_CREATE");i.logger.error("Failed to migrate offline storage. "+e);throw e})},compactStorage:function e(t){i.offline.storage.compact(t)},storeOfflineMeta:function e(t){var n={};n._hash=t._hash;n._userId=i.user.id;n.relationships={_hash:t.relationships._hash};n.siteUrl=i.utils.stripHttpPrefix(i.config.siteUrl);n.modules={};_.chain(t.modules).omit(i.config.offline.exclude).each(function(e,t){if(e._hash){n.modules[t]={_hash:e._hash,fields:{_hash:e.fields._hash}};_.each(e.fields,function(e,i){if(i==="_hash"){return}n.modules[t].fields[i]={type:e.type,name:e.name}})}});i.cache.set(a,n)},isOnline:function e(){return i.config.offline.debug.online&&window.navigator.onLine},isModuleOfflineEnabled:function e(t){return(i.config.offline.exclude||[]).indexOf(t)===-1},startSyncManager:function e(){if(i.config.offline.enabled&&i.api.isAuthenticated()){i.offline.syncManager.start()}},stopSyncManager:function e(){i.offline.syncManager.stop()},startMonitorStatus:function e(){var t=this;if(this._monitorIntervalId||!i.config.offline.debug.monitorStatus){return}var n=function e(){asyncLib.parallel({transactions:function e(n){t.storage.exec([{op:"countTransactions"}],function(e){n(null,e)},function(e){i.logger.error("Failed to count transactions: "+e);n(e)})},isOutOfSpace:function e(n){t.storage.isOutOfSpace(function(e){return n(null,e)})}},function(e,n){var a=n.transactions||{};a.noConnection=t._noConnection||!t.isOnline();a.isSyncing=t.syncManager.isSyncing();a.lastSyncTs=t.syncManager.lastSyncTs;a.isOutOfSpace=n.isOutOfSpace;if(a.failedTransactions>0||a.isOutOfSpace){a.state=t.State.ERROR}else if(a.noConnection||a.totalTransactions>0){a.state=t.State.WARNING}else{a.state=t.State.OK}t.status=a;t.showStateAlert();i.trigger("offline:status:update",a)})};n();this._monitorIntervalId=window.setInterval(n,i.config.offline.monitorTimeout||1e4)},stopMonitorStatus:function e(){window.clearInterval(this._monitorIntervalId);this._monitorIntervalId=null},showStateAlert:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.ignoreAlertUid,a=n===undefined?false:n;if(this.status.state===this.State.OK||this.status.state===this.State.WARNING&&!this.status.totalTransactions){return}var r=this.status.state===this.State.ERROR;var s=r?"ERR_MOBILE_INTERNET_UNAVAILABLE_AND_TRANSACTION_ERRORS":"WARN_MOBILE_INTERNET_UNAVAILABLE_AND_UNSYNCED_TRANSACTIONS";var o=i.lang.get(s,null,{link:"#Offline"});var l={messages:[new Handlebars.SafeString(o)],level:r?"error":"warning",uid:s};if(r&&a){delete l.uid}i.alert.show("offline_state",l)},_onAjaxComplete:function e(t,n){this._noConnection=!n.aborted&&!n.status}};i.offline=c;e.exports=i.offline},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}(function e(t){var n=function e(t){this._module=t};_.extend(n.prototype,{combiners:{$or:" OR ",$and:" AND "},conditions:{base:{$equals:"=",$not_equals:"!=",$lt:"<",$lte:"<=",$gt:">",$gte:">=",$starts:function e(t,n){return t+' LIKE "'+n+'%"'},$ends:function e(t,n){return t+' LIKE "%'+n+'"'},$contains:function e(t,n){return t+' LIKE "%'+n+'%"'},$not_contains:function e(t,n){return t+' NOT LIKE "%'+n+'%"'},$in:function e(t,n,i){n=i.value;return t+" IN ("+(_.isArray(n)?n.map(this._quotStr).join():n)+")"},$not_in:function e(t,n,i){n=i.value;return t+" NOT IN ("+(_.isArray(n)?n.map(this._quotStr).join():n)+")"},$is_null:function e(t){return t+" ISNULL"},$not_null:function e(t){return t+" NOTNULL"},$empty:function e(t){return"("+t+'="")'},$not_empty:function e(t){return"("+t+'!="")'},$dateBetween:function e(n,i,a){i=a.value;var r=t.metadata.getModule(this._module).fields[n]||{};var s=r.type==="date";var o=s?i[0]:t.date.utc(i[0]).startOf("day").toDate();var l=s?i[1]:t.date.utc(i[1]).endOf("day").toDate();o=this._quotStr(this._getValue(o,n));l=this._quotStr(this._getValue(l,n));return n+" BETWEEN "+o+" AND "+l},$between:function e(t,n,i){n=i.value;return t+" BETWEEN "+this._quotStr(n[0])+" AND "+this._quotStr(n[1])},$dateRange:function e(t,n,i){n=i.value;var a=this._parseRange(n);if(a){var r={field:t,value:a[0],condition:"$gte"};var s={field:t,value:a[1],condition:"$lte"};return this._buildCondition(r)+" AND "+this._buildCondition(s)}return false}},byType:{tag:{$in:function e(t,n,i){n=i.value.join("|");return t+' REGEXP "^.*""name"":""('+n+')"".*$"'},$not_in:function e(t,n,i){var a=t+" ISNULL OR "+t+' REGEXP "^((?!';a+=_.map(i.value,function(e){return'""name"":""'+e+'""'}).join("|");a+=').)*$"';return a},$empty:function e(t){return t+'="[]" OR '+t+" ISNULL"},$not_empty:function e(t){return t+'!="[]" AND '+t+" NOTNULL"}},team_list:{$equals:function e(t,n){return'team_name LIKE "%""id"":""'+n+'""%"'},$not_equals:function e(t,n){return'team_name NOT LIKE "%""id"":""'+n+'""%"'}},json:{},email:{},teamset:{},metadata:{},multienum:{}}},customFilters:{$favorite:function e(){return{filter:{field:"my_favorite",condition:"$equals",value:1}}},$owner:function e(){return t.metadata.getModule(this._module,"fields").assigned_user_id?{sql:'"assigned_user_id"='+this._quotStr(t.user.get("id")),fields:["assigned_user_id"]}:false},$tracker:function e(n){var i=this._parseDate(n.value);return i?{sql:'id IN (SELECT bean_id FROM _view_dates WHERE bean_module="'+this._module+'" AND date_last_viewed>="'+t.utils.getTimestamp(i)+'")'}:false},$creator:function e(){return{filter:{field:"created_by",condition:"$equals",value:t.user.get("id")},fields:["created_by"]}},$following:function e(){return{filter:{field:"following",condition:"$equals",value:1}}}},getExtractedFields:function e(){return _.unique(this._filterFields)},buildSql:function e(t,n){var i=void 0;this._filterFields=[];i=this._buildSql(t,"");if(n&&n.omitParentheses&&i){i=i.replace(/^\(|\)$/g,"")}return i},_buildSql:function e(t,n,i){for(var a=0,r=t.length;a<r;a++){var s=t[a];var o=void 0;if(s.operator){o=e.call(this,s.filters,"",this.combiners[s.operator]);if(o){n+="("+o+")"}}else{o=this._buildCondition(s);if(o){n+=o}}if(o&&r-a>1){n+=i}else if(o===false){return false}}return n},_buildCondition:function e(t){var n=void 0;var a=void 0;n=this.customFilters[t.field];if(n){n=n.call(this,t);if(n===false){return false}else if(n.sql){var r;(r=this._filterFields).push.apply(r,i(n.fields||[]));return n.sql}else if(n.filter){t=n.filter}}var s=this._getCondition(t);if(!s){return false}var o=t,l=o.field,u=o.value;var c=this._getField(l);var d=this._getValue(u,l);if(!c){return false}if(l.indexOf(".")!==-1){return this._processLink(t)}if(_.isFunction(s)){a=s.call(this,c,d,{field:l,value:u})}else if(_.isString(s)){a=c+s+this._quotStr(d)}if(a){this._filterFields.push(l);return a}return false},_processLink:function e(i){var a=i.field;var r=a.split(".");var s=r[0];var o=t.offline.storage.getRelationshipByLink(this._module,s);var l=t.offline.storage.RelTypes;var u=function e(t){return new n(t).buildSql([{operator:"$and",filters:[{field:a,condition:"$equals",value:i.value}]}],{omitParentheses:true})};var c=void 0;var d=void 0;var f=void 0;var h=void 0;a=r[1];if(o.relationship_type===l.MANY_TO_MANY){h=t.offline.storage._wrapManyToManyRelationship(this._module,s);f=u(h.dataTable);if(f){d="SELECT lt."+h.parentKey+" FROM "+h.parentModule+" lt INNER JOIN "+h.relationshipTable+" jt ON lt."+h.parentKey+"="+("jt."+h.parentIdColumn+" INNER JOIN "+h.dataTable+" rt ON rt."+h.childKey+"=")+("jt."+h.childIdColumn);c=h.parentKey+" IN ("+d+" WHERE rt."+f+")"}}else if(o.relationship_type===l.ONE_TO_MANY){f=u(o.rhs_module);if(f){d="SELECT lt."+o.lhs_key+" FROM "+o.lhs_table+" lt INNER JOIN "+o.rhs_table+" rt ON lt."+o.lhs_key+"=rt."+o.rhs_key;c=o.lhs_key+" IN ("+d+" WHERE rt."+f+")"}}return c||false},_getCondition:function e(n){var i=n.condition;var a=this.conditions;var r=t.metadata.getModule(this._module).fields[n.field];var s=r&&r.type;return a.byType[s]?a.byType[s][i]:a.base[i]},_quotStr:function e(t){return'"'+t+'"'},_getValue:function e(n,i){return t.offline.storage._getValue(n,i,this._module,t.metadata.getModule(this._module).fields)},_getField:function e(t){var n=t;switch(t){case"date_modified":n="_client_date_modified";break}return n},_dateRanges:{yesterday:["days",-1,-1],today:["days",0,0],tomorrow:["days",1,1],last_7_days:["days",-6,0],next_7_days:["days",0,6],last_30_days:["days",-29,0],next_30_days:["days",0,29],next_month:["months",1,1],this_month:["months",0,0],last_month:["months",-1,0],last_year:["years",-1,0],this_year:["years",0,0],next_year:["years",1,1]},_parseRange:function e(n){var i=this._dateRanges[n];if(!i){return false}var a=i[0];var r=t.date.utc().add(i[1],a).startOf(a).toDate();var s=t.date.utc().add(i[2],a).endOf(a).toDate();return[t.utils.getTimestamp(r),t.utils.getTimestamp(s)]},_parseDate:function e(n){var i=t.date.utc();var a="month";var r=void 0;switch(n){case"first day of this month":r=i.startOf(a);break;case"first day of next month":r=i.add(1,"month").startOf(a);break;case"last day of this month":r=i.endOf("month");break;case"last day of next month":r=i.add(1,a).endOf(a);break}if(r){return r.toDate()}r=t.date.phpStrToTime(n);if(r){return new Date(r*1e3)}return false}});t.offline.SqlFilterBuilder=n})(SUGAR.App)},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}(function e(t){var n=["date_entered",["date_modified","my_favorite"],["assigned_user_id","date_modified"]];var a=function e(t){return t.replace(/'/g,"''")};var r=function e(t){return f.getSqlTypeByMetaType(t.type)===f.DEFAULT_TEXT_COLUMN_TYPE};var s=function e(t,n){if(_.isArray(n)){n=n.join("_")}return'"'+t+"_"+n+'_IDX"'};var o=function e(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var a=s(t,n);if(_.isArray(n)){n=""+n.join('" '+i+', "')}return"CREATE INDEX IF NOT EXISTS "+a+' ON "'+t+'"("'+n+'" '+i+")"};var l=function e(t,n){return"DROP INDEX IF EXISTS "+s(t,n)};var u=function e(i,a){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},s=r.dropExisting;if(!t.offline.isModuleOfflineEnabled(i)){return}var u=[];_.each(n,function(e){if(!_.isArray(e)){e=[e]}var t=_.all(e,function(e){return a.fields[e]});if(!t){return}e=_.map(e,function(e){return e==="date_modified"?"_client_date_modified":e});if(s){u.push(l(i,e))}u.push(o(i,e))});return u};var c=function e(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},a=i.dropExisting;var s=t.offline.storage.offlineMeta[n];var u=[];_.each(s.searchFields,function(e){var t=e.name;if(a){u.push(l(n,t))}u.push(o(n,t,r(e)?"COLLATE NOCASE":""))});return u};var d=function e(n){var i=[];var a=["created_by","modified_user_id","assigned_user_id"];var r=t.metadata.get();_.each(n,function(e){if(e.type===t.offline.storage.RelTypes.MANY_TO_MANY){return}var n=e.childModule;var s=e.parentIdColumn;if(r.modules[n]&&t.offline.isModuleOfflineEnabled(n)&&a.indexOf(s)===-1){var u=o(n,s);if(i.indexOf(u)===-1){i.push(l(n,s),u)}}});return i};var f=function e(t,n,i){this.name=t;this.definition=n;this._tableName=t;this.fields=i;var a=_.map(this.fields,function(e){return'"'+e.name+'"'});a.unshift('"id"','"_client_date_modified"','"_deleted"','"_acl"','"_erased_fields"');var r=_.map(a,function(e){return e+"=?"});var s="("+a.join(",")+")";var o="SET "+r.join(",");var l=[];_.times(a.length,function(){l.push("?")});var u="("+l.join(",")+")";this.sqlCreate='REPLACE INTO "'+this._tableName+'" '+s+" VALUES "+u;this.sqlReplace='REPLACE INTO "'+this._tableName+'" '+s+" VALUES "+u;this.sqlUpdate='REPLACE INTO "'+this._tableName+'" '+o+" WHERE id=?";this.sqlMarkDeleted="UPDATE "+this._tableName+" SET _deleted=1 WHERE id=?";this.sqlResetDeleted="UPDATE "+this._tableName+" SET _deleted=0 WHERE id=?";this.sqlSelectOne="SELECT * FROM "+this._tableName+" WHERE id=? AND _deleted=0";this.sqlSelectOneWithDeleted="SELECT * FROM "+this._tableName+" WHERE id=?"};_.extend(f.prototype,{buildSqlReadModuleRecordsByIds:function e(t,n){t='"'+(_.isArray(t)?t:[t]).join('","')+'"';n=_.isEmpty(n)?"*":'"'+n.join('","')+'"';return"SELECT "+n+' FROM "'+this._tableName+'" WHERE id IN ('+t+")"},getSchema:function e(n,i){var a=[];var r=[];r.push('"id" TEXT PRIMARY KEY COLLATE NOCASE','"_client_date_modified" TEXT COLLATE NOCASE','"_deleted" INTEGER DEFAULT 0','"_acl" TEXT COLLATE NOCASE','"_erased_fields" TEXT DEFAULT "'+JSON.stringify([])+'"');var s=function e(t,n){return'"'+t+'"'+n};_.each(this.fields,function e(n){if(_.isEmpty(n.name)){return}var a=f.getSqlTypeByMetaType(n.type);var o=s(n.name,a);if(_.contains(r,o)){t.logger.warn(o+" column already exists in "+this.name+" table. Skipping")}else{r.push(o);if(n.type==="email"&&!i.fields.email1){r.push(s("email1",a))}}},this);a.push('DROP TABLE IF EXISTS "'+this._tableName+'"');a.push('CREATE TABLE "'+this._tableName+'" ('+r.join(",")+")");a=a.concat(u(n,i,{dropExisting:true})).concat(c(n,{dropExisting:true}));return a},buildSqlSelectMany:function e(n){var i=n.offset||0;var a=n.max_num||t.config.maxQueryResult;var r=n.selectFields;var s=_.isEmpty(r)?"*":_.isArray(r)?r.join():r;var o=f.buildOrderBy(this.name,n);var l="SELECT {0} FROM {1} "+f.buildWhere(this.name,n,{andSql:"_deleted=0"})+" ORDER BY {4} LIMIT {2},{3}";return t.utils.formatString(l,[s,this._tableName,i,a,o])},buildSqlUpdate:function e(t,n){var i=_.map(n,function(e){return e+"=?"});var a="SET "+i.join(",");return'UPDATE "'+this._tableName+'" '+a+" WHERE id=?"},buildSqlDelete:function e(t){t=_.map(t,function(e){return"'"+e+"'"});return"DELETE FROM '"+this._tableName+"' WHERE id IN ("+t.join()+")"}});f.DEFAULT_TEXT_COLUMN_TYPE=" TEXT COLLATE NOCASE";f.getSqlTypeByMetaType=function e(t){var n=void 0;switch(t){case"bool":case"boolean":case"int":case"integer":n=" INTEGER";break;case"float":case"double":case"currency":n=" REAL";break;default:n=this.DEFAULT_TEXT_COLUMN_TYPE;break}return n};f.buildWhere=function e(n,i,a){var r=f.buildSearchQuery(n,i,a);var s=i.filter;var o=void 0;if(i.filterParsed&&i.filterParsed.isSupported){o=i.filterParsed.filterSql}else{s=t.offline.convertReadRecordsFilter(i,n);o=s&&s.isSupported?s.filterSql:""}var l=_.compact([o,r,a.andSql]).join(" AND ");return l?"WHERE "+l:""};f.buildSearchQuery=function e(n,i,s){if(!i.q){return""}var o=i.q.indexOf("?")!==-1||i.q.indexOf("*")!==-1;i.q=a(i.q.trim());var l=_.map(t.offline.storage.offlineMeta[n].searchFields,function(e){return o||r(e)?e.name+" "+(o?"GLOB":"LIKE")+" '"+(i.q+(o?"*":"%"))+"'":e.name+" ='"+i.q+"'"}).join(" OR ");return l?"("+l+")":""};f.buildFilterQuery=function e(n,i){if(!i){return}var a=new t.offline.SqlFilterBuilder(n);var r=a.buildSql(i);var s=a.getExtractedFields();return{sql:r,fields:s}};f.buildOrderBy=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!n.order_by){return"_client_date_modified DESC"}var i=n.order_by.replace(/\b(?!_client_)date_modified\b/g,"_client_date_modified").replace(/\bemail\b/g,"email1");var a=/\bname\b/g;if(a.test(i)){var r=t.metadata.getModule(e,"fields").name;var s=r.sort_on||r.sort_on2;if(r&&s){i=i.replace(a,s)}}return i.replace(/:/g," ")};f.relationships={getCreateSchemaStatements:function e(n){var a=[];var r=t.offline.storage.offlineMeta.modules;_.each(n,function e(n){if(n.type===t.offline.storage.RelTypes.MANY_TO_MANY){a.push(t.utils.formatString('DROP TABLE IF EXISTS "{0}"',[n.relationshipTable]));if(!(r[n.parentModule]&&r[n.childModule])){return}var i=[];var s=n.additionalColumns;if(!_.isEmpty(s)){_.each(s,function(e,n){i.push(t.utils.formatString('"{0}" TEXT COLLATE NOCASE',[n]))},this)}if(n.primaryFlagModule){i.push('"primary_flag" INTEGER DEFAULT 0')}var o='CREATE TABLE "{0}" ("{1}" TEXT COLLATE NOCASE, "{2}" TEXT COLLATE NOCASE, "_client_date_modified" TEXT COLLATE NOCASE, "_deleted" INTEGER DEFAULT 0,{3} PRIMARY KEY ("{1}","{2}"))';o=o.replace(/\{0\}/g,n.relationshipTable);o=o.replace(/\{1\}/g,n.parentIdColumn);o=o.replace(/\{2\}/g,n.childIdColumn);o=o.replace(/\{3\}/g,_.isEmpty(i)?"":i.join()+",");a.push(o)}},this);a.push.apply(a,i(d(n)));return a},_getRelColumnsAliasSql:function e(n){var i="";if(!_.isEmpty(n.additionalColumns)){i+=",";var a=[];_.each(n.additionalColumns,function(e,n){a.push(t.utils.formatString("r.{0} AS {1}",[n,e]))},this);i+=a.join(",")}return i},buildSqlSelectSingleRelated:function e(n,i){var a=t.offline.storage.getRelationshipByLink(n,i.link);var r=a.type;if(r===t.offline.storage.RelTypes.MANY_TO_MANY){var s=this._getRelColumnsAliasSql(a);var o=t.utils.formatString('SELECT d.*,r.*{0} FROM {1} AS d JOIN {2} AS r ON (d.id=r.{3} AND r.{5}="{6}") WHERE (d._deleted=0 AND r._deleted=0 AND d.id="{4}")',[s,i.relatedModule,a.relationshipTable,a.childIdColumn,i.relatedId,a.parentIdColumn,i.id]);if(a.singleModule){var l=t.utils.formatString('SELECT d.*,r.*{0} FROM {1} AS d JOIN {2} AS r ON (d.id=r.{3} AND r.{5}="{6}") WHERE (d._deleted=0 AND d.id="{4}")',[s,i.relatedModule,a.relationshipTable,a.parentIdColumn,i.relatedId,a.childIdColumn,i.id]);o=o+" UNION "+l}return o}return t.utils.formatString('SELECT * FROM {0} WHERE id="{1}" AND _deleted=0',[i.relatedModule,i.relatedId])},buildSqlSelectManyRelated:function e(n,i,a){var r=t.offline.storage.getRelationshipByLink(n,i.link);var s=t.offline.storage.RelTypes;var o=void 0;var l=void 0;if(r.type===s.MANY_TO_MANY){var u='(r._deleted=0 AND d._deleted=0 AND r.{4}="{5}")'+(i.relatedIds?' AND (d.id IN ("'+i.relatedIds.join('","')+'")) ':"");var c=this._getRelColumnsAliasSql(r);var d=f.buildWhere(r.childModule,a,{andSql:u});var h="SELECT d.*,r.*{6} FROM {0} AS r JOIN {1} AS d ON r.{2}=d.id "+d;l=r.parentModule;o=t.utils.formatString(h,[r.relationshipTable,l,r.childIdColumn,r.childIdColumn,r.parentIdColumn,i.id,c]);if(r.singleModule){l=r.childModule;var p=t.utils.formatString(h,[r.relationshipTable,l,r.parentIdColumn,r.childIdColumn,r.childIdColumn,i.id,c]);o+=" UNION "+p}}else if(r.type===s.ONE_TO_MANY||r.type===s.ONE_TO_MANY_BY_ROLE_COLUMN){var m="SELECT * FROM {0} ";var g='({1}="{2}" AND _deleted=0)'+(i.relatedIds?' AND (id IN ("'+i.relatedIds.join('","')+'")) ':"");var v="";_.each(r.roleColumns,function(e,t){v+='"'+t+'"="'+e+'" '});if(v){g+=" AND "+v}var b=f.buildWhere(r.childModule,a,{andSql:g});l=r.childModule;o=t.utils.formatString(m+b,[l,r.parentIdColumn,i.id])}if(!i.relatedIds){var y=a.offset||0;var x=a.max_num||t.config.maxQueryResult;var S=r.type===s.MANY_TO_MANY?f.buildOrderBy(l,a.order_by?a:{order_by:"d._client_date_modified:DESC, d._last_fetched:ASC"}):f.buildOrderBy(l,a);o+=" ORDER BY "+S+" LIMIT "+y+","+x}return o},buildSqlReplaceRelationship:function e(n,i,a){a=a||{};var r=i.relDef||t.offline.storage.getRelationshipByLink(n,i.link);var s=r.type;if(s===t.offline.storage.RelTypes.ONE_TO_MANY||s===t.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){if(!i.id||a.skipUpdateRelRecord){return}var o=a.ts?t.utils.formatString(', _client_date_modified="{0}"',[a.ts]):"";var l=r.parentNameFieldDef;if(l&&i.related&&_.isEmpty(i.related[l.name])){o+=t.utils.formatString(', {0}=(SELECT {1} FROM {2} WHERE id="{3}")',[l.name,"name",n,i.id]);if(_.isEmpty(i.related.parent_type)&&s===t.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){o+=t.utils.formatString(', parent_type="{0}"',[n])}}return t.utils.formatString('UPDATE {0} SET {1}="{2}"{3} WHERE id="{4}"',[r.childModule,r.parentIdColumn,i.id,o,i.relatedId])}var u='REPLACE INTO "{0}" ({1}) VALUES ({2})';var c=[];var d=void 0;d=[r.parentIdColumn,r.childIdColumn,"_client_date_modified","_deleted"];if(!i.id&&r){i.id=i.related[r.parentIdColumn]}if(!i.id){return}var f=[i.id,i.relatedId,a.ts||t.utils.getTimestamp(),0];_.each(r.additionalColumns,function(e,t){if(i.related&&!_.isEmpty(i.related[e])){d.push(t);f.push(i.related[e])}});if(r.primaryFlagModule){if(i.id){d.push("primary_flag");f.push(1);c.push({sql:t.utils.formatString('UPDATE "{0}" SET "{3}"={4} WHERE {1}="{2}"',[r.relationshipTable,r.childIdColumn,i.relatedId,"primary_flag","0"])})}}d='"'+d.join('","')+'"';f='"'+f.join('","')+'"';if(r.originalType===t.offline.storage.RelTypes.ONE_TO_MANY){c.push({sql:t.utils.formatString('DELETE FROM "{0}" WHERE {1}="{2}"',[r.relationshipTable,r.childIdColumn,i.relatedId])})}else if(r.originalType===t.offline.storage.RelTypes.ONE_TO_ONE){c.push({sql:t.utils.formatString('DELETE FROM "{0}" WHERE {1}="{2}"',[r.relationshipTable,r.parentIdColumn,i.id])})}c.push({sql:t.utils.formatString(u,[r.relationshipTable,d,f])});if(t.offline.storage._shouldCustomRelUpdateChild(r,a)){var h=r.primaryFlagModule?t.metadata.getModule(r.primaryFlagModule):null;var p=h?t.data.getRelateFields(r.primaryFlagModule,r.link)[0]:t.data.getRelateFields(r.childModule,r.name)[0];if(p){[].push.apply(c,this.buildCustomRelUpdateChild(p,r,i,false))}}return c},buildDeleteRelationship:function e(n,i,a){a=a||{};var r=i.relDef||t.offline.storage.getRelationshipByLink(n,i.link);var s=r.type;var o=void 0;if(s===t.offline.storage.RelTypes.ONE_TO_MANY||s===t.offline.storage.RelTypes.ONE_TO_MANY_BY_ROLE_COLUMN){if(a.skipUpdateRelRecord){return}var l=a.ts?',_client_date_modified="'+a.ts+'"':"";if(s===t.offline.storage.RelTypes.ONE_TO_MANY){var u=r.parentNameFieldDef;if(u){o="UPDATE {0} SET {1}=NULL, "+u.name+'=NULL {3} WHERE id="{2}"'}else{o='UPDATE {0} SET {1}=NULL {3} WHERE id="{2}"'}}else{o='UPDATE {0} SET parent_type=NULL, parent_name=NULL, {1}=NULL {3} WHERE id="{2}"'}return t.utils.formatString(o,[r.childModule,r.parentIdColumn,i.relatedId,l])}var c=[];if(!i.id&&r){i.id=i.related[r.parentIdColumn]||a.initialState&&a.initialState[r.parentIdColumn]}if(!i.id){return}if(r.singleModule){var d=void 0;if(a.hardDelete){o='DELETE FROM {0} WHERE (({1}="{2}" AND {3}="{4}") OR ({3}="{2}" AND {1}="{4}"))';d=o.replace(/\{0\}/g,r.relationshipTable).replace(/\{1\}/g,r.parentIdColumn).replace(/\{2\}/g,i.id).replace(/\{3\}/g,r.childIdColumn).replace(/\{4\}/g,i.relatedId)}else{o='UPDATE {0} SET _deleted=1,_client_date_modified="{5}" WHERE (({1}="{2}" AND {3}="{4}") OR ({3}="{2}" AND {1}="{4}"))';d=o.replace(/\{0\}/g,r.relationshipTable).replace(/\{1\}/g,r.parentIdColumn).replace(/\{2\}/g,i.id).replace(/\{3\}/g,r.childIdColumn).replace(/\{4\}/g,i.relatedId).replace(/\{5\}/g,a.ts||t.utils.getTimestamp())}return d}var f=r.primaryFlagModule?", primary_flag=0":"";o=a.hardDelete?'DELETE FROM {0} WHERE {1}="{2}" AND {3}="{4}"':"UPDATE {0} SET _deleted=1"+f+',_client_date_modified="{5}" WHERE {1}="{2}" AND {3}="{4}"';c.push({sql:t.utils.formatString(o,[r.relationshipTable,r.parentIdColumn,i.id,r.childIdColumn,i.relatedId,a.ts||t.utils.getTimestamp()])});if(r.primaryFlagModule){c.push({sql:'UPDATE {0} SET primary_flag=1 WHERE {1}="{2}" AND _client_date_modified=(SELECT MAX(_client_date_modified) FROM {0} WHERE {1}="{2}" AND _deleted=0)'.replace(/\{0\}/g,r.relationshipTable).replace(/\{1\}/g,r.childIdColumn).replace(/\{2\}/g,i.relatedId)})}if(t.offline.storage._shouldCustomRelUpdateChild(r,a)){var h=r.primaryFlagModule?t.data.getRelateFields(r.primaryFlagModule,r.link)[0]:t.data.getRelateFields(r.childModule,r.name)[0];if(h){[].push.apply(c,this.buildCustomRelUpdateChild(h,r,i,true))}}return c},buildCustomRelUpdateChild:function e(n,i,a,r){var s=i.originalType===t.offline.storage.RelTypes.ONE_TO_ONE;var o=void 0;var l=void 0;var u=void 0;var c=void 0;var d=void 0;var f=void 0;var h=void 0;var p=[];if(s){o=i.parentIdColumn;l=i.childIdColumn;u=i.childModule;c=i.parentModule;d=r?"":a.relatedId;f=a.id}else{o=i.childIdColumn;l=a.relatedModule?i.parentIdColumn:i.childIdColumn;u=i.parentModule;c=i.childModule;d=r?"":a.id;f=a.relatedId}h=r?"''":t.utils.formatString("(SELECT name FROM {0} WHERE id='{1}')",[c,d]);var m="UPDATE {0} SET {1}={2}, {3}='{4}' WHERE id='{5}'";if(s&&!r){var _="(SELECT {0} FROM {1} WHERE id='{2}')";var g="UPDATE {0} SET {1}={2}, {3}='{4}' WHERE id={5}";var v=t.utils.formatString(_,[l,u,f]);var b=t.utils.formatString(_,[o,c,d]);var y=t.utils.formatString(_,["name",c,d]);p.push({sql:t.utils.formatString(g,[c,n.name,"''",o,"",v])});p.push({sql:t.utils.formatString(g,[u,n.name,"''",l,"",b])});p.push({sql:t.utils.formatString(m,[u,n.name,y,l,d,f])})}else if(i.primaryFlagModule){d=t.utils.formatString('(SELECT {0} FROM {1} WHERE {2}="{3}" AND primary_flag=1 AND _deleted=0)',[l,i.relationshipTable,i.childIdColumn,a.relatedId]);h=t.utils.formatString("(SELECT name FROM {0} WHERE id={1})",[n.module,d]);var x="UPDATE {0} SET {1}={2} WHERE id='{3}'";var S="UPDATE {0} SET {1}={2} WHERE id='{3}' AND {4}";var w=t.utils.formatString("EXISTS (SELECT id FROM {0} WHERE id={1})",[c,d]);p.push({sql:t.utils.formatString(S,[u,n.name,h,f,w])});p.push({sql:t.utils.formatString(x,[u,l,d,f])})}else{p.push({sql:t.utils.formatString(m,[u,n.name,h,l,d,f])})}return p},buildSqlUpdateChildren:function e(n,i){var r=[];var s=t.offline.storage._getModuleRelationships(n);var o=_.filter(s,function(e){return e.type!==t.offline.storage.RelTypes.MANY_TO_MANY&&e.parentModule===n},this);_.each(o,function(e){if(e.parentNameFieldDef){r.push(t.utils.formatString("UPDATE {0} SET {1}='{2}' WHERE {3}='{4}'",[e.childModule,e.parentNameFieldDef.name,a(i.name),e.parentIdColumn,i.id]))}},this);if(t.supportedFeatures.emails){r.push('UPDATE EmailParticipants SET parent_name="'+a(i.name)+'" WHERE parent_id="'+i.id+'"')}return r.length>0?r:null},buildSqlCleanRelationships:function e(n,i,a){a=a||{};var r={};var s=[];var o=void 0;var l=void 0;var u=t.offline.storage._getModuleRelationships(n);_.each(u,function(e){if(e.type===t.offline.storage.RelTypes.MANY_TO_MANY){var u=e.relationshipTable;o=e.parentIdColumn;s.push(t.utils.formatString('DELETE FROM {0} WHERE {1}="{2}"',[u,o,i.id]))}else{if(a.skipOneToManyChildren){return}if(e.parentModule===n){var c=e.childModule;o=e.parentIdColumn;l=t.metadata.getModule(c);if(l.fields[o]){r[c]=r[c]||{};r[c][o]="parent_id"}}}},this);_.each(r,function(e,n){var i=t.metadata.getModule(n).fields;_.each(e,function(i,a){var r=t.data.getRelatedNameField(n,a);if(r){e[r.name]="parent_name"}});var a=_.keys(e);if(_.contains(a,"parent_id")&&_.contains(a,"parent_name")&&i.parent_type){e.parent_type="parent_type"}});_.each(r,function(e,n){var a=[];var r=[];var o="UPDATE {0} SET {1} WHERE {2}";_.each(e,function(e,t){a.push(t+"=NULL");if(e==="parent_id"){r.push(t+'="'+i.id+'"')}});a=a.join(",");r=r.join(" OR ");s.push(t.utils.formatString(o,[n,a,r]))});return s}};f.init=function(e){};f.getDropTableStatement=function(e){return'DROP TABLE "'+e+'"'};f.getSelectTablesStatement=function(){return"SELECT tbl_name FROM sqlite_master WHERE type='table' AND tbl_name<>'__WebKitDatabaseInfoTable__'"};f.getDropTableStatements=function(e){return _.map(e,function(e){return f.getDropTableStatement(e)})};f.getAlterTableStatement=function(e,n){var i=n.name;var a=f.getSqlTypeByMetaType(n.type);return t.utils.formatString('ALTER TABLE {0} ADD COLUMN "{1}" {2}',[e,i,a])};f.getResetDateModifiedStatement=function(e,n){return t.utils.formatString('UPDATE {0} SET _client_date_modified=date_modified WHERE id="{1}"',[e,n.id])};f.getStatsRetrieveStatements=function(e){var t="(SELECT COUNT(*) FROM {0}) AS {0}"+(e.includeRecents?",(SELECT COUNT(*) FROM {0} JOIN _view_dates ON {0}.id=_view_dates.bean_id) AS {0}_Viewed":"");var n=_.map(e.modules,function(e){return t.replace(/\{0\}/g,e)});return"SELECT "+n.join(", ")};f.transactionLog={getCreateSchemaStatements:function e(){var t=[];t.push('DROP TABLE IF EXISTS "_tx_log"');t.push('CREATE TABLE "_tx_log" ("_tx_uid" TEXT COLLATE NOCASE PRIMARY KEY, "_tx_action" INTEGER, "_tx_ts" TEXT COLLATE NOCASE, "_tx_bean_id" TEXT COLLATE NOCASE,"_tx_bean_module" TEXT COLLATE NOCASE, "_tx_related_id" TEXT COLLATE NOCASE, "_tx_related_module" TEXT COLLATE NOCASE, "_tx_updated_fields" TEXT COLLATE NOCASE, "_tx_link" TEXT COLLATE NOCASE, "_tx_error" TEXT COLLATE NOCASE, "_tx_error_count" INTEGER DEFAULT 0)');t.push("DROP INDEX IF EXISTS _tx_log_ts_IDX");t.push('CREATE INDEX _tx_log_ts_IDX ON "_tx_log" ("_tx_ts")');t.push("DROP INDEX IF EXISTS _tx_log_bean_id_IDX");t.push('CREATE INDEX _tx_log_bean_id_IDX ON "_tx_log" ("_tx_bean_id" COLLATE NOCASE)');return t},getCountAssociatedTransactionsStatements:function e(n){return t.utils.formatString('SELECT COUNT(*) AS count FROM _tx_log WHERE _tx_bean_id="{0}" AND _tx_uid!="{1}"',[n._tx_bean_id,n._tx_uid])},getReadTransactionsStatements:function e(n){var i="ORDER BY ";if(n.errFirst){i+='"_tx_error_count" = 0, '}i+='"_tx_ts" '+(n.dateAsc?"ASC":"DESC");return t.utils.formatString('SELECT * FROM "_tx_log" {0} LIMIT ?,?',[i])},sqlTxLogAction:'INSERT INTO "_tx_log" ("_tx_action", "_tx_ts", "_tx_bean_id", "_tx_bean_module", "_tx_related_id", "_tx_related_module", "_tx_updated_fields", "_tx_uid", "_tx_link") VALUES (?,?,?,?,?,?,?,?,?)',updateTransaction:function e(n,i){var a=[];_.each(i,function(e,t){a.push(t+"='"+e+"'")});return t.utils.formatString("UPDATE _tx_log SET "+a.join(",")+" WHERE _tx_uid='{0}'",[n])},getTxLog:'SELECT * FROM "_tx_log" WHERE _tx_uid = ?',_deleteTransaction:"DELETE FROM _tx_log WHERE _tx_uid = ?",clearTransactionLog:"DELETE FROM _tx_log",countTransactions:"SELECT (SELECT COUNT(*) FROM _tx_log WHERE _tx_error in ("+t.offline.TransactionStatuses.UNRECOVERABLE.join(",")+")) AS failedTransactions, (SELECT COUNT(*) FROM _tx_log) AS totalTransactions"};f.lastViewed={buildRead:function e(t){return'SELECT * FROM "_view_dates" ORDER BY "date_last_viewed"'+(t?"":"DESC")+" LIMIT ?"},buildReadForRecords:function e(t){return'SELECT * FROM "_view_dates" WHERE "bean_id" IN ("'+t.join('","')+'")'},buildReadForModule:function e(t){return'SELECT "'+t+'".*, "_view_dates"."date_last_viewed" as "_last_viewed_date" FROM "'+t+'" INNER JOIN "_view_dates" ON "_view_dates"."bean_id" = "'+t+'"."id" WHERE _deleted=0 ORDER BY "_view_dates"."date_last_viewed" DESC LIMIT ?'},getCreateSchemaStatements:function e(){var t=[];t.push('DROP TABLE IF EXISTS "_view_dates"');t.push('CREATE TABLE "_view_dates" ("bean_id" TEXT COLLATE NOCASE PRIMARY KEY, "bean_module" TEXT COLLATE NOCASE, "date_last_viewed" TEXT COLLATE NOCASE)');return t},buildReplace:function e(n,i,a){var r=a.ts||t.utils.getTimestamp();var s=_.isArray(i)?_.map(i,function(e){return'("'+e.id+'","'+e.module+'","'+(e.ts||r)+'")'}).join():'("'+i.id+'","'+n+'","'+r+'")';return'REPLACE INTO "_view_dates" ("bean_id","bean_module", "date_last_viewed") VALUES '+s},buildDelete:function e(t){t=_.map(t,function(e){return"'"+e.id+"'"});return"DELETE FROM _view_dates WHERE bean_id IN ("+t.join()+")"},buildFindViewedBefore:function e(n,i){var a=i.expirationDate,r=i.includeUserRecords,s=i.limit;var o=t.user.get("id");var l="SELECT name, id"+(" FROM "+n+" AS d LEFT JOIN _view_dates AS v on d.id=v.bean_id");if(a){l+=' WHERE (v.date_last_viewed IS NULL OR v.date_last_viewed < "'+a+'")'}if(!r){l+=" AND my_favorite = 0"+" AND following = 0"+(' AND assigned_user_id <> "'+o+'"')}l+=" ORDER BY v.date_last_viewed ASC";if(s){l+=" LIMIT "+s}return l},buildCleanupMyModule:function e(n){return t.utils.formatString('DELETE FROM _view_dates WHERE bean_module="{0}"',[n])}};f.sync={getCreateSchemaStatements:function e(){var t=[];t.push('DROP TABLE IF EXISTS "_to_be_synced"');t.push('CREATE TABLE "_to_be_synced" ("bean_id" TEXT COLLATE NOCASE PRIMARY KEY, "bean_module" TEXT COLLATE NOCASE, "action" TEXT COLLATE NOCASE)');return t},getMarkToBeSyncedSql:function e(n,i){return t.utils.formatString('REPLACE INTO "_to_be_synced" ("bean_id","bean_module", "action") VALUES ("{0}","{1}","{2}")',[i.record.id,n,i.action])},getResetToBeSyncedSql:function e(t,n){var i=_.pluck(n.records,"id");return'DELETE FROM "_to_be_synced" WHERE "bean_id" IN ("'+i.join('","')+'")'},getReadToBeSyncedSql:function e(n,i,a){var r=t.utils.formatString('SELECT * FROM "_to_be_synced" WHERE bean_module="{0}" ORDER BY bean_id',[n]);if(!_.isUndefined(a.offset)){r+=t.utils.formatString(" LIMIT {0},{1}",[a.offset,a.max_num])}return r}};f.upgrade={getUpgrade1Sql:function e(n){var i=[];_.each(n.relationships,function(e){if(e.primary_flag_column){i.push(t.utils.formatString('ALTER TABLE {0} ADD COLUMN "primary_flag" INTEGER DEFAULT 0',[e.join_table]))}});Array.prototype.push.apply(i,f.sync.getCreateSchemaStatements());return i},getUpgrade3Sql:function e(n){var a=[];var s=function e(n,i){a.push(l(i,"date_modified"));var s=_.pluck(t.offline.storage.offlineMeta[i].searchFields,"name");_.each(n.fields,function(e){if(!e){return}var t=false;if(e.unified_search){t=!(_.contains(s,e.name)&&r(e))}if(e.name==="name"&&!_.contains(s,"name")){t=true}if(t){a.push(l(i,e.name))}})};_.each(n.modules,function(e,t){s(e,t);a.push.apply(a,i(u(t,e)));a.push.apply(a,i(c(t)))});a.push.apply(a,i(d(t.offline.storage.offlineMeta.relationships)));a.push("ANALYZE");return a},getUpgrade4Sql:function e(t){var n=JSON.stringify([]);var i=[];_.each(t.modules,function(e,t){i.push("ALTER TABLE "+t+' ADD COLUMN "_erased_fields" TEXT DEFAULT "'+n+'"',"UPDATE "+t+' SET _erased_fields="'+n+'"')});return i}};f.cleanUp={EmailParticipants:{unlinkedRecords:function e(t){var n="SELECT id FROM EmailParticipants WHERE email_id IS NULL OR email_id NOT IN (SELECT id FROM Emails)";if(t.limit){n+=" LIMIT "+t.limit}return n}}};t.offline.SqlHelper=f})(SUGAR.App)},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}(function e(t){var n={};var a={};var r=void 0;var s=["email","teamset","multienum","metadata","json","tag"];var o=_.chain(["id","date","datetime","datetimecombo"]).union(s).without("email").value();var l=void 0;var u=function e(){l={};var n=t.metadata.getModules();_.each(n,function(e,t){var n=_.filter(e.fields,function(e){return e.type==="bool"});if(!_.isEmpty(n)){l[t]=_.pluck(n,"name")}})};var c=function e(t,n){_.each(t,function(e){var t=l[n];if(t){_.each(t,function(t){if(!_.isUndefined(e[t])){e[t]=Boolean(e[t])}})}})};var d=function e(t){return _.any(t,function(t){return _.isArray(t.sql)?e(t.sql):/^\s*(UPDATE|INSERT|REPLACE)/i.test(t.sql)})};var f=function e(t){return _.isEmpty(t)||_.isEmpty(t.fields)&&_.isEqual(_.keys(t),["fields"])};var h=function e(n,i){if(n.code===4){return t.offline.Error.OutOfSpaceError}return new t.offline.Error(n.code,n.message,null,n,i)};var p=function e(n,i,r,s){var o=s[i];if(i==="_acl"){n=f(n)?null:JSON.stringify(n)}else if(i==="_deleted"){n=n==1?1:0}else if(_.isUndefined(n)){n=null}else if(_.isBoolean(n)){n=n?1:0}else if(_.contains(a[r],i)){n=JSON.stringify(n)}else if(i==="_client_date_modified"||n&&o&&(o.type==="datetime"||o.type==="datetimecombo")&&!isNaN(Date.parse(n))){n=t.utils.getTimestamp(n)}if(o&&(n||n===0)&&t.offline.SqlHelper.getSqlTypeByMetaType(o.type)===t.offline.SqlHelper.DEFAULT_TEXT_COLUMN_TYPE){n=String(n)}return n};var m=function e(i,a){var r=[a.id,a._client_date_modified?t.utils.getTimestamp(a._client_date_modified):undefined,a._deleted==1?1:0,f(a._acl)?null:JSON.stringify(a._acl),JSON.stringify(a._erased_fields||[])];var s=t.metadata.getModule(i).fields;_.each(n[i].fields,function(e){r.push(p(a[e.name],e.name,i,s))});return r};_.extend(t.offline.storage,{_version:"5.0",_getValues:m,_getValue:p,_init:function e(){n={};a={};t.offline.SqlHelper.init(this.offlineMeta);_.each(this.offlineMeta.modules,function e(i,r){n[r]=new t.offline.SqlHelper(r,i,this.offlineMeta[r].fields);a[r]=["_erased_fields"];_.each(i.fields,function(e){if(_.contains(s,e.type)){a[r].push(e.name)}})},this);u()},convertFilter:function e(n,i){return t.offline.SqlHelper.buildFilterQuery(n,i)},getSqlStorageVersion:function e(){return this._version},openDb:function e(n,i,a){if(this.__db){return this.__db}this._db=this._openDb(n,i,a);if(this._db){r=n}else{throw new Error("`openDatabase` returned nothing")}t.logger.debug("Opened database "+n+" "+i+" ("+a+" bytes)");return this._db},_openDb:function e(n,i,a){if(t.config.offline.storageAdapter==="native"){return window.sqlitePlugin.openDatabase({name:n,bgType:1,encrypt:t.config.offline.dbEncryptionEnabled})}return window.openDatabase(n,i,n,a)},migrate:function e(i,a){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s=this;var o=[];var l=false;var u=false;var c=false;var d=_.isObject(a)?a:{modules:{},relationships:{},serverInfo:{}};var f=t.offline.storage.basicOfflineFields.map(function(e){return e.name});s.init(i);if(r.forceDrop||_.isEmpty(a)||d._userId!==t.user.get("id")||i.relationships._hash!==d.relationships._hash||d.siteUrl!==t.utils.stripHttpPrefix(t.config.siteUrl)){l=true;u=true;c=true;s._migrationSummary={storageRebuilt:true};_.each(i.modules,function(e,i){if(t.offline.isModuleOfflineEnabled(i)){o.push(n[i].getSchema(i,e))}})}else if(i._hash!==d._hash||r.isModulesConfigChanged){var h=_.filter(_.keys(d.modules),function(e){return t.offline.isModuleOfflineEnabled(e)});var p=_.filter(_.keys(i.modules),function(e){return t.offline.isModuleOfflineEnabled(e)});var m=[];var g=[];_.each(h,function(e){if(!_.contains(p,e)){m.push(e);o.push(t.offline.SqlHelper.getDropTableStatement(e));o.push(t.offline.SqlHelper.lastViewed.buildCleanupMyModule(e));l=true}},this);_.each(p,function(e){if(!_.contains(h,e)){g.push(e);o.push(n[e].getSchema(e,i.modules[e]));l=true}},this);_.each(i.modules,function(e,n){if(_.contains(g,n)){return}if(d.modules[n]._hash!==e._hash&&e.fields._hash!==d.modules[n].fields._hash){var a=_.difference(_.keys(i.modules[n].fields),_.keys(d.modules[n].fields));_.each(a,function(e){var a=i.modules[n].fields[e];if(_.isEmpty(a.name)){return}if(f.indexOf(a.name)!==-1){return}o.push(t.offline.SqlHelper.getAlterTableStatement(n,a))})}},this)}if(l){t.offline.storage.prepareOfflineRelationships(i.relationships);o.push(t.offline.SqlHelper.relationships.getCreateSchemaStatements(this.offlineMeta.relationships))}if(u){o.push(t.offline.SqlHelper.transactionLog.getCreateSchemaStatements())}if(c){o.push(t.offline.SqlHelper.lastViewed.getCreateSchemaStatements())}o.push(t.offline.SqlHelper.sync.getCreateSchemaStatements());if(o.length===0){t.logger.debug("No actual migration required");return r.success()}this._execRawStatements(_.flatten(o),function(){if(r.success){r.success()}},function(e){if(r.error){r.error(e)}})},isEncryptionSupported:function e(){return _.isFunction(this._db.encrypt)},encrypt:function e(t,n){this._db.encrypt(t,n)},_upgrade:{1:t.offline.SqlHelper.upgrade.getUpgrade1Sql,3:t.offline.SqlHelper.upgrade.getUpgrade3Sql,4:t.offline.SqlHelper.upgrade.getUpgrade4Sql},_runUpgrade:function e(t,n,i){this._execRawStatements(t,n,i)},_execRawStatements:function e(n,i,a){this._db.transaction(function(e){_.each(n,function(n){t.logger.trace(n);e.executeSql(n)})},function(e){if(e.code===0){e.code=5}if(a){a(h(e),{transactionSql:n})}},i)},_exec:function e(n,a,r){var s=[];var o=[];var l=void 0;var u=this;_.each(n,function(e){var t=_.clone(e.data);var n=_.clone(e.options);var i=u._sqlHandlers[e.op](e.module,t,n);if(!i){return}if(!i.module&&e.options){if(e.options.relate&&e.op!=="readSingle"){i.module=e.data.relatedModule}else{i.module=e.module}}if(e.module){l=e.module}o.push(i)});if(t.config.offline.debug.outOfSpace&&d(o)){_.defer(function(){if(r){r(h({code:4},{transactionSql:o}))}});return}this._db.transaction(function(e){_.each(o,function(a,r){var o=function a(o){t.logger.trace("Executing SQL: "+o.sql);t.logger.trace("Params: "+(o.params?o.params:"(no params)"));e.executeSql(o.sql,o.params,function(e,t){t=t?u._recordSetToArray(t,o.module||l):[];if(o.module){t=_.map(t,function(e){e._module=o.module;return e})}var a=n[r]&&n[r].op;if(a==="readSingle"||a==="readSingleRelated"){c(t,o.module)}s=[].concat(i(s),i(t||[]))})};if(_.isArray(a.sql)){_.each(a.sql,o)}else{o(a)}})},function(e){if(r){r(h(e,{transactionSql:o}))}},function(){if(s.length===1){s=s[0]}else if(s.length===0){s=null}a(s)})},_isOutOfSpace:function e(n){var i=this;if(t.config.offline.debug.outOfSpace){_.defer(n,true);return}this._db.transaction(function(e){var t=i._sqlHandlers.updateTransaction("Module",{txLog:{_tx_uid:"tx_id",_tx_error_count:0}});t.sql+=" AND 1 <> 1";e.executeSql(t.sql,t.params)},function(e){n(e.code===4)},function(){n(false)})},drop:function e(n){var i=this;this._db.transaction(function(e){e.executeSql(t.offline.SqlHelper.getSelectTablesStatement(),null,function(e,n){var a=t.offline.SqlHelper.getDropTableStatements(_.map(i._recordSetToArray(n),function(e){return e.tbl_name}));_.each(a,function(t){e.executeSql(t)})})},function(e){if(n){n(h(e))}},function(){if(n){n()}})},_sqlHandlers:{readSingle:function e(t,i,a){a=a||{};return n[t]?{sql:a.readDeleted?n[t].sqlSelectOneWithDeleted:n[t].sqlSelectOne,params:[i.id]}:null},search:function e(t,i,a){var r=a.module_list.split(",");var s=[];_.each(r,function(e){s.push({sql:n[e].buildSqlSelectMany(a),params:null,module:e})});return{sql:s}},readSingleRelated:function e(n,i){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return{sql:t.offline.SqlHelper.relationships.buildSqlSelectSingleRelated(n,i,a),params:null}},readMany:function e(t,i,a){return{sql:n[t].buildSqlSelectMany(a),params:null}},readManyRelated:function e(n,i,a){return{sql:t.offline.SqlHelper.relationships.buildSqlSelectManyRelated(n,i,a),params:null}},readModuleRecords:function e(t,i){return n[t]?{sql:n[t].buildSqlReadModuleRecordsByIds(i.id,i.fields),params:null}:null},createSingle:function e(a,r,s){r.id=r.id||t.utils.generateUUID();var o=m(a,r);var l=[];var u=this.updateRelationships(a,r,s);l.push({sql:n[a].sqlCreate,params:o});if(!_.isEmpty(u)){l=[].concat(i(l),i(u))}return{sql:l}},resetDateModified:function e(i,a){return n[i]?{sql:t.offline.SqlHelper.getResetDateModifiedStatement(i,a)}:null},updateValuesSingle:function e(a,r,s){s=s||{};if(_.isEmpty(r.id)){t.error.throwErrorWithCallStack("Undefined id passed to updateValuesSingle")}if(_.isUndefined(n[a])){return null}var o=["id","_client_date_modified","_acl","_erased_fields"];_.each(n[a]?n[a].fields:[],function(e){o.push(e.name)});r=_.pick(r,o);var l=[];var u=[];var c=r,d=c.id;var f=[];var h=t.metadata.getModule(a).fields;var m=this.updateRelationships(a,r,s);var g=r.name;var v=_.getNested(s,"initialState.name",g);var b=g&&s.updateRelatedNames!==false&&g!==v;if(b){var y=t.offline.SqlHelper.relationships.buildSqlUpdateChildren(a,r);if(y){_.each(y,function(e){f.push({sql:e,params:null})})}}if(!_.isEmpty(m)){f=[].concat(i(f),i(m))}delete r.id;delete r._module;delete r._search;if(_.isEmpty(r)){return null}_.each(r,function(e,t){u.push(t);l.push(p(e,t,a,h))});l.push(d);f.push({sql:n[a].buildSqlUpdate(d,u),params:l});return{sql:f}},updateRelationships:function e(n,i,a){var r=[];var s=t.metadata.getModule(n).fields;var o={};_.each(i,function(e,n){if(s[n]&&s[n].link&&s[s[n].link]){var i=t.metadata.getRelationship(s[s[n].link].relationship);if(i&&!o[i.name]){o[i.name]=i;o[i.name].create=Boolean(e)}}});_.each(o,function(e){var s=e.create?t.offline.SqlHelper.relationships.buildSqlReplaceRelationship:t.offline.SqlHelper.relationships.buildDeleteRelationship;var o=e.rhs_module===n?e.lhs_module:e.rhs_module;var l=t.offline.storage.offlineMeta.relationships[e.name];if(!l){return false}var u=s.call(t.offline.SqlHelper.relationships,o,{related:i,relatedId:i.id,relatedModule:n,relDef:l},_.extend({},a,{skipUpdateRelRecord:true}));if(u&&!_.isArray(u)){u=[{sql:u}]}if(!_.isEmpty(u)){_.each(u,function(e){r.push({sql:e.sql,params:null})})}},this);return r},hardDelete:function e(i,a){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s=[];var o=[];a=_.isArray(a)?a:[a];if(!r.skipRelationshipsClean){o=_.reduce(a,function(e,n){return e.concat(_.map(t.offline.SqlHelper.relationships.buildSqlCleanRelationships(i,n,r),function(e){return{sql:e}}))},[])}var l=_.pluck(a,"id");var u=s.concat({sql:n[i].buildSqlDelete(l)},o);return{sql:u}},softDeleteSingle:function e(t,i){return{sql:n[t].sqlMarkDeleted,params:[i.id]}},resetDeletedSingle:function e(t,i){return n[t]?{sql:n[t].sqlResetDeleted,params:[i.id]}:null},createLink:function e(i,a,r){return n[i]?{sql:t.offline.SqlHelper.relationships.buildSqlReplaceRelationship(i,a,r),params:null}:null},deleteLink:function e(i,a,r){return n[i]?{sql:t.offline.SqlHelper.relationships.buildDeleteRelationship(i,a,r),params:null}:null},readTransactions:function e(n,i,a){if(i&&i.id){return{sql:t.offline.SqlHelper.transactionLog.getTxLog,params:[i.id]}}var r=[{sql:t.offline.SqlHelper.transactionLog.getReadTransactionsStatements(a),params:[a.offset||0,a.limit]}];if(a.count){r.push({sql:t.offline.SqlHelper.transactionLog.countTransactions})}return{sql:r}},readToBeSynced:function e(n,i,a){return{sql:t.offline.SqlHelper.sync.getReadToBeSyncedSql(n,i,a),params:null}},markToBeSynced:function e(n,i,a){return{sql:t.offline.SqlHelper.sync.getMarkToBeSyncedSql(n,i,a),params:null}},resetToBeSynced:function e(n,i,a){return{sql:t.offline.SqlHelper.sync.getResetToBeSyncedSql(n,i,a),params:null}},createTransaction:function e(n,i,a){return{sql:t.offline.SqlHelper.transactionLog.sqlTxLogAction,params:t.offline.storage.getCUTransactionParams(n,i,a)}},updateTransaction:function e(n,i,a){var r=void 0;var s=i.txLog;var o=["_tx_updated_fields","_tx_error","_tx_error_count","_tx_ts"];if(a&&a.initialState){r=t.offline.storage.getCUTransactionParams(n,i.updatedFields,{action:s._tx_action,txId:s._tx_uid,initialState:a.initialState,relate:a.relate});s._tx_updated_fields=r[6]}return{sql:t.offline.SqlHelper.transactionLog.updateTransaction(s._tx_uid,_.pick(s,o))}},deleteTransaction:function e(n,i,a){return{sql:t.offline.SqlHelper.transactionLog._deleteTransaction,params:[a.txId]}},clearTransactionLog:function e(){return{sql:t.offline.SqlHelper.transactionLog.clearTransactionLog}},countAssociatedTransactions:function e(n,i,a){return{sql:t.offline.SqlHelper.transactionLog.getCountAssociatedTransactionsStatements(a.txData)}},countTransactions:function e(){return{sql:t.offline.SqlHelper.transactionLog.countTransactions}},readLastViewed:function e(n,i,a){if(a.ids){return{sql:t.offline.SqlHelper.lastViewed.buildReadForRecords(a.ids)}}return{sql:t.offline.SqlHelper.lastViewed.buildRead(a.desc),params:[a.max_num]}},readRecents:function e(n,i,a){return{sql:t.offline.SqlHelper.lastViewed.buildReadForModule(n),params:[a.max_num]}},updateLastViewed:function e(n,i,a){return{sql:t.offline.SqlHelper.lastViewed.buildReplace(n,i,a)}},deleteLastViewed:function e(n,i,a){i=_.isArray(i)?i:[i];return{sql:t.offline.SqlHelper.lastViewed.buildDelete(i)}},findViewedBefore:function e(n,i,a){return{sql:t.offline.SqlHelper.lastViewed.buildFindViewedBefore(n,a)}},findUnlinkedEmailParticipants:function e(n,i,a){var r=t.offline.SqlHelper.cleanUp;return{sql:r.EmailParticipants.unlinkedRecords(a)}},getStats:function e(n,i,a){return{sql:t.offline.SqlHelper.getStatsRetrieveStatements(a)}}},_deserialize:function e(t,n){var i=_.clone(t);_.each(i,function(e,t){if(_.isString(e)&&e&&_.contains(a[n],t)){i[t]=JSON.parse(e)}});if(i._acl){i._acl=JSON.parse(i._acl)}return i},_recordSetToArray:function e(t,n){var i=[];if(t){for(var a=0;a<t.rows.length;a++){i.push(this._deserialize(t.rows.item(a),n))}}return i},getDetails:function e(){var n=t.offline.storage.getDetails;return function e(){return _.extend(n(),{dbName:r})}}(),getOfflineModuleSearchFields:function(){var e=t.offline.storage.getOfflineModuleSearchFields;return function n(i,a){var r=e.call(this,i,a);if(r.length){var s=void 0;r=_.filter(r,function(e){if(e.type==="email"){a=a||t.metadata.get();s=a.modules[i].fields.email1;return false}return!_.contains(o,e.type)});if(s){r.push(s)}}return r}}()})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){t.offline.TxLogSyncExecutor=t.offline.SyncExecutor.extend({SYNC_ITERATION_COMPLETE_MESSAGE:"sync_iteration_complete",_immediateStop:false,_getBeanStub:function e(t){return{id:t._tx_bean_id,module:t._tx_bean_module,related_id:t._tx_related_id,related_module:t._tx_related_module}},_sync:function e(n){var i=this;var a=function e(a){t.logger.debug("TxLogSync completed");if(a===i.SYNC_ITERATION_COMPLETE_MESSAGE){a=null}n(a)};var r=function e(){if(i._immediateStop){i._immediateStop=false;t.logger.debug("TxLogSync interrupted");return a()}i._syncOldestTransaction(function(t){if(t){a(t)}else{e()}})};r()},_syncOldestTransaction:function e(n){var i=this;t.offline.storage.readTransactions({limit:1,dateAsc:true,error:n,success:function e(a){if(!a){return n(i.SYNC_ITERATION_COMPLETE_MESSAGE)}var r=i._getBeanStub(a);t.offline.storage.readSingleRawRecord(r.module,r,{success:function e(s){s=s||{};var o=a._tx_updated_fields?JSON.parse(a._tx_updated_fields):{};var l={};if(a._tx_action!==t.offline.SyncActions.LINK&&a._tx_action!==t.offline.SyncActions.UNLINK){_.each(o,function(e,t){l[t]=e.after});if(a._tx_action!==t.offline.SyncActions.CREATE){l.date_modified=s.date_modified||t.utils.getTimestamp()}l.id=s.id||r.id}i._handleSyncTransaction(a,n,l);l={}},error:n})}})},_handleSyncTransaction:function e(n,i,a){var r=void 0;var s={id:n._tx_bean_id,module:n._tx_bean_module,related_id:n._tx_related_id,related_module:n._tx_related_module};if(n._tx_action===t.offline.SyncActions.CREATE||n._tx_action===t.offline.SyncActions.LINK){r="create"}else if(n._tx_action===t.offline.SyncActions.UPDATE){r="update"}else if(n._tx_action===t.offline.SyncActions.DELETE||n._tx_action===t.offline.SyncActions.UNLINK){r="delete"}else if(n._tx_action===t.offline.SyncActions.FAVORITE){r="favorite"}else if(n._tx_action===t.offline.SyncActions.FOLLOW){r="follow"}else{throw new Error("Undefined action in transaction log!")}if(n._tx_related_id&&n._tx_related_module){this._syncRelationships(r,s,n,i,a)}else if(r==="favorite"){this._syncFavorite(r,s,n,i,a)}else if(r==="follow"){this._syncFollow(r,s,n,i,a)}else{this._syncRecords(r,s,n,i,a)}},_syncRecords:function e(n,i,a,r,s){var o={};s=this._addXTimestampHeader(s,o);t.offline.api.callOriginalApi("records",[n,i.module,s,{viewed:true},{success:function e(n){t.offline.storage.resolveSuccess({module:i.module,transaction:a,serverData:n,callback:r})},error:function e(n){t.offline.storage.resolveError({error:n,updatedFields:s,txLog:a,callback:r})}},o])},_syncRelationships:function e(n,i,a,r,s){var o={};s=this._addXTimestampHeader(s,o);var l={id:i.related_id,link:a._tx_link,related:s||{id:i.id},relatedId:i.id};if(a._tx_action===t.offline.SyncActions.CREATE){l.relatedId=null}t.offline.api.callOriginalApi("relationships",[n,i.related_module,l,{},{success:function e(n){var s=_.extend(l,{related:n.related_record,record:n.record,recordModule:i.related_module,relatedModule:i.module});t.offline.storage.resolveSuccess({module:a._tx_related_module,transaction:a,serverData:n,relationshipData:s,callback:r})},error:function e(n){t.offline.storage.resolveError({error:n,updatedFields:s,txLog:a,callback:r})}},o])},_syncFavorite:function e(n,i,a,r,s){t.offline.api.callOriginalApi("favorite",[i.module,i.id,s.my_favorite,{success:function e(n){t.offline.storage.resolveSuccess({module:i.module,transaction:a,serverData:n,callback:r})},error:function e(n){t.offline.storage.resolveError({error:n,updatedFields:s,txLog:a,callback:r})}}])},_syncFollow:function e(n,i,a,r,s){t.offline.api.callOriginalApi("follow",[i.module,i.id,s.following,{success:function e(){t.offline.storage.resolveSuccess({module:i.module,transaction:a,serverData:{id:i.id,following:s.following},callback:r})},error:function e(n){t.offline.storage.resolveError({error:n,updatedFields:s,txLog:a,callback:r})}}])},_addXTimestampHeader:function e(t,n){if(t&&t.date_modified){n.headers={"X-TIMESTAMP":t.date_modified};t=_.omit(t,"date_modified")}return t},stop:function e(){this._immediateStop=true}})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){t.offline.WinsSyncExecutor=t.offline.SyncExecutor.extend({SyncPhases:{PRE_SYNC:1,SYNC:2},WINS_STATUS_CACHE_NAME:"sync:wins:status",_status:null,_stopAsyncFlow:null,_updateStatus:function e(n){_.each(n,function e(t,n){this._status[n]=t},this);t.cache.set(this.WINS_STATUS_CACHE_NAME,this._status)},_loadStatus:function e(){var n=t.cache.get(this.WINS_STATUS_CACHE_NAME);if(n&&t.user.get("id")===n.userId){this._status=n;if(this._status.winsStartedTime){this._status.winsInterruptedTimes++;this._updateStatus({winsInterruptedTimes:this._status.winsInterruptedTimes})}}else{this._resetStatus()}},_resetStatus:function e(){this._status={phase:this.SyncPhases.PRE_SYNC,preSyncedModules:[],minDate:this._status&&this._status.maxDate||t.cache.get(t.offline.INITIALIZED_TS_KEY),maxDate:null,winsCompletedTime:null,winsStartedTime:null,winsInterruptedTimes:0,syncedRecords:0,userId:t.user.get("id")};this._updateStatus()},_sync:function e(n){var i=this;var a=function e(a){t.logger.debug("WINS completed.");if(a){i._status.winsInterruptedTimes++;i._updateStatus({winsInterruptedTimes:i._status.winsInterruptedTimes})}else{i._updateStatus({winsCompletedTime:Number(new Date)-i._status.winsStartedTime});t.trigger("offline:wins:completed",_.pick(i._status,["winsCompletedTime","winsInterruptedTimes","syncedRecords"]));i._resetStatus()}if(n){n(a)}};this._loadStatus();if(!this._status.winsStartedTime){this._updateStatus({winsStartedTime:Number(new Date)})}if(_.isEmpty(this._status.minDate)){t.logger.debug("Skipping sync as last synced date is unknown. Fetching and saving current server time");t.offline.utils.getServerTime(function(e,t){if(!e){i._updateStatus({minDate:t})}a(e)})}else if(this._status.phase===this.SyncPhases.PRE_SYNC){this._preSync(function(e){if(e){a(e)}else{i._updateStatus({phase:i.SyncPhases.SYNC});i._recordsSync(a)}})}else{this._recordsSync(a)}},_preSync:function e(n){var i=this;var a=[];if(_.isEmpty(this._status.maxDate)){a.push(function(e){t.offline.utils.getServerTime(function(t,n){if(t){e(t)}else{i._updateStatus({maxDate:n});e()}})})}var r=_.difference(t.offline.utils.getOfflineModules(),this._status.preSyncedModules,t.config.offline.staticModules);r=_.filter(r,function(e){return t.acl.hasAccess("list",e)});if(r.length!==0){_.each(r,function(e){a.push(function(t){i._preSyncModule(e,t)})},this)}this._stopAsyncFlow=t.offline.utils.getStoppableAsyncFlow("series",a,n)},_preSyncModule:function e(n,i){var a=this;var r={fields:"id",deleted:true,filter:[{date_modified:{$gte:this._status.minDate,$lt:this._status.maxDate}}]};t.offline.utils.fetchPageByPage(n,r,_.bind(this._markLocalRecordsToBeUpdated,this),null,{maxRecords:this.options.preSyncMaxRecords,pageSize:this.options.preSyncPageSize,callback:function e(t){if(!t){a._status.preSyncedModules.push(n);a._updateStatus({preSyncedModules:a._status.preSyncedModules})}i(t)}})},_markLocalRecordsToBeUpdated:function e(n){this._processLocalMatchedRecords(n,function(e,i,a){t.offline.storage.markToBeSynced({module:n.module,action:i.deleted?"delete":"update",record:e,callback:a})})},_recordsSync:function e(n){var i=this;var a=[];_.each(t.offline.utils.getOfflineModules(),function(e){a.push(function(t){i._syncModule(e,t)})},this);this._stopAsyncFlow=t.offline.utils.getStoppableAsyncFlow("series",a,n)},_syncModule:function e(n,i){var a=this;t.offline.storage.readToBeSynced({offset:0,max_num:this.options.syncPageSize||20,module:n,callback:function e(t){if(t.err||_.isEmpty(t.records)){i(t.err)}else{a._syncRecords({module:n,records:t.records,callback:function e(r){if(r){i(r)}else{a._status.syncedRecords+=t.records.length;a._updateStatus({syncedRecords:a._status.syncedRecords});a._syncModule(n,i)}}})}}})},_syncRecords:function e(n){var i=_.map(n.records,function(e){return{id:e.bean_id,module:e.bean_module,action:e.action}});var a=n.module;var r=_.filter(i,function(e){return e.action==="update"});var s=_.filter(i,function(e){return e.action==="delete"});var o=[];if(r.length>0){var l=_.pluck(r,"id");var u=t.metadata.getModule(a).mergedFields;var c={filter:[{id:{$in:l}}]};if(!_.isEmpty(u)){c.fields=u.join(",")}o.push(function(e){t.offline.api.callOriginalApi("records",["read",a,null,c,{success:function n(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{records:[]};t.offline.storage.saveRecords({serverData:i.records,module:a,callback:function n(i){if(i){return e(i)}t.offline.storage.resetToBeSynced({records:r,callback:e})}})},error:e}])})}if(s.length>0){_.each(s,function(e){o.push(function(n){t.offline.storage.readSingleRawRecord(a,{id:e.id},{success:function e(i){if(i&&t.offline.utils.isDataSynchronized(i)){t.offline.storage.sync("delete",{id:i.id},a,{hardDelete:true,success:function e(){t.offline.storage.resetToBeSynced({records:s,callback:n})},error:n})}else{t.offline.storage.resetToBeSynced({records:s,callback:n})}},error:n})})})}asyncLib.series(o,n.callback)},_processLocalMatchedRecords:function e(n,i){var a=_.pluck(n.records,"id");var r=n.module;t.offline.storage.readRecordsByIds(r,a,{success:function e(t){if(_.isEmpty(t)){return n.callback()}t=_.isArray(t)?t:[t];var a=[];_.each(t,function(e){a.push(function(t){var a=_.find(n.records,function(t){return t.id===e.id});i(e,a,t)})});asyncLib.series(a,n.callback)},error:n.callback})},stop:function e(){if(this._stopAsyncFlow){this._stopAsyncFlow();this._stopAsyncFlow=null;t.logger.debug("WinsSync interrupted")}},shouldRun:function e(){var i=n(28);var a=n(25);var r=i.getState().state!==a.State.IDLE;return!r&&t.offline.SyncExecutor.prototype.shouldRun.call(this)}})})(SUGAR.App)},function(e,t,n){"use strict";(function e(t){t.offline.SyncExecutor=function e(t){this.options=t;this.name=this.options.name;this.init()};_.extend(t.offline.SyncExecutor.prototype,{_working:false,isWorking:function e(){return this._working},_lastSyncTime:null,getLastSyncTime:function e(){return this._lastSyncTime},init:function e(){},shouldRun:function e(){var n=this._lastSyncTime&&(new Date).getTime()-this._lastSyncTime.getTime()<this.options.interval*1e3;if(!this.options.enabled||!t.api.isAuthenticated()||n){return false}return!this._working},beforeSync:function e(){this._working=true},sync:function e(t){if(!this.shouldRun()){t();return}this.beforeSync();this._sync(_.bind(function e(n){this.afterSync();for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++){a[r-1]=arguments[r]}t.apply(this,[n].concat(a))},this))},afterSync:function e(){this._lastSyncTime=new Date;this._working=false},_sync:function e(){t.offline.utils.notImplemented()},getPriority:function e(){return this.options.priority},stop:function e(){t.offline.utils.notImplemented()}});t.offline.SyncExecutor.extend=Backbone.Model.extend})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;i.offline.syncManager={httpErrorHandler:null,lastSyncTs:null,syncExecutors:[],_currentExecutor:null,start:function e(){var t=this;if(!this.intervalId){this.intervalId=window.setInterval(function(){return t._runSyncIteration()},i.config.offline.syncManager.syncTimeout*1e3||1e4)}},stop:function e(){window.clearInterval(this.intervalId);this.intervalId=null},dispose:function e(){i.events.off("offline:data:sync:success",null,this);i.events.off("offline:bulkload:progress",this._onBulkLoaderProgress,this);this.syncExecutors=[];this.stop()},_onBulkLoaderProgress:function e(t){var i=n(25);if(t===i.ProgressEventType.START){if((this._currentExecutor||{}).name==="wins"){this._currentExecutor.stop()}}},init:function e(){var t=this;this.dispose();i.events.on("offline:data:sync:success",function(){t._runSyncIteration()},this);i.events.on("offline:bulkload:progress",this._onBulkLoaderProgress,this)},registerExecutor:function e(t){this.syncExecutors.push(t);this.syncExecutors=_.sortBy(this.syncExecutors,function(e){return e.getPriority()})},isSyncing:function e(){var e=false;_.each(this.syncExecutors,function(t){e=e||t.isWorking()});return e},_syncErrorHandler:function e(t){if(t instanceof SUGAR.Api.HttpError){if(i.utils.isConnectivityError(t)){}else if(t.status===412&&this.httpErrorHandler){this.stop();this.httpErrorHandler(t)}else{i.logger.error(t)}}else if(t instanceof i.offline.Error){this.stop();var n=t===i.offline.Error.OfflineDisabledError?t:new i.offline.Error("synchronization_error","Synchronization failed","ERR_OFFLINE_SYNC_ERROR",t);i.trigger("offline:failure",n)}else if(t){i.logger.error(t)}},_runSyncIteration:function e(t){var n=this;if(!i.offline.isOnline()||!i.config.offline.debug.syncManagerEnabled||!i.config.offline.syncManager.enabled||_.isEmpty(this.syncExecutors)){if(t){t()}return}var a=[];_.each(this.syncExecutors,function(e){a.push(function(t){n._currentExecutor=e;e.sync(t)})});asyncLib.series(a,function(e){n._currentExecutor=null;n.lastSyncTs=new Date;n._syncErrorHandler(e);if(t){t(e)}})},sync:function e(t){if(i.offlineEnabled){this._runSyncIteration(t)}}};e.exports=i.offline.syncManager},function(e,t,n){"use strict";(function e(t){t.events=t.events||{};t.events.on({"offline:toggled":function e(t){r("offline",t)},"app:start":function e(){r("api",true)},"app:login:success":function e(t,n){r("api",true,n)},"app:logout":function e(){r("api",false)}});var n={offline:{readSimpleOrRelated:{status:false,operation:"fakeSelect"},readManyRecords:{status:false,operation:"fakeSelect"},readManyRelatedRecords:{status:false,operation:"fakeSelect"},createRecord:{status:false,operation:"fakeInsert"},createRelatedRecord:{status:false,operation:"fakeInsert"},updateRecord:{status:false,operation:"fakeUpdate"},updateRelatedRecord:{status:false,operation:"fakeUpdate"},softDeleteRecord:{status:false,operation:"fakeUpdate"},hardDeleteRecord:{status:false,operation:"fakeUpdate"},unlinkRecord:{status:false,operation:"fakeUpdate"}}};var i={api:{records:{status:false,callbackIndex:4,optionsIndex:5,dataIndex:2,crudIndex:0,crud:[{name:"create",status:true},{name:"read one",status:false},{name:"read list",status:false},{name:"update",status:false},{name:"delete",status:false}]},relationships:{status:false,callbackIndex:4,optionsIndex:5,dataIndex:2,crudIndex:0,crud:[{name:"create",status:true},{name:"read one",status:false},{name:"read list",status:false},{name:"update",status:false},{name:"delete",status:false}]},favorite:{status:false,callbackIndex:3,optionsIndex:4},follow:{status:false,callbackIndex:3,optionsIndex:4}},http:[{name:"e0",status:false},{name:"e403",status:false},{name:"e404",status:false},{name:"e409",status:false},{name:"e422",status:false},{name:"e500",status:false}],emulationExceptions:{e409:{operation:"update",methods:["records","relationships"]}}};var a={fakeSelect:function e(){return{sql:"select xxxx"}},fakeInsert:function e(){return{sql:"insert into xxxx"}},fakeUpdate:function e(){return{sql:"update xxxx"}}};function r(e,a,r){var c=t.config.errorEmulation.user.toLowerCase();if(t.config.errorEmulation.enabled&&(t.user.get("user_name")===c||r===c)){if(e==="api"){s(a,i);u(a)}else{s(a,n);o(a);l(a);p()}}}function s(e,n){if(e){var i=t.utils.deepCopy(n);_.extend(t.config.errorEmulation,i)}else{_.each(n,function(e,n){delete t.config.errorEmulation[n]})}}function o(e){if(e){t.events.on("app:error:emulation:offline",function(e){var n=t.config.errorEmulation.offline[e];var i=n&&n.status;var a="_"+e;var r=n.operation;c(i,a,r)})}else{t.events.off("app:error:emulation:offline");_.each(t.offline.storage.savedMethods,function(e,t){c(false,t)});delete t.offline.storage.savedMethods}}function l(e){if(e){_.extend(t.offline.storage._sqlHandlers,a)}else{_.each(a,function(e,n){delete t.offline.storage._sqlHandlers[n]})}}function u(e){if(e){if(!t.config.errorEmulation.apiFlag){t.events.on({"app:error:emulation:http":function e(t){h(t);d(t)},"app:error:emulation:api":f,"app:error:emulation:crud":f});t.config.errorEmulation.apiFlag=true}}else{t.events.off("app:error:emulation:http app:error:emulation:api app:error:emulation:crud");delete t.config.errorEmulation.apiFlag;h("default");d("default")}}function c(e,n,i){if(e){t.offline.storage.savedMethods=t.offline.storage.savedMethods||{};if(!t.offline.storage.savedMethods[n]){t.offline.storage.savedMethods[n]=t.offline.storage[n]}t.offline.storage[n]=function e(){var t;var n=[{op:i,data:null,module:null,options:null}];var a=(t=arguments.length-1,arguments.length<=t?undefined:arguments[t]);this.exec(n,a.dbSuccess,a.dbFailure)}}else{t.offline.storage[n]=t.offline.storage.savedMethods[n];delete t.offline.storage.savedMethods[n]}}function d(e){var n=t.config.errorEmulation.api;var i=[];_.each(n,function(e,t){if(e.status){i.push(t)}});_.each(t.api.savedMethods,function(e,n){t.api[n]=t.api.savedMethods[n]});delete t.api.savedMethods;t.controller.clean();if(e!=="default"){_.each(i,function(i){var a=_.findWhere(n[i].crud,{status:true});t.api.savedMethods=t.api.savedMethods||{};if(!t.api.savedMethods[i]){t.api.savedMethods[i]=t.api[i]}t.api[i]=function t(){var r=n[i],s=r.callbackIndex,o=r.optionsIndex,l=r.crudIndex,u=r.dataIndex;for(var c=arguments.length,d=Array(c),f=0;f<c;f++){d[f]=arguments[f]}var h=a&&d[l]==="read"&&a.name.indexOf("read")>=0;var p=void 0;var m=void 0;if(isNaN(Number(u))){p=d[u]?d[u].link?d[u].relatedId?"one":"list":"one":"list";m=a.name==="read "+p}if(!a||d[l]===a.name||h&&m){d[s].error(new SUGAR.Api.HttpError({xhr:{status:e.substr(1)-0,responseText:'{"error":"emulated"}',getResponseHeader:function e(){return"application/json"}},params:d[o]}));d[s].complete()}else{this.savedMethods[i].apply(this,d)}}})}}function f(){var e=_.findWhere(t.config.errorEmulation.http,{status:true});if(e){d(e.name)}}function h(e){var n=i.emulationExceptions[e];var a=n?{code:e,operation:n.operation,methods:n.methods}:{code:"enableAll"};t.trigger("app:error:emulation:exceptions",a)}function p(){_.each(t.api.savedMethods,function(e,n){if(t.offline&&!_.isEmpty(t.offline.api.originalMethods)){t.offline.api.originalMethods[n]=t.api.savedMethods[n]}t.api.savedMethods[n]=t.api[n]});f()}})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=i.offline.utils.generateUUID();var r="Max";var s="Default_team";var o=n(363);e.exports={saveBatchSize:5e3,config:{recordsPerModule:10,defaultRequiredFields:["last_name","first_name","_deleted","my_favorite","following","assigned_user_id","assigned_user_name","modified_user_name","modified_user_id","id","name","date_modified","date_entered","_client_date_modified"],modules:{Accounts:{fields:["phone_fax","billing_address_street","billing_address_city","billing_address_state","billing_address_postalcode","billing_address_country","phone_office","phone_alternate","website","shipping_address_street","shipping_address_city","shipping_address_state","shipping_address_postalcode","shipping_address_country","parent_name","email","email1"],customFieldValues:{name:function e(){return o.pick("first_name")+" "+o.pick("last_name")}}},Contacts:{fields:["salutation","first_name","last_name","full_name","title","phone_home","phone_mobile","phone_work","phone_other","phone_fax","primary_address_street","primary_address_city","primary_address_state","primary_address_postalcode","primary_address_country","alt_address_street","alt_address_city","alt_address_state","alt_address_postalcode","alt_address_country","assistant","assistant_phone","picture","account_name","account_id","team_name","email","email1"]},Users:{amount:1,customFieldValues:{id:function e(t){return t===0?a:i.offline.utils.generateUUID()},name:function e(t){return t===0?r:"John"}}},Meetings:{fields:["description","status"],customFieldValues:{date_start:function e(){return i.utils.getTimestamp((new Date).setMinutes(0))},date_end:function e(){return i.utils.getTimestamp((new Date).setMinutes(30))},duration_hours:0,duration_minutes:30,reminder_time:-1}},Teams:{amount:1,customFieldValues:{id:function e(t){return t===0?s:i.offline.utils.generateUUID()},name:function e(t){return t===0?s:"team_"+t}}}}},init:function e(){var t=this;var n=i.metadata.getModules();var a=function e(t){return n[t]&&i.offline.isModuleOfflineEnabled(t)};var r=this.config;this.availableModules=_.filter(_.keys(i.offline.storage.offlineMeta),a);this.availableRelationships=_.filter(i.offline.storage.offlineMeta.relationships,function(e){var t=a(e.childModule)&&a(e.parentModule);var n=!(e.type==="one-to-many"&&e.parentModule==="Users"&&e.parentIdColumn==="assigned_user_id");return t&&n});_.each(this.availableModules,function(e){var t=r.modules[e];if(!t){t={};r.modules[e]=t}if(!t.fields){t.fields=[]}var i=_.pluck(_.filter(n[e].fields,function(e){return e.required||e.type==="enum"}),"name");t.fields=_.chain(t.customFieldValues).keys().union(r.defaultRequiredFields).union(t.fields).union(i).filter(function(t){return Boolean(n[e].fields[t])||_.contains(["_client_date_modified","_deleted"],t)}).value();_.each(t.customFieldValues,function(e,n){if(!_.isFunction(e)){t.customFieldValues[n]=function(){return e}}})});this._relatedFieldsHash={};_.each(this.availableRelationships,function(e){t._relatedFieldsHash[e.childIdColumn]=true;t._relatedFieldsHash[e.parentIdColumn]=true})},generateRecords:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=n.modules?_.keys(n.modules):this.availableModules;n=_.defaults(n,this.config);var a=_.map(i,function(e){return function(i){var a=n.modules[e]||t.config.modules[e]||{};var r=a.amount||n.amount||t.config.recordsPerModule;t.generateRecordsForModule(e,{amount:r,callback:i})}});a.push(this._getUpdateStatisticsTask());asyncLib.series(a,function(e){if(n.callback){n.callback(e)}})},generateRecordsForModule:function e(t,n){var a=this;var r=n.amount,s=n.callback;var o=[];var l=r>this.saveBatchSize?1e3:0;var u=function e(n,r){var s=a._createFakeRecords(t,n);var o=i.offline.storage._getSaveRecordsTasks(s,{module:t});o.splice(0,1,function(e){return e(null,null)});i.offline.storage._executeSynchronized(function(e){asyncLib.waterfall(o,function(){e();_.delay(r,l)})})};var c=function e(t){return u(a.saveBatchSize,t)};while(r/this.saveBatchSize>=1){o.push(c);r-=this.saveBatchSize}if(r!==0){o.push(function(e){return u(r,e)});o.push(this._getUpdateStatisticsTask())}asyncLib.series(o,function(){if(s){s()}})},generateAllRelations:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=i.metadata.getModules();var r=[];var s=[];_.each(this.availableModules,function(e){_.each(_.getNested(a[e],"layouts.subpanels.meta.components"),function(a){var o=i.offline.storage.getRelationshipByLink(e,a.context.link);if(o&&r.indexOf(o.name)===-1){r.push(o.name);s.push(function(e){var i=_.extend({},n,{callback:function t(n){return e(null,n)}});t.generateRelationship(o,i)})}})});s.push(this._getUpdateStatisticsTask());asyncLib.series(s,function(e,t){if(n.callback){n.callback(t)}})},generateRelationship:function e(t){var n=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=a.parentAmount;var s=a.childAmount||1;var o=i.offline.storage.RelTypes;var l=t.type===o.MANY_TO_MANY;var u=t.type===o.ONE_TO_MANY_BY_ROLE_COLUMN||t.type===o.ONE_TO_MANY;if(!(l||u)){if(a.callback){a.callback()}return}var c=function e(t,n){var a=_.find(i.metadata.getModule(n).fields,function(e){return e.relationship===t.name});return a&&a.name};if(l){var d=t.childModule;var f=c(t,d);t=i.offline.storage.getRelationshipByLink(d,f)}var h=t,p=h.parentModule,m=h.childModule;var g=[];g.push(function(e){return n._readModuleRecords(p,r,function(t){return e(null,t)})});g.push(function(e,t){var i=e.length*s;n._readModuleRecords(m,i,function(n){return t(null,e,n)})});asyncLib.waterfall(g,function(e,n,r){var o=[];_.each(n,function(e,n){var a=n*s;var u=n*s+s;if(u>r.length){if(l){a=0;u=s}else{return}}var d=r.slice(a,u);_.each(d,function(n){var a=l?{id:n.id,link:c(t,m),relatedId:e.id,relatedModule:p,related:{id:e.id}}:{id:e.id,link:c(t,p),relatedId:n.id,relatedModule:m,related:{id:n.id}};o.push(function(e){i.offline.api.relationships("create",l?m:p,a,{relate:true,deferSync:true},{success:function t(n){return e(null,n)},error:function e(t){}})})})});asyncLib.series(o,function(e,t){if(a.callback){a.callback(t)}})})},_createFakeRecords:function e(t,n){var a=this;var r=this.config;var s=r.modules[t];var o=i.metadata.getModule(t).fields;var l=[];if(_.isUndefined(n)){n=s.amount||r.recordsPerModule}_.times(n,function(e){var n={_module:t};_.each(s.fields,function(i){var r=o[i]||{name:i};var l=s.customFieldValues&&s.customFieldValues[i];n[i]=l?l(e):a._getDefaultFieldValue(r,t,e)});if(n.first_name&&n.last_name){n.full_name=n.first_name+" "+n.last_name;n.name=n.full_name}l.push(n)});return l},_readModuleRecords:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_.noop;var r={order_by:"date_modified:desc",max_num:n,skipServerSync:true};i.offline.api.records("read",t,undefined,r,{success:function e(t){return a(t.records)}})},_getDefaultFieldValue:function e(t,n,l){var u=o.pick(t.name);if(u){return u}switch(t.name){case"title":case"salutation":return"";case"_client_date_modified":case"_last_fetched":return i.utils.getTimestamp(new Date);case"_deleted":return 0;case"_acl":return{fields:{}};case"name":return n+"_"+l;case"assigned_user_id":case"modified_user_id":return a;case"assigned_user_name":case"modified_user_name":return r}if(this._relatedFieldsHash[t.name]){return""}switch(t.type){case"id":return i.offline.utils.generateUUID();case"date":case"datetime":case"datetimecombo":return i.utils.getTimestamp(new Date);case"email":return[{email_address:"email_"+l+"@example.com",primary_address:true}];case"team_list":case"teamset":return[{id:s,name:s,primary:true,selected:true}];case"tag":return[];case"metadata":case"json":return{};case"multienum":case"enum":return _.keys(i.lang.getAppListStrings(t.options))[0];case"phone":return"("+this._getRandomNumStr(3)+") "+this._getRandomNumStr(3)+"-"+this._getRandomNumStr(4);case"relate":case"link":case"parent":case"parent_type":case"radioenum":case"image":case"file":return"";case"assigned_user_name":case"username":return r;case"url":return"http://localhost:8888";case"bool":case"boolean":case"int":case"ulong":case"currency":case"decimal":return 1;default:return(new Date).getTime().toString()}},_getRandomNumStr:function e(t){var n=Math.pow(10,t-1);return String(Math.floor(n+Math.random()*9*n))},_getUpdateStatisticsTask:function e(){return i.isNative?function(e){return i.offline.storage._execRawStatements(["ANALYZE"],function(){return e()},function(){return e()})}:function(e){return e()}}}},function(e,t,n){"use strict";var i={firstName:["Patton","Sharlene","Saundra","Mcfarland","Simmons","Debra","Hogan","Hopkins","Pearlie","Jenny","Katheryn","Norma","Lara","Riddle","Kari","Cash","Greer","Kelly","Beverley","Juarez"],lastName:["Vance","Patton","Wall","Simon","Frank","Huber","Blevins","Morse","Johnson","Gilbert","Golden","Norton","Estrada","Rivers","Sanford","Fernandez","May","Porter","Nielsen","Santiago"],country:["Guinea-Bissau","Guatemala","S. Georgia and S. Sandwich Isls.","Laos","Angola","Canada","Puerto Rico","Cyprus","Switzerland","Algeria"],city:["Hannasville","Glendale","Harrodsburg","Bradenville","Kempton","Sanborn","Windsor","Sylvanite","Hartsville/Hartley","Kylertown","Ventress","Freetown","Shrewsbury","Woodruff","Mappsville"],address:["620 Sedgwick Street, 3354","442 Boynton Place, 9933","160 Railroad Avenue, 2737","455 Royce Street, 8428","749 Clifford Place, 3555","435 Melrose Street, 6356","834 Vernon Avenue, 2361","620 Moore Street, 4154","591 Denton Place, 6217","318 Cyrus Avenue, 9160","405 Cranberry Street, 8855","232 Pilling Street, 6265","686 Fane Court, 7693","450 Boulevard Court, 949","377 Montgomery Place, 5827","283 Horace Court, 267","884 Classon Avenue, 7370","859 Locust Street, 1967","862 Rochester Avenue, 1332","635 Chestnut Avenue, 2491","381 Porter Avenue, 3939","216 Louise Terrace, 3329","279 Fleet Walk, 3012","481 Malbone Street, 4342","135 Sullivan Place, 2725","870 Bills Place, 355","608 Louis Place, 8518","977 Elizabeth Place, 8631","160 Gelston Avenue, 1412","719 Rugby Road, 3176"],state:["WV","FM","WI","CO","ID","TN","NV","IN","NC","IL"],postalCode:["45894","86013","38968","50509","21129","89635","88589","61323","31541","87128"]};var a={firstName:["first_name"],lastName:["last_name"],address:["billing_address_street","shipping_address_street","primary_address_street"],city:["billing_address_city","shipping_address_city","primary_address_city"],state:["billing_address_state","shipping_address_state","primary_address_state"],postalCode:["billing_address_postalcode","shipping_address_postalcode","primary_address_postalcode"],country:["billing_address_country","shipping_address_country","primary_address_country"]};var r={};_.each(a,function(e,t){_.each(e,function(e){var n=i[t];r[e]={values:n,length:n.length}})});e.exports={pick:function e(t){var n=r[t];return n&&n.values[Math.floor(Math.random()*n.length)]}}},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(8);var s=n(21);var o=n(25);var l=a.extendComponent(r,{_stringType:"bulk-load-setup",className:"view__bulkload",events:function e(){return{"click .btn-cancel":"_onBtnClick","click .btn-download":"_onBtnClick","click .cellular_checkbox":"_onCellularCheckboxClick"}},template:"bulk-load-setup",allowCellular:false,shouldShowCellularCheckbox:false,initialize:function e(t){this._super(t);this.shouldShowCellularCheckbox=i.isNative||i.config.scheme==="e2e";if(!_.isUndefined(s.getSetting(o.SettingsKey.ALLOW_CELLULAR))){this.allowCellular=s.getSetting(o.SettingsKey.ALLOW_CELLULAR)}},onAfterRender:function e(){this._super();i.alert.dismiss("offline_encryption")},_onBtnClick:function e(t){var n=t.target.attributes["data-id"].value==="ok";if(this.options.callback){this.options.callback(n)}},_onCellularCheckboxClick:function e(){this.allowCellular=!this.allowCellular;s.setSetting(o.SettingsKey.ALLOW_CELLULAR,this.allowCellular)}});e.exports=l},function(e,t,n){"use strict";var i=$(document);var a=function e(t){var n=$(t.currentTarget);n.parent().toggleClass("not-empty",n.val())};var r=function e(t){var n=$(t.currentTarget).parent().find("input");var i=s(n.get(0));n.val("").parent().removeClass("not-empty");n.trigger("change",[{triggeredByClearField:true}]);n=$(o(i));n.focus();t.preventDefault();t.stopPropagation()};var s=function e(t){return i.find("input").reduce(function(e,n,i){return e===undefined&&n===t?i:e},undefined)};var o=function e(t){return i.find("input").reduce(function(e,n,i){return e||t===i&&n},undefined)};i.on("keyup.clear-field","input",a).on("focusin.clear-field","input",a).on("touchend.clear-field",".clear-button",r)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(9);e.exports=a.extendComponent(r,{template:"dropdown-switcher",parentCss:"tabs__switcher",initialize:function e(t){this._super(t);var n={};var a=i.data.createBean();a.set("view_index",t.activeIndex);_.each(t.views,function(e,t){n[t]=e.title});this.ddSwitcher={name:"view_index",view:"edit",type:"enum",options:n,model:a,optional:false};this.listenTo(a,"change:view_index",this._onSelect)},updateSubtext:function e(t,n){},syncActive:function e(t){var n=t.index;this.getField("view_index").model.set("view_index",n)},_onSelect:function e(t){var n=Number(t.get("view_index"));this.trigger("view:switch",{index:n})}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(9);e.exports=a.extendComponent(r,{className:"pagination__bar",template:"pagination-switcher",events:function e(){return{swipeRight:"swipeRight",swipeLeft:"swipeLeft"}},onAfterRender:function e(){this._super();var t='<span class="icondefault {0}"></span>';var n=this.options.$parentEl.find(this.options.containerSelector);if(this.Swiper||_.isEmpty(n)){return}this.Swiper=new Swiper(n,_.extend({noSwipingClass:"no-swiping",pagination:this.$(".pagination").get(0),bulletClass:i.config.ui.icons.swiper.bullet,bulletActiveClass:i.config.ui.icons.swiper.bulletActive,nextButton:this.$(".next").get(0),prevButton:this.$(".prev").get(0),buttonDisabledClass:"disabled",paginationBulletRender:function e(n,a){return i.utils.formatString(t,[a])},onTouchMove:function e(t,n){if(i.activeComponents.hasActiveComponents()){t.lockSwipes()}else{i.nomad.isSwiping=true}},onTouchEnd:function e(t){i.nomad.isSwiping=false;t.unlockSwipes()},onClickNext:_.bind(function e(){this._handleSwipe("next")},this),onClickPrev:_.bind(function e(){this._handleSwipe("prev")},this),onSlide:_.bind(function e(t){this._handleSwipe(t)},this)},this.options.settings));if(this._activeIndex){this.syncActive({index:this._activeIndex,disableAnimation:true})}},onAfterShow:function e(){this._super();if(this.options.views.length>1){this.togglePaginationClass({hasPagination:true})}},onDetachFromDom:function e(){this._super();this.togglePaginationClass({hasPagination:false})},togglePaginationClass:function e(t){var n=t.hasPagination;$(document.body).toggleClass("has-pagination",n)},_handleSwipe:function e(t){var n=_.isString(t);if(n){t=this._activeIndex+(t==="next"?1:-1)}var i=t<0||t>=this.options.views.length;if(n&&i){return}if(t===this._activeIndex||i){this.Swiper.slideTo(t)}else{this._activeIndex=t;this.trigger("view:switch",{index:t})}},_dispose:function e(){if(this.Swiper){this.Swiper.destroy();this.Swiper=null}this.togglePaginationClass({hasPagination:false});this._super()},update:function e(){if(this.Swiper){this.Swiper.update(true)}},syncActive:function e(t){var n=t.index,i=t.disableAnimation;this._activeIndex=n;if(this.Swiper&&this.Swiper.activeIndex!==n){this.Swiper.slideTo(n,i?0:this.Swiper.params.speed)}},updateSubtext:function e(t,n){},swipeRight:function e(){this._handleSwipe("prev")},swipeLeft:function e(){this._handleSwipe("next")}})},function(e,t,n){"use strict";var i=n(2);var a=n(9);var r=SUGAR.App;e.exports=i.extendComponent(a,{template:"tab-switcher",className:"tabs__scroll-bar",parentCss:"tabs__switcher",subtextCss:"subtitle",activeTabCss:"tab--active",events:function e(){return{"click .tab":"_onTabClick"}},initialize:function e(t){this.tabs=t.views;if(_.isString(t.subtextCss)){this.subtextCss=t.subtextCss}this._super(t)},updateSubtext:function e(t,n){this.$(".tab").eq(t).find("."+this.subtextCss).removeClass("hide").addClass("count").text(n)},syncActive:function e(t){var n=t.index;var i=this.$(".tab");i.removeClass(this.activeTabCss);$(i[n]).addClass(this.activeTabCss);this.tabs=_.map(this.tabs,function(e,t){e.active=t===n;return e})},_onTabClick:function e(t){var n=$(t.currentTarget);var i=n.data("tab-index");var a=this.tabs[i].gaData;this.trigger("view:switch",{index:i});if(a){r.analytics.trackEvent({category:a.category,action:a.action,value:null,label:a.label})}this._scrollToTab(n)},_scrollToTab:function e(t){var n=$(this.$el).width();var i=t[0].offsetLeft;var a=t.width();var r=$(this.el).find(".tabs__scroll-bar__ul");var s=r.scrollLeft();var o=void 0;var l=void 0;var u=void 0;if(n<i+a){o=1;l=i+a-n}else if(s>i){o=-1;l=i}var c=function e(){u=window.requestAnimationFrame(e);if(o>0&&s>=l||o<0&&s<=l){r.scrollLeft(l);window.cancelAnimationFrame(u);return}s+=10*o;r.scrollLeft(s)};if(o){c()}}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(5);var r=n(46);var s=n(3),o=s.isDirectionLTR;var l=n(2);var u=n(9);var c=215;var d=30;var f=200;var h=l.extendComponent(u,{ACTIVE_COMPONENT_ID:"list_view_context_menu",tagName:"span",events:{"click .context-menu__item:not(.disabled)":"onItemClick"},initialize:function e(t){var n=this;this._super(t);this.parentView=t.parentView;this.listenTo(i,"app:orientation:changed",function(){if(n.activeItem){n._refresh()}});if(!i.isTablet){this.initListItemTouchEvents()}},initListItemTouchEvents:function e(){var t=this;var n=void 0;var i=void 0;var a=o()?1:-1;var r=this.parentView.$el;r.on("touchstart",function(e){i=$(e.target).closest("article");if(_.isEmpty(i)||i&&!i.hasClass("has-drag-menu")){return}n={touchStartX:e.touches[0].pageX,itemElStartPosX:i[0].getBoundingClientRect().left,distance:0};r.on("touchmove",l);r.on("touchend",u)});var s=function e(){r.off("touchmove",l).off("touchend",u);n.touchMoved=false};var l=function e(r){if($.__swipeHelper.swipeOrientation==="horizontal"){if(!n.touchMoved){n.touchMoved=true;var o=i.attr("data-id");var l=t.parentView.getModel(o);if(t.isOpened()&&t.activeItem.$el[0]!==i[0]){t._slideToPosX(t.activeItem.$el,0,f)}if(!t.activeItem||t.activeItem.$el[0]!==i[0]){t.show(i,l)}}if(!t.activeItem){s();return}n.touchMoveX=r.touches[0].pageX;n.distance=Math.floor(n.touchMoveX-n.touchStartX);if(Math.abs(n.distance)<3||a*n.itemElStartPosX>=0&&a*n.distance>0||Math.abs(n.distance)>c||Math.abs(a*n.itemElStartPosX+a*n.distance)>c){return}n.itemPosX=n.itemElStartPosX+n.distance;t._slideToPosX(t.activeItem.$el,n.itemPosX)}};var u=function e(i){if(!t.activeItem){s();return}else if($.__swipeHelper.swipeOrientation!=="horizontal"){return}if(n.itemElStartPosX===0&&a*n.distance>=0){return}else if(Math.abs(n.itemPosX)<=d||a*n.itemElStartPosX<0&&Math.abs(n.itemElStartPosX-n.itemPosX)>d||t._actionSheetIsActive){t._slideToPosX(t.activeItem.$el,0,f)}else{t._slideToPosX(t.activeItem.$el,a*-c,f)}s()}},_getAvailableActions:function e(t){return r.getRecordActions({view:this.parentView,model:t,type:"context-menu"})},_getAndPrepareActionsForDevice:function e(t){var n=i.isTablet?8:3;var r=this._getAvailableActions(t);if(r.length<=n){return r}var s=[];var o={name:"more",googleAnalyticsName:"c-more",types:["context-menu"],label:"LBL_MORE_BUTTON",iconKey:"actions.more",_actions:[],isEnabled:true,handler:function e(t,n){var r=this;var s=_.map(this._actions,function(e){var t=e.label,n=e.googleAnalyticsName;return{name:i.lang.get(t),googleAnalyticsName:n}});a._showGATrackedActionSheet(s,{title:i.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:function e(i){r._actions[i].handler(t,n)}})}};_.each(r,function(e,t){++t;if(t<n){s.push(e)}else if(t>=n){o._actions.push(e)}});s.push(o);return s},onGripClick:function e(t,n){var i=$(t.currentTarget).closest("article");var a=this.isItemHasContextMenuOpened(i.get(0));if(this.isOpened()){this.hide()}if(!a){this.show(i,n)}return false},onItemSwipeLeft:function e(t,n){if(i.isTablet&&$.__swipeHelper.swipeOrientation!=="vertical"){var a=$(t.currentTarget).closest("article");if(this.isItemHasContextMenuOpened(a.get(0))){return false}if(this.isOpened()){this.hide()}this.show(a,n)}},onItemSwipeRight:function e(t,n){if(this.isItemHasContextMenuOpened(t.currentTarget)){this.hide()}},_getDocuments:function e(t,n,i){var a=this;_.findWhere(this._getAndPrepareActionsForDevice(n),{name:"file"});n.once("docs:ready",function(e){n.docData=e;if(a.activeItem.model===n){a.renderContextMenu(t,n)}});n.getDocuments(i)},renderContextMenu:function e(t,n){var a=this._getAndPrepareActionsForDevice(n);var r={contextMenuItems:a,isEmptyMenu:_.isEmpty(a),myFavorite:Boolean(n.get("my_favorite"))};var s=t.find(".box__context-menu");if(!_.isEmpty(s)){s.remove()}this.$el.html(i.template.get("context-menu")(r));t.append(this.$el)},_slideToPosX:function e(t,n,i){t.animate({"-webkit-transform":"translate3d("+n+"px, 0, 0)"},i||0)},setActiveItem:function e(t,n){this.activeItem={$el:t,model:n}},show:function e(t,n){var a=t.find(".menu-container");if(_.isEmpty(a)){return}this.setActiveItem(t,n);this._refresh();if(n){this.listenTo(n,"change",this._refresh)}a.addClass("on");this.activeItem.$el.addClass("active-list-item");i.activeComponents.add(this)},hide:function e(){var t=this.isOpened();if(!t){return}var n=this.activeItem.$el;var a=this.activeItem.model;var r=n.find(".menu-container");r.removeClass("on").find(".box__context-menu").remove();n.removeClass("active-list-item");if(a){a.off("docs:ready");this.stopListening(a,"change",this._refresh)}if(!i.isTablet){this._slideToPosX(this.activeItem.$el,0,f)}this.activeItem=undefined;i.activeComponents.remove(this)},onClose:function e(){this.hide()},_refresh:function e(){var t=this.activeItem.model;var n=this.activeItem.$el.find(".menu-container");var i=this.parentView.modContextData&&this.parentView.modContextData[t.module];var a=i&&i.docFields;var r=_.findWhere(this._getAndPrepareActionsForDevice(t),{name:"file"});if(r){this._getDocuments(n,t,a)}this.renderContextMenu(n,t)},isOpened:function e(){return Boolean(this.activeItem)&&this.activeItem.$el},isItemHasContextMenuOpened:function e(t){return this.activeItem&&this.activeItem.$el.get(0)===t},onItemClick:function e(t){t.preventDefault();t.stopPropagation();var n=$(t.currentTarget).attr("action");var i=this.activeItem.model;var a=_.findWhere(this._getAndPrepareActionsForDevice(i),{name:n});if(_.isFunction(a.handler)){a.handler(this.parentView,i)}if(!a.isMultipleChoice&&a.autoClose){this.hide()}},onItemLongTap:function e(t,n){if(!$.os.android){return}i.analytics.trackEvent({category:"longTap",action:"c-menu"});if(this.isOpened()){this.hide()}this.showActionSheet(t,n)},showActionSheet:function e(t,n){var r=this;var s=$(t.currentTarget).closest("article");var o=this.parentView.modContextData&&this.parentView.modContextData[n.module];var l=this._getAvailableActions(n);this.setActiveItem(s,n);if(!_.isEmpty(l)){this._actionSheetIsActive=true;a.showActionSheet(_.map(l,function(e){return i.lang.get(e.label)}),{title:i.lang.get("LBL_SELECT_ACTION_LABEL"),onSelectCb:function e(t){var a=l[t];if(_.isFunction(a.handler)){a.handler(r.parentView,n)}r.onCloseActionSheet(s);if(i.isNative){return}return!a.isMultipleChoice},onCancelCb:function e(){return r.onCloseActionSheet(s)}})}n.once("docs:ready",function(e){n.docData=e});if(o){n.getDocuments(o.docFields)}},onCloseActionSheet:function e(t){t.removeClass("selected-item");this.activeItem=undefined;this._actionSheetIsActive=false}});e.exports=h},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(58);var s=n(8);var o=a.extendComponent(s,{_stringType:"address-edit",addressFields:null,template:"address-edit",_bodyScroll:true,initialize:function e(t){var n=this;this._super(t);this.action="edit";this.fallbackFieldTemplate="edit";this.addressFields=this.context.get("addressFields");this.addressFieldsNames=_.pluck(this.addressFields,"name");this.model=this.context.get("model");this.parentModel=this.context.get("parentModel");_.each(this.addressFields,function(e){var t="change:"+e.name;n.listenTo(n.model,t,function(e,i,a){n.parentModel.trigger(t,n.model,i,a)})})},save:function e(){var t=this;r.showOverlay();this.model.doValidate(this.addressFieldsNames,function(e){r.hideOverlay();if(e){_.each(t.addressFields,function(e){t.parentModel.set(e.name,t.model.get(e.name))});i.controller.goBack()}})},onHeaderSaveClick:function e(){this.save()}});e.exports=o},function(e,t,n){"use strict";var i=n(2);var a=n(9);var r=i.extendComponent(a,{_stringType:"html-edit",htmlElSelector:".html-content",onAfterShow:function e(){var t=this.$(this.htmlElSelector);t.append(this.context.get("html"))},getValue:function e(){return this.$(this.htmlElSelector).val()}});e.exports=r},function(e,t,n){"use strict";var i=false;var a=function e(t){_.delay(function(){var e=$(t.target);if(!i&&!e.hasClass("inert")&&!e.hasClass("grip")&&!e.attr("disabled")){$(t.currentTarget).addClass("selected-item")}},50)};var r=function e(t){_.delay(function(){$(t.currentTarget).removeClass("selected-item");i=false},50)};var s=function e(t){if(!i){$(t.currentTarget).removeClass("selected-item")}i=true};$(function(){$(document.body).on({"touchstart.fast-click-highlight":a,"touchmove.fast-click-highlight":s,"touchend.fast-click-highlight":r,"touchcancel.fast-click-highlight":r},".fast-click-highlighted")})},function(e,t,n){"use strict";var i=SUGAR.App;var a=void 0;var r=function e(t,n){a=t;$(document.body).toggleClass("body--field-onfocus",t);var i=$(n).parents(".field");if(i){i.toggleClass("field--onfocus",t)}};var s=function e(t){r(true,t.target);if($.os.ios){var n=t.target;var s=setInterval(function(e){if(!a){clearInterval(s);return}if(n!==document.activeElement){r(false,n);clearInterval(s)}},100)}if(!i.isTablet||!$.os.android){return}var o=$(t.target);var l=o.parents(".scroll").get(0);var u=o.parents("span[sfuuid]").get(0);if(l&&u){_.delay(function(){l.scrollTop=u.offsetTop},1e3)}};$(function(){$(document.body).on({"focus.focus-on-input":s,"blur.focus-on-input":function e(t){return r(false,t.target)}},"input").on({"focus.focus-on-input":function e(t){return r(true,t.target)},"blur.focus-on-input":function e(t){return r(false,t.target)}},"select")})},function(e,t,n){"use strict";var i=SUGAR.App;e.exports=function(){return{initiate:function e(){this._initiateTime=(new Date).getTime()},trackDuplicatesFound:function e(t){i.analytics.trackEvent({category:"lead-conversion",action:"dupe",label:t})},trackConvert:function e(t){var n=(new Date).getTime();var a=((n-this._initiateTime)/1e3).toFixed();this._initiateTime=undefined;i.analytics.trackEvent({category:"lead-conversion",action:"success",label:t.join(", "),value:a})},trackError:function e(t){i.analytics.trackEvent({category:"lead-conversion",action:"error",label:t.status})}}}},function(e,t,n){"use strict";var i=n(11);var a=n(3);var r=3;i.registerListItemDataProvider({name:"lead-conversion-list-item-radio-selector",prepareItemData:function e(t,n){var i=this.parent.prepareItemData(t,n);var s=this.prepareFields(t,n);var o=t.get("_erased_fields");var l=_.filter(s,function(e){var n=e.name;var i=e.type==="fullname"?a.isNameErased(t):_.contains(o,n);if(i){return true}var r=t.get(n);return _.isObject(r)?!_.isEmpty(r):!_.isUndefined(r)&&r!==""});i.itemId=i.itemId||t.cid;var u=_.first(l,r);var c=_.rest(l,r);return _.extend({},i,{showLabel:true,headFields:u,restFields:c,links:{showMore:n.collection.length>1&&!_.isEmpty(c),edit:t.isNew()}})},prepareFields:function e(t,n){return n.additionalListFields},buildId:function e(t){return this.parent.buildId(t)||t.cid}})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=SUGAR.App;var r=n(7);var s=n(11);var o=n(2);var l=n(48);var u=n(16);var c=n(140);var d=n(17);e.exports=s.extend(l,{lazyRender:true,isInitialSwitch:true,duplicateListHint:"",inSync:false,duplicatesCheckFailed:false,template:"lead-conversion-list-switcher",events:function e(){var t=this;return{"click .duplicates-list__search":"onSearchClick","click .duplicates-list__create":"onCreateClick","click .reload-duplicates":function e(){return t.fetchDuplicates()}}},initialize:function e(t){var n=this;this._super(t);this.listenTo(this.collection,"data:sync:start",function(){return n.onCollectionSyncStart()}).listenTo(this.collection,"sync",function(){return n.onCollectionSync()}).listenTo(this.collection,"data:sync:error",function(){return n.onCollectionSyncError()}).listenTo(this.collection,"data:sync:complete reset",function(){n.isNewDuplicateRecord=n.collection.length&&n.collection.first().isNew();n.render()});this.hasListAccess=a.acl.hasAccess("list",t.module);this.hasCreateAccess=a.nomad.canCreateModule(t.module)},onCollectionSyncStart:function e(){this.inSync=true},onCollectionSync:function e(){this.inSync=false;this.duplicatesCheckFailed=false;this.updateDuplicateListHint()},onCollectionSyncError:function e(){this.inSync=false;this.duplicatesCheckFailed=true},onInitialSwitch:function e(){this.createDefaultRecord();this.isInitialSwitch=false},onAfterShow:function e(){var t=this;this._super();this.trigger("view:show",this.getSelectedItem());if(this.duplicatesCheckFailed){this.isInitialSwitch=false;return}if(this.isDuplicatesCheckAvailable()){this.loadData({viewSwitched:true}).then(function(){return t.onInitialSwitch()}).catchReturn()}else if(this.isInitialSwitch){this.onInitialSwitch()}},onAfterRender:function e(){var t=this;this._super();this.dupecheckList=this.getViewById("duplicates");this.listenTo(this.dupecheckList,"selection:change",function(){return t.onSelectionChange()}).listenTo(this.dupecheckList,"edit:click",function(e){return t.showCreateView(e)})},onSelectionChange:function e(){this.trigger("selection:change",this.getSelectedItem())},loadData:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=n.viewSwitched,a=i===undefined?false:i;return d.try(function(){if(!t.duplicatesCheckFailed&&(t.options.shouldCheckOnStart||a)){return t.fetchDuplicates()}})},getViewDefs:function e(t){return[{viewId:"duplicates",view:c,context:new r({module:this.collection.module,collection:this.collection}),subType:"dupecheck",module:t.module,sugarLogicEnabled:false,submitAfterSelect:false,multiselect:false,isPtrEnabled:false,isPaginationEnabled:false,buttonType:"radio"}]},onSearchClick:function e(){var t=this;var n=a.controller.loadScreen({isDynamic:true,applyMaskToList:true,view:u,context:new r({module:this.module,collection:a.data.createBeanCollection(this.module),model:a.data.createBean(this.module)}),multiselect:false})[0];n.onSelectionChange=_.noop;n.getCurrentList().on("selection:change",function(e){t.setSelectedItems(e);a.controller.disposeDynamic()});var i=n._searchBox;i.showSearch({skipAnimation:true});i.onCancelSearch=function(){return a.controller.disposeDynamic()}},onCreateClick:function e(){if(!this.isNewDuplicateRecord){this.showCreateView()}},createDefaultRecord:function e(){if(this.isRequired()&&this.collection.length===0){this.setDefaultRecord()}},setDefaultRecord:function e(){var t=this;var n=a.view.createView({name:o.getViewClass({baseType:"edit",module:this.module}),context:new r({create:true,module:this.module,model:this.model.clone()}),serverSync:false});n.onValidationError=_.noop;n.handleSaveSuccess=_.wrap(n.handleSaveSuccess,function(e){return t.setSelectedItems([n.model])});n.save()},showCreateView:function e(t){var n=this;t=t?t.clone():this.model.clone();var i=this.options.conversionMetadata.hiddenFields;var s=a.controller.loadScreen({isDynamic:true,applyMaskToList:true,view:o.getViewClass({baseType:"edit",module:this.module}),context:new r({create:true,module:this.module,model:t}),initOptions:{conversionMetadata:this.options.conversionMetadata,serverSync:false,getDisplayFields:function e(t){if(!i){return t}return t.map(function(e){if(!i[e.name]){return e}return _.extend({},e,{required:false,readonly:true})})}},headerConfig:{save:true,cancel:true,mainMenu:false,title:a.lang.get("LBL_CREATE_MODULE",this.module,a.lang.getModuleName(this.module))}})[0];s.onValidationError=_.noop;s.handleSaveSuccess=_.wrap(s.handleSaveSuccess,function(e){n.setSelectedItems([s.model]);a.controller.disposeDynamic()})},setSelectedItems:function e(t){var n=t.length===1&&t[0];this.updateDuplicateListHint(t,n);this.collection.reset([].concat(i(t)));if(n){this.dupecheckList.clearSelection();this.dupecheckList.toggleItemSelected(n.cid)}},updateDuplicateListHint:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.collection.models;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.getSelectedItem();if(n){this.duplicateListHint=t[0].isNew()?"LBL_CREATED_NEW_RECORD":"LBL_SELECTED_EXISTING_RECORD"}else{this.duplicateListHint="LBL_SELECT_DUPLICATE_RECORD"}},getSelectedItem:function e(){return this.dupecheckList.getSelectedModels()[0]},isRequired:function e(){return this.options.conversionMetadata.required},isDuplicatesCheckAvailable:function e(){var t=this.options.conversionMetadata;return t.copyData&&!this.inSync&&!this.collection.dataFetched&&a.acl.hasAccess("list",this.module)&&this.areDuplicateRequiredFieldsFilled()},fetchDuplicates:function e(){var t=this;return new d(function(e,n){if(t.isDuplicatesCheckAvailable()){t.collection.fetch({success:function t(n){e(n)},error:function e(t,i){n(new Error(i))}})}})},areDuplicateRequiredFieldsFilled:function e(){var t=this;var n=this.options.conversionMetadata.duplicateCheckRequiredFields;return!_.any(n,function(e){return _.isEmpty(t.model.get(e))})}})},function(e,t,n){"use strict";var i=n(9);var a=n(11);e.exports=a.extend(i,{template:"lead-conversion-navigation-view",events:function e(){return{"click .lead-conversion__prev":"navigate","click .lead-conversion__next":"navigate"}},initialize:function e(t){this._super(t);this.state={nextBtn:{show:true,icon:"leadConversion.next",enabled:false,label:"LBL_NEXT_BUTTON_LABEL"},backBtn:{show:false,icon:"leadConversion.back",enabled:true,label:"LBL_BACK"}}},navigate:function e(t){t.preventDefault();t.stopPropagation();var n=$(t.currentTarget);if(n.hasClass("disabled")){return}var i=n.hasClass("lead-conversion__next");var a=i?this._activeIndex+1:this._activeIndex-1;this.trigger("view:switch",{index:a})},update:function e(t){this.state.nextBtn=_.extend({},this.state.nextBtn,t.nextBtn);this.state.backBtn=_.extend({},this.state.backBtn,t.backBtn);this.render()},syncActive:function e(t){var n=t.index;this._activeIndex=n}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(17);var r=n(49);var s=n(376);var o=n(377);var l=n(374);var u=n(11);var c=n(5);var d=n(10);var f={DEFAULT:"default",FULFILLED:"fulfilled",INVALID:"invalid"};e.exports=u.extend(r,{_stringType:"lead-conversion-container",lazyLoad:false,lazyRender:false,shouldFetchContext:false,omitSwitcherForOneView:false,loadViewOnSwitch:true,viewSwitcher:o,template:"lead-conversion-view",initialize:function e(t){this.conversionModules=t.data.conversionModules;this.sourceFields=i.metadata.getModule("Leads","fields");this.leadModel=t.data.leadModel;this.stepsCount=this.conversionModules.length;this.$loadingScreenTargetEl=i.$rootEl.find("#content-child");this._super(t);this.leadConversionAnalytics=l();this.leadConversionAnalytics.initiate()},listenToChildViewsEvents:function e(){var t=this;_.each(this._views,function(e){t.listenTo(e,"selection:change",function(e){t.updateViewSwitcher(e)}).listenTo(e,"view:show",function(e){t.updateViewSwitcher(e);var n=i.lang.getModuleName(t.currentView.module);i.controller.updateHeader(t,function(e){var a=t.currentView.isRequired();var r=a?n:n+" ("+i.lang.get("LBL_OPTIONAL")+")";e.setTitle(r)});t.updateProgressBar()})})},updateViewSwitcher:function e(t){this.viewSwitcher.update(this.getNavigationState(t))},onAfterRender:function e(){this._super();this.$progress=this.$(".progress-bar");this.updateProgressBar();this.listenToChildViewsEvents();this.updateViewSwitcher()},headerConfig:function e(t){var n=this._views[this.activeIndex];var a=i.lang.getModuleName(n.module);var r=this.currentView.isRequired();var s=r?a:a+" ("+i.lang.get("LBL_OPTIONAL")+")";return _.extend({},t,{title:s,buttons:{cancel:true}})},createDuplicatesCollection:function e(t){var n=t.module,a=t.duplicatesCheckModel;return i.data.createBeanCollection(n).setOption("endpoint",function(e,t,r,s){var o=i.api.buildURL(n,"duplicateCheck");var l=_.keys(a.attributes);var u=i.data.getEditableFields(a,l);return i.api.call("create",o,u,s)})},getDuplicateCheckModel:function e(t){var n=t.moduleMetadata,a=t.sourceFields,r=t.sourceModel;if(!n.copyData){return}var s=_.isEmpty(n.fieldMapping)?{}:n.fieldMapping;var o=i.metadata.getModule(n.module,"fields");var l=i.data.createBean(n.module);_.each(r.attributes,function(e,t){var n=a[t];var u=o[t];if(_.isUndefined(n)||_.isUndefined(u)||!_.isUndefined(s[t])){return}if(i.acl.hasAccessToModel("edit",l,t)&&n.type===u.type&&n.duplicate_on_record_copy!=="no"&&r.has(t)&&r.get(t)!==l.get(t)){s[t]=t}});this.populateRecord(r,l,s);return l},populateRecord:function e(t,n,a){var r=this;var s=false;_.each(a,function(e,a){if(t.has(e)&&r.shouldSourceValueBeCopied(t.get(e))&&t.get(e)!==n.get(a)){var o=t.get(e);if(_.isObject(o)){o=i.utils.deepCopy(o)}n.setDefault(a,o);n.set(a,o);s=true}});return s},updateDependentModels:function e(t){var n=this;var i=t.module;_.each(this._views,function(e){var a=e.model;var r=_.findWhere(n.conversionModules,{module:a.module});var s=r&&r.dependentModules;var o=s&&s[i]&&s[i].fieldMapping;if(o){var l=n.populateRecord(t,a,o);if(l){e.collection.dataFetched=false}}})},shouldSourceValueBeCopied:function e(t){return _.isNumber(t)||_.isBoolean(t)||!_.isEmpty(t)},showLoadingScreen:function e(){d.show("lead-conversion",{template:"preloader-convert-lead",$appendTo:this.layout.$el})},hideLoadingScreen:function e(){d.hide("lead-conversion",{animate:true})},getViewDefs:function e(t){var n=this;var r=[];var o=_.map(this.conversionModules,function(e){var o=e.module;var l=e.duplicateCheckOnStart;var u=n.getDuplicateCheckModel({moduleMetadata:e,sourceFields:n.sourceFields,sourceModel:t.data.leadModel});var c=n.createDuplicatesCollection({module:o,duplicatesCheckModel:u});var d=new a(function(e,t){n.listenTo(c,"data:sync:start",function(){n.showLoadingScreen()}).listenTo(c,"sync",function(){n.hideLoadingScreen();if(c.length){n.leadConversionAnalytics.trackDuplicatesFound(o)}e()}).listenTo(c,"data:sync:error",function(e){n.hideLoadingScreen();t(new Error(e))})});r.push(d);return{module:o,shouldCheckOnStart:l,viewId:"list-switcher-"+o,conversionMetadata:e,collection:c,model:u||i.data.createBean(o),view:s,title:i.lang.getModuleName(o)}});a.all(r).catchReturn();return o},switchView:function e(t){var n=this;var i=t.index;var a=this._views[i];if(!a){this.convert();return}var r=_.keys(a.options.conversionMetadata.dependentModules);_.chain(this._views).map(function(e){return e.getSelectedItem()}).each(function(e,t){var i=n._views[t];if(_.contains(r,i.module)){n.updateDependentModels(e)}});this._super(t)},getNavigationState:function e(t){var n=this._views[this.activeIndex+1];var a=n?i.lang.getModuleName(n.module):"LBL_CONVERT";var r=this._views[this.activeIndex-1];var s=r&&i.lang.getModuleName(r.module);var o={label:a,enabled:!this.currentView.isRequired()||!n&&t||t};var l={show:Boolean(s),label:s};if(!n){o.icon=false}return{nextBtn:o,backBtn:l}},getProgress:function e(){return((this.activeIndex+1)/this.stepsCount*100).toFixed(0)},updateProgressBar:function e(){var t=this.getProgress();this.$progress.css("left",t+"%");this.$progress.attr("data-progress",t+"%")},convert:function e(){var t=this;var n=function e(t){return t.getSelectedItem()};var a=this._views.filter(n);var r=a.map(n);var s=a.map(function(e){return e.module});this.leadConversionAnalytics.trackConvert(s);return this.moveRelatedActivitiesConfirm().then(function(){return t.requestLeadConversion(r)}).then(function(){return t.onConversionSuccess()}).catch(function(e){return t.onConversionError(e)}).tap(function(){i.syncAlertManager.hideSyncAlert()})},requestLeadConversion:function e(t){var n=this;var r=new Backbone.Model(_.extend({modules:this.parseEditableFields(t)},this.getTransferActivitiesAttributes()));var s=i.api.buildURL("Leads","convert",{id:this.leadModel.id});i.syncAlertManager.showSyncAlert("update");return new a(function(e,t){i.api.call("create",s,r,{success:e,error:function e(a){n.leadConversionAnalytics.trackError(a);i.error.handleHttpError(a,null,{forceAlert:true});t(new Error(a))}})})},moveRelatedActivitiesConfirm:function e(){var t=this;return new a(function(e,n){var a=i.metadata.getConfig().leadConvActivityOpt;if(a==="donothing"){return e()}c.showConfirm(i.lang.get("LBL_MOVE_RELATED_ACTIVITIES_PROMPT"),{callback:function n(i){if(i===2){t.model.set("transfer_activities",true,{silent:true})}e()}})})},onConversionSuccess:function e(){i.alert.show("conversion_success",{level:"success",messages:i.lang.get("LBL_LEAD_CONVERSION_SUCCESS",null,{name:this.leadModel.get("name")}),autoClose:true});i.controller.goBack()},onConversionError:function e(t){},parseEditableFields:function e(t){var n={};_.each(t,function(e){var t=_.keys(e.attributes);n[e.module]=i.data.getEditableFields(e,t)});return n},getTransferActivitiesAttributes:function e(){var t=i.metadata.getConfig().leadConvActivityOpt;var n=this.model.get("transfer_activities");return{transfer_activities_action:t==="move"&&n?"move":"donothing"}}})},function(e,t,n){"use strict";var i=n(11);var a=n(33);i.registerListItemDataProvider({name:"list-item-emails",prepareFields:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=n[1];var r=this.parent.prepareFields.apply(this,[].concat(n));var s=_.findWhere(a.displayFields,{name:"date_sent"});var o=_.findWhere(a.displayFields,{name:"name"});if(s){r.additionalFields=_.filter(r.additionalFields,function(e){return!e.name!=="date_sent"});_.extend(r,{dateSentFieldDef:{name:"date_sent",type:"datetimecombo"},subjectFieldDef:o})}return r}});var r=i.extend(a,{isSearchEnabled:false,listItemTpl:"emails-list-item",listItemDataProvider:"list-item-emails"});e.exports=r},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var a=n(11);var r=n(14);var s=a.extend(r,{listItemTpl:"leads-list-item",listItemDataProvider:"list-item-leads"});a.registerListItemDataProvider({name:"list-item-leads",prepareFields:function e(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++){n[a]=arguments[a]}var r=n[1];var s=this.parent.prepareFields.apply(this,[].concat(n));var o=_.findWhere(r.displayFields,{name:"status"});var l=Boolean(_.findWhere([].concat(i(s.additionalFields||[]),[r.sortBy,s.titleField]),{name:"status"}));if(o&&!l){s=_.extend({},s,{statusFieldDef:o})}return s}});e.exports=s},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(6);var s=n(70);var o=n(80);var l=function e(t,n,a){var s=i.utils.formatString(t,[a.id]);r.openUrl(s)};e.exports=a.extendComponent(s,{contextMenuActions:[{name:"reply",types:["context-menu"],label:"LBL_TWITTER_REPLY",iconKey:"actions.reply",handler:function e(t,n){l(t._urlTweetReply,t,n)}},{name:"retweet",types:["context-menu"],label:"LBL_TWITTER_RETWEET",iconKey:"actions.retweet",handler:function e(t,n){l(t._urlRetweet,t,n)}},{name:"favorite",types:["context-menu"],label:"LBL_TWITTER_FAVORITE",iconKey:"actions.favorite",handler:function e(t,n){l(t._urlTweetFavorite,t,n)}}],_urlTweetReply:"https://twitter.com/intent/tweet?in_reply_to={0}",_urlRetweet:"https://twitter.com/intent/retweet?tweet_id={0}",_urlTweetFavorite:"https://twitter.com/intent/favorite?tweet_id={0}",_urlTweetOpen:"https://twitter.com/{0}/status/{1}",_urlTwitterProfile:"https://twitter.com/{0}",isPaginationEnabled:false,initialize:function e(t){this.connectorCriteria=["eapm_bean","test_passed"];this._super(t)},onItemClick:function e(t){var n=i.utils.formatString(this._urlTweetOpen,[t.screen_name,t.id]);r.openUrl(n)},refresh:function e(t){this.loaded=false;this.loadData(t)},loadData:function e(t){if(this.loaded){return}this.tried=false;this._checkConnector(t)},loadDataWithValidConnector:function e(t,n){var a=this;n=n||{};var r=function e(n,r,s,l){if(!a.getTwitterName()){return}var u=parseInt(a.listParams.limit||i.config.maxQueryResult);var c=i.api.buildURL("connector/twitter","",{id:a.twitter},{count:u,connectorHash:t.connectorHash});var d=l.success;var f=l.error;l.success=function e(t,n){if(_.isArray(t)){_.each(t,function(e){e=_.extend(e,a.processRawTweet(e))},this)}else{t=[]}if(d){d({next_offset:-1,records:t},n)}};l.error=function e(t){if(d){d({next_offset:-1,records:[]},t.request)}if(t.code){if(a.tried){a.handleLoadError(null)}else{a.tried=true;o.getConnectors(function(){return a._checkConnector(s)})}}else{f(t)}};return i.api.call("read",c,null,l)};this.collection.fetch({endpoint:r,complete:function e(){a.loaded=true;if(_.isFunction(n.complete)){n.complete()}}})},_checkConnector:function e(t){var n=this;o.checkConnector({name:"ext_rest_twitter",criteria:this.connectorCriteria,success:function e(i){n.loadDataWithValidConnector(i,t)},error:function e(i){n.handleLoadError(i);if(t&&t.complete){t.complete()}}})},processRawTweet:function e(t){var n=i.date(t.created_at,"ddd MMM DD HH:mm:ss Z YYYY").toDate();var a=t.retweeted_status?"RT @"+t.retweeted_status.user.screen_name+": "+t.retweeted_status.text:t.text;var r=t.source;var s=t.id_str;var o=t.user.name;var l=a.split(" ");var u=t.user.screen_name;var c=i.utils.formatString(this._urlTwitterProfile,[t.user.screen_name]);var d=t.user.profile_image_url_https;var f=void 0;var h=new Date;var p=(h.getTime()-n.getTime())/(1e3*60*60*24);var m=p>1;for(f=0;f<l.length;f++){if(l[f].charAt(0)==="h"&&l[f].charAt(1)==="t"){l[f]="<a class='tw__as_content_url' href=\""+l[f]+"\" target='_blank'>"+l[f]+"</a>"}}a=l.join(" ");return{id:s,name:o,screen_name:u,tw_profile_url:c,tw_profile_image_url:d,text:a,source:r,date:n,useAbsTime:m}},handleLoadError:function e(t){var n=i.lang.get("LBL_CONFIGURE_TWITTER");if(!t&&this.twitter){n=i.lang.get("LBL_ERROR_CANNOT_FIND_TWITTER")+this.twitter}else if(t&&!t.test_passed&&t.testing_enabled){n=i.lang.get("LBL_CONNECT_TEST_FAIL")}this.$(".no-records-found").showElement();i.alert.show("twitter_error",{level:"error",messages:n,autoClose:true})},getTwitterName:function e(){var t=this.listParams;var n=t.parentModel;var i=void 0;var a=void 0;if(t.twitter){i=t.twitter}else if(n){a=o.getConnectorModuleFieldMapping("ext_rest_twitter",n.module)||{};i=n.get("twitter")||n.get(a.name)||n.get("name")||n.get("account_name")||n.get("full_name")}if(i){i=i.replace(/ /g,"");this.twitter=i}return i}})},function(e,t,n){"use strict";var i=n(2);var a=n(21);var r=n(145);e.exports=i.extendComponent(r,{className:"view__login login__settings",template:"login-settings",events:function e(){var t=this;var e=this._super();_.extend(e,{"click .continue_btn":"onContinue","keyup input":function e(){return t._updateSettingsBtnsState()},"change input":function e(){return t._updateSettingsBtnsState()},"keypress input":function e(n){if(n.which===13){n.srcElement.blur();t.onContinue()}}});return e},initialize:function e(t){this._super(t);var n=a.getTempSetting();this.serverUrl=n.loginUrl;this.useHttps=n.useHttps;this.isSSO=n.isSSO},onContinue:function e(){var t=this;if(!this.$(".continue_btn").is("[disabled=disabled]")){this.updateLoginSettings(function(){t.trigger("settings:submit")})}}})},function(e,t,n){"use strict";var i=n(9);var a=n(2);var r=SUGAR.App;var s=n(362);var o="DATA_GEN_ALERT";var l=a.extendComponent(i,{template:"offline-data-generation",recordsPerModule:1e3,parentRelationsAmount:1,childRelationsAmount:1,_isBusy:false,events:function e(){return{"click button":"_onButtonClick","change #relation-select":"_onRelationSelect"}},initialize:function e(t){this._super(t);s.init();this._modules=s.availableModules.sort();this._relationships=s.availableRelationships},generateDefault:function e(){var t=this;var n=Number(this.$el.find("#all-data-amount").val());s.generateRecords({amount:n,callback:function e(){return t.onGenerationFinished()}})},generateCustom:function e(){var t=this;var n=this.$el.find(".custom-data-checkbox:checked");var i={};_.each(n,function(e){var n=$(e).data("module");var a=Number(t.$el.find("input[type=number][data-module="+n+"]").val());i[n]={amount:a}});s.generateRecords({modules:i,callback:function e(){return t.onGenerationFinished()}})},generateRelationships:function e(){var t=this;s.generateAllRelations({callback:function e(){return t.onGenerationFinished()}})},generateCustomRelationships:function e(){var t=this;var n={parentAmount:Number(this.$el.find("#parent-module-amount").val()),childAmount:Number(this.$el.find("#child-module-amount").val()),callback:function e(){return t.onGenerationFinished()}};s.generateRelationship(this._getSelectedRelation(),n)},_onRelationSelect:function e(){var t=this._getSelectedRelation();this.$el.find("#parent-module").text(t.parentModule);this.$el.find("#child-module").text(t.childModule)},_onButtonClick:function e(t){if(this._isBusy){return}var n=$(t.target).data("action");var i=true;switch(n){case"generate-default-data":this.generateDefault();break;case"generate-selected-data":this.generateCustom();break;case"generate-default-relationship":this.generateRelationships();break;case"generate-selected-relationship":this.generateCustomRelationships();break;default:i=false;break}if(i){this._isBusy=true;r.alert.dismiss(o);r.alert.show(o,{autoClose:false,messages:"Working hard ..."})}},_getSelectedRelation:function e(){var t=this.$el.find("#relation-select").val().split(" ")[0];return r.offline.storage.offlineMeta.relationships[t]},onGenerationFinished:function e(){this._isBusy=false;r.alert.dismiss(o);r.alert.show(o,{level:"success",autoClose:true,messages:"Done!"})}});e.exports=l},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isDirectionLTR;var s=n(2);var o=n(9);var l=n(33);var u=n(46);var c=s.extendComponent(o,{template:"right-menu",events:{click:function e(){this.toggle(false)},"click .menu-item__link":"onItemClick"},quickAction:undefined,quickActionTypes:["create","create-related","create-parent"],initialize:function e(t){this._super(t);this.$body=$(document.body);var n=t.parentView instanceof l;this.options.viewBaseType=n?"list":"detail";if(n){this._parentView=t.parentView.name==="global-search"?t.parentView:t.parentView.getCurrentList()}else{this._parentView=t.parentView.getViewById("detail")}this.availableActions=this.getAvailableActions();var i=_.first(this.availableActions);if(this.availableActions.length===1&&_.contains(this.quickActionTypes,i.name)){this.quickAction=i}},onAfterRender:function e(){this._super();this.$contentWrapper=i.$rootEl.find("#wrapper")},isActionListAvailable:function e(){return!_.isEmpty(this.availableActions)&&!this.quickAction},getAvailableActions:function e(){return u.getRightMenuActions({model:this._parentView.model||this._parentView.collection,viewType:this.options.viewBaseType,viewSubType:this.options.viewSubType,view:this._parentView})},refillMenu:function e(){this.availableActions=this.getAvailableActions();this.render()},toggle:function e(t,n,a){var s=this;var o=r()?1:-1;t=_.isUndefined(t)?!this._isRightMenuOpened:t;var l={show:t,disableAnimation:n,callback:a,view:this};if(t){this.refillMenu();this.$body.on("touchstart.header"+this.cid,function(e){if(s.disposed){return}var t=$(e.target);var n=(t.hasClass("create-entity")||t.hasClass("header-icon__plus"))&&!_.isEmpty(s.options.headerRef.$el.find(t));var a=i.isTablet?!_.isEmpty(s.$el.find(t)):!_.isEmpty($("#right-menu").find(t));if(!(n||a)){s.toggle(false)}if(i.isTablet){e.stopPropagation()}})}else{this.$body.off("touchstart.header"+this.cid)}if(i.isTablet){this._isRightMenuOpened=t;this.$(".createBtn").toggleClass("active",t);i.$rootEl.find(".box__header").toggleClass("box__header_full-height",t);i.$rootEl.find(".overlay__right-menu").toggleElement(t);this.$(".right-menu")[t?"fadeIn":"fadeOut"]();this.registerActiveComponent(l)}else{this.registerActiveComponent(l);var u=n||!i.supportedFeatures.menuAnimation?0:200;var c=this.$(".right-menu");var d={contentAnimation:{"-webkit-transform":t?"translate3d("+o*-86+"%, 0, 0)":"translate3d(0, 0, 0)"},overlayAnimation:{"-webkit-transform":t?"translate3d("+o*-86+"%, 0, 0)":"translate3d("+o*-100+"%, 0, 0)"}};var f=function e(){s.$body.toggleClass("show-right-menu",t);s._isRightMenuOpened=t;if(a){a()}};this.animateMenu({isShowing:t,data:d,$menu:c,callback:f,duration:u})}},registerActiveComponent:function e(t){var n=this;if(t.show){this.onClose=function(){return n.toggle(false,t.disableAnimation,t.callback)};i.activeComponents.add(this)}else{this.onClose=undefined;i.activeComponents.remove(this)}},animateMenu:function e(t){var n=t.data,a=t.isShowing,r=t.$menu,s=t.callback,o=s===undefined?_.noop:s,l=t.duration;this._isShowing=a;if(a){r.addClass("show")}this.$contentWrapper.animate(n.contentAnimation,l,"ease-out",function(){if(!a){_.delay(function(){return r.removeClass("show")},l)}if(n.overlayAnimation){i.$rootEl.find("#content-overlay").animate(n.overlayAnimation,0)}o({isShowing:a})})},onItemClick:function e(t){t.preventDefault();t.stopPropagation();var n=$(t.currentTarget).attr("action");var i=_.findWhere(this.availableActions,{name:n});this.executeAction(i)},executeAction:function e(t){if(t&&_.isFunction(t.handler)){t.handler(this._parentView,this.model)}}});e.exports=c},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.stripLastEmptyStrings,s=a.charToHtmlEntity,o=a.escapeRegExp,l=a.stringToHtmlEntities,u=a.isOnline;var c=n(2);var d=n(8);var f=n(72);var h=2;var p=30;var m=8;var g=100;var v=50;var b=f.searchDelay;var y="@";var x="#";var S=["name","first_name","last_name"].join();e.exports=c.extendComponent(d,{className:"view__taggable",template:"taggable",tagListOptionTemplate:Handlebars.compile('<li><a class="taggable-listItem {{#if noAccess}}disabled{{/if}}">{{#if noAccess }}<span class="taggable-status">{{str "LBL_NO_ACCESS_LOWER"}}</span>{{/if}}<div class="label label-module-sm label-{{module}}" {{debugAttributes "record_id" id}}>{{moduleIconLabel module}}</div>{{{htmlName}}}</a></li>'),tagShadowTemplate:Handlebars.compile('<span class="sugar_tag {{class}} label-{{module}}">{{text}}</span>'),tagTextTemplate:Handlebars.compile("@[{{module}}:{{id}}:{{name}}]"),_taggableEnabled:false,_taggableListOpen:false,_taggableModuleName:null,_taggableModuleList:null,_taggableModelId:null,_searchForTagsTimerId:null,_lastSearch:null,_prevValue:"",_tags:null,_textareaSelector:".taggable",_shadowSelector:".taggable-shadow",_dropdownSelector:".taggable-dropdown",$textarea:null,textarea:null,$shadow:null,$dropdown:null,events:{"input .taggable":"onInput","click .taggable-dropdown li":"onSearchResultClick","click .sugar_tag":function e(){this.$textarea.focus()}},initialize:function e(t){this._super(t);this._tags={};this._taggableModuleList=_.filter(i.metadata.getModuleNames({filter:"visible"}),function(e){return e!=="Employees"&&e!=="Users"});if(this.model.link){this._taggableModuleName=this.model.link.bean.get("parent_type");this._taggableModelId=this.model.link.bean.get("parent_id")}else{this._taggableModuleName=this.model.module;this._taggableModelId=this.model.id}this._resetLastSearch()},_dispose:function e(){this._abortRequests(true);this._super()},getPost:function e(){var t={};var n=this.textarea.value;var i=0;var a=n.length;var r=void 0;var s={};var o=void 0;t.value="";while(i<a){r=this._tags[i];if(r){o={id:r.model.get("id"),module:r.model.get("_module"),name:r.model.get("name")};s[o.id]=o;t.value+=this.tagTextTemplate(o);i+=r.text.length}else{t.value+=n[i];++i}}t.tags=_.values(s);return t},save:function e(){var t=this.getPost();var n=r(t.value);this.model.set("tags",t.tags,{silent:true});this.model.set("value",n);this.model.trigger("save")},onHeaderSaveClick:function e(){this.save()},onAfterRender:function e(){this.$shadow=this.$el.find(this._shadowSelector);this.$dropdown=this.$el.find(this._dropdownSelector);this.$textarea=this.$el.find(this._textareaSelector);this.textarea=this.$textarea[0];this.$textarea.focus().scroll(_.bind(this.onScroll,this))},onScroll:_.throttle(function e(){var t=this.$textarea.scrollTop();this.$shadow.scrollTop(t)},v),onInput:function e(){_.defer(_.bind(function e(){if(this.disposed){return}var t=void 0;var n=void 0;if(this.textarea.value!==this._prevValue){this._fixTags();this._refreshShadow();t=this._findSearchTerm();n=t.offset!==-1;if(!n&&this._taggableEnabled){this._closeDropdown();this._resetLastSearch()}this._taggableEnabled=n;this._abortRequests(!this._taggableEnabled);if(this._taggableEnabled){this._searchForTags(t)}this._prevValue=this.textarea.value}},this))},onSearchResultClick:function e(t){var n=$(t.target).closest("li");var i=n.closest("ul").children("li").index(n);var a=this._lastSearch.results.models[i];if(a.get("has_access")!==false){this._insertSearchResult(a,this._lastSearch.searchTerm)}},onDataFetch:function e(t,n){if(this._taggableEnabled&&_.isEqual(this._findSearchTerm(),t)){this._lastSearch.searchTerm=t;this._lastSearch.results=n;this._populateTagList(n,t)}},_isReferenceOrMention:function e(t){return t===y||t===x},_refreshShadow:_.throttle(function e(){if(this.disposed){return}var t=void 0;var n=this.textarea.value;var i=0;var a=n.length;var r="";var o=s;while(i<a){t=this._tags[i];if(t){r+=t.html;i+=t.text.length}else{r+=o(n[i]);++i}}this.$shadow.html(r).trigger("scroll")},g),_findSearchTerm:function e(){var t={offset:-1,action:"",term:""};var n="";var i=0;var a=this.textarea.selectionEnd-1;var r=p;var s=this.textarea.value;if(this.textarea.selectionEnd&&this.textarea.selectionStart===this.textarea.selectionEnd){while(a>=0&&r){if(this._isReferenceOrMention(s[a])){if(i>=h){t.offset=a;t.action=s[a];t.term=n}break}else if(s[a]==="\n"){break}else if(s[a]!==" "){++i;--r}n=s[a]+n;--a}}return t},_abortRequests:function e(t){var n=false;if(this._searchForTagsTimerId){window.clearTimeout(this._searchForTagsTimerId);this._searchForTagsTimerId=null}if(this._lastSearch.referenceCollection.getFetchRequest()){this._lastSearch.referenceCollection.abortFetchRequest();n=true}if(this._lastSearch.mentionCollection.getFetchRequest()){this._lastSearch.mentionCollection.abortFetchRequest();n=true}if(t&&n){i.alert.dismiss("data_syncing")}},_resetLastSearch:function e(){var t={offset:-1,action:"",term:""};if(this._lastSearch){this._lastSearch.searchTerm=t;this._lastSearch.results=[]}else{this._lastSearch={searchTerm:t,results:[],referenceCollection:i.data.createMixedBeanCollection(),mentionCollection:i.data.createBeanCollection("Users")}}},_matchLastSearch:function e(t){var n=this._lastSearch.searchTerm;var i=false;if(n.action===t.action){if(n.action===t.action&&n.offset===t.offset&&(n.term.trim()===t.term.trim()||!t.term.trim().indexOf(n.term.trim())&&!this._lastSearch.results.length)){i=true}}return i},_getUserFilter:function e(t){var n=t.term.trim();var i=null;var a=void 0;var r=void 0;var s=n.match(/([^\s]+)(\s?)(.*)/);if(s){a=s[1].trim();r=s[3].trim();i=[{$and:[{status:{$not_equals:"Inactive"}},{$or:[{first_name:{$starts:n}},{last_name:{$starts:n}}]}]}];if(r){i[0].$and[1].$or.push({$and:[{first_name:{$starts:a}},{last_name:{$starts:r}}]});i[0].$and[1].$or.push({$and:[{first_name:{$starts:r}},{last_name:{$starts:a}}]})}}return i},_searchForTags:function e(t){this._searchForTagsTimerId=window.setTimeout(_.bind(function e(t){this._searchForTagsTimerId=null;if(this.disposed||this._matchLastSearch(t)||!u()){return}var n=_.bind(this.onDataFetch,this,t);if(t.action===y){var a=this._getUserFilter(t);if(a){this._lastSearch.mentionCollection.offlineReadDisabled=i.offlineEnabled;this.listenTo(this._lastSearch.mentionCollection,"sync",n);this._lastSearch.mentionCollection.fetch({limit:m,filter:a,params:{has_access_module:this._taggableModuleName,has_access_record:this._taggableModelId}})}}else if(t.action===x){this._lastSearch.referenceCollection.offlineReadDisabled=i.offlineEnabled;this.listenTo(this._lastSearch.referenceCollection,"sync",n);this._lastSearch.referenceCollection.fetch({limit:m,fields:["name"],module_list:this._taggableModuleList,params:{search_fields:S,q:t.term}})}},this,t),b)},_populateTagList:function e(t,n){if(!t.length){this._closeDropdown();return}this.$dropdown.empty();t.each(function e(t){var i=o(l({stringToTransform:n.term}));var a=Handlebars.Utils.escapeExpression(t.get("name")).replace(new RegExp("("+i+")","ig"),function(e,t){return"<strong>"+t+"</strong>"});var r={module:t.get("_module"),id:t.get("id"),name:t.get("name"),htmlName:a,noAccess:t.get("has_access")===false};var s=$(this.tagListOptionTemplate(r));this.$dropdown.append(s)},this);if(!this._taggableListOpen){this._taggableListOpen=true;this.$el.addClass("show-dropdown");document.activeElement.blur();this.textarea.focus();this.$dropdown.showElement()}},_closeDropdown:function e(){if(this._taggableListOpen){this.$el.removeClass("show-dropdown");this.$dropdown.empty().hideElement();this._taggableListOpen=false}},_insertSearchResult:function e(t,n){var i=this.textarea.value||"";var a=i.slice(n.offset,n.offset+n.term.length+1);var r=void 0;var s=t.get("name");var o=this.textarea.selectionStart;var l=this.textarea.selectionEnd;var u=void 0;var c=void 0;var d=void 0;var f=void 0;if(a===n.action+n.term){r=i.slice(0,n.offset)+s+i.slice(n.offset+a.length);this.textarea.value=r;this._fixTags();this._prevValue=r;this.textarea.focus();if(this.textarea.setSelectionRange){u=Math.min(o,l);c=Math.max(o,l);if(u>n.offset&&u<n.offset+a.length||c>n.offset&&c<n.offset+a.length||u<=n.offset&&c>=n.offset+a.length){d=n.offset+s.length;f=d}else if(c>=n.offset+a.length){d=o-a.length+s.length;f=l-a.length+s.length}else{d=o;f=l}this.textarea.setSelectionRange(d,f)}this._addTag({model:t,offset:n.offset,text:s});this._refreshShadow()}this._closeDropdown()},_addTag:function e(t){var n={text:t.text,module:t.model.get("_module")};n.class=n.module==="Users"?"mention":"reference";this._tags[t.offset]=t;this._tags[t.offset].html=this.tagShadowTemplate(n)},_fixTags:function e(){var t=this.textarea.value;var n=t.length-this._prevValue.length;var i=void 0;var a={};if(n===-1){i=_.find(this._tags,function(e){return e.text.length>1&&t.slice(e.offset,e.offset+e.text.length)!==e.text&&t.slice(e.offset,e.offset+e.text.length-1)===e.text.slice(0,-1)});if(i){t=t.slice(0,i.offset)+t.slice(i.offset+i.text.length-1);this.textarea.value=t;this.textarea.setSelectionRange(i.offset,i.offset);n=-i.text.length}}_.each(this._tags,function(e){if(t.slice(e.offset,e.offset+e.text.length)===e.text){}else if(t.slice(e.offset+n,e.offset+e.text.length+n)===e.text){e.offset+=n}else{return}a[e.offset]=e});this._tags=a}})},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(2);var r=n(8);var s=n(20);e.exports=a.extendComponent(r,{_bodyScroll:true,events:{"click .sbSkipBtn":"onTouchIdSkip","click .sbEnableBtn":"onTouchIdEnableClick","click .sbOkBtn":"onTouchIdOkClick"},initialize:function e(t){this._super(t);this.setupBuddy=n(37);this.template=i.template.get("touchid-setup");this._isTouchIdSupported=Boolean(i.clientInfo.device.touchIdSupported)},onAppResume:function e(){this.loadData()},loadData:function e(){var t=this;s.isTouchIdEnrolled(function(e){var n=i.lang.get(i.clientInfo.device.faceIdSupported?"LBL_FACEID":"LBL_TOUCHID");t._isTouchIdEnrolled=e;t.sbHeader=i.lang.get(e?"LBL_ENABLE_TOUCHID":"LBL_SETUP_TOUCHID",null,{biometryType:n});t.sbDescription=e?i.lang.get("LBL_TOUCH_ID_DISCLAIMER",null,{brandName:i.config.brandName,biometryType:n}):i.lang.get("LBL_TOUCH_ID_NOT_ENROLLED_MSG",null,{brandName:i.config.brandName,biometryType:n});t.render()})},onTouchIdSkip:function e(t){this.setupBuddy.setupStepCompleted()},onTouchIdOkClick:function e(t){this.setupBuddy.setupStepCompleted()},onTouchIdEnableClick:function e(t){s.moveTempCredentialsToStorage();this.setupBuddy.setupStepCompleted()}})},function(e,t,n){"use strict";(function e(t){var n={"list~Step1":{updatedVersion:2.7,content:[{selector:".logo",text:"LBL_MOBILE_TUTORIAL_HOME_MENU"},{selector:".createBtn",text:"LBL_MOBILE_TUTORIAL_HOME_PLUS"}]},list:{updatedVersion:2.7,content:[{show:"native",selector:".list-item.has-menu:nth-child(1)",text:"LBL_MOBILE_TUTORIAL_HOME_SWIPE",fromRight:true,vertAdj:5,horizAdj:-50,customMarker:"tutorial-swipe"}]},"detail~TxLog~Dashboards":{updatedVersion:2.7,content:[{selector:".bizcard .goedit-icon",text:"LBL_MOBILE_TUTORIAL_DETAIL_EDIT_ACTION",vertAdj:2,horizAdj:-2}]}};t.tutorial=t.tutorial||{};t.tutorial.config=n})(SUGAR.App)},function(e,t,n){"use strict";var i=SUGAR.App;var a=n(3),r=a.isElVisible,s=a.isDirectionLTR;var o=n(22);var l=20;var u=2;var c=_.extend({instance:null,show:function e(t,n){if(!i.config.ui.showTutorial){}else if(i.tutorial.data){this.doTutorial(t,n)}else{i.tutorial.data=this.prepareData(i.tutorial.config);this.doTutorial(t,n)}},prepareData:function e(t){var n={};_.each(t,function(e,t){var a=_.filter(e.content,function(e){var t=void 0;if(e.show){t=e.show==="native"&&i.isNative||e.show==="web"&&!i.isNative}else{t=true}return t});if(a.length){n[t]=e;n[t].content=a}});return n},doTutorial:function e(t,n){var a=this.getStepName(t,n);var r=i.tutorial.data[a];var s=this.getPrefs();if(r&&!i.tutorial.instance){this.createInstance(r,a,s)}},getStepName:function e(t,n){var a=new RegExp("^"+t+"([~:].*)?$","i");var r=_.chain(i.tutorial.data).keys().select(function(e){return a.test(e)}).value().sort(function(e,t){return e.indexOf(":")>-1?1:e.indexOf("~")>-1&&t.indexOf(":")<0?1:-1});var s=this;var o=void 0;_.each(r,function(e){if(e.indexOf(":")>-1&&_.contains(e.split(":"),n)&&s.isNewStep(e)){o=e}else if(e.indexOf("~")>-1&&!_.contains(e.split("~"),n)&&s.isNewStep(e)){o=e}else if(e===t&&s.isNewStep(e)){o=e}});return o},isNewStep:function e(t){var n=i.tutorial.getPrefs();var a=i.tutorial.data[t];var r=a?a.updatedVersion||0:0;var s=n.viewed[t]||0;return!n.viewed[t]||i.utils.versionCompare(s,r,"<")},createInstance:function e(t,n,i){var a=this;var r=_.any(t.content,function(e){return a.getItem(e.selector).length});if(!r){return}this.instance=new d(_.extend(t,{tutorialName:n}));this.instance.show()},getPrefs:function e(){var t=i.loginManager.getSetting("tutorialPrefs")||{};t.viewed=t.viewed||{};return t},resetPrefs:function e(t){t=t||{};t.viewed={};i.loginManager.setSetting("tutorialPrefs",t)},hasStepToShow:function e(t,n){if(!i.config.ui.showTutorial){}else if(i.tutorial.data){return Boolean(this.getStepName(t,n))}else{return true}},getItem:function e(t){var n=i.controller.layoutManager.getRootLayout();var a=i.controller.layoutManager.getRecordLayout();var s=void 0;if(a){s=a.$el.find(t)}else{s=n.$el.find(t)}if(!r(s)){s=[]}return s}});var d=Backbone.View.extend({events:{click:"onClose",swipe:"onClose"},name:"tutorial",initialize:function e(t){this.content=t.content;this.tutorialName=t.tutorialName;this.tplContext={brandName:i.config.brandName};i.events.on("app:orientation:changed",this._onOrientationChange,this)},_onOrientationChange:function e(){var t=this;this.removeHighlight();_.each(this.content,function(e){t.highlightItem(e)})},onClose:function e(t){var n=this;if(t&&!_.isString(t)){t.preventDefault();t.stopPropagation()}this.setStepViewed();$(this.$el).animate({opacity:0},300,"ease",function(){n.remove()})},show:function e(){var t=this;this.render();_.each(t.content,function(e){t.highlightItem(e)});$(this.$el).css({opacity:"1"});i.activeComponents.add(this)},setStepViewed:function e(){var t=i.tutorial.getPrefs();t.viewed[this.tutorialName]=o.getNomadVersion();i.loginManager.setSetting("tutorialPrefs",t)},highlightItem:function e(t){var n=i.tutorial.getItem(t.selector);if(_.isEmpty(n)){return}var a=document.createElementNS("http://www.w3.org/2000/svg","use");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.customMarker?"#"+t.customMarker:"#marker");this.$marker=$(a);this.$svg.append(a);var r=t.horizAdj||0;var o=n.offset().left;var l=n.offset().top+(t.vertAdj||0);var u=n.offset().width;var c=this.$marker.width();var d=void 0;if(s()){d=o+r+(t.fromRight?u-c:0);o=d}else{d=-(o-r+(t.fromRight?c:u));o=-d-c;a.setAttributeNS(null,"transform","scale(-1, 1)")}a.setAttributeNS(null,"x",d);a.setAttributeNS(null,"y",l);this.appendItemGlow(t,o,l);this.showHighlightText(t,o,l)},appendItemMarker:function e(t,n,i){var a=document.createElementNS("http://www.w3.org/2000/svg","use");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.customMarker?"#"+t.customMarker:"#marker");this.$marker=$(a);this.$svg.append(a)},appendItemGlow:function e(t,n,i){var a=s()?u:-u;if(t.customMarker){return}this.glow=document.createElementNS("http://www.w3.org/2000/svg","circle");this.glow.setAttributeNS(null,"cx",n+l+a);this.glow.setAttributeNS(null,"cy",i+l+u);this.glow.setAttributeNS(null,"r",l);this.glow.setAttributeNS(null,"fill","black");this.glow.setAttributeNS(null,"class","marker-glow");this.$glowWrap.append(this.glow)},showHighlightText:function e(t,n,a){var r=i.lang.get(t.text,null,this.tplContext);var s=$('<div class="text">'+r+"</div>").appendTo(this.$textWrap);var o=this.$marker;var u=n;var c=a;var d=o.width();var f=o.height();var h=s.width();var p=s.height();var m=$(window).width();var _=$(window).height();if(u-h>0){s.css("left",n-h+d);s.css("text-align","right")}else if(u+d+h<m){s.css("left",u);s.css("text-align","left")}else{s.css("left","50%");s.css("marginLeft",-h/2);s.css("text-align","center")}if(c+f+p<_){s.css("top",c+f)}else{s.css("top",c-p-l*1.5)}},render:function e(){var t=i.template.get("tutorial");$("body").append(t());this.$el=$("#tutorial__view");this.$svg=this.$el.find("#tutorial");this.$glowWrap=this.$el.find("#marker-glow");this.$textWrap=this.$el.find("#tutorial-content");this.delegateEvents();return this},remove:function e(){delete this.$marker;delete this.$svg;delete this.$textWrap;Backbone.View.prototype.remove.call(this);i.activeComponents.remove(this);i.events.off("app:orientation:changed",this._onOrientationChange,this);i.tutorial.instance=null},removeHighlight:function e(){this.$textWrap.empty();this.$glowWrap.find(".marker-glow").remove();this.$svg.find("use").remove()}});i.tutorial=i.tutorial||{};i.tutorial=_.extend(i.tutorial,c);e.exports=i.tutorial},function(e,t,n){"use strict";var i=SUGAR.App.config;i.analytics.enabled=false;if(!i.siteUrl){i.siteUrl="../../../sugarcrm"}if(i.scheme!=="e2e"){i.offline.enabled=false}i.keyValueStoreEncryptionEnabled=false;i.offline.dbEncryptionEnabled=false},function(e,t,n){"use strict";var i=n(13);var a=n(5);var r=SUGAR.App;e.exports={_showEmailComposer:function e(t,n,i){window.location="mailto:"+t+"?subject="+n+"&body="+i},_getConsoleLogFilename:function e(t){t()},_share:function e(t,n){var i=this;var s=r.lang.get("LBL_RECORD_SHARE_BUTTON");var o=[r.lang.get("LBL_EMAIL_BUTTON"),r.lang.get("LBL_SMS_BUTTON")];a.showActionSheet(o,{title:s,onSelectCb:function e(n,a){var r=encodeURIComponent(t.body+"\r\n\r\n"+t.url);if(a===0){i._showEmailComposer("",t.subject,r)}else{i._showSmsComposer("",r)}}})},_showSmsComposer:function e(t,n){if(n){if($.os.ios){window.location="sms:"+t+"&body="+n}else{window.location="sms:"+t+"?body="+n}}else{window.location="sms:"+t}},_callPhone:function e(t){window.location="tel:"+t},_browseUrl:function e(t){window.open(t)},_browseWebPage:function e(t){window.open(t)},_showDateTimePicker:function e(t,n,i){},_removeCachedDoc:function e(t){},_browseDoc:function e(t){if(t.oauth){this._downloadDoc(t)}else{this._browseUrl(t.url)}},_downloadDoc:function e(t){var n=this;var i=new window.XMLHttpRequest;var a="download_doc";i.open("GET",t.url);i.addEventListener("loadend",function(){r.alert.dismiss(a);var e=n._getBlob(i.response,t.file_mime_type);n._makeBlobUrl(e,function(e){window.location=e})},false);i.setRequestHeader("OAuth-Token",r.api.getOAuthToken());i.overrideMimeType("application/octet-stream; charset=x-user-defined");i.responseType="arraybuffer";i.send(null);r.alert.show(a,{level:"info",messages:r.lang.get("LBL_MOBILE_DOWNLOAD_STARTED",null,t.filename),autoClose:true,closeable:false})},_getBlob:function e(t,n){var i=void 0;try{i=new Blob([t],{type:n})}catch(e){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(e.name=="TypeError"&&window.BlobBuilder){var a=new BlobBuilder;a.append([t.buffer]);i=a.getBlob(n)}else if(e.name=="InvalidStateError"){i=new Blob([t.buffer],{type:n})}else{throw e}}return i},_makeBlobUrl:function e(t,n){var i=window.URL||window.webkitURL;var a=$.os.ios&&(r.utils.versionCompare($.os.version,7,"<")||$.browser.chromeMobile);if(i&&!a){n(i.createObjectURL(t))}else{s.onloadend=function(){n(s.result)};var s=new window.FileReader;s.readAsDataURL(t)}},_getGeoPlacemarks:function e(t,n){if(n&&n.errorCb){n.errorCb({code:4})}},_redirectToNativeApp:function e(){if($.os.desktop||i.getSetting({store:i.Stores.SETTINGS,name:"redirectDone"})){i.setSetting({store:i.Stores.SETTINGS,name:"redirectDone",value:false});return}var t=window.location.hash.substr(1);var n=new RegExp("^Configure\\?/?","i");var a=n.test(t)?t:"Configure?page="+encodeURIComponent(t);var s=void 0;if($.os.ios){i.setSetting({store:i.Stores.SETTINGS,name:"redirectDone",value:true});window.setTimeout(function(){window.location.reload()},5e3);s=r.config.deepLinking.scheme+":///"+a}else{s="intent://"+a+"#Intent;scheme="+r.config.deepLinking.scheme+";end"}window.location=s},_registerForPushNotifications:function e(){},_sendLocalNotification:function e(t){},_startMobileDeviceManagement:function e(t){},_getManagedConfig:function e(t){t()},_getImportedFileInfo:function e(t){t()}}},function(e,t,n){"use strict";var i=n(66);e.exports={_showAlert:function e(t,n,i,a){alert(t);if(n){n()}},_showConfirm:function e(t,n,i,a){var r=window.confirm(t)?2:1;n(r)},_showActionSheet:function e(t,n){i.show(n.title,t,n.onSelectCb,n.onCancelCb)},_showPrompt:function e(t,n){var i=window.prompt(t,"");var a={buttonIndex:i===null?1:2,input1:i};n.callback(a)}}},function(e,t,n){"use strict";var i=SUGAR.App;_.extend(i.loginManager,{handleExternalLogin:function e(t,n){window.location.href=n.payload.url},handleExternalLogout:function e(t){var n=new Image;n.src=t},handleAuthTokens:function e(){var t=void 0;var n=void 0;var a=i[i.config.authStore];var r=["_AuthAccessToken","_AuthRefreshToken","_DownloadToken"];_.each(r,function(e){t=window.localStorage.getItem(e);if(t){n=true;a.set(e.slice(1),t);window.localStorage.removeItem(e)}});if(n){i.api.setExternalLogin(true);i.trigger("app:login:success")}}})},function(e,t,n){"use strict";(function(e){var t=n(5);_.extend(e.nomad,{preInit:function t(n,i){n.app.productVersion=e.config.appVersion;n.app.productBuild=e.config.appBuild;n.device=$.os;if(window.navigator.standalone){e.controller.navigateToDefaultView()}this.initAppCache();this.initAnalytics();if($.browser.chromeWeb){window.addEventListener("contextmenu",function(e){return e.preventDefault()})}if(e.offline&&e.config.offline){e.config.offline.storageAdapter="webSql"}i()},initAppCache:function n(){var i=window.applicationCache;if(!i){return}i.addEventListener("updateready",function(n){t.showConfirm(e.lang.get("LBL_NEW_WEB_VERSION"),{callback:function t(){e.logger.debug("Swapping application cache and reloading page");i.swapCache();window.location.reload()}})},false)},initAnalytics:function e(){window.Analytics=function e(){};var t=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}var a=n[0];var r=n[1];n.shift();if(a){n[0]=a+"."+r}if(window.ga){ga.apply(window,n)}};_.extend(Analytics.prototype,{start:function e(n,i){var a=i.trackerName;t(null,"create",{trackingId:n,cookieDomain:"none",name:a});if(i.optOut){window["ga-disable-"+n]=true}t(a,"set","anonymizeIp",i.anonymize)},startSession:function e(){},trackPageView:function e(n){t(n.trackerName,"send","pageview",n.view)},trackEvent:function e(n){t(n.trackerName,"send","event",n.category,n.action,n.label,n.value)},setDimension:function e(n){t(n.trackerName,"set","dimension"+n.index,n.value)},setMetric:function e(n){t(n.trackerName,"set","metric"+n.index,n.value)}});window.analytics=new Analytics},loadAnalytics:function e(){(function(e,t,n,i,a,r,s){e.GoogleAnalyticsObject=a;e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=Number(new Date);r=t.createElement(n),s=t.getElementsByTagName(n)[0];r.async=1;r.src=i;s.parentNode.insertBefore(r,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga")},getConnectionType:function e(){return"none"},openDb:function e(t){return window.openDatabase(t.name,"1.0",t.name,5)},_isPlatformSupported:function t(){return $.os.ios&&$.browser.safari&&e.utils.versionCompare($.os.version,"8",">=")||$.os.android&&$.browser.chrome&&e.utils.versionCompare($.os.version,"4.1",">=")||!$.os.ios&&!$.os.android&&$.browser.webkit||e.config.env==="dev"}})})(SUGAR.App)},function(e,t,n){"use strict";e.exports={adjustTemplateName:function e(t){var n=t.split("/");var i=n.length;var a=void 0;n[i-1]=n[i-1].replace(".hbs","");a=n[i-1];if(n[i-3]==="fields"){var r=n[i-2];var s=n[i-1];a=["f",r,s].join(".")}else if(n[i-2]==="modules"){a=n[i-1].replace("-",".")}return a},requireModulesWithinContext:function e(t,n,i){i=_.isFunction(n)?n:i;var a=function e(n){t(n)};n=_.isArray(n)?n:t.keys();n.forEach(i||a)}}},function(e,t,n){"use strict";var i=n(74);var a=n(399);var r=n(154);var s=n(15);var o=n(396);var l=n(18);var u=n(156);var c=n(75);var d=d||{};d.App=function(){var e,t={};var n=false;var f=[];var h=function e(t){return t instanceof $?t:$(t)};function p(e){var t=_.uniqueId("SugarApp_");e=e||{};return _.extend({appId:t,$rootEl:h(e.el||"body"),$contentEl:h(e.contentEl||"#content"),additionalComponents:{}},this,Backbone.Events)}return{init:function t(n){e=e||_.extend(this,new p(n));_.extend(e,i);e.events.register("app:init",this);e.events.register("app:start",this);e.events.register("app:sync",this);e.events.register("app:sync:complete",this);e.events.register("app:sync:error",this);e.events.register("app:sync:public:error",this);e.events.register("app:login",this);e.events.register("app:login:success",this);e.events.register("app:logout",this);e.events.register("app:view:change",this);e.events.register("app:locale:change",this);e.events.register("lang:direction:change",this);if(e.cache){e.cache.init(this)}var a=s.capitalize(e.config?e.config.appId:"")+"Controller";var r=this[a]||o;this.controller=new r;e.api=d.Api.getInstance({defaultErrorHandler:n&&n.defaultErrorHandler?n.defaultErrorHandler:d.App.error.handleHttpError,serverUrl:e.config.serverUrl,platform:e.config.platform,timeout:e.config.serverTimeout,keyValueStore:e[e.config.authStore||"cache"],clientID:e.config.clientID,disableBulkApi:e.config.disableBulkApi,externalLoginUICallback:n&&n.externalLoginUICallback});this._init(n);return e},_init:function t(n){var i=this;var a=function t(a){if(!e){return}if(a){i.trigger("app:sync:public:error",a);return}i._initModules();if(!n.silent){e.controller.setElement(e.$rootEl);e.trigger("app:init",i)}if(n.callback&&_.isFunction(n.callback)){n.callback(e)}};var r=function t(n){if(e.config.loadCss){e.loadCss(n)}else{n()}};if(e.config.syncConfig!==false){var s={getPublic:true};r(function(){c.sync(a,s)})}else{r(function(){a()})}return e},_initModules:function e(){_.each(t,function(e){if(_.isFunction(e.init)){e.init(this)}},this)},_loadConfig:function t(){this.logger.warn("`App._loadConfig` is deprecated since 7.10. Please use `App.setConfig` instead.");e.config=e.config||{};e.config=_.extend(e.config,c.getConfig())},setConfig:function e(t){this.config=this.config||{};this.config=_.extend(this.config,t);this.logger=a(this.config.logger);this.cache=r({uniqueKey:this.config.uniqueKey,env:this.config.env,appId:this.config.appId})},loadCss:function t(n){e.api.css(e.config.platform,e.config.themeName,{success:function t(i){if(e.config.loadCss==="url"){_.each(i.url,function(e){$("<link>").attr({rel:"stylesheet",href:s.buildUrl(e)}).appendTo("head")})}else{_.each(i.text,function(e){$("<style>").html(e).appendTo("head")})}if(_.isFunction(n)){n()}}})},start:function t(){e.events.registerAjaxEvents();e.controller.loadAdditionalComponents(e.config.additionalComponents);e.trigger("app:start",this);u.start()},destroy:function t(){if(Backbone.history){Backbone.history.stop()}e=null},augment:function n(i,a,r){this[i]=a;t[i]=a;if(i==="config"){this.setConfig(a)}if(r&&a.init&&_.isFunction(a.init)){a.init.call(a,e)}},sync:function t(i){var a=this;i=i||{};if(i.getPublic){return a.syncPublic(i)}if(i.callback){f.push(i.callback)}if(n){return}n=true;async.waterfall([function(t){a.isSynced=false;a.trigger("app:sync");var n=!i.noUserUpdate&&(i.language||a.cache.get("langHasChanged"));if(n){var r=i.language||l.getLanguage();a.user.updateLanguage(r,t);e.cache.cut("langHasChanged")}else{t()}},function(e){async.parallel([function(e){a.user.load(e)},function(e){a.metadata.sync(function(t){a.data.declareModels();e(t)},i)}],function(t){e(t)})},function(e){var t=a.metadata.getServerInfo();a.config.sugarLogic=a.config.sugarLogic||{};if(t&&a.config.sugarLogic.enabled&&a.utils.versionCompare(t.version,a.config.sugarLogic.minServerVersion,">=")){a.fetchSugarLogic(e)}else{a.config.sugarLogic.enabled=false;e()}}],function(e){if(e){a.trigger("app:sync:error",e)}else{a.isSynced=true;a.trigger("app:sync:complete");if(window.jQuery){jQuery.migrateMute=a.logger.getLevel().value>a.logger.levels.WARN.value}}_.each(f,function(t){t(e)});n=false;f=[]})},syncPublic:function e(t){t=t||{};t.getPublic=true;this.metadata.sync(t.callback,t)},navigate:function t(n,i,a){var r,s,o;n=n||e.controller.context;i=i||n.get("model");s=i.id;o=n.get("module")||i.module;r=this.router.buildRoute(o,s,a);this.router.navigate(r,{trigger:true})},login:function t(n,i,a){a=a||{};i=i||{};i.current_language=l.getLanguage();e.api.login(n,i,{success:function t(i){e.trigger("app:login:success",i,n.username);if(a.success)a.success(i)},error:function t(n){e.error.handleHttpError(n);if(a.error)a.error(n)},complete:a.complete})},logout:function t(n,i,a){var r,s;n=n||{};r=n.complete;s=n.error;n.complete=function(t){e.trigger("app:logout",i);if(r){r(t)}};n.error=function(t){e.error.handleHttpError(t);if(s)s(t)};return e.api.logout(n,a)},fetchSugarLogic:function t(n){if(e.config.sugarLogic.isDynamic){e.api.call("read",e.api.buildURL("ExpressionEngine","functions"),null,{success:function t(i){e.cacheSugarLogicExpressions(i);e.loadSugarLogic(i,n)},error:function e(t){n(t)}},{dataType:"application/text"})}else n()},cacheSugarLogicExpressions:function t(n){e.cache.set("sugarlogic",n)},_loadSugarLogic:function t(){return e.cache.get("sugarlogic")},loadSugarLogic:function t(n,i){return e.compileJs(n||e._loadSugarLogic(),i)},compileJs:function e(t,n){try{eval.call(window,t);if(n)n()}catch(e){a.fatal("Failed to compile js");if(n)n(e);return e}return null},isServerCompatible:function e(t){var n=this.config.supportedServerFlavors,i=this.config.minServerVersion,a,r,s;if(_.isEmpty(n)&&!i){return true}a=!!(_.isEmpty(n)||t&&_.contains(n,t.flavor));r=!!(!i||t&&this.utils.versionCompare(t.version,i,">="));if(a&&r){return true}else if(!r){s={code:"server_version_incompatible",label:"ERR_SERVER_VERSION_INCOMPATIBLE"}}else{s={code:"server_flavor_incompatible",label:"ERR_SERVER_FLAVOR_INCOMPATIBLE"}}s.server_info=t;return s},modules:t}}();var f=n(7);d.App.Context=f;var h={getContext:function e(t){d.App.logger.warn("The function `app.context.getContext()` is deprecated in 7.10. "+"Please use the `new` keyword to create a context.");return new f(t)}};d.App.augment("Bean",n(44));d.App.augment("BeanCollection",n(53));d.App.augment("MixedBeanCollection",n(157));d.App.augment("error",n(155));d.App.augment("context",h);d.App.augment("utils",s);d.App.augment("cookie",n(398));d.App.augment("Controller",o);d.App.augment("events",n(29));d.App.augment("acl",n(34));d.App.augment("metadata",c);d.App.augment("currency",n(159));d.App.augment("date",n(55));d.App.augment("math",n(160));d.App.augment("plugins",n(35));_.mixin(n(400));d.App.augment("user",n(19));Handlebars.registerHelper(n(401));d.App.augment("validation",n(158));d.App.augment("data",n(54));d.App.augment("lang",l);d.App.augment("template",n(30));d.App.Router=n(397);d.App.augment("routing",u);var p=n(36);d.App.augment("view",p);p.Component=n(45);d.App.augment("alert",n(77));p.AlertView=n(76);p.Field=n(161);p.Layout=n(162);p.View=n(78);e.exports=d},function(e,t,n){"use strict";var i=n(29);var a=n(7);var r=n(36);e.exports=Backbone.View.extend({initialize:function e(){this.context=new a;i.on("app:sync:complete",function(){SUGAR.App.api.setStateProperty("loadingAfterSync",true);_.each(SUGAR.App.additionalComponents,function(e){if(e&&_.isFunction(e._setLabels)){e._setLabels()}e.render()});SUGAR.App.router.reset();SUGAR.App.api.clearStateProperty("loadingAfterSync")});i.on("app:login:success",function(){SUGAR.App.sync()})},loadView:function e(t){var n=this.layout;if(!SUGAR.App.triggerBefore("app:view:change")||!SUGAR.App.triggerBefore("app:view:load")){return}this.context.clear({silent:true});this.context.set(t);this.context.prepare();this.layout=r.createLayout({name:t.layout,module:t.module,context:this.context});if(n){var i=document.createDocumentFragment();i.appendChild(n.el)}SUGAR.App.$contentEl.append(this.layout.$el);this.layout.initComponents();if(!t||t&&!t.skipFetch){this.layout.loadData()}this.layout.render();if(n){n.dispose()}SUGAR.App.trigger("app:view:change",t.layout,t)},loadAdditionalComponents:function e(t){if(!_.isEmpty(SUGAR.App.additionalComponents)){SUGAR.App.logger.error("`Controller.loadAdditionalComponents` has already been called. "+"It can not be called twice.");return}SUGAR.App.additionalComponents={};_.each(t,function(e,t){if(e.target){var n=this.$(e.target);if(!n.get(0)){SUGAR.App.logger.error('Unable to place additional component "'+t+'": the target specified '+"does not exist.");return}if(e.layout){SUGAR.App.additionalComponents[t]=r.createLayout({context:this.context,type:e.layout,el:n});SUGAR.App.additionalComponents[t].initComponents()}else{SUGAR.App.additionalComponents[t]=r.createView({type:e.view||t,context:this.context,el:n})}SUGAR.App.additionalComponents[t].render()}else{SUGAR.App.logger.error('Unable to place additional component "'+t+'": no target specified.')}},this)}})},function(e,t,n){"use strict";var i=n(34);var a=n(77);var r=n(15);var s=n(18);var o=n(155);var l=n(29);var u=n(156);var c=Backbone.Router.extend({initialize:function e(t){t=t||{};this._previousFragment="";this._currentFragment=""},_routeHandler:function e(t){var n=Array.prototype.slice.call(arguments,1),i=t.route;if(u.beforeRoute(i,n)){this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment();t.apply(this,n);u.after(i,n)}},_moduleExists:function e(t){if(t&&_.isUndefined(SUGAR.App.metadata.getModule(t))){o.handleHttpError({status:404});return false}return true},_addDefaultRoutes:function e(){var t=[{name:"notFound",route:/^.*$/,callback:function e(){o.handleHttpError({status:404})}}];this.addRoutes(t)},route:function e(t,n,i){if(!n){throw new Error("You need to provide a route name.")}else if(!_.isEmpty(this._routes[n])){SUGAR.App.logger.error('Route "'+n+'" is being overridden. This is highly NOT advisable.')}this._routes[n]=i;if(!i){i=this[n]}i.route=n;i=_.wrap(i,this._routeHandler);Backbone.Router.prototype.route.call(this,t,n,i)},getFragment:function e(){return Backbone.history.getFragment()},navigate:function e(t,n){Backbone.Router.prototype.navigate.apply(this,arguments);if(!(n&&n.trigger)){this._previousFragment=this._currentFragment;this._currentFragment=this.getFragment()}return this},getPreviousFragment:function e(){return this._previousFragment},goBack:function e(){window.history.back()},go:function e(t){window.history.go(t)},init:function e(){this._routes={};this._addDefaultRoutes();l.trigger("router:init")},start:function e(){if(!Backbone.History.started){Backbone.history.start()}},stop:function e(){Backbone.history.stop()},reset:function e(){SUGAR.App.router.stop();Backbone.history.handlers=[];SUGAR.App.router.init();SUGAR.App.router.start()},addRoutes:function e(t){if(!t){return}var n=t.reverse();_.each(n,function(e){this.route(e.route,e.name,e.callback)},this)},get:function e(t){return this._routes[t]},refresh:function e(){Backbone.history.loadUrl(Backbone.history.fragment)},buildRoute:function e(t,n,i){var a;if(_.isFunction(r.customBuildRoute)){a=r.customBuildRoute.apply(this,arguments);if(!_.isEmpty(a)){return a}}if(t){a=_.isString(t)?t:t.get("module");if(n){a+="/"+n}if(i){a+="/"+i}}else{a=i}return a},redirect:function e(t,n){this.navigate(t,_.extend({trigger:true,replace:true},n))},index:function e(){SUGAR.App.logger.debug("Route changed to index");if(SUGAR.App.config.defaultModule){this.navigate(SUGAR.App.config.defaultModule,{trigger:true})}else if(i.hasAccess("read","Home")){this.navigate("Home",{trigger:true})}},list:function e(t){if(!this._moduleExists(t)){return}SUGAR.App.logger.debug("Route changed to list of "+t);SUGAR.App.controller.loadView({module:t,layout:"records"})},layout:function e(t,n){if(!this._moduleExists(t)){return}SUGAR.App.logger.debug("Route changed to layout: "+n+" for "+t);SUGAR.App.controller.loadView({module:t,layout:n})},create:function e(t){if(!this._moduleExists(t)){return}SUGAR.App.logger.debug("Route changed: create "+t);SUGAR.App.controller.loadView({module:t,create:true,layout:"edit"})},login:function e(){SUGAR.App.logger.debug("Logging in");SUGAR.App.controller.loadView({module:"Login",layout:"login",create:true});l.trigger("app:login");if(SUGAR.App.config.externalLogin){SUGAR.App.api.ping(null,{success:function e(){l.trigger("app:login:success");SUGAR.App.router.refresh()},error:function e(){a.show("needs_login_error",{level:"error",messages:s.getAppString("LBL_LOGIN_INACTIVE_USER"),title:s.get("LBL_INVALID_CREDS_TITLE")})}})}},logout:function e(t){if(!SUGAR.App.api.isAuthenticated()){this.redirect("/");return}t=t==="1";SUGAR.App.logger.debug("Logging out: "+t);SUGAR.App.logout({complete:function e(){SUGAR.App.router.navigate("#");if(!SUGAR.App.config.externalLogin){if(t){window.location.reload()}else{SUGAR.App.router.login()}}else{SUGAR.App.controller.loadView({module:"Login",layout:"logout",skipFetch:true,create:true})}},success:function e(t){l.trigger("app:logout:success",t)}},t)},record:function e(t,n,i,a){if(!this._moduleExists(t)){return}var r=SUGAR.App.controller.context.get("collection"),s=SUGAR.App.controller.context.get("listCollection"),o={module:t,layout:a||"record",action:i||"detail"};if(n!=="create"){_.extend(o,{modelId:n})}else{_.extend(o,{create:true});o.layout="create"}if(r&&r.module===t&&r.get(n)){o.listCollection=r}if(s&&s.module===t&&s.get(n)){o.listCollection=s}SUGAR.App.controller.loadView(o)}});e.exports=c},function(e,t,n){"use strict";var i=n(15);var a=window.location.pathname.replace(/\/[^\/]*$/,"/cookie.html");var r=function e(){return{}};var s={initAsync:function e(t){var n=document.createElement("iframe");n.style.display="none";n.src=a;document.body.appendChild(n);n.contentWindow.onload=function(){r=function e(){return n.contentWindow.getCookie()};t()}},has:function e(t){return t in r()},get:function e(t){return r()[t]},set:function e(t,n){i.cookie.setCookie(t,n,null,a)},cut:function e(t){i.cookie.setCookie(t,"",-1,a)}};e.exports=s},function(e,t,n){"use strict";var i={level:"error",formatter:"SimpleFormatter",consoleWriter:"ConsoleWriter",serverWriter:"ServerWriter"};var a={ConsoleWriter:{write:function e(t,n){if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};if(t.value<=s.levels.INFO.value){console.log(n)}else if(t.value==s.levels.WARN.value){console.warn(n)}else{console.error(n)}}},ServerWriter:{write:function e(t,n){if(t.value<s.levels.WARN.value){return}if(!SUGAR.App.api.isAuthenticated()){return}var e=i.writeToServer||false;if(!e||!n.trim().length){return}var a=SUGAR.App.api.buildURL(undefined,"logger");var r={level:t.name.toLowerCase(),message:n};SUGAR.App.api.call("create",a,r,{success:function e(t){if(!t.status){throw"Failed to write log message {"+n+"} onto server"}},error:function e(t){throw t}})}}};var r={SimpleFormatter:{format:function e(t,n,i){var a=i.getUTCFullYear()+"-"+(i.getUTCMonth()+1)+"-"+i.getUTCDate()+" "+i.getUTCHours()+":"+i.getUTCMinutes()+":"+i.getUTCSeconds();return t.name+"["+a+"]: "+n}}};var s={levels:{TRACE:{value:1,name:"TRACE"},DEBUG:{value:2,name:"DEBUG"},INFO:{value:3,name:"INFO"},WARN:{value:4,name:"WARN"},ERROR:{value:5,name:"ERROR"},FATAL:{value:6,name:"FATAL"}},trace:function e(t){this.log(this.levels.TRACE,t)},debug:function e(t){this.log(this.levels.DEBUG,t)},info:function e(t){this.log(this.levels.INFO,t)},warn:function e(t){this.log(this.levels.WARN,t)},error:function e(t){this.log(this.levels.ERROR,t)},fatal:function e(t){this.log(this.levels.FATAL,t)},getLevel:function e(){var t=i.level;if(!t){return this.levels.ERROR}t=t.toUpperCase();return this.levels[t]||this.levels.ERROR},log:function e(t,n){try{var s=this.getLevel();if(t.value<s.value){return}n=n||"<none>";if(_.isFunction(n)){n=n.call(this)}if(_.isObject(n)){try{n=JSON.stringify(n)}catch(e){n=n.toString()}}var o=r[i.formatter]||r.SimpleFormatter;var l=a[i.consoleWriter]||a.ConsoleWriter;var u=a[i.serverWriter]||a.ServerWriter;n=o.format(t,n,new Date);l.write(t,n);u.write(t,n)}catch(e){console.log("Failed to log message {"+n+"} due to exception: "+e)}}};Object.defineProperty(s,"SimpleFormatter",{get:function e(){SUGAR.App.logger.warn("`Utils.Logger.SimpleFormatter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return r.SimpleFormatter}});Object.defineProperty(s,"ServerWriter",{get:function e(){SUGAR.App.logger.warn("`Utils.Logger.ServerWriter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return a.ServerWriter}});Object.defineProperty(s,"ConsoleWriter",{get:function e(){SUGAR.App.logger.warn("`Utils.Logger.ConsoleWriter` has been made private since 7.10 and you will not be able "+"to access it in the next release. Please do not use it anymore");return a.ConsoleWriter}});e.exports=function(e){i=e||{};return s}},function(e,t,n){"use strict";var i={isEmptyValue:function e(t){return!_.isNumber(t)&&!_.isBoolean(t)&&!_.isDate(t)&&_.isEmpty(t)},changed:function e(t,n){if(_.isEmpty(t)&&_.isEmpty(n)){return}var i={};var a=_.keys(_.extend(i,n,t));_.each(a,function(e){var a=false;if(!_.has(t,e)||!_.has(n,e)||!_.isEqual(t[e],n[e])){a=true}i[e]=a});return i}};e.exports=i},function(e,t,n){"use strict";var i=n(159);var a=n(55);var r=n(161);var s=n(15);var o=n(18);var l=n(162);var u=n(30);var c=n(78);var d=n(36);var f={field:function e(t,n){var e=d.createField({def:this,viewDefs:this,view:t,model:n.hash.model,viewName:n.hash.template});if(n.hash.parent&&_.isArray(n.hash.parent.fields)){n.hash.parent.fields.push(e)}return e.getPlaceholder()},fieldOfType:function e(t,n){var i={type:t,name:t,label:n};var a=d.createField({def:i,view:this});return a.getPlaceholder()},component:function e(t,n){var i,a,r="";i=_.find(t.meta.components,function(e){var t,i;i=e.layout||e.view;if(_.isString(i)){t=i}else{t=i.name||i.type}return t===n});if(_.isObject(i)&&!_.isEmpty(i)){a=t.initComponents([i])[0];i.initializedInTemplate=true;r=a.getPlaceholder()}return r},eachOptions:function e(t,n){var i,a="",r;i=_.isString(t)?o.getAppListStrings(t):t;if(_.isArray(i)){r=function e(t,i){a=a+n.fn({key:i,value:t})}}else if(_.isObject(i)){r=function e(t,i){a=a+n.fn({key:i,value:t})}}else{i=null}if(i)_.each(i,r,this);return a},buildRoute:function e(t){var n=t.hash.context,i=t.hash.model||(n&&n.get("model")?n.get("model"):{}),a=t.hash.module||i.module||(n&&n.get("module")?n.get("module"):null),r=t.hash.id||i.id,s=t.hash.action;return SUGAR.App.router.buildRoute(a,r,s)},fieldValue:function e(t,n,i){return t.get(n)||i.hash.defaultValue||""},has:function e(t,n,i){if(!_.isArray(n)&&!_.isObject(n)){n=[n]}return _.include(n,t)?i.fn(this):i.inverse(this)},notHas:function e(t,n,i){var a=i.fn,r=i.inverse;i.fn=r;i.inverse=a;return Handlebars.helpers.has.call(this,t,n,i)},isSortable:function e(t,n,i){if(s.isSortable(t,n)){return i.fn(this)}else{return""}},eq:function e(t,n,i){return t==n?i.fn(this):i.inverse(this)},notEq:function e(t,n,i){return t!=n?i.fn(this):i.inverse(this)},match:function e(t,n,i){var a=new RegExp(n);if(a.test(t)){return i.fn(this)}else{return i.inverse(this)}},notMatch:function e(t,n,i){var a=new RegExp(n);if(!a.test(t)){return i.fn(this)}else{return i.inverse(this)}},log:function e(t){SUGAR.App.logger.debug("*****HBS: Current Context*****");SUGAR.App.logger.debug(this);SUGAR.App.logger.debug("*****HBS: Current Value*****");SUGAR.App.logger.debug(t);console.log(t);SUGAR.App.logger.debug("***********************")},str:function e(t,n,i){n=_.isString(n)?n:null;return o.get(t,n,i)},relativeTime:function e(t,n){var i=a(t);var r,s;n.hash.title=n.hash.title||i.formatUser(n.hash.dateOnly);r=_.map(n.hash,function(e,t){return t+'="'+Handlebars.Utils.escapeExpression(e)+'"'}).join(" ");s='<time datetime="'+i.format()+'" '+r+">"+i.fromNow()+"</time>";return new Handlebars.SafeString(s)},arrayJoin:function e(t,n){return t.join(n)},nl2br:function e(t){t=Handlebars.Utils.escapeExpression(t);var e=t.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+"<br>");return new Handlebars.SafeString(e)},formatCurrency:function e(t,n){if(_.isObject(n)){n=n.hash.currencyId||undefined}return i.formatAmountLocale(t,n)},firstChars:function e(t,n){return t.substring(0,n)},formatDate:function e(t,n){t=a(t);return t.formatUser(n.hash.dateOnly)},getModuleName:function e(t,n){var i={plural:n.hash.plural,defaultValue:n.hash.defaultValue};return o.getModuleName(t,i)},partial:function e(t,n,i,a){var s,o,d;if(!a&&i.hash){a=i;i={}}d=_.extend({templateComponent:n},i,a.hash);s=a.hash.module||n.module;if(n&&n.options.templateOptions&&n.options.templateOptions.partials){o=n.options.templateOptions.partials[t]}else if(n instanceof r){var f=a.hash.fallbackTemplate;o=u.getField(n.type,t||"detail",s,f)}else if(n instanceof c){var h=n.tplName;o=u.getView(n.name+"."+t,s)||u.getView(n.name+"."+t);if(!o&&h){o=u.getView(h+"."+t,s)||u.getView(h+"."+t)}}else if(n instanceof l){o=u.getLayout(n.name+"."+t,s)||u.getLayout(n.name+"."+t)}return new Handlebars.SafeString(o?o(d):"")}};e.exports=f},function(e,t,n){(function(i){var a,r;(function(s){var o=typeof self=="object"&&self.self===self&&self||typeof i=="object"&&i.global===i&&i;if(true){!(a=[n(284),n(285),t],r=function(e,t,n){o.Backbone=s(o,n,e,t)}.apply(t,a),r!==undefined&&(e.exports=r))}else if(typeof t!=="undefined"){var l=require("underscore"),u;try{u=require("jquery")}catch(e){}s(o,t,l,u)}else{o.Backbone=s(o,{},o._,o.jQuery||o.Zepto||o.ender||o.$)}})(function(e,t,n,i){var a=e.Backbone;var r=Array.prototype.slice;t.VERSION="1.3.3";t.$=i;t.noConflict=function(){e.Backbone=a;return this};t.emulateHTTP=false;t.emulateJSON=false;var s=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,a){return n[t](this[i],l(e,this),a)};case 4:return function(e,a,r){return n[t](this[i],l(e,this),a,r)};default:return function(){var e=r.call(arguments);e.unshift(this[i]);return n[t].apply(n,e)}}};var o=function(e,t,i){n.each(t,function(t,a){if(n[a])e.prototype[a]=s(t,a,i)})};var l=function(e,t){if(n.isFunction(e))return e;if(n.isObject(e)&&!t._isModel(e))return u(e);if(n.isString(e))return function(t){return t.get(e)};return e};var u=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};var c=t.Events={};var d=/\s+/;var f=function(e,t,i,a,r){var s=0,o;if(i&&typeof i==="object"){if(a!==void 0&&"context"in r&&r.context===void 0)r.context=a;for(o=n.keys(i);s<o.length;s++){t=f(e,t,o[s],i[o[s]],r)}}else if(i&&d.test(i)){for(o=i.split(d);s<o.length;s++){t=e(t,o[s],a,r)}}else{t=e(t,i,a,r)}return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,i,a){e._events=f(p,e._events||{},t,n,{context:i,ctx:e,listening:a});if(a){var r=e._listeners||(e._listeners={});r[a.id]=a}return e};c.listenTo=function(e,t,i){if(!e)return this;var a=e._listenId||(e._listenId=n.uniqueId("l"));var r=this._listeningTo||(this._listeningTo={});var s=r[a];if(!s){var o=this._listenId||(this._listenId=n.uniqueId("l"));s=r[a]={obj:e,objId:a,id:o,listeningTo:r,count:0}}h(e,t,i,this,s);return this};var p=function(e,t,n,i){if(n){var a=e[t]||(e[t]=[]);var r=i.context,s=i.ctx,o=i.listening;if(o)o.count++;a.push({callback:n,context:r,ctx:r||s,listening:o})}return e};c.off=function(e,t,n){if(!this._events)return this;this._events=f(m,this._events,e,t,{context:n,listeners:this._listeners});return this};c.stopListening=function(e,t,i){var a=this._listeningTo;if(!a)return this;var r=e?[e._listenId]:n.keys(a);for(var s=0;s<r.length;s++){var o=a[r[s]];if(!o)break;o.obj.off(t,i,this)}return this};var m=function(e,t,i,a){if(!e)return;var r=0,s;var o=a.context,l=a.listeners;if(!t&&!i&&!o){var u=n.keys(l);for(;r<u.length;r++){s=l[u[r]];delete l[s.id];delete s.listeningTo[s.objId]}return}var c=t?[t]:n.keys(e);for(;r<c.length;r++){t=c[r];var d=e[t];if(!d)break;var f=[];for(var h=0;h<d.length;h++){var p=d[h];if(i&&i!==p.callback&&i!==p.callback._callback||o&&o!==p.context){f.push(p)}else{s=p.listening;if(s&&--s.count===0){delete l[s.id];delete s.listeningTo[s.objId]}}}if(f.length){e[t]=f}else{delete e[t]}}return e};c.once=function(e,t,i){var a=f(_,{},e,t,n.bind(this.off,this));if(typeof e==="string"&&i==null)t=void 0;return this.on(a,t,i)};c.listenToOnce=function(e,t,i){var a=f(_,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,a)};var _=function(e,t,i,a){if(i){var r=e[t]=n.once(function(){a(t,r);i.apply(this,arguments)});r._callback=i}return e};c.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1);var n=Array(t);for(var i=0;i<t;i++)n[i]=arguments[i+1];f(g,this._events,e,void 0,n);return this};var g=function(e,t,n,i){if(e){var a=e[t];var r=e.all;if(a&&r)r=r.slice();if(a)v(a,i);if(r)v(r,[t].concat(i))}return e};var v=function(e,t){var n,i=-1,a=e.length,r=t[0],s=t[1],o=t[2];switch(t.length){case 0:while(++i<a)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<a)(n=e[i]).callback.call(n.ctx,r);return;case 2:while(++i<a)(n=e[i]).callback.call(n.ctx,r,s);return;case 3:while(++i<a)(n=e[i]).callback.call(n.ctx,r,s,o);return;default:while(++i<a)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on;c.unbind=c.off;n.extend(t,c);var b=t.Model=function(e,t){var i=e||{};t||(t={});this.cid=n.uniqueId(this.cidPrefix);this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)i=this.parse(i,t)||{};var a=n.result(this,"defaults");i=n.defaults(n.extend({},a,i),a);this.set(i,t);this.changed={};this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(e==null)return this;var a;if(typeof e==="object"){a=e;i=t}else{(a={})[e]=t}i||(i={});if(!this._validate(a,i))return false;var r=i.unset;var s=i.silent;var o=[];var l=this._changing;this._changing=true;if(!l){this._previousAttributes=n.clone(this.attributes);this.changed={}}var u=this.attributes;var c=this.changed;var d=this._previousAttributes;for(var f in a){t=a[f];if(!n.isEqual(u[f],t))o.push(f);if(!n.isEqual(d[f],t)){c[f]=t}else{delete c[f]}r?delete u[f]:u[f]=t}if(this.idAttribute in a)this.id=this.get(this.idAttribute);if(!s){if(o.length)this._pending=i;for(var h=0;h<o.length;h++){this.trigger("change:"+o[h],this,u[o[h]],i)}}if(l)return this;if(!s){while(this._pending){i=this._pending;this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:true}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!n.isEmpty(this.changed);return n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):false;var t=this._changing?this._previousAttributes:this.attributes;var i={};for(var a in e){var r=e[a];if(n.isEqual(t[a],r))continue;i[a]=r}return n.size(i)?i:false},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:true},e);var t=this;var i=e.success;e.success=function(n){var a=e.parse?t.parse(n,e):n;if(!t.set(a,e))return false;if(i)i.call(e.context,t,n,e);t.trigger("sync",t,n,e)};H(this,e);return this.sync("read",this,e)},save:function(e,t,i){var a;if(e==null||typeof e==="object"){a=e;i=t}else{(a={})[e]=t}i=n.extend({validate:true,parse:true},i);var r=i.wait;if(a&&!r){if(!this.set(a,i))return false}else if(!this._validate(a,i)){return false}var s=this;var o=i.success;var l=this.attributes;i.success=function(e){s.attributes=l;var t=i.parse?s.parse(e,i):e;if(r)t=n.extend({},a,t);if(t&&!s.set(t,i))return false;if(o)o.call(i.context,s,e,i);s.trigger("sync",s,e,i)};H(this,i);if(a&&r)this.attributes=n.extend({},l,a);var u=this.isNew()?"create":i.patch?"patch":"update";if(u==="patch"&&!i.attrs)i.attrs=a;var c=this.sync(u,this,i);this.attributes=l;return c},destroy:function(e){e=e?n.clone(e):{};var t=this;var i=e.success;var a=e.wait;var r=function(){t.stopListening();t.trigger("destroy",t,t.collection,e)};e.success=function(n){if(a)r();if(i)i.call(e.context,t,n,e);if(!t.isNew())t.trigger("sync",t,n,e)};var s=false;if(this.isNew()){n.defer(e.success)}else{H(this,e);s=this.sync("delete",this,e)}if(!a)r();return s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||Y();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;if(!i)return true;this.trigger("invalid",this,i,n.extend(t,{validationError:i}));return false}});var y={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(b,y,"attributes");var x=t.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,n.extend({silent:true},t))};var S={add:true,remove:true,merge:true};var w={add:true,remove:false};var L=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i=Array(e.length-n);var a=t.length;var r;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<a;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+a+n]=i[r]};n.extend(x.prototype,c,{model:b,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:false},t,w))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:e.slice();var a=this._removeModels(e,t);if(!t.silent&&a.length){t.changes={added:[],merged:[],removed:a};this.trigger("update",this,t)}return i?a[0]:a},set:function(e,t){if(e==null)return;t=n.extend({},S,t);if(t.parse&&!this._isModel(e)){e=this.parse(e,t)||[]}var i=!n.isArray(e);e=i?[e]:e.slice();var a=t.at;if(a!=null)a=+a;if(a>this.length)a=this.length;if(a<0)a+=this.length+1;var r=[];var s=[];var o=[];var l=[];var u={};var c=t.add;var d=t.merge;var f=t.remove;var h=false;var p=this.comparator&&a==null&&t.sort!==false;var m=n.isString(this.comparator)?this.comparator:null;var _,g;for(g=0;g<e.length;g++){_=e[g];var v=this.get(_);if(v){if(d&&_!==v){var b=this._isModel(_)?_.attributes:_;if(t.parse)b=v.parse(b,t);v.set(b,t);o.push(v);if(p&&!h)h=v.hasChanged(m)}if(!u[v.cid]){u[v.cid]=true;r.push(v)}e[g]=v}else if(c){_=e[g]=this._prepareModel(_,t);if(_){s.push(_);this._addReference(_,t);u[_.cid]=true;r.push(_)}}}if(f){for(g=0;g<this.length;g++){_=this.models[g];if(!u[_.cid])l.push(_)}if(l.length)this._removeModels(l,t)}var y=false;var x=!p&&c&&f;if(r.length&&x){y=this.length!==r.length||n.some(this.models,function(e,t){return e!==r[t]});this.models.length=0;L(this.models,r,0);this.length=this.models.length}else if(s.length){if(p)h=true;L(this.models,s,a==null?this.length:a);this.length=this.models.length}if(h)this.sort({silent:true});if(!t.silent){for(g=0;g<s.length;g++){if(a!=null)t.index=a+g;_=s[g];_.trigger("add",_,this,t)}if(h||y)this.trigger("sort",this,t);if(s.length||l.length||o.length){t.changes={added:s,removed:l,merged:o};this.trigger("update",this,t)}}return i?e[0]:e},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++){this._removeReference(this.models[i],t)}t.previousModels=this.models;this._reset();e=this.add(e,n.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return this.get(e)!=null},at:function(e){if(e<0)e+=this.length;return this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,true)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;if(n.isFunction(t))t=n.bind(t,this);if(i===1||n.isString(t)){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:true},e);var t=e.success;var i=this;e.success=function(n){var a=e.reset?"reset":"set";i[a](n,e);if(t)t.call(e.context,i,n,e);i.trigger("sync",i,n,e)};H(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var i=t.wait;e=this._prepareModel(e,t);if(!e)return false;if(!i)this.add(e,t);var a=this;var r=t.success;t.success=function(e,t,n){if(i)a.add(e,n);if(r)r.call(n.context,e,t,n)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(this._isModel(e)){if(!e.collection)e.collection=this;return e}t=t?n.clone(t):{};t.collection=this;var i=new this.model(e,t);if(!i.validationError)return i;this.trigger("invalid",this,i.validationError,t);return false},_removeModels:function(e,t){var n=[];for(var i=0;i<e.length;i++){var a=this.get(e[i]);if(!a)continue;var r=this.indexOf(a);this.models.splice(r,1);this.length--;delete this._byId[a.cid];var s=this.modelId(a.attributes);if(s!=null)delete this._byId[s];if(!t.silent){t.index=r;a.trigger("remove",a,this,t)}n.push(a);this._removeReference(a,t)}return n},_isModel:function(e){return e instanceof b},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);if(n!=null)this._byId[n]=e;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);if(n!=null)delete this._byId[n];if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,i);if(e==="change"){var a=this.modelId(t.previousAttributes());var r=this.modelId(t.attributes);if(a!==r){if(a!=null)delete this._byId[a];if(r!=null)this._byId[r]=t}}}this.trigger.apply(this,arguments)}});var E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(x,E,"models");var M=t.View=function(e){this.cid=n.uniqueId("view");n.extend(this,n.pick(e,A));this._ensureElement();this.initialize.apply(this,arguments)};var k=/^(\S+)\s*(.*)$/;var A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(M.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(e){this.undelegateEvents();this._setElement(e);this.delegateEvents();return this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e);this.el=this.$el[0]},delegateEvents:function(e){e||(e=n.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(!n.isFunction(i))i=this[i];if(!i)continue;var a=t.match(k);this.delegate(a[1],a[2],n.bind(i,this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n);return this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));if(this.id)e.id=n.result(this,"id");if(this.className)e["class"]=n.result(this,"className");this.setElement(this._createElement(n.result(this,"tagName")));this._setAttributes(e)}else{this.setElement(n.result(this,"el"))}},_setAttributes:function(e){this.$el.attr(e)}});t.sync=function(e,i,a){var r=T[e];n.defaults(a||(a={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(!a.url){s.url=n.result(i,"url")||Y()}if(a.data==null&&i&&(e==="create"||e==="update"||e==="patch")){s.contentType="application/json";s.data=JSON.stringify(a.attrs||i.toJSON(a))}if(a.emulateJSON){s.contentType="application/x-www-form-urlencoded";s.data=s.data?{model:s.data}:{}}if(a.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){s.type="POST";if(a.emulateJSON)s.data._method=r;var o=a.beforeSend;a.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(o)return o.apply(this,arguments)}}if(s.type!=="GET"&&!a.emulateJSON){s.processData=false}var l=a.error;a.error=function(e,t,n){a.textStatus=t;a.errorThrown=n;if(l)l.call(a.context,e,t,n)};var u=a.xhr=t.ajax(n.extend(s,a));i.trigger("request",i,u,a);return u};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var D=/\((.*?)\)/g;var R=/(\(\?)?:\w+/g;var O=/\*\w+/g;var I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,c,{initialize:function(){},route:function(e,i,a){if(!n.isRegExp(e))e=this._routeToRegExp(e);if(n.isFunction(i)){a=i;i=""}if(!a)a=this[i];var r=this;t.history.route(e,function(n){var s=r._extractParameters(e,n);if(r.execute(a,s,i)!==false){r.trigger.apply(r,["route:"+i].concat(s));r.trigger("route",i,s);t.history.trigger("route",r,i,s)}});return this},execute:function(e,t,n){if(e)e.apply(this,t)},navigate:function(e,n){t.history.navigate(e,n);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(I,"\\$&").replace(D,"(?:$1)?").replace(R,function(e,t){return t?e:"([^/?]+)"}).replace(O,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){if(t===i.length-1)return e||null;return e?decodeURIComponent(e):null})}});var F=t.History=function(){this.handlers=[];this.checkUrl=n.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var N=/^[#\/]|\s+$/g;var B=/^\/+|\/+$/g;var U=/#.*$/;F.started=false;n.extend(F.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname);var t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){if(e==null){if(this._usePushState||!this._wantsHashChange){e=this.getPath()}else{e=this.getHash()}}return e.replace(N,"")},start:function(e){if(F.started)throw new Error("Backbone.history has already been started");F.started=true;this.options=n.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(B,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";this.location.replace(t+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var i=document.body;var a=i.insertBefore(this.iframe,i.firstChild).contentWindow;a.document.open();a.document.close();a.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState){r("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){r("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};if(this._usePushState){e("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){e("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);F.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getHash(this.iframe.contentWindow)}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(e){if(!this.matchRoot())return false;e=this.fragment=this.getFragment(e);return n.some(this.handlers,function(t){if(t.route.test(e)){t.callback(e);return true}})},navigate:function(e,t){if(!F.started)return false;if(!t||t===true)t={trigger:!!t};e=this.getFragment(e||"");var n=this.root;if(e===""||e.charAt(0)==="?"){n=n.slice(0,-1)||"/"}var i=n+e;e=this.decodeFragment(e.replace(U,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;if(!t.replace){a.document.open();a.document.close()}this._updateHash(a.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else{e.hash="#"+t}}});t.history=new F;var P=function(e,t){var i=this;var a;if(e&&n.has(e,"constructor")){a=e.constructor}else{a=function(){return i.apply(this,arguments)}}n.extend(a,i,t);a.prototype=n.create(i.prototype,e);a.prototype.constructor=a;a.__super__=i.prototype;return a};b.extend=x.extend=C.extend=M.extend=F.extend=P;var Y=function(){throw new Error('A "url" property or function must be specified')};var H=function(e,t){var n=t.error;t.error=function(i){if(n)n.call(t.context,e,i,t);e.trigger("error",e,i,t)}};return t})}).call(t,n(56))},function(e,t,n){var i;(function(a){"use strict";var r=20,s=1,o=1e6,l=1e6,u=-7,c=21,d={},f=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h;function p(){function e(t){var n=this;if(!(n instanceof e)){return t===void 0?p():new e(t)}if(t instanceof e){n.s=t.s;n.e=t.e;n.c=t.c.slice()}else{_(n,t)}n.constructor=e}e.prototype=d;e.DP=r;e.RM=s;e.E_NEG=u;e.E_POS=c;return e}function m(e,t,n){var i=e.constructor,a=t-(e=new i(e)).e,r=e.c;if(r.length>++t){g(e,a,i.RM)}if(!r[0]){++a}else if(n){a=t}else{r=e.c;a=e.e+a+1}for(;r.length<a;r.push(0)){}a=e.e;return n===1||n&&(t<=a||a<=i.E_NEG)?(e.s<0&&r[0]?"-":"")+(r.length>1?r[0]+"."+r.join("").slice(1):r[0])+(a<0?"e":"e+")+a:e.toString()}function _(e,t){var n,i,a;if(t===0&&1/t<0){t="-0"}else if(!f.test(t+="")){v(NaN)}e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1;if((n=t.indexOf("."))>-1){t=t.replace(".","")}if((i=t.search(/e/i))>0){if(n<0){n=i}n+=+t.slice(i+1);t=t.substring(0,i)}else if(n<0){n=t.length}a=t.length;for(i=0;i<a&&t.charAt(i)=="0";i++){}if(i==a){e.c=[e.e=0]}else{for(;a>0&&t.charAt(--a)=="0";){}e.e=n-i-1;e.c=[];for(;i<=a;e.c.push(+t.charAt(i++))){}}return e}function g(e,t,n,i){var a,r=e.c,s=e.e+t+1;if(n===1){i=r[s]>=5}else if(n===2){i=r[s]>5||r[s]==5&&(i||s<0||r[s+1]!==a||r[s-1]&1)}else if(n===3){i=i||r[s]!==a||s<0}else{i=false;if(n!==0){v("!Big.RM!")}}if(s<1||!r[0]){if(i){e.e=-t;e.c=[1]}else{e.c=[e.e=0]}}else{r.length=s--;if(i){for(;++r[s]>9;){r[s]=0;if(!s--){++e.e;r.unshift(1)}}}for(s=r.length;!r[--s];r.pop()){}}return e}function v(e){var t=new Error(e);t.name="BigError";throw t}d.abs=function(){var e=new this.constructor(this);e.s=1;return e};d.cmp=function(e){var t,n=this,i=n.c,a=(e=new n.constructor(e)).c,r=n.s,s=e.s,o=n.e,l=e.e;if(!i[0]||!a[0]){return!i[0]?!a[0]?0:-s:r}if(r!=s){return r}t=r<0;if(o!=l){return o>l^t?1:-1}r=-1;s=(o=i.length)<(l=a.length)?o:l;for(;++r<s;){if(i[r]!=a[r]){return i[r]>a[r]^t?1:-1}}return o==l?0:o>l^t?1:-1};d.div=function(e){var t=this,n=t.constructor,i=t.c,a=(e=new n(e)).c,r=t.s==e.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>o){v("!Big.DP!")}if(!i[0]||!a[0]){if(i[0]==a[0]){v(NaN)}if(!a[0]){v(r/0)}return new n(r*0)}var l,u,c,d,f,h,p=a.slice(),m=l=a.length,_=i.length,b=i.slice(0,l),y=b.length,x=e,S=x.c=[],w=0,L=s+(x.e=t.e-e.e)+1;x.s=r;r=L<0?0:L;p.unshift(0);for(;y++<l;b.push(0)){}do{for(c=0;c<10;c++){if(l!=(y=b.length)){d=l>y?1:-1}else{for(f=-1,d=0;++f<l;){if(a[f]!=b[f]){d=a[f]>b[f]?1:-1;break}}}if(d<0){for(u=y==l?a:p;y;){if(b[--y]<u[y]){f=y;for(;f&&!b[--f];b[f]=9){}--b[f];b[y]+=10}b[y]-=u[y]}for(;!b[0];b.shift()){}}else{break}}S[w++]=d?c:++c;if(b[0]&&d){b[y]=i[m]||0}else{b=[i[m]]}}while((m++<_||b[0]!==h)&&r--);if(!S[0]&&w!=1){S.shift();x.e--}if(w>L){g(x,s,n.RM,b[0]!==h)}return x};d.eq=function(e){return!this.cmp(e)};d.gt=function(e){return this.cmp(e)>0};d.gte=function(e){return this.cmp(e)>-1};d.lt=function(e){return this.cmp(e)<0};d.lte=function(e){return this.cmp(e)<1};d.sub=d.minus=function(e){var t,n,i,a,r=this,s=r.constructor,o=r.s,l=(e=new s(e)).s;if(o!=l){e.s=-l;return r.plus(e)}var u=r.c.slice(),c=r.e,d=e.c,f=e.e;if(!u[0]||!d[0]){return d[0]?(e.s=-l,e):new s(u[0]?r:0)}if(o=c-f){if(a=o<0){o=-o;i=u}else{f=c;i=d}i.reverse();for(l=o;l--;i.push(0)){}i.reverse()}else{n=((a=u.length<d.length)?u:d).length;for(o=l=0;l<n;l++){if(u[l]!=d[l]){a=u[l]<d[l];break}}}if(a){i=u;u=d;d=i;e.s=-e.s}if((l=(n=d.length)-(t=u.length))>0){for(;l--;u[t++]=0){}}for(l=t;n>o;){if(u[--n]<d[n]){for(t=n;t&&!u[--t];u[t]=9){}--u[t];u[n]+=10}u[n]-=d[n]}for(;u[--l]===0;u.pop()){}for(;u[0]===0;){u.shift();--f}if(!u[0]){e.s=1;u=[f=0]}e.c=u;e.e=f;return e};d.mod=function(e){var t,n=this,i=n.constructor,a=n.s,r=(e=new i(e)).s;if(!e.c[0]){v(NaN)}n.s=e.s=1;t=e.cmp(n)==1;n.s=a;e.s=r;if(t){return new i(n)}a=i.DP;r=i.RM;i.DP=i.RM=0;n=n.div(e);i.DP=a;i.RM=r;return this.minus(n.times(e))};d.add=d.plus=function(e){var t,n=this,i=n.constructor,a=n.s,r=(e=new i(e)).s;if(a!=r){e.s=-r;return n.minus(e)}var s=n.e,o=n.c,l=e.e,u=e.c;if(!o[0]||!u[0]){return u[0]?e:new i(o[0]?n:a*0)}o=o.slice();if(a=s-l){if(a>0){l=s;t=u}else{a=-a;t=o}t.reverse();for(;a--;t.push(0)){}t.reverse()}if(o.length-u.length<0){t=u;u=o;o=t}a=u.length;for(r=0;a;){r=(o[--a]=o[a]+u[a]+r)/10|0;o[a]%=10}if(r){o.unshift(r);++l}for(a=o.length;o[--a]===0;o.pop()){}e.c=o;e.e=l;return e};d.pow=function(e){var t=this,n=new t.constructor(1),i=n,a=e<0;if(e!==~~e||e<-l||e>l){v("!pow!")}e=a?-e:e;for(;;){if(e&1){i=i.times(t)}e>>=1;if(!e){break}t=t.times(t)}return a?n.div(i):i};d.round=function(e,t){var n=this,i=n.constructor;if(e==null){e=0}else if(e!==~~e||e<0||e>o){v("!round!")}g(n=new i(n),e,t==null?i.RM:t);return n};d.sqrt=function(){var e,t,n,i=this,a=i.constructor,r=i.c,s=i.s,o=i.e,l=new a("0.5");if(!r[0]){return new a(i)}if(s<0){v(NaN)}s=Math.sqrt(i.toString());if(s===0||s===1/0){e=r.join("");if(!(e.length+o&1)){e+="0"}t=new a(Math.sqrt(e).toString());t.e=((o+1)/2|0)-(o<0||o&1)}else{t=new a(s.toString())}s=t.e+(a.DP+=4);do{n=t;t=l.times(n.plus(i.div(n)))}while(n.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));g(t,a.DP-=4,a.RM);return t};d.mul=d.times=function(e){var t,n=this,i=n.constructor,a=n.c,r=(e=new i(e)).c,s=a.length,o=r.length,l=n.e,u=e.e;e.s=n.s==e.s?1:-1;if(!a[0]||!r[0]){return new i(e.s*0)}e.e=l+u;if(s<o){t=a;a=r;r=t;u=s;s=o;o=u}for(t=new Array(u=s+o);u--;t[u]=0){}for(l=o;l--;){o=0;for(u=s+l;u>l;){o=t[u]+r[l]*a[u-l-1]+o;t[u--]=o%10;o=o/10|0}t[u]=(t[u]+o)%10}if(o){++e.e}if(!t[0]){t.shift()}for(l=t.length;!t[--l];t.pop()){}e.c=t;return e};d.toString=d.valueOf=d.toJSON=function(){var e=this,t=e.constructor,n=e.e,i=e.c.join(""),a=i.length;if(n<=t.E_NEG||n>=t.E_POS){i=i.charAt(0)+(a>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n}else if(n<0){for(;++n;i="0"+i){}i="0."+i}else if(n>0){if(++n>a){for(n-=a;n--;i+="0"){}}else if(n<a){i=i.slice(0,n)+"."+i.slice(n)}}else if(a>1){i=i.charAt(0)+"."+i.slice(1)}return e.s<0&&e.c[0]?"-"+i:i};d.toExponential=function(e){if(e==null){e=this.c.length-1}else if(e!==~~e||e<0||e>o){v("!toExp!")}return m(this,e,1)};d.toFixed=function(e){var t,n=this,i=n.constructor,a=i.E_NEG,r=i.E_POS;i.E_NEG=-(i.E_POS=1/0);if(e==null){t=n.toString()}else if(e===~~e&&e>=0&&e<=o){t=m(n,n.e+e);if(n.s<0&&n.c[0]&&t.indexOf("-")<0){t="-"+t}}i.E_NEG=a;i.E_POS=r;if(!t){v("!toFix!")}return t};d.toPrecision=function(e){if(e==null){return this.toString()}else if(e!==~~e||e<1||e>o){v("!toPre!")}return m(this,e-1,2)};h=p();if(true){!(i=function(){return h}.call(t,n,t,e),i!==undefined&&(e.exports=i))}else if(typeof e!=="undefined"&&e.exports){e.exports=h;e.exports.Big=h}else{a.Big=h}})(this)},function(e,t,n){t=e.exports=n(163)(undefined);t.push([e.i,"#smartbanner { position:absolute; left:0; top:-82px; border-bottom:1px solid #e8e8e8; width:100%; height:78px; font-family:'Helvetica Neue',sans-serif; background:-webkit-linear-gradient(top, #f4f4f4 0%,#cdcdcd 100%); background-image: -ms-linear-gradient(top, #F4F4F4 0%, #CDCDCD 100%); background-image: -moz-linear-gradient(top, #F4F4F4 0%, #CDCDCD 100%); box-shadow:0 1px 2px rgba(0,0,0,0.5); z-index:9998; -webkit-font-smoothing:antialiased; overflow:hidden; -webkit-text-size-adjust:none; }\n#smartbanner, html.sb-animation {-webkit-transition: all .3s ease;}\n#smartbanner .sb-container { margin: 0 auto; }\n#smartbanner .sb-close { position:absolute; left:5px; top:5px; display:block; border:2px solid #fff; width:14px; height:14px; font-family:'ArialRoundedMTBold',Arial; font-size:15px; line-height:15px; text-align:center; color:#fff; background:#070707; text-decoration:none; text-shadow:none; border-radius:14px; box-shadow:0 2px 3px rgba(0,0,0,0.4); -webkit-font-smoothing:subpixel-antialiased; }\n#smartbanner .sb-close:active { font-size:13px; color:#aaa; }\n#smartbanner .sb-icon { position:absolute; left:30px; top:10px; display:block; width:57px; height:57px; background:rgba(0,0,0,0.6); background-size:cover; border-radius:10px; box-shadow:0 1px 3px rgba(0,0,0,0.3); }\n#smartbanner.no-icon .sb-icon { display:none; }\n#smartbanner .sb-info { position:absolute; left:98px; top:18px; width:44%; font-size:11px; line-height:1.2em; font-weight:bold; color:#6a6a6a; text-shadow:0 1px 0 rgba(255,255,255,0.8); }\n#smartbanner #smartbanner.no-icon .sb-info { left:34px; }\n#smartbanner .sb-info strong { display:block; font-size:13px; color:#4d4d4d; line-height: 18px; }\n#smartbanner .sb-info > span { display:block; }\n#smartbanner .sb-info em { font-style:normal; text-transform:uppercase; }\n#smartbanner .sb-button { position:absolute; right:20px; top:24px; border:1px solid #bfbfbf; padding: 0 10px; min-width: 10%; height:24px; font-size:14px; line-height:24px; text-align:center; font-weight:bold; color:#6a6a6a; background:-webkit-linear-gradient(top, #efefef 0%,#dcdcdc 100%); text-transform:uppercase; text-decoration:none; text-shadow:0 1px 0 rgba(255,255,255,0.8); border-radius:3px; box-shadow:0 1px 0 rgba(255,255,255,0.6),0 1px 0 rgba(255,255,255,0.7) inset; }\n#smartbanner .sb-button:active, #smartbanner .sb-button:hover { background:-webkit-linear-gradient(top, #dcdcdc 0%,#efefef 100%); }\n\n#smartbanner .sb-icon.gloss:after { content:''; position:absolute; left:0; top:-1px; border-top:1px solid rgba(255,255,255,0.8); width:100%; height:50%; background:-webkit-linear-gradient(top, rgba(255,255,255,0.7) 0%,rgba(255,255,255,0.2) 100%); border-radius:10px 10px 12px 12px; }\n\n#smartbanner.android { border-color:#212228; background-color: #3D3D3D; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAADCAYAAABWKLW/AAAAG0lEQVQIW2MMDQ39v3r1akYGIAATMAEwByYAANRhCgK+E5vTAAAAAElFTkSuQmCC); border-top: 5px solid #88B131; box-shadow: none; }\n#smartbanner.android .sb-close { border:0; width:17px; height:17px; line-height:17px; color:#b1b1b3; background:#1c1e21; text-shadow:0 1px 1px #000; box-shadow:0 1px 2px rgba(0,0,0,0.8) inset,0 1px 1px rgba(255,255,255,0.3); }\n#smartbanner.android .sb-close:active { color:#eee; }\n#smartbanner.android .sb-info { color:#ccc; text-shadow:0 1px 2px #000; }\n#smartbanner.android .sb-info strong { color:#fff; }\n#smartbanner.android .sb-button { min-width: 12%; border:1px solid #DDDCDC; padding:1px; color:#d1d1d1; background: none; border-radius: 0; box-shadow: none; }\n#smartbanner.android .sb-button span { text-align: center; display: block; padding: 0 10px; background-color: #42B6C9; background-image: -webkit-gradient(linear,0 0,0 100%,from(#42B6C9),to(#39A9BB)); background-image: -moz-linear-gradient(top,#42B6C9,#39A9BB); text-transform:none; text-shadow:none; box-shadow:none; }\n#smartbanner.android .sb-button:active, #smartbanner.android .sb-button:hover { background: none; }\n#smartbanner.android .sb-button:active span, #smartbanner.android .sb-button:hover span { background:#2AC7E1; }\n\n#smartbanner.windows .sb-icon { border-radius: 0px; }",""])},function(e,t,n){t=e.exports=n(163)(undefined);t.push([e.i,'/*!\n * Bootstrap v2.0.1\n *\n * Copyright 2012 Twitter, Inc\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Designed and built with all the love in the world @twitter by @mdo and @fat.\n */\n/*!\n// https://github.com/FortAwesome/Font-Awesome\n// MIT License\n\nThis Font Software is licensed under the SIL Open Font License, Version 1.1.\nThis license is copied below, and is also available with a FAQ at:\nhttp://scripts.sil.org/OFL\n\n\n-----------------------------------------------------------\nSIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\n-----------------------------------------------------------\n\nPREAMBLE\nThe goals of the Open Font License (OFL) are to stimulate worldwide\ndevelopment of collaborative font projects, to support the font creation\nefforts of academic and linguistic communities, and to provide a free and\nopen framework in which fonts may be shared and improved in partnership\nwith others.\n\nThe OFL allows the licensed fonts to be used, studied, modified and\nredistributed freely as long as they are not sold by themselves. The\nfonts, including any derivative works, can be bundled, embedded,\nredistributed and/or sold with any software provided that any reserved\nnames are not used by derivative works. The fonts and derivatives,\nhowever, cannot be released under any other type of license. The\nrequirement for fonts to remain under this license does not apply\nto any document created using the fonts or their derivatives.\n\nDEFINITIONS\n"Font Software" refers to the set of files released by the Copyright\nHolder(s) under this license and clearly marked as such. This may\ninclude source files, build scripts and documentation.\n\n"Reserved Font Name" refers to any names specified as such after the\ncopyright statement(s).\n\n"Original Version" refers to the collection of Font Software components as\ndistributed by the Copyright Holder(s).\n\n"Modified Version" refers to any derivative made by adding to, deleting,\nor substituting -- in part or in whole -- any of the components of the\nOriginal Version, by changing formats or by porting the Font Software to a\nnew environment.\n\n"Author" refers to any designer, engineer, programmer, technical\nwriter or other person who contributed to the Font Software.\n\nPERMISSION & CONDITIONS\nPermission is hereby granted, free of charge, to any person obtaining\na copy of the Font Software, to use, study, copy, merge, embed, modify,\nredistribute, and sell modified and unmodified copies of the Font\nSoftware, subject to the following conditions:\n\n1) Neither the Font Software nor any of its individual components,\nin Original or Modified Versions, may be sold by itself.\n\n2) Original or Modified Versions of the Font Software may be bundled,\nredistributed and/or sold with any software, provided that each copy\ncontains the above copyright notice and this license. These can be\nincluded either as stand-alone text files, human-readable headers or\nin the appropriate machine-readable metadata fields within text or\nbinary files as long as those fields can be easily viewed by the user.\n\n3) No Modified Version of the Font Software may use the Reserved Font\nName(s) unless explicit written permission is granted by the corresponding\nCopyright Holder. This restriction only applies to the primary font name as\npresented to the users.\n\n4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\nSoftware shall not be used to promote, endorse or advertise any\nModified Version, except to acknowledge the contribution(s) of the\nCopyright Holder(s) and the Author(s) or with their explicit written\npermission.\n\n5) The Font Software, modified or unmodified, in part or in whole,\nmust be distributed entirely under this license, and must not be\ndistributed under any other license. The requirement for fonts to\nremain under this license does not apply to any document created\nusing the Font Software.\n\nTERMINATION\nThis license becomes null and void if any of the above conditions are\nnot met.\n\nDISCLAIMER\nTHE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\nOF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\nCOPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nINCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\nDAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\nOTHER DEALINGS IN THE FONT SOFTWARE.\n*/\n/*!\n * Your installation or use of this SugarCRM file is subject to the applicable\n * terms available at\n * http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/.\n * If you do not agree to all of the applicable terms or do not have the\n * authority to bind the entity as an authorized representative, then do not\n * install or use this SugarCRM file.\n *\n * Copyright (C) SugarCRM Inc. All rights reserved.\n */\n/* boxing */\n@keyframes triggerRepaint {\n  0% {\n    width: 100%;\n  }\n  50% {\n    width: 100.001%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n@-webkit-keyframes triggerRepaint {\n  0% {\n    width: 100%;\n  }\n  50% {\n    width: 100.001%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n@-webkit-keyframes rotate {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n.rotation {\n  -webkit-animation-name: rotate;\n  -webkit-animation-duration: 2s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n}\n@-webkit-keyframes spinner_bounce {\n  0%,\n  100%,\n  80% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@keyframes spinner_bounce {\n  0%,\n  100%,\n  80% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n@-webkit-keyframes pulse {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes pulse {\n  0% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@font-face {\n  font-family: "Open Sans Bold";\n  font-style: normal;\n  font-weight: 900;\n  src: url('+n(408)+') format("truetype");\n}\n@font-face {\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 600;\n  src: url('+n(410)+') format("truetype");\n}\n@font-face {\n  font-family: "Open Sans";\n  font-style: normal;\n  font-weight: 400;\n  src: url('+n(409)+') format("truetype");\n}\n/* NVD3\n  ----------------*/\n/********************\n * SVG CSS\n */\nsvg {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  user-select: none;\n  /* Trying to get SVG to act like a greedy block in all browsers */\n  display: block;\n  width: 100%;\n  height: 100%;\n  max-height: 500px;\n}\nsvg text {\n  font: normal 13px "Helvetica Neue", Helvetica, Arial, sans-serif;\n  fill: #000;\n  stroke: none;\n  cursor: default;\n}\nsvg .title {\n  font: bold 13px + 2 "Helvetica Neue", Helvetica, Arial, sans-serif;\n}\n/********************\n * General CSS\n */\n/* Chart colors defined in colors.less */\n.nv-background {\n  fill: #fff;\n}\n.nv-chart {\n  height: 100%;\n  min-width: 300px;\n  min-height: 100px;\n  position: relative;\n  /*\n    Minimum height and width is a good idea to prevent negative SVG dimensions...\n    For example width should be =< margin.left + margin.right + 1,\n    of course 1 pixel for the entire chart would not be very useful, BUT should not have errors\n  */\n}\n.nv-chart svg {\n  max-height: none;\n}\n.nv-noData {\n  font-size: 17px;\n  font-weight: bold;\n}\n.nv-title {\n  font-size: 15px;\n}\n.nv-labels text {\n  font-weight: bold;\n  fill: #666;\n}\n.nv-label-value text,\ntext.nv-label-value {\n  font-size: 15px;\n}\n.ios .nv-label-value text,\n.ios text.nv-label-value {\n  transform: scaleY(0.98);\n}\n.nv-label-box {\n  fill: transparent;\n}\n.nvtooltip {\n  pointer-events: none;\n}\n.nvtooltip-pending-removal {\n  position: absolute;\n  pointer-events: none;\n}\n/**********\n*  Brush\n*/\n/**********\n*  Legend\n*/\n.nv-legend .nv-series {\n  cursor: pointer;\n  font-size: 13px;\n}\n.nv-legend .nv-series line {\n  fill: none;\n}\n.nv-legend .nv-series text {\n  cursor: pointer;\n}\n.nv-legend .disabled circle {\n  fill: #fff;\n}\n.nv-legend-background {\n  fill: rgba(255, 255, 255, 0.9);\n  stroke: rgba(161, 160, 160, 0.75);\n  stroke-width: 1px;\n}\n.nv-legend-link {\n  cursor: pointer;\n  fill: #0679c8;\n}\n.nv-legend-link:hover {\n  fill: #005088;\n  text-decoration: underline;\n}\n.nv-lineLegend .nv-series {\n  cursor: default;\n}\n.nv-lineLegend .nv-series text {\n  cursor: default;\n}\n/**********\n*  Axes\n*/\n.nv-axis path,\n.nv-axis line,\n.nv-axis polyline {\n  fill: none;\n  stroke: #cdcccb;\n  stroke-width: 2px;\n  shape-rendering: crispEdges;\n  pointer-events: none;\n}\n.nv-axis line,\n.nv-axis polyline {\n  stroke-opacity: .3;\n}\n.nv-axis path,\n.nv-axis line.zero {\n  stroke-opacity: .75;\n}\n.nv-axis path.domain {\n  stroke-width: 2px;\n  stroke: #bbb;\n}\n.nv-axis .nv-axisMaxMin text {\n  font-weight: bold;\n}\n.nv-x.nv-axis text {\n  font-size: 13px;\n}\n.nv-axislabel {\n  font-weight: 900;\n  font-style: italic;\n}\n/**********\n*  MultiBars\n*/\n.nv-multibar .nv-group rect {\n  stroke-opacity: 1;\n  stroke-width: 2px;\n  stroke: #fff;\n}\n.nv-multibar .nv-group.hover rect {\n  fill-opacity: .75;\n}\n/**********\n*  Texture\n*/\n.nv-texture {\n  fill-opacity: 0 !important;\n  pointer-events: none;\n}\n.texture-line {\n  stroke-width: 1px;\n}\n.nv-active .nv-texture {\n  fill-opacity: 1 !important;\n}\n.nv-active .nv-label-box {\n  fill: inherit;\n}\n.nv-inactive .nv-texture {\n  fill-opacity: 0 !important;\n}\n.calc-text-strings,\n.nv-multibar .nv-groups text {\n  fill: #000000;\n  stroke: rgba(0, 0, 0, 0);\n  pointer-events: none;\n}\n/***********\n*  Pie Chart\n*/\n.nv-pie .nv-slice.hover path {\n  fill-opacity: .75;\n}\n.nv-pie .nv-slice polyline {\n  stroke-width: 1px;\n  pointer-events: none;\n}\n.nv-holeWrap text {\n  text-anchor: middle;\n}\ntext.nv-pie-hole-value {\n  font-size: 32px;\n  font-weight: bold;\n}\ntext.nv-pie-hole-label {\n  font-size: 11px;\n}\n/**********\n* Lines\n*/\n.nv-groups path.nv-line {\n  fill: none;\n  stroke-width: 2.5px;\n  stroke-linecap: round;\n  shape-rendering: geometricPrecision;\n}\n.nv-groups path.nv-area {\n  stroke: none;\n  stroke-linecap: round;\n  shape-rendering: geometricPrecision;\n}\n.nv-line.hover path {\n  stroke-width: 6px;\n}\n.nv-line .nv-scatter .nv-groups .nv-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n  stroke: #fff;\n}\n.nv-scatter.nv-single-point .nv-groups .nv-point {\n  stroke-width: 2px;\n}\n.nv-scatter .nv-groups .nv-point.hover,\n.nv-groups .nv-point.hover {\n  stroke-width: 16px;\n  stroke-opacity: .5 !important;\n  stroke: inherit;\n}\n.nv-point-paths path {\n  stroke: transparent;\n  stroke-opacity: 0;\n  fill: transparent;\n  fill-opacity: 0;\n}\n.nv-indexLine {\n  cursor: ew-resize;\n}\n/**********\n* Distribution\n*/\n.nv-distribution {\n  pointer-events: none;\n}\n/**********\n*  Scatter\n*/\n.nv-groups .nv-point {\n  pointer-events: none;\n}\n.nv-groups .nv-point.hover {\n  stroke-width: 20px;\n  stroke-opacity: .5;\n}\n.nv-scatter .nv-point.hover {\n  fill-opacity: 1;\n}\n/**********\n*  Stacked Area\n*/\n.nv-stackedarea path.nv-area {\n  fill-opacity: .7;\n  stroke-opacity: 0;\n}\n.nv-stackedarea path.nv-area.hover {\n  fill-opacity: .9;\n}\n.nv-stackedarea .nv-groups .nv-point {\n  stroke-opacity: 0;\n  fill-opacity: 0;\n}\n.nv-stackedarea .nv-groups .nv-point.hover {\n  stroke-width: 20px;\n  stroke-opacity: .75;\n  fill-opacity: 1;\n}\n/**********\n*  Line Plus Bar\n*/\n/**********\n* Sparkline plus\n*/\n/**********\n* Guage\n*/\n.nv-odomText {\n  font-weight: bold;\n  fill: #000;\n}\n.nv-arc-group {\n  fill: steelblue;\n}\n.nv-pointer {\n  fill: #888888;\n  stroke: #fff;\n}\n/**********\n* Funnel\n*/\n.nv-funnelChart .nv-slice.hover polygon {\n  fill-opacity: .75;\n}\n.nv-funnelChart .nv-y path {\n  stroke: none;\n}\n.nv-funnelChart .nv-label-value text.nv-label {\n  font-size: 13px;\n}\n.nv-funnelChart .nv-label-value text.nv-value {\n  font-size: 15px;\n}\n/**********\n* Bubble\n*/\n.nv-bubbleChart .nv-scatter.nv-single-point .nv-groups .nv-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n}\n/**********\n* Pareto\n*/\n.nv-multiBarWithLegend .nv-line .nv-scatter .nv-groups .nv-point {\n  fill-opacity: 1;\n  stroke-opacity: 1;\n  stroke-width: 2px;\n}\n.nv-pareto .nv-quotaWrap line {\n  opacity: .8;\n  stroke: #444;\n  stroke-width: 4px;\n  fill: none;\n  /*stroke-dasharray: \'20, 5\'; dashed lines must be defined in JS*/\n}\n.nv-pareto .nv-quotaWrap line.nv-quotaLineTarget {\n  stroke: #777;\n}\n.nv-pareto .nv-quotaWrap line.nv-quotaLineBackground {\n  opacity: 0;\n  stroke-width: 12px;\n}\n.nv-pareto .nv-y.nv-axis .domain {\n  display: none;\n}\n.nv-pareto .nv-y.nv-axis text.nv-quotaValue,\n.nv-pareto .nv-y.nv-axis text.nv-targetQuotaValue {\n  font-weight: bold;\n}\n.nv-pareto .nv-line .nv-groups path {\n  stroke-width: 4px;\n}\n.nv-pareto .nv-linesWrap1 .nv-line .nv-groups path {\n  stroke-width: 6px;\n}\n.nv-pareto .nv-linesWrap2 .nv-scatter .nv-groups circle {\n  stroke: #fff;\n}\n/**********\n* Treemap\n*/\n.nv-treemap {\n  background-color: #fff;\n}\n.nv-treemap text {\n  pointer-events: none;\n  fill: #fff;\n}\n.nv-treemap .nv-depth text {\n  fill: #fff;\n}\n.nv-treemap .nv-grandparent text {\n  font-weight: bold;\n  fill: #58595b;\n}\n.nv-treemap rect {\n  stroke: #fff;\n}\n.nv-treemap .nv-children.hover .nv-parent {\n  fill: #fff;\n  opacity: 0.3;\n}\n.nv-treemap .nv-parent,\n.nv-treemap .nv-grandparent rect {\n  stroke-width: 3px;\n}\n.nv-treemap .nv-child {\n  stroke-width: 1px;\n}\n.nv-treemap .nv-parent {\n  fill: none;\n  font-weight: normal;\n}\n.nv-treemap .nv-grandparent rect {\n  fill: #fff;\n}\n.nv-treemap .nv-children .nv-parent,\n.nv-treemap .nv-grandparent rect {\n  cursor: pointer;\n}\n.nv-treemap .nv-parent {\n  pointer-events: all;\n}\n/**********\n* Dendrogram\n*/\n.nv-card {\n  fill: #E9EFEF;\n  stroke: #AAA;\n  stroke-width: .5px;\n}\n.nv-card .nv-circ-front {\n  stroke-width: 0;\n}\n.nv-card line {\n  stroke-width: 2;\n}\n.nv-card .nv-expcoll {\n  cursor: pointer;\n}\n.nv-tree path.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 1.5px;\n}\n/***********\n* Colors\n*/\n.nv-fill-green {\n  fill: #33800d;\n  background-color: #33800d;\n}\n.nv-fill-red {\n  fill: #e61718;\n  background-color: #e61718;\n}\n.nv-fill-blue {\n  fill: #176de5;\n  background-color: #176de5;\n}\n.nv-fill00 {\n  fill: #e61718;\n  background-color: #e61718;\n}\n.nv-fill01 {\n  fill: #cc3314;\n  background-color: #cc3314;\n}\n.nv-fill02 {\n  fill: #e5a117;\n  background-color: #e5a117;\n}\n.nv-fill03 {\n  fill: #6a800d;\n  background-color: #6a800d;\n}\n.nv-fill04 {\n  fill: #33800d;\n  background-color: #33800d;\n}\n.nv-fill05 {\n  fill: #0d8046;\n  background-color: #0d8046;\n}\n.nv-fill06 {\n  fill: #0d806c;\n  background-color: #0d806c;\n}\n.nv-fill07 {\n  fill: #0f7799;\n  background-color: #0f7799;\n}\n.nv-fill08 {\n  fill: #1378bf;\n  background-color: #1378bf;\n}\n.nv-fill09 {\n  fill: #176de5;\n  background-color: #176de5;\n}\n.nv-fill10 {\n  fill: #1f12b3;\n  background-color: #1f12b3;\n}\n.nv-fill11 {\n  fill: #6d17e5;\n  background-color: #6d17e5;\n}\n.nv-fill12 {\n  fill: #e5176d;\n  background-color: #e5176d;\n}\n.nv-fill13 {\n  fill: #ff6fcf;\n  background-color: #ff6fcf;\n}\n.nv-legend .nv-fill00 {\n  stroke: #e61718;\n}\n.nv-legend .nv-fill01 {\n  stroke: #cc3314;\n}\n.nv-legend .nv-fill02 {\n  stroke: #e5a117;\n}\n.nv-legend .nv-fill03 {\n  stroke: #6a800d;\n}\n.nv-legend .nv-fill04 {\n  stroke: #33800d;\n}\n.nv-legend .nv-fill05 {\n  stroke: #0d8046;\n}\n.nv-legend .nv-fill06 {\n  stroke: #0d806c;\n}\n.nv-legend .nv-fill07 {\n  stroke: #0f7799;\n}\n.nv-legend .nv-fill08 {\n  stroke: #1378bf;\n}\n.nv-legend .nv-fill09 {\n  stroke: #176de5;\n}\n.nv-legend .nv-fill10 {\n  stroke: #1f12b3;\n}\n.nv-legend .nv-fill11 {\n  stroke: #6d17e5;\n}\n.nv-legend .nv-fill12 {\n  stroke: #e5176d;\n}\n.nv-legend .nv-fill13 {\n  stroke: #ff6fcf;\n}\n.nv-stroke00 {\n  stroke: #e61718;\n  color: #e61718;\n}\n.nv-stroke01 {\n  stroke: #cc3314;\n  color: #cc3314;\n}\n.nv-stroke02 {\n  stroke: #e5a117;\n  color: #e5a117;\n}\n.nv-stroke03 {\n  stroke: #6a800d;\n  color: #6a800d;\n}\n.nv-stroke04 {\n  stroke: #33800d;\n  color: #33800d;\n}\n.nv-stroke05 {\n  stroke: #0d8046;\n  color: #0d8046;\n}\n.nv-stroke06 {\n  stroke: #0d806c;\n  color: #0d806c;\n}\n.nv-stroke07 {\n  stroke: #0f7799;\n  color: #0f7799;\n}\n.nv-stroke08 {\n  stroke: #1378bf;\n  color: #1378bf;\n}\n.nv-stroke09 {\n  stroke: #58595b;\n  color: #58595b;\n}\n.nv-stroke10 {\n  stroke: #1f12b3;\n  color: #1f12b3;\n}\n.nv-stroke11 {\n  stroke: #6d17e5;\n  color: #6d17e5;\n}\n.nv-stroke12 {\n  stroke: #e5176d;\n  color: #e5176d;\n}\n.nv-stroke13 {\n  stroke: #ff6fcf;\n  color: #ff6fcf;\n}\n@media screen and (max-width: 767px) {\n  svg text,\n  .nv-legend .nv-series,\n  .nv-x.nv-axis text {\n    font-size: 11px;\n  }\n  .nv-funnelChart .nv-label-value text.nv-label {\n    font-size: 11px;\n  }\n  .nv-funnelChart .nv-label-value text.nv-value {\n    font-size: 14px;\n  }\n}\n.tooltip {\n  position: absolute;\n  z-index: 1020;\n  display: block;\n  visibility: visible;\n  padding: 5px;\n  font-size: 11px;\n  opacity: 0;\n}\n.tooltip.in {\n  opacity: 0.8;\n}\n.tooltip.top {\n  margin-top: -3px;\n}\n.tooltip.right {\n  margin-left: 3px;\n}\n.tooltip.bottom {\n  margin-top: 3px;\n}\n.tooltip.left {\n  margin-left: -3px;\n}\n.tooltip-inner {\n  max-width: 200px;\n  padding: 3px 8px;\n  color: #fff;\n  text-align: center;\n  text-decoration: none;\n  background-color: #000;\n  border-radius: 3px;\n}\n.tooltip-inner p b {\n  unicode-bidi: bidi-override;\n}\n.tooltip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n.tooltip.top .tooltip-arrow {\n  bottom: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 5px 5px 0;\n  border-top-color: #000;\n}\n.tooltip.right .tooltip-arrow {\n  top: 50%;\n  left: 0;\n  margin-top: -5px;\n  border-width: 5px 5px 5px 0;\n  border-right-color: #000;\n}\n.tooltip.left .tooltip-arrow {\n  top: 50%;\n  right: 0;\n  margin-top: -5px;\n  border-width: 5px 0 5px 5px;\n  border-left-color: #000;\n}\n.tooltip.bottom .tooltip-arrow {\n  top: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-width: 0 5px 5px;\n  border-bottom-color: #000;\n}\n/* TOOLTIP\n  ----------------*/\n.tooltip {\n  z-index: 1020;\n  text-shadow: none;\n  font-weight: normal;\n  word-wrap: break-word;\n  pointer-events: none;\n}\n.tooltip.bottom {\n  margin-top: 8px;\n}\n.tooltip.in {\n  opacity: 1;\n}\n.tooltip div,\n.tooltip span,\n.tooltip a {\n  color: #fff;\n}\n.tooltip-inner {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.tooltip-inner > div {\n  text-align: left;\n}\n.tooltip-inner > p {\n  margin: 0;\n}\n.tooltip-inner h3 {\n  font-size: 13px;\n  color: #cdcccb;\n  line-height: normal;\n  margin: 3px 0;\n}\nhtml {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  font-size: 14px;\n}\nbody {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-focus-ring-color: rgba(0, 0, 0, 0);\n  /* Disable certain interactions on touch devices */\n  -webkit-touch-callout: none;\n  -webkit-text-size-adjust: none;\n  -webkit-user-select: none;\n  -webkit-highlight: none;\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  focus-ring-color: rgba(0, 0, 0, 0);\n  touch-callout: none;\n  text-size-adjust: none;\n  user-select: none;\n  highlight: none;\n  font-family: "Open Sans", sans-serif;\n  font-size: 1em;\n  line-height: 1.286em;\n  color: #000;\n}\nul,\nimg,\nform,\nfieldset,\ninput,\nlabel,\nselect {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n/* hack for KitKat */\ndiv,\nspan,\nbutton {\n  outline: 0;\n}\nbutton {\n  font-family: "Open Sans", sans-serif;\n}\n#nomad {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.icondefault {\n  font-size: 16px;\n  vertical-align: middle;\n}\na {\n  color: #0679c8;\n  -webkit-touch-callout: none;\n  outline: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-focus-ring-color: rgba(0, 0, 0, 0);\n  text-decoration: none;\n}\na.selected-item {\n  color: #005088;\n}\np {\n  margin: 0 0 0.643em;\n}\np small {\n  font-size: 0.857em;\n  color: #cdcccb;\n}\nh1,\nh3 {\n  margin: 0;\n  font-weight: bold;\n  color: #58595b;\n  text-rendering: optimizelegibility;\n}\nh1 {\n  font-size: 30px;\n  line-height: 36px;\n}\nh3 {\n  line-height: 27px;\n  font-size: 18px;\n}\nh3 small {\n  font-size: 14px;\n}\nstrong {\n  font-weight: bold;\n}\nem {\n  font-style: italic;\n}\n.line-through {\n  text-decoration: line-through;\n}\n.clip {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\ninput,\ntextarea,\nselect,\n.placeholder,\n.actionsheet-select {\n  background-color: transparent;\n  border: none;\n  font-size: 1.214rem;\n  font-family: "Open Sans", sans-serif;\n  color: #111;\n}\n.actionsheet-select {\n  display: block;\n}\ntextarea {\n  height: auto;\n}\ninput[disabled],\nselect[disabled],\ntextarea[disabled],\ninput[readonly],\nselect[readonly],\ntextarea[readonly] {\n  cursor: not-allowed;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n}\n.field.error > label,\n.field.error .help-block,\n.field.error .help-inline {\n  color: #4d1e1e;\n}\n.field.error input,\n.field.error select,\n.field.error textarea {\n  color: #4d1e1e;\n}\n.field.error .input-prepend .add-on,\n.field.error .input-append .add-on {\n  color: #4d1e1e;\n  background-color: #f2dede;\n}\n::-webkit-input-placeholder {\n  color: #d3dbe1;\n}\n.checkbox-toggle {\n  position: relative;\n  overflow: hidden;\n  display: inline-block;\n  width: 46px;\n  height: 26px;\n}\n.checkbox-toggle .checkbox-toggle__checkbox {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 46px;\n  height: 26px;\n  opacity: 0;\n  z-index: 2;\n}\n.checkbox-toggle .checkbox-toggle__checkbox[disabled] + .checkbox-toggle__slider {\n  opacity: 0.3;\n}\n.checkbox-toggle.checkbox-toggle--js .checkbox-toggle__slider,\n.checkbox-toggle .checkbox-toggle__slider {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 42px;\n  height: 22px;\n  border: solid 2px #9aa5ad;\n  border-radius: 13px;\n}\n.checkbox-toggle.checkbox-toggle--js .checkbox-toggle__slider::before,\n.checkbox-toggle .checkbox-toggle__slider::before {\n  position: absolute;\n  content: " ";\n  height: 22px;\n  width: 22px;\n  left: -2px;\n  top: -2px;\n  border: solid 2px #9aa5ad;\n  background: #fff;\n  border-radius: 13px;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n.checkbox-toggle.checkbox-toggle--on .checkbox-toggle__slider,\n.checkbox-toggle:not(.checkbox-toggle--js) .checkbox-toggle__checkbox:checked + .checkbox-toggle__slider {\n  background: #54cb14;\n  border-color: #54cb14;\n}\n.checkbox-toggle.checkbox-toggle--on .checkbox-toggle__slider::before,\n.checkbox-toggle:not(.checkbox-toggle--js) .checkbox-toggle__checkbox:checked + .checkbox-toggle__slider::before {\n  transform: translateX(20px);\n  border-color: #54cb14;\n}\n.field {\n  clear: both;\n  position: relative;\n  padding: 6px 0 0;\n}\n.field::after {\n  display: table;\n  clear: both;\n}\n.field.selected-item {\n  background-color: #ededed;\n}\n.field .field__label {\n  display: block;\n  padding-top: 2px;\n  margin-bottom: -1px;\n  font-size: 0.857rem;\n  line-height: 1.4em;\n  color: #7e878d;\n}\n.field .field__controls {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  min-height: 2.286rem;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #d3dbe1;\n  transition: border-bottom 0.3s ease-out 0s;\n  font-size: 1.143rem;\n}\n.field .field__controls .checkbox_custom {\n  width: 65%;\n  height: 34px;\n  margin-top: -5px;\n  margin-bottom: -5px;\n}\n.field .field__controls .checkbox_custom + .checkbox-icon {\n  margin: 5px 0 0 -65%;\n}\n.field .field__controls--readonly {\n  word-wrap: break-word;\n  padding-top: 5px;\n  color: #b5b5b5;\n}\n.field .field__controls--readonly .placeholder {\n  margin-top: -15px;\n  margin-bottom: -10px;\n}\n.field .field__controls--readonly.color-def {\n  color: #111;\n}\n.field .field__controls--flex {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field .field__controls--flex .input-wrapper,\n.field .field__controls--flex .picture-wrap {\n  display: block;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.field .field__controls--flex .txt-value {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1.214rem;\n  color: #111;\n}\n.field .field__controls--flex .btn-group {\n  display: -webkit-box;\n}\n.field .field__controls--flex + .field__controls--flex {\n  margin-top: 6px;\n}\n.field .placeholder {\n  display: block;\n  height: 3.286rem;\n  line-height: 3.286rem;\n  width: 100%;\n  padding: 0;\n  margin: -10px 0 -3.286rem 0;\n  font-size: 1.214rem;\n  color: #d3dbe1;\n}\n.field .placeholder.hide {\n  display: none !important;\n}\n.field.error .field__label {\n  color: #e61718;\n}\n.field.error .error-icon {\n  position: absolute;\n  top: 1.1rem;\n  right: 15px;\n  line-height: 1em;\n  color: #e61718;\n}\n.field.error .input-wrapper input::-webkit-input-placeholder,\n.field.error .placeholder {\n  opacity: 0;\n}\n.field.error .field__controls,\n.field.error.field--datetime .time,\n.field.error.field--currency .field__controls .selector {\n  border-color: #e61718;\n}\n.field .field__error-message {\n  padding-top: 4px;\n  padding-bottom: 4px;\n  clear: both;\n  border-color: #e61718;\n  font-size: 0.857rem;\n  line-height: 1.2em;\n  color: #e61718;\n}\n.field.field--onfocus .field__label {\n  color: #0679c8;\n}\n.field.field--onfocus .field__controls,\n.field.field--onfocus.field--currency .field__controls .selector,\n.field.field--onfocus.field--datetime .time {\n  border-color: #0679c8;\n}\n.field.field--readonly input,\n.field.field--readonly select,\n.field.field--readonly label,\n.field.field--readonly .textarea-div {\n  color: #b5b5b5;\n}\n.field input:not([type="checkbox"]),\n.field textarea,\n.field select,\n.field .actionsheet-select {\n  position: relative;\n  box-sizing: border-box;\n  height: 3.286rem;\n  line-height: normal;\n  width: 100%;\n  padding: 0;\n  margin: -10px 0 -10px 0;\n  z-index: 2;\n}\n.field select,\n.field .actionsheet-select {\n  display: inline-block;\n  line-height: 3.286rem;\n  padding-right: 20px;\n  margin-right: -20px;\n  -webkit-appearance: none;\n}\n.field select + .icondefault,\n.field .actionsheet-select + .icondefault {\n  height: 3.286rem;\n  line-height: 3.286rem;\n  margin-top: -10px;\n  margin-bottom: -10px;\n}\n.field .selector .actionsheet-select {\n  width: auto;\n}\n.field textarea {\n  padding-top: 5px;\n  height: 48px;\n  line-height: 17px;\n}\n.field .textarea-div {\n  overflow-y: auto;\n  padding-top: 0.357rem;\n  min-height: 48px;\n  max-height: 86px;\n  line-height: 1.214em;\n  white-space: pre-wrap;\n  color: #000;\n}\n.field .textarea-div .placeholder {\n  margin-top: -15px;\n}\n.field .input-wrapper input::-webkit-input-placeholder {\n  font-size: 1.214rem;\n  color: #d3dbe1;\n}\n.field .clear-button .btn {\n  border: none;\n}\n.field--enum .field__controls {\n  overflow: hidden;\n}\n.field--enum .placeholder {\n  padding-bottom: 10px;\n}\n.field--bool .checkbox-toggle {\n  margin-top: 4px;\n}\n.field--currency .field__controls {\n  display: flex;\n  padding-bottom: 0;\n}\n.field--currency .field__controls .selector {\n  position: relative;\n  width: 4.4rem;\n  margin-right: 10px;\n  border-width: 0 1px 0 0;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.field--currency .field__controls .selector .selectArrow-icon {\n  height: 2.286rem;\n  line-height: 2.286rem;\n  margin: -10px 0;\n  font-size: 1rem;\n}\n.field--currency .field__controls .selector select {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 0 0 0 15px;\n  line-height: 1;\n}\n.field--currency .field__controls .input-wrapper {\n  flex: 1;\n}\n.field--date .input-wrapper input {\n  line-height: 3.286rem;\n  -webkit-appearance: listitem;\n  background: transparent;\n}\n.field--date .input-wrapper input.empty {\n  opacity: 0;\n}\n.field--date .input-wrapper input::-webkit-inner-spin-button,\n.field--date .input-wrapper input::-webkit-outer-spin-button,\n.field--date .input-wrapper input::-webkit-clear-button,\n.field--date .input-wrapper input::-webkit-calendar-picker-indicator {\n  display: none;\n  -webkit-appearance: none;\n}\n.field--date .input-wrapper input[disabled] {\n  -webkit-text-fill-color: #111;\n  opacity: 1;\n}\n.field--datetime .field__controls {\n  overflow: hidden;\n  padding-bottom: 0;\n}\n.field--datetime .field__controls .field__controls--has-btns {\n  padding-right: 1.5rem;\n}\n.field--datetime .date {\n  float: left;\n  overflow: hidden;\n  width: 8rem;\n  margin: 0 0 -15px;\n}\n.field--datetime .time {\n  float: left;\n  overflow: hidden;\n  width: 7rem;\n  height: 3.286rem;\n  margin: 0 0 -15px;\n  border-width: 0 0 0 1px;\n  border-style: solid;\n  border-color: #d3dbe1;\n}\n.field--datetime .time input {\n  width: auto;\n  padding-left: 10px;\n}\n.field--datetime input {\n  float: none;\n  -webkit-appearance: none;\n  background: transparent;\n  opacity: 1;\n  white-space: nowrap;\n}\n.field--datetime input.empty {\n  opacity: 0;\n}\n.field--datetime input::-webkit-inner-spin-button,\n.field--datetime input::-webkit-outer-spin-button,\n.field--datetime input::-webkit-clear-button,\n.field--datetime input::-webkit-calendar-picker-indicator {\n  display: none;\n  -webkit-appearance: none;\n}\n.field--datetime input[disabled] {\n  -webkit-text-fill-color: #111;\n}\n.field--datetime .btn-group {\n  position: absolute;\n  top: 1.429rem;\n  right: 0;\n}\n.email_type_invalid {\n  text-decoration: line-through;\n}\n.email_type_opt-out {\n  opacity: 0.6;\n}\n.field--email .field__controls--flex .input-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--email .field__controls--flex .input-wrapper .input-email {\n  height: 1.858rem;\n  margin-top: 0;\n  padding-top: 0;\n  margin-bottom: 0;\n  padding-bottom: 0;\n  line-height: 1;\n}\n.field--email .field__controls--flex .input-wrapper .clear-button {\n  margin-right: 5px;\n}\n.field--email .field__controls--flex.error {\n  position: relative;\n}\n.field--email .field__controls--flex.error .input-wrapper {\n  margin-right: 15px;\n}\n.field--email .field__controls--flex.error .input-wrapper .input-email {\n  color: red;\n}\n.field--email .primary-address .input-email,\n.field--email .primary-address .txt-value {\n  font-weight: bold;\n}\n.field--email .invalid-email .input-email,\n.field--email.field--readonly .invalid-email .txt-value {\n  text-decoration: line-through;\n  font-weight: normal;\n}\n.field--email .opt-out .input-email {\n  color: #58595b;\n  font-weight: normal;\n}\n.field--email.field--readonly .opt-out .txt-value {\n  color: #b5b5b5;\n  font-weight: normal;\n}\n.field--email .btn {\n  min-width: 35px;\n  color: #262626;\n}\n.field--email .field--email__add {\n  position: relative;\n  padding-top: 7px;\n  font-size: 1rem;\n  color: #0679c8;\n  z-index: 2;\n}\n.field--email.error .field__controls--flex {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.field--file .field__controls {\n  overflow: hidden;\n}\n.field--file .picture-wrap {\n  height: 2rem;\n  overflow: hidden;\n}\n.field--file .picture-wrap img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  max-width: none;\n}\n.field--file .picture-wrap img.hide {\n  display: none;\n}\n.field--file .picture-wrap .picture-icon .icondefault {\n  line-height: 26px;\n  font-size: 24px;\n  color: #ccc;\n}\n.field--file .picture-wrap .input_upload {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  opacity: 0;\n}\n.field--file .picture-wrap .value {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1.214rem;\n  color: #111;\n}\n.field--file .picture-wrap .picture-icon + .placeholder {\n  display: inline-block;\n  position: static;\n  width: auto;\n}\n.field--file .picture-wrap .picture-icon.hide + .value,\n.field--file .picture-wrap .picture-icon.hide + .placeholder + .value {\n  display: block;\n}\n.field--file .file-remove {\n  z-index: 2;\n}\n.field--file .file-remove .icondefault {\n  font-size: 1.143rem;\n}\n.field--file .clear-button {\n  float: right;\n  height: 28px;\n  padding: 0.33em 5px 5px;\n  margin: -0.33em -5px -5px 0;\n  font-size: 1.143rem;\n  line-height: 28px;\n  color: #c2c2c2;\n}\n.field--invitees .placeholder {\n  margin-bottom: -10px;\n}\n.multienum-list {\n  width: 100%;\n  min-height: 21px;\n  padding-top: 5px;\n  cursor: pointer;\n}\n.multienum-list .placeholder {\n  margin-top: -15px;\n  margin-bottom: -10px;\n}\n.multienum-list .multienum-list__label {\n  display: inline-block;\n  position: relative;\n  padding: 8px 25px 8px 8px;\n  margin-bottom: 6px;\n  background: #ebebeb;\n  border-radius: 3px;\n  color: #696969;\n  font-size: 0.929rem;\n  line-height: 1;\n  white-space: normal;\n}\n.multienum-list .multienum-list__remove {\n  position: absolute;\n  top: 8px;\n  right: 0;\n  height: 100%;\n  padding: 0 8px 0 10px;\n  font-size: 0.857rem;\n  color: #828282;\n}\n.multienum-list .multienum-list__remove.selected-item {\n  color: #1c1c1c;\n}\n.field--radio .field__controls {\n  overflow: hidden;\n  padding-top: 5px;\n}\n.field--radio .field__controls .btn-group .btn {\n  position: relative;\n  left: -5px;\n  min-height: 1.786rem;\n  line-height: 1.786rem;\n  min-width: 30px;\n  padding: 0 5px !important;\n  margin: 0 0 5px 5px;\n  border: solid 1px #9aa5ad;\n  border-radius: 1rem;\n  font-size: 1rem;\n  font-weight: 300;\n  color: #9aa5ad;\n}\n.field--radio .field__controls .btn-group .btn.active {\n  color: #fff !important;\n  background: #0679c8;\n  border-color: #0679c8;\n}\n.field--teamset .placeholder {\n  margin-bottom: -10px;\n}\n.field--relate .placeholder {\n  margin-bottom: -10px;\n}\n.email-body-content {\n  padding: 4px;\n}\n/*\n------------------------- */\n.control__btn_remove {\n  font-size: 1.143rem;\n}\n.field__text-preview .field__text-preview__div {\n  line-height: 1.3em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n}\n.field__text-preview .field__text-preview__more {\n  padding-top: 4px;\n  color: #0679c8;\n}\n.field .field__text-preview .field__text-preview__more {\n  padding-bottom: 4px;\n}\ntable {\n  max-width: 100%;\n  background-color: transparent;\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n.table {\n  width: 100%;\n  margin-bottom: 18px;\n}\n.table th,\n.table td {\n  padding: 8px;\n  line-height: 18px;\n  text-align: left;\n  vertical-align: top;\n  border-bottom: 1px solid #ecedef;\n}\n.table th {\n  font-weight: bold;\n}\n.table thead th {\n  vertical-align: bottom;\n}\n.table caption + thead tr:first-child th,\n.table caption + thead tr:first-child td,\n.table colgroup + thead tr:first-child th,\n.table colgroup + thead tr:first-child td,\n.table thead:first-child tr:first-child th,\n.table thead:first-child tr:first-child td {\n  border-top: 0;\n}\n.table tbody + tbody {\n  border-top: 2px solid #ecedef;\n}\n.layout__def {\n  position: absolute;\n  top: 50px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n.layout__def .box__header {\n  top: -50px;\n}\n.layout__def .box__edit {\n  top: 50px;\n}\n/*!\n *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: \'FontAwesome\';\n  src: url('+n(411)+') format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.icon {\n  display: inline-block;\n  font-family: FontAwesome;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* makes the font 33% larger relative to the icon container */\n.icon-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.icon-2x {\n  font-size: 2em;\n}\n.icon-3x {\n  font-size: 3em;\n}\n.icon-4x {\n  font-size: 4em;\n}\n.icon-5x {\n  font-size: 5em;\n}\n.icon-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n.icon-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.icon-ul > li {\n  position: relative;\n}\n.icon-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.icon-li.icon-lg {\n  left: -1.85714286em;\n}\n.icon-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n}\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.icon.pull-left {\n  margin-right: .3em;\n}\n.icon.pull-right {\n  margin-left: .3em;\n}\n.icon-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.icon-rotate-90 {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.icon-rotate-180 {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.icon-rotate-270 {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.icon-flip-horizontal {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);\n  -webkit-transform: scale(-1, 1);\n  -ms-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.icon-flip-vertical {\n  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);\n  -webkit-transform: scale(1, -1);\n  -ms-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n.icon-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.icon-stack-1x,\n.icon-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.icon-stack-1x {\n  line-height: inherit;\n}\n.icon-stack-2x {\n  font-size: 2em;\n}\n.icon-inverse {\n  color: #fff;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.icon-circle-thin:before {\n  content: "\\F1DB";\n}\n.icon-glass:before {\n  content: "\\F000";\n}\n.icon-music:before {\n  content: "\\F001";\n}\n.icon-search:before {\n  content: "\\F002";\n}\n.icon-envelope-o:before {\n  content: "\\F003";\n}\n.icon-heart:before {\n  content: "\\F004";\n}\n.icon-star:before {\n  content: "\\F005";\n}\n.icon-star-o:before {\n  content: "\\F006";\n}\n.icon-user:before {\n  content: "\\F007";\n}\n.icon-film:before {\n  content: "\\F008";\n}\n.icon-th-large:before {\n  content: "\\F009";\n}\n.icon-th:before {\n  content: "\\F00A";\n}\n.icon-th-list:before {\n  content: "\\F00B";\n}\n.icon-check:before {\n  content: "\\F00C";\n}\n.icon-remove:before,\n.icon-close:before,\n.icon-times:before {\n  content: "\\F00D";\n}\n.icon-search-plus:before {\n  content: "\\F00E";\n}\n.icon-search-minus:before {\n  content: "\\F010";\n}\n.icon-power-off:before {\n  content: "\\F011";\n}\n.icon-signal:before {\n  content: "\\F012";\n}\n.icon-gear:before,\n.icon-cog:before {\n  content: "\\F013";\n}\n.icon-trash-o:before {\n  content: "\\F014";\n}\n.icon-home:before {\n  content: "\\F015";\n}\n.icon-file-o:before {\n  content: "\\F016";\n}\n.icon-clock-o:before {\n  content: "\\F017";\n}\n.icon-road:before {\n  content: "\\F018";\n}\n.icon-download:before {\n  content: "\\F019";\n}\n.icon-arrow-circle-o-down:before {\n  content: "\\F01A";\n}\n.icon-arrow-circle-o-up:before {\n  content: "\\F01B";\n}\n.icon-inbox:before {\n  content: "\\F01C";\n}\n.icon-play-circle-o:before {\n  content: "\\F01D";\n}\n.icon-rotate-right:before,\n.icon-repeat:before {\n  content: "\\F01E";\n}\n.icon-refresh:before {\n  content: "\\F021";\n}\n.icon-list-alt:before {\n  content: "\\F022";\n}\n.icon-lock:before {\n  content: "\\F023";\n}\n.icon-flag:before {\n  content: "\\F024";\n}\n.icon-headphones:before {\n  content: "\\F025";\n}\n.icon-volume-off:before {\n  content: "\\F026";\n}\n.icon-volume-down:before {\n  content: "\\F027";\n}\n.icon-volume-up:before {\n  content: "\\F028";\n}\n.icon-qrcode:before {\n  content: "\\F029";\n}\n.icon-barcode:before {\n  content: "\\F02A";\n}\n.icon-tag:before {\n  content: "\\F02B";\n}\n.icon-tags:before {\n  content: "\\F02C";\n}\n.icon-book:before {\n  content: "\\F02D";\n}\n.icon-bookmark:before {\n  content: "\\F02E";\n}\n.icon-print:before {\n  content: "\\F02F";\n}\n.icon-camera:before {\n  content: "\\F030";\n}\n.icon-font:before {\n  content: "\\F031";\n}\n.icon-bold:before {\n  content: "\\F032";\n}\n.icon-italic:before {\n  content: "\\F033";\n}\n.icon-text-height:before {\n  content: "\\F034";\n}\n.icon-text-width:before {\n  content: "\\F035";\n}\n.icon-align-left:before {\n  content: "\\F036";\n}\n.icon-align-center:before {\n  content: "\\F037";\n}\n.icon-align-right:before {\n  content: "\\F038";\n}\n.icon-align-justify:before {\n  content: "\\F039";\n}\n.icon-list:before {\n  content: "\\F03A";\n}\n.icon-dedent:before,\n.icon-outdent:before {\n  content: "\\F03B";\n}\n.icon-indent:before {\n  content: "\\F03C";\n}\n.icon-video-camera:before {\n  content: "\\F03D";\n}\n.icon-photo:before,\n.icon-image:before,\n.icon-picture-o:before {\n  content: "\\F03E";\n}\n.icon-pencil:before {\n  content: "\\F040";\n}\n.icon-map-marker:before {\n  content: "\\F041";\n}\n.icon-adjust:before {\n  content: "\\F042";\n}\n.icon-tint:before {\n  content: "\\F043";\n}\n.icon-edit:before,\n.icon-pencil-square-o:before {\n  content: "\\F044";\n}\n.icon-share-square-o:before {\n  content: "\\F045";\n}\n.icon-check-square-o:before {\n  content: "\\F046";\n}\n.icon-arrows:before {\n  content: "\\F047";\n}\n.icon-step-backward:before {\n  content: "\\F048";\n}\n.icon-fast-backward:before {\n  content: "\\F049";\n}\n.icon-backward:before {\n  content: "\\F04A";\n}\n.icon-play:before {\n  content: "\\F04B";\n}\n.icon-pause:before {\n  content: "\\F04C";\n}\n.icon-stop:before {\n  content: "\\F04D";\n}\n.icon-forward:before {\n  content: "\\F04E";\n}\n.icon-fast-forward:before {\n  content: "\\F050";\n}\n.icon-step-forward:before {\n  content: "\\F051";\n}\n.icon-eject:before {\n  content: "\\F052";\n}\n.icon-chevron-left:before {\n  content: "\\F053";\n}\n.icon-chevron-right:before {\n  content: "\\F054";\n}\n.icon-plus-circle:before {\n  content: "\\F055";\n}\n.icon-minus-circle:before {\n  content: "\\F056";\n}\n.icon-times-circle:before {\n  content: "\\F057";\n}\n.icon-check-circle:before {\n  content: "\\F058";\n}\n.icon-question-circle:before {\n  content: "\\F059";\n}\n.icon-info-circle:before {\n  content: "\\F05A";\n}\n.icon-crosshairs:before {\n  content: "\\F05B";\n}\n.icon-times-circle-o:before {\n  content: "\\F05C";\n}\n.icon-check-circle-o:before {\n  content: "\\F05D";\n}\n.icon-ban:before {\n  content: "\\F05E";\n}\n.icon-arrow-left:before {\n  content: "\\F060";\n}\n.icon-arrow-right:before {\n  content: "\\F061";\n}\n.icon-arrow-up:before {\n  content: "\\F062";\n}\n.icon-arrow-down:before {\n  content: "\\F063";\n}\n.icon-mail-forward:before,\n.icon-share:before {\n  content: "\\F064";\n}\n.icon-expand:before {\n  content: "\\F065";\n}\n.icon-compress:before {\n  content: "\\F066";\n}\n.icon-plus:before {\n  content: "\\F067";\n}\n.icon-minus:before {\n  content: "\\F068";\n}\n.icon-asterisk:before {\n  content: "\\F069";\n}\n.icon-exclamation-circle:before {\n  content: "\\F06A";\n}\n.icon-gift:before {\n  content: "\\F06B";\n}\n.icon-leaf:before {\n  content: "\\F06C";\n}\n.icon-fire:before {\n  content: "\\F06D";\n}\n.icon-eye:before {\n  content: "\\F06E";\n}\n.icon-eye-slash:before {\n  content: "\\F070";\n}\n.icon-warning:before,\n.icon-exclamation-triangle:before {\n  content: "\\F071";\n}\n.icon-plane:before {\n  content: "\\F072";\n}\n.icon-calendar:before {\n  content: "\\F073";\n}\n.icon-random:before {\n  content: "\\F074";\n}\n.icon-comment:before {\n  content: "\\F075";\n}\n.icon-magnet:before {\n  content: "\\F076";\n}\n.icon-chevron-up:before {\n  content: "\\F077";\n}\n.icon-chevron-down:before {\n  content: "\\F078";\n}\n.icon-retweet:before {\n  content: "\\F079";\n}\n.icon-shopping-cart:before {\n  content: "\\F07A";\n}\n.icon-folder:before {\n  content: "\\F07B";\n}\n.icon-folder-open:before {\n  content: "\\F07C";\n}\n.icon-arrows-v:before {\n  content: "\\F07D";\n}\n.icon-arrows-h:before {\n  content: "\\F07E";\n}\n.icon-bar-chart-o:before,\n.icon-bar-chart:before {\n  content: "\\F080";\n}\n.icon-twitter-square:before {\n  content: "\\F081";\n}\n.icon-facebook-square:before {\n  content: "\\F082";\n}\n.icon-camera-retro:before {\n  content: "\\F083";\n}\n.icon-key:before {\n  content: "\\F084";\n}\n.icon-gears:before,\n.icon-cogs:before {\n  content: "\\F085";\n}\n.icon-comments:before {\n  content: "\\F086";\n}\n.icon-thumbs-o-up:before {\n  content: "\\F087";\n}\n.icon-thumbs-o-down:before {\n  content: "\\F088";\n}\n.icon-star-half:before {\n  content: "\\F089";\n}\n.icon-heart-o:before {\n  content: "\\F08A";\n}\n.icon-sign-out:before {\n  content: "\\F08B";\n}\n.icon-linkedin-square:before {\n  content: "\\F08C";\n}\n.icon-thumb-tack:before {\n  content: "\\F08D";\n}\n.icon-external-link:before {\n  content: "\\F08E";\n}\n.icon-sign-in:before {\n  content: "\\F090";\n}\n.icon-trophy:before {\n  content: "\\F091";\n}\n.icon-github-square:before {\n  content: "\\F092";\n}\n.icon-upload:before {\n  content: "\\F093";\n}\n.icon-lemon-o:before {\n  content: "\\F094";\n}\n.icon-phone:before {\n  content: "\\F095";\n}\n.icon-square-o:before {\n  content: "\\F096";\n}\n.icon-bookmark-o:before {\n  content: "\\F097";\n}\n.icon-phone-square:before {\n  content: "\\F098";\n}\n.icon-twitter:before {\n  content: "\\F099";\n}\n.icon-facebook:before {\n  content: "\\F09A";\n}\n.icon-github:before {\n  content: "\\F09B";\n}\n.icon-unlock:before {\n  content: "\\F09C";\n}\n.icon-credit-card:before {\n  content: "\\F09D";\n}\n.icon-rss:before {\n  content: "\\F09E";\n}\n.icon-hdd-o:before {\n  content: "\\F0A0";\n}\n.icon-bullhorn:before {\n  content: "\\F0A1";\n}\n.icon-bell:before {\n  content: "\\F0F3";\n}\n.icon-certificate:before {\n  content: "\\F0A3";\n}\n.icon-hand-o-right:before {\n  content: "\\F0A4";\n}\n.icon-hand-o-left:before {\n  content: "\\F0A5";\n}\n.icon-hand-o-up:before {\n  content: "\\F0A6";\n}\n.icon-hand-o-down:before {\n  content: "\\F0A7";\n}\n.icon-arrow-circle-left:before {\n  content: "\\F0A8";\n}\n.icon-arrow-circle-right:before {\n  content: "\\F0A9";\n}\n.icon-arrow-circle-up:before {\n  content: "\\F0AA";\n}\n.icon-arrow-circle-down:before {\n  content: "\\F0AB";\n}\n.icon-globe:before {\n  content: "\\F0AC";\n}\n.icon-wrench:before {\n  content: "\\F0AD";\n}\n.icon-tasks:before {\n  content: "\\F0AE";\n}\n.icon-filter:before {\n  content: "\\F0B0";\n}\n.icon-briefcase:before {\n  content: "\\F0B1";\n}\n.icon-arrows-alt:before {\n  content: "\\F0B2";\n}\n.icon-group:before,\n.icon-users:before {\n  content: "\\F0C0";\n}\n.icon-chain:before,\n.icon-link:before {\n  content: "\\F0C1";\n}\n.icon-cloud:before {\n  content: "\\F0C2";\n}\n.icon-flask:before {\n  content: "\\F0C3";\n}\n.icon-cut:before,\n.icon-scissors:before {\n  content: "\\F0C4";\n}\n.icon-copy:before,\n.icon-files-o:before {\n  content: "\\F0C5";\n}\n.icon-paperclip:before {\n  content: "\\F0C6";\n}\n.icon-save:before,\n.icon-floppy-o:before {\n  content: "\\F0C7";\n}\n.icon-square:before {\n  content: "\\F0C8";\n}\n.icon-navicon:before,\n.icon-reorder:before,\n.icon-bars:before {\n  content: "\\F0C9";\n}\n.icon-list-ul:before {\n  content: "\\F0CA";\n}\n.icon-list-ol:before {\n  content: "\\F0CB";\n}\n.icon-strikethrough:before {\n  content: "\\F0CC";\n}\n.icon-underline:before {\n  content: "\\F0CD";\n}\n.icon-table:before {\n  content: "\\F0CE";\n}\n.icon-magic:before {\n  content: "\\F0D0";\n}\n.icon-truck:before {\n  content: "\\F0D1";\n}\n.icon-pinterest:before {\n  content: "\\F0D2";\n}\n.icon-pinterest-square:before {\n  content: "\\F0D3";\n}\n.icon-google-plus-square:before {\n  content: "\\F0D4";\n}\n.icon-google-plus:before {\n  content: "\\F0D5";\n}\n.icon-money:before {\n  content: "\\F0D6";\n}\n.icon-caret-down:before {\n  content: "\\F0D7";\n}\n.icon-caret-up:before {\n  content: "\\F0D8";\n}\n.icon-caret-left:before {\n  content: "\\F0D9";\n}\n.icon-caret-right:before {\n  content: "\\F0DA";\n}\n.icon-columns:before {\n  content: "\\F0DB";\n}\n.icon-unsorted:before,\n.icon-sort:before {\n  content: "\\F0DC";\n}\n.icon-sort-down:before,\n.icon-sort-desc:before {\n  content: "\\F0DD";\n}\n.icon-sort-up:before,\n.icon-sort-asc:before {\n  content: "\\F0DE";\n}\n.icon-envelope:before {\n  content: "\\F0E0";\n}\n.icon-linkedin:before {\n  content: "\\F0E1";\n}\n.icon-rotate-left:before,\n.icon-undo:before {\n  content: "\\F0E2";\n}\n.icon-legal:before,\n.icon-gavel:before {\n  content: "\\F0E3";\n}\n.icon-dashboard:before,\n.icon-tachometer:before {\n  content: "\\F0E4";\n}\n.icon-comment-o:before {\n  content: "\\F0E5";\n}\n.icon-comments-o:before {\n  content: "\\F0E6";\n}\n.icon-flash:before,\n.icon-bolt:before {\n  content: "\\F0E7";\n}\n.icon-sitemap:before {\n  content: "\\F0E8";\n}\n.icon-umbrella:before {\n  content: "\\F0E9";\n}\n.icon-paste:before,\n.icon-clipboard:before {\n  content: "\\F0EA";\n}\n.icon-lightbulb-o:before {\n  content: "\\F0EB";\n}\n.icon-exchange:before {\n  content: "\\F0EC";\n}\n.icon-cloud-download:before {\n  content: "\\F0ED";\n}\n.icon-cloud-upload:before {\n  content: "\\F0EE";\n}\n.icon-user-md:before {\n  content: "\\F0F0";\n}\n.icon-stethoscope:before {\n  content: "\\F0F1";\n}\n.icon-suitcase:before {\n  content: "\\F0F2";\n}\n.icon-bell-o:before {\n  content: "\\F0A2";\n}\n.icon-coffee:before {\n  content: "\\F0F4";\n}\n.icon-cutlery:before {\n  content: "\\F0F5";\n}\n.icon-file-text-o:before {\n  content: "\\F0F6";\n}\n.icon-building-o:before {\n  content: "\\F0F7";\n}\n.icon-hospital-o:before {\n  content: "\\F0F8";\n}\n.icon-ambulance:before {\n  content: "\\F0F9";\n}\n.icon-medkit:before {\n  content: "\\F0FA";\n}\n.icon-fighter-jet:before {\n  content: "\\F0FB";\n}\n.icon-beer:before {\n  content: "\\F0FC";\n}\n.icon-h-square:before {\n  content: "\\F0FD";\n}\n.icon-plus-square:before {\n  content: "\\F0FE";\n}\n.icon-angle-double-left:before {\n  content: "\\F100";\n}\n.icon-angle-double-right:before {\n  content: "\\F101";\n}\n.icon-angle-double-up:before {\n  content: "\\F102";\n}\n.icon-angle-double-down:before {\n  content: "\\F103";\n}\n.icon-angle-left:before {\n  content: "\\F104";\n}\n.icon-angle-right:before {\n  content: "\\F105";\n}\n.icon-angle-up:before {\n  content: "\\F106";\n}\n.icon-angle-down:before {\n  content: "\\F107";\n}\n.icon-desktop:before {\n  content: "\\F108";\n}\n.icon-laptop:before {\n  content: "\\F109";\n}\n.icon-tablet:before {\n  content: "\\F10A";\n}\n.icon-mobile-phone:before,\n.icon-mobile:before {\n  content: "\\F10B";\n}\n.icon-circle-o:before {\n  content: "\\F10C";\n}\n.icon-quote-left:before {\n  content: "\\F10D";\n}\n.icon-quote-right:before {\n  content: "\\F10E";\n}\n.icon-spinner:before {\n  content: "\\F110";\n}\n.icon-circle:before {\n  content: "\\F111";\n}\n.icon-mail-reply:before,\n.icon-reply:before {\n  content: "\\F112";\n}\n.icon-github-alt:before {\n  content: "\\F113";\n}\n.icon-folder-o:before {\n  content: "\\F114";\n}\n.icon-folder-open-o:before {\n  content: "\\F115";\n}\n.icon-smile-o:before {\n  content: "\\F118";\n}\n.icon-frown-o:before {\n  content: "\\F119";\n}\n.icon-meh-o:before {\n  content: "\\F11A";\n}\n.icon-gamepad:before {\n  content: "\\F11B";\n}\n.icon-keyboard-o:before {\n  content: "\\F11C";\n}\n.icon-flag-o:before {\n  content: "\\F11D";\n}\n.icon-flag-checkered:before {\n  content: "\\F11E";\n}\n.icon-terminal:before {\n  content: "\\F120";\n}\n.icon-code:before {\n  content: "\\F121";\n}\n.icon-mail-reply-all:before,\n.icon-reply-all:before {\n  content: "\\F122";\n}\n.icon-star-half-empty:before,\n.icon-star-half-full:before,\n.icon-star-half-o:before {\n  content: "\\F123";\n}\n.icon-location-arrow:before {\n  content: "\\F124";\n}\n.icon-crop:before {\n  content: "\\F125";\n}\n.icon-code-fork:before {\n  content: "\\F126";\n}\n.icon-unlink:before,\n.icon-chain-broken:before {\n  content: "\\F127";\n}\n.icon-question:before {\n  content: "\\F128";\n}\n.icon-info:before {\n  content: "\\F129";\n}\n.icon-exclamation:before {\n  content: "\\F12A";\n}\n.icon-superscript:before {\n  content: "\\F12B";\n}\n.icon-subscript:before {\n  content: "\\F12C";\n}\n.icon-eraser:before {\n  content: "\\F12D";\n}\n.icon-puzzle-piece:before {\n  content: "\\F12E";\n}\n.icon-microphone:before {\n  content: "\\F130";\n}\n.icon-microphone-slash:before {\n  content: "\\F131";\n}\n.icon-shield:before {\n  content: "\\F132";\n}\n.icon-calendar-o:before {\n  content: "\\F133";\n}\n.icon-fire-extinguisher:before {\n  content: "\\F134";\n}\n.icon-rocket:before {\n  content: "\\F135";\n}\n.icon-maxcdn:before {\n  content: "\\F136";\n}\n.icon-chevron-circle-left:before {\n  content: "\\F137";\n}\n.icon-chevron-circle-right:before {\n  content: "\\F138";\n}\n.icon-chevron-circle-up:before {\n  content: "\\F139";\n}\n.icon-chevron-circle-down:before {\n  content: "\\F13A";\n}\n.icon-html5:before {\n  content: "\\F13B";\n}\n.icon-css3:before {\n  content: "\\F13C";\n}\n.icon-anchor:before {\n  content: "\\F13D";\n}\n.icon-unlock-alt:before {\n  content: "\\F13E";\n}\n.icon-bullseye:before {\n  content: "\\F140";\n}\n.icon-ellipsis-h:before {\n  content: "\\F141";\n}\n.icon-ellipsis-v:before {\n  content: "\\F142";\n}\n.icon-rss-square:before {\n  content: "\\F143";\n}\n.icon-play-circle:before {\n  content: "\\F144";\n}\n.icon-ticket:before {\n  content: "\\F145";\n}\n.icon-minus-square:before {\n  content: "\\F146";\n}\n.icon-minus-square-o:before {\n  content: "\\F147";\n}\n.icon-level-up:before {\n  content: "\\F148";\n}\n.icon-level-down:before {\n  content: "\\F149";\n}\n.icon-check-square:before {\n  content: "\\F14A";\n}\n.icon-pencil-square:before {\n  content: "\\F14B";\n}\n.icon-external-link-square:before {\n  content: "\\F14C";\n}\n.icon-share-square:before {\n  content: "\\F14D";\n}\n.icon-compass:before {\n  content: "\\F14E";\n}\n.icon-toggle-down:before,\n.icon-caret-square-o-down:before {\n  content: "\\F150";\n}\n.icon-toggle-up:before,\n.icon-caret-square-o-up:before {\n  content: "\\F151";\n}\n.icon-toggle-right:before,\n.icon-caret-square-o-right:before {\n  content: "\\F152";\n}\n.icon-euro:before,\n.icon-eur:before {\n  content: "\\F153";\n}\n.icon-gbp:before {\n  content: "\\F154";\n}\n.icon-dollar:before,\n.icon-usd:before {\n  content: "\\F155";\n}\n.icon-rupee:before,\n.icon-inr:before {\n  content: "\\F156";\n}\n.icon-cny:before,\n.icon-rmb:before,\n.icon-yen:before,\n.icon-jpy:before {\n  content: "\\F157";\n}\n.icon-ruble:before,\n.icon-rouble:before,\n.icon-rub:before {\n  content: "\\F158";\n}\n.icon-won:before,\n.icon-krw:before {\n  content: "\\F159";\n}\n.icon-bitcoin:before,\n.icon-btc:before {\n  content: "\\F15A";\n}\n.icon-file:before {\n  content: "\\F15B";\n}\n.icon-file-text:before {\n  content: "\\F15C";\n}\n.icon-sort-alpha-asc:before {\n  content: "\\F15D";\n}\n.icon-sort-alpha-desc:before {\n  content: "\\F15E";\n}\n.icon-sort-amount-asc:before {\n  content: "\\F160";\n}\n.icon-sort-amount-desc:before {\n  content: "\\F161";\n}\n.icon-sort-numeric-asc:before {\n  content: "\\F162";\n}\n.icon-sort-numeric-desc:before {\n  content: "\\F163";\n}\n.icon-thumbs-up:before {\n  content: "\\F164";\n}\n.icon-thumbs-down:before {\n  content: "\\F165";\n}\n.icon-youtube-square:before {\n  content: "\\F166";\n}\n.icon-youtube:before {\n  content: "\\F167";\n}\n.icon-xing:before {\n  content: "\\F168";\n}\n.icon-xing-square:before {\n  content: "\\F169";\n}\n.icon-youtube-play:before {\n  content: "\\F16A";\n}\n.icon-dropbox:before {\n  content: "\\F16B";\n}\n.icon-stack-overflow:before {\n  content: "\\F16C";\n}\n.icon-instagram:before {\n  content: "\\F16D";\n}\n.icon-flickr:before {\n  content: "\\F16E";\n}\n.icon-adn:before {\n  content: "\\F170";\n}\n.icon-bitbucket:before {\n  content: "\\F171";\n}\n.icon-bitbucket-square:before {\n  content: "\\F172";\n}\n.icon-tumblr:before {\n  content: "\\F173";\n}\n.icon-tumblr-square:before {\n  content: "\\F174";\n}\n.icon-long-arrow-down:before {\n  content: "\\F175";\n}\n.icon-long-arrow-up:before {\n  content: "\\F176";\n}\n.icon-long-arrow-left:before {\n  content: "\\F177";\n}\n.icon-long-arrow-right:before {\n  content: "\\F178";\n}\n.icon-apple:before {\n  content: "\\F179";\n}\n.icon-windows:before {\n  content: "\\F17A";\n}\n.icon-android:before {\n  content: "\\F17B";\n}\n.icon-linux:before {\n  content: "\\F17C";\n}\n.icon-dribbble:before {\n  content: "\\F17D";\n}\n.icon-skype:before {\n  content: "\\F17E";\n}\n.icon-foursquare:before {\n  content: "\\F180";\n}\n.icon-trello:before {\n  content: "\\F181";\n}\n.icon-female:before {\n  content: "\\F182";\n}\n.icon-male:before {\n  content: "\\F183";\n}\n.icon-gittip:before {\n  content: "\\F184";\n}\n.icon-sun-o:before {\n  content: "\\F185";\n}\n.icon-moon-o:before {\n  content: "\\F186";\n}\n.icon-archive:before {\n  content: "\\F187";\n}\n.icon-bug:before {\n  content: "\\F188";\n}\n.icon-vk:before {\n  content: "\\F189";\n}\n.icon-weibo:before {\n  content: "\\F18A";\n}\n.icon-renren:before {\n  content: "\\F18B";\n}\n.icon-pagelines:before {\n  content: "\\F18C";\n}\n.icon-stack-exchange:before {\n  content: "\\F18D";\n}\n.icon-arrow-circle-o-right:before {\n  content: "\\F18E";\n}\n.icon-arrow-circle-o-left:before {\n  content: "\\F190";\n}\n.icon-toggle-left:before,\n.icon-caret-square-o-left:before {\n  content: "\\F191";\n}\n.icon-dot-circle-o:before {\n  content: "\\F192";\n}\n.icon-wheelchair:before {\n  content: "\\F193";\n}\n.icon-vimeo-square:before {\n  content: "\\F194";\n}\n.icon-turkish-lira:before,\n.icon-try:before {\n  content: "\\F195";\n}\n.icon-plus-square-o:before {\n  content: "\\F196";\n}\n.icon-space-shuttle:before {\n  content: "\\F197";\n}\n.icon-slack:before {\n  content: "\\F198";\n}\n.icon-envelope-square:before {\n  content: "\\F199";\n}\n.icon-wordpress:before {\n  content: "\\F19A";\n}\n.icon-openid:before {\n  content: "\\F19B";\n}\n.icon-institution:before,\n.icon-bank:before,\n.icon-university:before {\n  content: "\\F19C";\n}\n.icon-mortar-board:before,\n.icon-graduation-cap:before {\n  content: "\\F19D";\n}\n.icon-yahoo:before {\n  content: "\\F19E";\n}\n.icon-google:before {\n  content: "\\F1A0";\n}\n.icon-reddit:before {\n  content: "\\F1A1";\n}\n.icon-reddit-square:before {\n  content: "\\F1A2";\n}\n.icon-stumbleupon-circle:before {\n  content: "\\F1A3";\n}\n.icon-stumbleupon:before {\n  content: "\\F1A4";\n}\n.icon-delicious:before {\n  content: "\\F1A5";\n}\n.icon-digg:before {\n  content: "\\F1A6";\n}\n.icon-pied-piper:before {\n  content: "\\F1A7";\n}\n.icon-pied-piper-alt:before {\n  content: "\\F1A8";\n}\n.icon-drupal:before {\n  content: "\\F1A9";\n}\n.icon-joomla:before {\n  content: "\\F1AA";\n}\n.icon-language:before {\n  content: "\\F1AB";\n}\n.icon-fax:before {\n  content: "\\F1AC";\n}\n.icon-building:before {\n  content: "\\F1AD";\n}\n.icon-child:before {\n  content: "\\F1AE";\n}\n.icon-paw:before {\n  content: "\\F1B0";\n}\n.icon-spoon:before {\n  content: "\\F1B1";\n}\n.icon-cube:before {\n  content: "\\F1B2";\n}\n.icon-cubes:before {\n  content: "\\F1B3";\n}\n.icon-behance:before {\n  content: "\\F1B4";\n}\n.icon-behance-square:before {\n  content: "\\F1B5";\n}\n.icon-steam:before {\n  content: "\\F1B6";\n}\n.icon-steam-square:before {\n  content: "\\F1B7";\n}\n.icon-recycle:before {\n  content: "\\F1B8";\n}\n.icon-automobile:before,\n.icon-car:before {\n  content: "\\F1B9";\n}\n.icon-cab:before,\n.icon-taxi:before {\n  content: "\\F1BA";\n}\n.icon-tree:before {\n  content: "\\F1BB";\n}\n.icon-spotify:before {\n  content: "\\F1BC";\n}\n.icon-deviantart:before {\n  content: "\\F1BD";\n}\n.icon-soundcloud:before {\n  content: "\\F1BE";\n}\n.icon-database:before {\n  content: "\\F1C0";\n}\n.icon-file-pdf-o:before {\n  content: "\\F1C1";\n}\n.icon-file-word-o:before {\n  content: "\\F1C2";\n}\n.icon-file-excel-o:before {\n  content: "\\F1C3";\n}\n.icon-file-powerpoint-o:before {\n  content: "\\F1C4";\n}\n.icon-file-photo-o:before,\n.icon-file-picture-o:before,\n.icon-file-image-o:before {\n  content: "\\F1C5";\n}\n.icon-file-zip-o:before,\n.icon-file-archive-o:before {\n  content: "\\F1C6";\n}\n.icon-file-sound-o:before,\n.icon-file-audio-o:before {\n  content: "\\F1C7";\n}\n.icon-file-movie-o:before,\n.icon-file-video-o:before {\n  content: "\\F1C8";\n}\n.icon-file-code-o:before {\n  content: "\\F1C9";\n}\n.icon-vine:before {\n  content: "\\F1CA";\n}\n.icon-codepen:before {\n  content: "\\F1CB";\n}\n.icon-jsfiddle:before {\n  content: "\\F1CC";\n}\n.icon-life-bouy:before,\n.icon-life-buoy:before,\n.icon-life-saver:before,\n.icon-support:before,\n.icon-life-ring:before {\n  content: "\\F1CD";\n}\n.icon-circle-o-notch:before {\n  content: "\\F1CE";\n}\n.icon-ra:before,\n.icon-rebel:before {\n  content: "\\F1D0";\n}\n.icon-ge:before,\n.icon-empire:before {\n  content: "\\F1D1";\n}\n.icon-git-square:before {\n  content: "\\F1D2";\n}\n.icon-git:before {\n  content: "\\F1D3";\n}\n.icon-hacker-news:before {\n  content: "\\F1D4";\n}\n.icon-tencent-weibo:before {\n  content: "\\F1D5";\n}\n.icon-qq:before {\n  content: "\\F1D6";\n}\n.icon-wechat:before,\n.icon-weixin:before {\n  content: "\\F1D7";\n}\n.icon-send:before,\n.icon-paper-plane:before {\n  content: "\\F1D8";\n}\n.icon-send-o:before,\n.icon-paper-plane-o:before {\n  content: "\\F1D9";\n}\n.icon-history:before {\n  content: "\\F1DA";\n}\n.icon-header:before {\n  content: "\\F1DC";\n}\n.icon-paragraph:before {\n  content: "\\F1DD";\n}\n.icon-sliders:before {\n  content: "\\F1DE";\n}\n.icon-share-alt:before {\n  content: "\\F1E0";\n}\n.icon-share-alt-square:before {\n  content: "\\F1E1";\n}\n.icon-bomb:before {\n  content: "\\F1E2";\n}\n.icon-soccer-ball-o:before,\n.icon-futbol-o:before {\n  content: "\\F1E3";\n}\n.icon-tty:before {\n  content: "\\F1E4";\n}\n.icon-binoculars:before {\n  content: "\\F1E5";\n}\n.icon-plug:before {\n  content: "\\F1E6";\n}\n.icon-slideshare:before {\n  content: "\\F1E7";\n}\n.icon-twitch:before {\n  content: "\\F1E8";\n}\n.icon-yelp:before {\n  content: "\\F1E9";\n}\n.icon-newspaper-o:before {\n  content: "\\F1EA";\n}\n.icon-wifi:before {\n  content: "\\F1EB";\n}\n.icon-calculator:before {\n  content: "\\F1EC";\n}\n.icon-paypal:before {\n  content: "\\F1ED";\n}\n.icon-google-wallet:before {\n  content: "\\F1EE";\n}\n.icon-cc-visa:before {\n  content: "\\F1F0";\n}\n.icon-cc-mastercard:before {\n  content: "\\F1F1";\n}\n.icon-cc-discover:before {\n  content: "\\F1F2";\n}\n.icon-cc-amex:before {\n  content: "\\F1F3";\n}\n.icon-cc-paypal:before {\n  content: "\\F1F4";\n}\n.icon-cc-stripe:before {\n  content: "\\F1F5";\n}\n.icon-bell-slash:before {\n  content: "\\F1F6";\n}\n.icon-bell-slash-o:before {\n  content: "\\F1F7";\n}\n.icon-trash:before {\n  content: "\\F1F8";\n}\n.icon-copyright:before {\n  content: "\\F1F9";\n}\n.icon-at:before {\n  content: "\\F1FA";\n}\n.icon-eyedropper:before {\n  content: "\\F1FB";\n}\n.icon-paint-brush:before {\n  content: "\\F1FC";\n}\n.icon-birthday-cake:before {\n  content: "\\F1FD";\n}\n.icon-area-chart:before {\n  content: "\\F1FE";\n}\n.icon-pie-chart:before {\n  content: "\\F200";\n}\n.icon-line-chart:before {\n  content: "\\F201";\n}\n.icon-lastfm:before {\n  content: "\\F202";\n}\n.icon-lastfm-square:before {\n  content: "\\F203";\n}\n.icon-toggle-off:before {\n  content: "\\F204";\n}\n.icon-toggle-on:before {\n  content: "\\F205";\n}\n.icon-bicycle:before {\n  content: "\\F206";\n}\n.icon-bus:before {\n  content: "\\F207";\n}\n.icon-ioxhost:before {\n  content: "\\F208";\n}\n.icon-angellist:before {\n  content: "\\F209";\n}\n.icon-cc:before {\n  content: "\\F20A";\n}\n.icon-shekel:before,\n.icon-sheqel:before,\n.icon-ils:before {\n  content: "\\F20B";\n}\n.icon-meanpath:before {\n  content: "\\F20C";\n}\n.close {\n  float: right;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 18px;\n  color: #000;\n  text-shadow: 0 1px 0 #ffffff;\n  opacity: 0.2;\n}\n.close:active {\n  color: #000;\n  text-decoration: none;\n  cursor: pointer;\n  opacity: 0.4;\n}\nbutton.close {\n  padding: 0;\n  cursor: pointer;\n  background: transparent;\n  border: 0;\n  -webkit-appearance: none;\n}\n.btn {\n  display: inline-block;\n  padding: 4px 10px;\n  margin: 0;\n  font-size: 1.143rem;\n  line-height: 1.286em;\n  color: #6b7479;\n  font-weight: 500;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n  border-radius: 3px;\n  border: solid 1px transparent;\n  background: transparent;\n  outline: none;\n}\n.btn.active {\n  background: none;\n  color: #0679c8 !important;\n  outline: 0;\n}\n.btn--large {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 15px 15px;\n  border-radius: 4px;\n  font-size: 1.143rem;\n  font-weight: 600;\n  line-height: normal;\n}\n.btn--large.btn--danger {\n  font-weight: normal;\n}\n.btn-small {\n  padding: 5px 9px;\n  font-size: 12px;\n  line-height: 16px;\n}\n.btn-small .icondefault {\n  margin-top: -1px;\n}\n.btn-mini {\n  padding: 2px 6px;\n  font-size: 12px;\n  line-height: 14px;\n}\n.btn--secondary {\n  background: #f8fbfd;\n  border: 1px solid #ccd6dc;\n  color: #000;\n}\n.btn--secondary.selected-item {\n  background: #d3dbe1;\n  border-color: #d3dbe1;\n  color: #000;\n}\n.btn--secondary.disabled,\n.btn--secondary[disabled] {\n  background-color: #f8fafd;\n  border-color: #d3dbe1;\n  color: rgba(107, 116, 121, 0.5);\n}\n.btn--primary {\n  background: #0b89d2;\n  border-color: #0a75b3;\n  color: #fff;\n}\n.btn--primary.selected-item,\n.btn-area-more.selected-item .btn--primary {\n  background: #005088;\n  border-color: #033d64;\n  color: #fff;\n}\n.btn--primary.disabled,\n.btn--primary[disabled] {\n  color: rgba(255, 255, 255, 0.5);\n  opacity: 0.3;\n}\n.btn--danger {\n  background: transparent;\n  border-color: transparent;\n  color: #e61718;\n}\n.btn--danger.selected-item {\n  background-color: transparent;\n  border-color: transparent;\n  color: #c30304;\n}\n.btn--danger.disabled,\n.btn--danger[disabled] {\n  background-color: transparent;\n  border-color: transparent;\n  color: rgba(230, 23, 24, 0.5);\n  opacity: 0.3;\n}\n.btn-transparent {\n  background-color: transparent;\n  border: 1px solid #717171;\n}\n.btn-filter {\n  display: inline-block;\n  min-width: 20px;\n  height: 26px;\n  line-height: 26px;\n  padding: 0 8px;\n  background: transparent;\n  border: solid 1px #ccd6dc;\n  border-radius: 2px;\n  text-align: center;\n  color: #000;\n  font-size: 1rem;\n  font-weight: bold;\n}\n.btn-filter.selected-item {\n  background: #d3dbe1;\n  border-color: #ccd6dc;\n  color: #000;\n}\n.btn-filter.active {\n  background: #d4d4d4;\n  border-color: #ccd6dc;\n  color: #000;\n}\n.btn-group {\n  position: relative;\n}\n.btn-group::after {\n  display: table;\n  clear: both;\n}\n.btn-group + .btn-group {\n  margin-left: 5px;\n}\n.btn-group .btn {\n  position: relative;\n  float: left;\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.btn-group .btn:last-child {\n  padding-right: 0;\n}\n.btn-group .btn:active,\n.btn-group .btn.active {\n  z-index: 2;\n}\n.box__edit_header {\n  position: absolute;\n  top: 0;\n  height: 54px;\n  line-height: 54px;\n  background: #f7f8f9;\n  width: 100%;\n}\n.box__edit_header .edit_header_controls {\n  float: right;\n}\n.box__edit_header .edit_header_controls .edit_header_search {\n  padding: 0 15px;\n}\n.box__edit_header .edit_header_title {\n  padding: 0 15px;\n  font-size: 1.143em;\n  font-weight: bold;\n}\n.box__edit_header + .box__edit .scroll {\n  top: 54px;\n  height: auto;\n  bottom: 0;\n}\n.box__edit {\n  display: block;\n  height: 100%;\n  margin: 0;\n}\n.box__edit .avatar {\n  height: 32px;\n  width: 32px;\n  background-size: cover;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n}\n.box__edit .field {\n  margin-left: 15px;\n  margin-right: 15px;\n}\n.box__edit.box__edit_readonly .field {\n  padding-left: 15px;\n  padding-right: 15px;\n  margin-left: 0;\n  margin-right: 0;\n  border-bottom: solid 1px #d3dbe1;\n}\n.box__edit.box__edit_readonly .field .field__controls {\n  border-bottom: none;\n}\n.box__edit.box__edit_readonly .field.field--readonly input,\n.box__edit.box__edit_readonly .field.field--readonly select,\n.box__edit.box__edit_readonly .field.field--readonly label {\n  color: #7e878d;\n}\n.box__edit.box__edit_readonly .field.field--readonly .subvalue {\n  color: #111;\n}\n.box__edit.box__edit_readonly .field__controls.field__controls--readonly {\n  color: #111;\n}\n.box__edit.box__edit_readonly .field__controls.field__controls--readonly .value {\n  display: block;\n}\n.box__edit .horizontal-fieldset {\n  display: -webkit-box;\n}\n.box__edit .horizontal-fieldset > span {\n  display: block;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.box__edit .horizontal-fieldset .field {\n  padding: 0;\n  margin: 0;\n}\n.box__edit .horizontal-fieldset .field .field__controls {\n  border-bottom: none;\n}\n.box__edit .horizontal-fieldset .field__label {\n  display: none;\n}\n.box__edit .horizontal-fieldset .checkbox_custom {\n  min-width: 25px;\n}\n.box__edit .horizontal-fieldset .checkbox_custom + .checkbox-icon {\n  width: 18px;\n}\n.box__edit .edit__footer {\n  padding: 18px 15px 30px;\n  text-align: center;\n}\n.box__edit .edit__footer .btn--danger {\n  display: block;\n  margin: 0 auto;\n  font-size: 1.214rem;\n}\n.body--field-onfocus .scroll {\n  -webkit-overflow-scrolling: auto;\n}\n/* Details list\n------------------------------ */\n.view__detail {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 140px;\n  background: #837e90 url('+n(415)+') 0 0 repeat;\n}\n.view__detail .avatar {\n  position: absolute;\n  overflow: hidden;\n  top: 15px;\n  left: 17px;\n  height: 60px;\n  width: 60px;\n  border-radius: 30px;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: cover;\n  background-color: rgba(0, 0, 0, 0.2);\n  text-align: center;\n}\n.view__detail .avatar .icondefault {\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n  font-size: 38px;\n  color: #fff;\n}\n.view__detail .avatar .user-icon {\n  width: 60px;\n  height: 60px;\n}\n.view__detail .label-module-sm {\n  position: absolute;\n  top: 15px;\n  left: 17px;\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n  font-size: 28px;\n  text-align: center;\n}\n.view__detail .label-module-sm .icondefault {\n  font-size: 60px;\n  line-height: 1em;\n}\n.view__detail .input_upload {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 80px;\n  height: 80px;\n  opacity: 0;\n  z-index: 5;\n}\n.view__detail .favorite-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 45px;\n  height: 45px;\n  line-height: 45px;\n  text-align: center;\n  color: #fff;\n}\n.view__detail .favorite-icon.icon-star {\n  color: #fff;\n}\n.view__detail .box_detail__title {\n  position: absolute;\n  top: 15px;\n  left: 90px;\n  right: 30px;\n  height: 60px;\n}\n.view__detail .box_detail__title .field-detail {\n  padding: 0;\n  border-bottom: none;\n  overflow: visible;\n}\n.view__detail .box_detail__title .field-detail__label {\n  display: none;\n}\n.view__detail .box_detail__title .field-detail__value {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  left: 0;\n  max-height: 3em;\n  line-height: 1.5em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: inherit;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  font-size: 1.286rem;\n  color: #fff;\n}\n.view__detail .box__record-actions__wrapper {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.view__detail.view__detail_noactions {\n  height: 90px;\n}\n.view__detail.view__detail_noactions .box__record-actions__wrapper {\n  display: none;\n}\n.view__detail-bg {\n  height: 100%;\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(204, 204, 204, 0.14));\n}\n.view__detail-bg_Bugs {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(247, 95, 96, 0.14));\n}\n.view__detail-bg_Cases {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(232, 84, 121, 0.14));\n}\n.view__detail-bg_Prospects {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(170, 203, 45, 0.14));\n}\n.view__detail-bg_ProspectLists {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(170, 203, 45, 0.14));\n}\n.view__detail-bg_Targets {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(66, 158, 16, 0.14));\n}\n.view__detail-bg_TargetLists {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(66, 158, 16, 0.14));\n}\n.view__detail-bg_Campaigns {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 207, 0, 0.14));\n}\n.view__detail-bg_CampaignLog {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 207, 0, 0.14));\n}\n.view__detail-bg_Opportunitie {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(160, 92, 255, 0.14));\n}\n.view__detail-bg_RevenueLineItems {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(0, 203, 243, 0.14));\n}\n.view__detail-bg_Products {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(1, 21, 35, 0.14));\n}\n.view__detail-bg_Forecasts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(31, 206, 109, 0.14));\n}\n.view__detail-bg_Quotes {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(14, 186, 97, 0.14));\n}\n.view__detail-bg_Accounts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(81, 205, 21, 0.14));\n}\n.view__detail-bg_Contacts {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(204, 108, 217, 0.14));\n}\n.view__detail-bg_Leads {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(118, 81, 252, 0.14));\n}\n.view__detail-bg_Reports {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 151, 62, 0.14));\n}\n.view__detail-bg_Files {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(251, 192, 45, 0.14));\n}\n.view__detail-bg_Documents {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(98, 107, 245, 0.14));\n}\n.view__detail-bg_Calendar {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(0, 189, 156, 0.14));\n}\n.view__detail-bg_Meetings {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(46, 224, 205, 0.14));\n}\n.view__detail-bg_Calls {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(1, 209, 255, 0.14));\n}\n.view__detail-bg_Emails {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(44, 151, 222, 0.14));\n}\n.view__detail-bg_Tasks {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(255, 90, 156, 0.14));\n}\n.view__detail-bg_Notes {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(40, 189, 240, 0.14));\n}\n.view__detail-bg_Workflow {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(65, 183, 209, 0.14));\n}\n.view__detail-bg_Users {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(107, 115, 121, 0.14));\n}\n.view__detail-bg_Employees {\n  background: linear-gradient(to bottom, rgba(204, 107, 217, 0), rgba(44, 151, 222, 0.14));\n}\n.box__record-actions__wrapper {\n  display: block;\n  height: 54px;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: scroll;\n}\n.box__record-actions {\n  display: inline-block;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.box__record-actions .context-menu__item {\n  position: relative;\n  display: inline-block;\n  height: 54px;\n  width: 50px;\n  margin-right: -3px;\n  text-align: center;\n  color: #fff;\n}\n.box__record-actions .context-menu__item:active {\n  opacity: 0.7;\n}\n.box__record-actions .context-menu__item .icondefault {\n  margin-top: 10px;\n  margin-bottom: 2px;\n  line-height: 18px;\n  font-size: 24px;\n}\n.box__record-actions .context-menu__item.disabled {\n  color: #cecece;\n}\n.box__record-actions .context-menu__item .action-label {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 11px;\n}\n.box__record-actions .context-menu__item .action-label::first-letter {\n  text-transform: uppercase;\n}\n.box__record-actions .context-menu__item .icon-spinner {\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n}\n/* Details list\n------------------------------ */\n.view__detail-tabs {\n  position: absolute;\n  top: 140px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.view__detail_noactions + .view__detail-tabs {\n  top: 90px;\n}\n.view__detail-tabs .tabs__scroll-bar .tabs__scroll-bar__ul .tab {\n  -webkit-box-flex: 1 0 auto;\n  -webkit-flex: 1 0 auto;\n  flex: 1 0 auto;\n}\n.view__detail-tabs .tabs__scroll-bar .tabs__scroll-bar__ul .tab .tab__title {\n  padding-top: 2px;\n}\n.view__record-summary {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  background: #fff;\n}\n.field-detail {\n  padding: 10px 10px 11px 120px;\n  border-bottom: solid 1px #ebedef;\n  overflow: hidden;\n  font-size: 1rem;\n  color: #000;\n}\n.field-detail .field-detail__label {\n  display: -webkit-box;\n  overflow: hidden;\n  float: left;\n  width: 100px;\n  max-height: 2.8em;\n  margin-left: -105px;\n  font-size: 0.857rem;\n  color: #6b747f;\n  line-height: 1.55em;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  text-overflow: ellipsis;\n}\n.field-detail .field-detail__value {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.field-detail .field-detail__value + .field-detail__value {\n  padding-top: 12px;\n}\n.field-detail .subvalue {\n  color: #6b747f;\n}\n.field-detail .horizontal-fieldset .field-detail {\n  display: inline;\n  padding: 0;\n}\n.field-detail .horizontal-fieldset .field-detail__label {\n  display: none;\n}\n.field-detail .horizontal-fieldset .field-detail__value {\n  display: inline;\n}\n.field-detail.field-detail--expanded .field-detail__value {\n  white-space: normal;\n}\n.field-detail--textarea .field-detail__value {\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  white-space: normal;\n}\n.field-detail--textarea.field-detail--expanded .field-detail__value {\n  -webkit-line-clamp: initial;\n}\n/* Login page\n------------------------- */\n.layout__Login,\n.layout__loginSettingsNoHeader {\n  overflow: auto;\n  top: 0 !important;\n}\n.layout__Login .view__header,\n.layout__loginSettingsNoHeader .view__header {\n  display: none;\n}\n.view__login {\n  position: relative;\n  min-height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: #fff;\n  opacity: 0;\n}\n.view__login .page__login {\n  position: relative;\n  min-height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.view__login .login__header {\n  padding: 5px 0;\n}\n.view__login .login__settings_div {\n  padding: 10px 0 0;\n  text-align: right;\n  position: absolute;\n  width: 100%;\n}\n.view__login .login__settings_btn {\n  color: #0679c8;\n  padding: 0 15px 15px 20px;\n}\n.view__login .login__body {\n  min-width: 290px;\n  max-width: 330px;\n  padding: 0 15px;\n  margin: auto;\n}\n.view__login .login__footer {\n  border: none;\n  padding: 0 15px 5rem;\n  margin-top: 60px;\n  text-align: center;\n}\n.view__login .login__footer.login__footer_show-attribution {\n  padding-bottom: 10rem;\n}\n.view__login .field {\n  padding-top: 10px;\n}\n.view__login .input-wrapper input {\n  width: 100%;\n  height: 2rem;\n  margin: 0;\n  line-height: 2rem;\n  font-size: 1.143rem;\n  color: black;\n}\n.view__login .input-wrapper input::-webkit-input-placeholder {\n  opacity: 0.3;\n  color: black;\n  white-space: nowrap;\n  text-overflow: ellipsis !important;\n}\n.view__login .input-wrapper input.login_settings_server_url {\n  font-size: 1.214rem;\n}\n.view__login .btn {\n  display: block;\n  min-width: 290px;\n  max-width: 330px;\n  padding-left: 0;\n  padding-right: 0;\n  margin: 20px auto;\n}\n.view__login .btn.btn--primary .icon-spinner .icon-spinner-path {\n  fill: #fff;\n}\n.view__login .btn.btn--secondary .icon-spinner .icon-spinner-path {\n  fill: #000;\n}\n.view__login .btn .icon-spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-top: -1px;\n  margin-right: 4px;\n  vertical-align: middle;\n}\n.view__login .btn .icon-spinner .icon-spinner-path {\n  fill: #fff;\n}\n.view__login .field.error {\n  position: relative;\n  color: red;\n}\n.view__login .field.error .icondefault {\n  position: absolute;\n  top: 50%;\n  right: -1.25em;\n  margin-top: -0.5em;\n}\n.view__login .field.error .field__error-message {\n  display: none;\n}\n.view__login .login__links {\n  position: absolute;\n  bottom: 25px;\n  left: 0;\n  width: 100%;\n  font-size: 0.857rem;\n  color: black;\n  text-align: center;\n}\n.view__login .login__links .version {\n  padding-bottom: 15px;\n  opacity: 0.3;\n}\n.view__login .login__links .separator {\n  position: relative;\n  top: -1px;\n  display: inline-block;\n  width: 1px;\n  height: 11px;\n  background: black;\n  opacity: 0.3;\n  font-size: 0;\n  line-height: 0;\n  vertical-align: middle;\n}\n.view__login .login__links .login-links__link {\n  padding: 0 8px;\n  color: black;\n}\n.view__login .box__copyright {\n  color: black;\n}\n.view__login .box__copyright .copyright-logo__svg-color {\n  fill: black;\n}\n/* Login Settings\n------------------------- */\n.login__settings {\n  opacity: 1;\n}\n.login__settings .settings__header {\n  text-align: center;\n  font-size: 1.214rem;\n  color: #000;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n.login__settings .settings__header__desc {\n  font-size: 1rem;\n  color: #000;\n}\n.login__settings .settings__controls_group {\n  margin-top: 15px;\n  text-align: left;\n}\n.login__settings .settings__controls_group .settings__control_checkbox {\n  text-align: right;\n}\n.login__settings .settings__controls_group .field.no-border .field__controls {\n  border: transparent;\n}\n.login__settings .settings__controls_group .field.no-border .settings__control_label {\n  font-size: 1.143rem;\n  font-weight: 600;\n}\n.login__settings .settings__control_label {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  height: 1.858rem;\n  line-height: 1.858rem;\n  font-size: 1rem;\n  color: #000;\n}\n.login__settings .login_settings_server_url[readonly] {\n  background: transparent;\n  color: #b5b5b5;\n}\n/* SugarCRM Copyright\n------------------------- */\n.box__copyright {\n  text-align: center;\n  color: #000;\n  opacity: 0.3;\n}\n.copyright__text {\n  display: block;\n  padding-bottom: 3px;\n  font-size: 0.857rem;\n  line-height: 1;\n}\n.copyright__logo {\n  display: block;\n  width: 125px;\n  height: 14px;\n  margin: 5px auto 6px;\n}\n.copyright__logo .copyright-logo__svg-color {\n  fill: #000;\n}\n.copyright__version {\n  position: relative;\n  display: block;\n  width: 100px;\n  margin: 4px auto 25px;\n  text-align: center;\n}\n/* About page\n------------------------- */\n.page__about .pad {\n  position: relative;\n}\n.page__about .field > label {\n  font-size: 0.857em;\n}\n.page__about .show-attribution {\n  padding-top: 20px;\n  padding-bottom: 5rem;\n  border-bottom: none !important;\n}\n.page__about .box__copyright {\n  position: absolute;\n  bottom: 15px;\n  width: 100%;\n}\n.page__about .about__legal {\n  display: block;\n  clear: both;\n  font-size: 0.786em;\n}\n.uneditable-link {\n  padding-top: 4px;\n  height: 1.857em;\n  display: block;\n  vertical-align: middle;\n}\n.legal:not(a) {\n  color: #696969;\n}\n/* Offline page\n------------------------- */\n.page__offline .text-container {\n  padding: 10px;\n}\n.page__offline .bh__timestamp {\n  margin-top: 4px;\n  font-size: 0.857rem;\n  font-weight: normal;\n  color: #6b7479;\n}\n.page__offline .table {\n  table-layout: fixed;\n  margin-bottom: -1px;\n  font-size: 1.143rem;\n  color: #000;\n}\n.page__offline .table tr td:first-child {\n  padding-left: 15px;\n}\n.page__offline .table tr td:last-child {\n  padding-right: 15px;\n}\n.page__offline .offline__text-container {\n  overflow: hidden;\n  position: relative;\n  padding: 16px 15px 0;\n  margin-bottom: 24px;\n}\n.page__offline .offline__text-container .el__spinner {\n  display: none;\n  float: right;\n  margin-top: 4px;\n  margin-right: 6px;\n}\n.page__offline .offline__text-container .status-text {\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #000;\n}\n.page__offline .btn-container {\n  padding: 0 10px;\n  margin-bottom: 18px;\n}\n.page__offline .listing .content {\n  margin: 0 0 10px 10px;\n}\n.page__offline .listing .content::before {\n  content: "";\n  display: block;\n  clear: both;\n}\n.page__offline .listing h4 {\n  margin: 8px 0 0 10px;\n  font-weight: bold;\n}\n.page__offline .listing select {\n  width: 92%;\n  height: auto;\n  margin: 2px 0 10px 10px;\n  padding: 4px 10px;\n  border: 1px solid #999;\n}\n.page__offline .listing .emulation-item {\n  overflow: hidden;\n}\n.page__offline .listing .emulation-item .error-emulation-check {\n  float: left;\n}\n.page__offline .listing .emulation-item .error-emulation-select {\n  float: right;\n  width: 40%;\n  margin: 8px 10px 0 0;\n}\n.page__offline .error-emulation-check .checkbox_default,\n.page__offline .offline-property .checkbox_default {\n  height: 35px;\n  width: 35px;\n  margin: 8px 10px 8px 0;\n  vertical-align: middle;\n}\n.page__offline .more {\n  font-size: 14px;\n}\n.page__offline .modal-footer {\n  padding-left: 10px;\n  text-align: left;\n}\n.page__offline .btn--primary {\n  line-height: 1.575em;\n}\n.page__offline .offline__start-stop-btn {\n  float: right;\n  padding: 6px 10px;\n  margin-top: 2px;\n  margin-left: 8px;\n  font-size: 1rem;\n  line-height: 1.3em;\n}\n.page__offline .offline__start-stop-btn.active {\n  background: #0679c8;\n  color: #fff !important;\n}\n.page__offline .td-count {\n  text-align: right;\n  vertical-align: middle;\n  color: #6b7479;\n}\n.page__offline .td-count .lbl-count {\n  float: right;\n  padding-top: 2px;\n}\n.page__offline .td-count .icons {\n  width: 20px;\n  min-height: 22px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.page__offline .td-count .icon-check-circle,\n.page__offline .td-count .icon-exclamation-circle {\n  font-size: 1.6em;\n  color: #368f01;\n  display: none;\n}\n.page__offline .td-count .icon-exclamation-circle {\n  color: #bf2020;\n}\n.page__offline .offline__control-group {\n  margin-top: 24px;\n  margin-bottom: 24px;\n  position: relative;\n  overflow: visible;\n  padding: 0 15px;\n}\n.page__offline .offline__control-group .offline__control-label {\n  font-size: 1.143rem;\n  font-weight: bold;\n  text-transform: capitalize;\n}\n.page__offline .offline__control-group .offline__checkbox-data {\n  float: right;\n  padding-top: 13px;\n}\n.page__offline .offline__control-group .offline__checkbox-data .checkbox_custom {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.page__offline .offline__control-group .offline__message-wifi {\n  margin-top: 4px;\n  font-size: 0.857rem;\n  color: #6b7479;\n}\n.page__offline .ellipsis {\n  line-height: 24px;\n}\n.page__offline .ellipsis .label-module-sm {\n  vertical-align: middle;\n}\n.page__offline .offline__encryption-message {\n  padding: 10px 15px;\n  color: #6b7479;\n}\n.offline-statusbar {\n  min-height: 122px;\n  padding: 36px 22.5px 15px;\n  border-bottom: 1px solid #d3dbe1;\n  background: #f8fbfd;\n  text-align: center;\n}\n.offline-statusbar .offline-statusbar__icon {\n  margin-bottom: 12px;\n}\n.offline-statusbar .offline-statusbar__icon .offline-icon {\n  width: 24px;\n  height: 24px;\n}\n.offline-statusbar .offline-statusbar__message {\n  margin-bottom: 5px;\n  font-size: 1.143rem;\n  line-height: 1.4em;\n}\n.offline-statusbar .offline-statusbar__timestamp {\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.offline-statusbar .offline-statusbar__isSyncing {\n  color: #9aa5ad;\n}\n.offline-statusbar .offline-statusbar__isSyncing .icon-spinner {\n  display: block;\n  float: none;\n  width: 24px;\n  height: 24px;\n  margin: 20px auto 10px;\n}\n.offline-statusbar .offline-statusbar__isSyncing .icon-spinner-path {\n  fill: #9aa5ad;\n}\n.box__offline-list {\n  margin: 0;\n  padding: 0;\n}\n.box__offline-list li {\n  list-style: none;\n}\n.box__offline-list .offline-list__item {\n  display: block;\n  padding: 24px 15px;\n  border-bottom: 1px solid #d3dbe1;\n  font-size: 1.143rem;\n}\n.box__offline-list .offline-list__item.selected-item {\n  background-color: #ededed;\n}\n.box__offline-list .offline-list__item .more {\n  position: absolute;\n  top: 0;\n  right: 10px;\n  line-height: inherit;\n}\n@media screen and (max-width: 350px) {\n  .page__offline .bucket-header .bh__timestamp {\n    float: none;\n    display: block;\n  }\n}\n/* Bulk load setup page\n------------------------- */\n.layout__bulkload {\n  top: 0 !important;\n}\n.layout__bulkload .pad {\n  position: relative;\n  padding-bottom: 0 !important;\n}\n.layout__bulkload .view__bulkload {\n  position: relative;\n  min-height: 100%;\n  width: 100%;\n  overflow: auto;\n  background: #fff;\n  text-align: center;\n}\n.layout__bulkload .view__bulkload .bulkload__title {\n  font-size: 1.214rem;\n  color: #262626;\n  font-weight: bold;\n  padding-top: 10%;\n}\n.layout__bulkload .view__bulkload .bulkload__message {\n  line-height: 1.3em;\n  margin: 12px 15px 40px;\n}\n.layout__bulkload .view__bulkload .bulkload__form {\n  text-align: left;\n  margin-top: 10%;\n  padding-bottom: 190px;\n  position: relative;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field {\n  border: 1px solid #cdcdcd;\n  border-width: 1px 0;\n  padding: 22px 15px 17px;\n  overflow: visible;\n  position: relative;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field .field__label {\n  width: 80%;\n  float: left;\n  font-size: 1.143rem;\n  font-weight: 600;\n  color: #000;\n}\n.layout__bulkload .view__bulkload .bulkload__form .field .field__controls {\n  width: 20%;\n  margin-left: 80%;\n  text-align: right;\n  border: none;\n}\n.layout__bulkload .view__bulkload .bulkload__form .bulkload__connect-message {\n  padding: 10px 15px;\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.layout__bulkload .view__bulkload .bulkload__btns {\n  padding: 0 15px;\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.layout__bulkload .view__bulkload .bulkload__btns .btn {\n  display: block;\n  min-width: 290px;\n  max-width: 330px;\n  margin: 0 auto 16px;\n}\n/* Header\n------------------------- */\n.box__header {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n}\n.box__header.box__header_full-height {\n  height: 100%;\n}\n.box__header .header__inner {\n  background: #fff;\n  border-bottom: 1px solid #d3dbe1;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 50px;\n  z-index: 9000;\n}\n.box__header .header__inner .header__title {\n  position: absolute;\n  left: 80px;\n  right: 80px;\n  top: 50%;\n  max-height: 2em;\n  padding: 2px 0;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  text-align: center;\n  color: #000;\n  font-size: 1.143em;\n  font-family: "Open Sans Bold";\n  font-weight: bold;\n  line-height: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  letter-spacing: -0.4px;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  z-index: -1;\n}\n.box__header .header__inner .header-subtitle {\n  display: inline;\n  position: relative;\n  top: -4px;\n  font-size: 0.785rem;\n  font-weight: normal;\n}\n.box__header .header__inner .header-subtitle:empty {\n  display: none;\n}\n.box__header .header__inner .header-subtitle::after {\n  content: "\\A";\n  white-space: pre;\n}\n.box__header .header__inner .btn {\n  max-width: 50px;\n  margin: 0;\n  line-height: 22px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  z-index: 9002;\n}\n.box__header .header__inner .offline-status {\n  position: absolute;\n  top: 10px;\n  right: 7px;\n  line-height: normal;\n  /* hide offline icon if offline status is success */\n}\n.box__header .header__inner .offline-status .offline-icon {\n  border: 2px solid #fff;\n}\n.box__header .header__inner .offline-status.status-success {\n  display: none;\n}\n.box__header.btns-long .btn {\n  max-width: 100px;\n}\n.box__header.has-edit-button.has-search .header__title {\n  right: 110px;\n}\n/* Header buttons\n------------------------- */\n.createBtn,\n.backBtn,\n.dashHomeBtn,\n.menuBtn,\n.offline-status,\n.searchBtn {\n  float: left;\n  height: 49px;\n  width: 44px;\n  line-height: 50px;\n  color: #0679c8;\n  text-align: center;\n  z-index: 2000;\n}\n.createBtn.selected-item,\n.backBtn.selected-item,\n.dashHomeBtn.selected-item,\n.menuBtn.selected-item,\n.offline-status.selected-item,\n.searchBtn.selected-item {\n  color: #005088;\n  background: transparent;\n}\n.createBtn .icondefault,\n.backBtn .icondefault,\n.dashHomeBtn .icondefault,\n.menuBtn .icondefault,\n.offline-status .icondefault,\n.searchBtn .icondefault {\n  font-size: 1.286rem;\n}\n.menuBtn {\n  position: relative;\n  text-decoration: none;\n}\n.menuBtn::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n.offline-icon {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background: transparent;\n  line-height: 0;\n  font-size: 0;\n  vertical-align: middle;\n  border-radius: 50%;\n}\n.offline-icon.status-default {\n  background: transparent;\n}\n.offline-icon.status-success {\n  background: #54cb13;\n}\n.offline-icon.status-warning {\n  background: #fbc02d;\n}\n.offline-icon.status-error {\n  background: #e61718;\n}\n.offline-status {\n  width: 12px;\n}\n.createBtn,\n.searchBtn {\n  float: right;\n}\n.createBtn.active,\n.searchBtn.active {\n  background: rgba(0, 0, 0, 0.5);\n}\n.header__btn {\n  float: left;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 15px;\n  color: #0679c8;\n  font-size: 1.143rem;\n}\n.header__btn.selected-item {\n  color: #005088;\n  background: transparent;\n}\n.header__btn.disabled {\n  background: none;\n  opacity: 0.7;\n}\n.rtl .header__btn {\n  float: right;\n}\n.header__save-container {\n  float: right;\n}\n.rtl .header__save-container {\n  float: left;\n}\n.header__btn__save--combined {\n  padding-right: 0;\n}\n.rtl .header__btn__save--combined {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.header__btn--caret {\n  width: 22px;\n  padding-left: 0;\n  text-align: right;\n}\n.header__btn--caret .saveArrow-icon {\n  margin-top: -2px;\n}\n.rtl .header__btn--caret {\n  float: left;\n  text-align: left;\n  padding-right: 0;\n  padding-left: 10px;\n}\n/* Menu\n------------------------- */\n#menu-left {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  z-index: 9999;\n  -webkit-transform: translate3d(-100%, 0, 0);\n}\n.mobile #menu-left {\n  width: 80%;\n}\n.tablet #menu-left {\n  width: 300px;\n}\n.rtl #menu-left {\n  left: 100%;\n  -webkit-transform: translate3d(100%, 0, 0);\n}\n.box__menu {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n}\n.box__menu .menu__inner {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  list-style: none;\n  background: #d3dbe1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.box__menu .menu__item {\n  background: #d3dbe1;\n  border-bottom: solid 1px transparent;\n}\n.box__menu .menu__item.menu__item--userpic {\n  min-height: 48px;\n}\n.box__menu .menu__item.menu__item--userpic .menu-item__link {\n  padding-top: 15px;\n}\n.box__menu .menu__item.selected-item {\n  background: #9aa5ad;\n}\n.box__menu .menu__item.selected-item .menu-item__link {\n  color: #000;\n}\n.box__menu .menu__item.current .menu-item__link {\n  color: #fff;\n  background: #9aa5ad;\n}\n.box__menu .menu__item .menu-item__link {\n  padding: 13px 15px;\n  color: #000;\n  line-height: 1.357rem;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.box__menu .menu__item .menu-item__link.offline-settings .menu-item__icon {\n  position: relative;\n}\n.box__menu .menu__item .menu-item__icon {\n  display: inline-block;\n  width: 24px;\n  text-align: center;\n}\n.box__menu .menu__item .menu-item__icon .offline-icon {\n  position: absolute;\n  bottom: 2px;\n  right: -4px;\n}\n.box__menu .menu__item .menu-item__icon .icondefault {\n  font-size: 24px;\n  color: #6b7479;\n}\n.box__menu .menu__item .menu-item__icon,\n.box__menu .menu__item .label-module-sm,\n.box__menu .menu__item .user-icon {\n  margin: -6px 7px -6px 0;\n}\n.box__menu .menu__divider {\n  display: block;\n  height: 1px;\n  background-color: #9aa5ad;\n}\n/*  Right menu\n------------------------- */\n.right-menu .icon {\n  margin: 0 8px 0 -2px;\n  line-height: 1;\n  vertical-align: inherit;\n  color: #6b7479;\n}\n.right-menu .icon.icondefault {\n  font-size: 20px !important;\n}\n.mobile .right-menu {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 14%;\n}\n.mobile .right-menu.show {\n  display: block;\n}\n.tablet .right-menu__corner {\n  position: absolute;\n  top: -8px;\n  right: 10px;\n  width: 0;\n  height: 0;\n  border-bottom: solid 8px #fff;\n  border-left: solid 8px transparent;\n  border-right: solid 8px transparent;\n  z-index: 9999;\n}\n.tablet .right-menu {\n  display: none;\n  position: absolute;\n  top: 50px;\n  right: 4px;\n  bottom: -50px;\n  width: 212px;\n  z-index: 9999;\n}\n.tablet .right-menu .box__menu {\n  position: static;\n  top: 140px;\n  height: auto;\n  max-height: 100%;\n  overflow-y: auto;\n}\n.tablet .right-menu .box__menu .menu__item {\n  background: transparent;\n}\n.tablet .right-menu .box__menu .menu__item.selected-item {\n  background: #ecedef;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__link {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 0 15px;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__icon {\n  margin: auto 11px auto auto;\n  vertical-align: middle;\n}\n.tablet .right-menu .box__menu .menu__item .menu-item__label {\n  flex: 1;\n  padding: 12px 0;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tablet .right-menu .menu__inner {\n  width: auto;\n  border-radius: 3px;\n  background: #fff;\n}\n.tablet .overlay__right-menu {\n  position: absolute;\n  top: -50px;\n  left: 0;\n  right: 0;\n  bottom: -50px;\n  z-index: 9998;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  background: rgba(0, 0, 0, 0.5);\n  transition: opacity 0.2s;\n  opacity: 1;\n}\n.tablet .overlay__right-menu.hide {\n  display: block !important;\n  opacity: 0;\n  bottom: 150%;\n  transition: opacity 0.2s, bottom 0s 0.4s;\n}\n.tablet #content .overlay__right-menu {\n  left: -56px;\n}\n/*  Menu icons styles\n------------------------- */\n.user-icon {\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  padding: 0;\n  background: #9aa5ad;\n  border: none;\n  border-radius: 50%;\n  text-align: center;\n  font-size: 13px;\n  color: #fff;\n}\n.user-icon.withPicture {\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.user-icon.withPicture::before {\n  content: "";\n}\n#me {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: bold;\n}\n#moduleList,\n#createList {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n#createList {\n  -webkit-transform: translate3d(-100%, 0, 0);\n}\n.nps-popup {\n  overflow: hidden;\n  border-radius: 18px;\n  max-width: 85%;\n  font-weight: normal;\n}\n.nps-popup .nps-header {\n  padding-top: 28px;\n  text-align: center;\n  font-weight: bold;\n}\n.nps-popup .nps-confirm-header {\n  padding: 42px 10px 16px;\n  text-align: center;\n  font-weight: bold;\n}\n.nps-popup .nps-description {\n  padding: 32px 10px 16px;\n  text-align: center;\n}\n.nps-popup .nps-app-rate-desc {\n  padding: 26px 10px 22px;\n  text-align: center;\n}\n.nps-popup .nps-stars {\n  width: 244px;\n  margin: 0 auto;\n  padding: 0 20px 24px;\n  text-align: center;\n}\n.nps-popup .nps-star-icon {\n  font-size: 36px;\n  color: #0679c8;\n}\n.nps-popup .rate-btn {\n  padding: 5px;\n}\n.nps-popup .nps-footer {\n  border-top: 1px solid #d3dbe1;\n}\n.nps-popup .nps-footer .actions-ul {\n  height: 50px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n  list-style: none;\n}\n.nps-popup .nps-footer .actions-li {\n  border-right: 1px solid #d3dbe1;\n  position: relative;\n  padding: 0 15px;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  list-style: none;\n}\n.nps-popup .nps-footer .actions-li:last-child {\n  border-right: none;\n}\n.nps-popup .nps-footer .action-item {\n  color: #0679c8;\n  padding: 16px;\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n}\n.nps-popup .nps-footer .action-item.selected-item {\n  color: #005088;\n}\n#tutorial__view {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  z-index: 999981;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s linear;\n  transition: opacity 0.3s linear;\n}\n#tutorial {\n  position: absolute;\n  left: 0;\n  top: 0;\n  max-height: inherit;\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  z-index: 999981;\n}\n#tutorial-content .text {\n  position: absolute;\n  width: 160px;\n  padding: 4px 10px 0;\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1.25;\n  color: #fff;\n  z-index: 999982;\n}\n#tutorial-content .text-container {\n  top: 15%;\n  position: absolute;\n  left: 50%;\n  width: 186px;\n}\n#tutorial-content .text-container .text {\n  position: relative;\n  left: -50%;\n  font-size: 1.071em;\n  font-weight: normal;\n  text-align: center;\n  width: 100%;\n  border-radius: 10px;\n  border: 2px solid #000;\n  background-color: #313130;\n  opacity: 0.8;\n  padding: 10px;\n  margin-left: -12px;\n}\n.label,\n.badge {\n  font-size: 11.844px;\n  line-height: 14px;\n  color: #fff;\n  vertical-align: baseline;\n  white-space: nowrap;\n  background-color: #cdcccb;\n}\n.label {\n  padding: 1px 4px 2px;\n  border-radius: 3px;\n}\n.badge {\n  padding: 1px 9px 2px;\n  border-radius: 9px;\n}\na.label:hover,\na.badge:hover {\n  color: #fff;\n  text-decoration: none;\n  cursor: pointer;\n}\n.c-,\n.dashlet__item {\n  background-color: #6b7379;\n}\n.c-active-tasks {\n  background-color: #ff5a9c;\n}\n.c-planned-activities {\n  background-color: #01d1ff;\n}\n.c-inactive-tasks {\n  background-color: #ff5a9c;\n}\n.c-bubblechart {\n  background-color: #aacb2d;\n}\n.c-sales-pipeline {\n  background-color: #aacb2d;\n}\n.c-history {\n  background-color: #f2c500;\n}\n.c-saved-reports-chart {\n  background-color: #ff973e;\n}\n.c-activitystream-dashlet {\n  background-color: #e61718;\n}\n.c-forecast-pipeline {\n  background-color: #1fce6d;\n}\n.c-forecastdetails {\n  background-color: #1fce6d;\n}\n.c-webpage {\n  background-color: #1cc8d3;\n}\n.c-dashablelist {\n  background-color: #18e8d2;\n}\n.c-forecast-pareto {\n  background-color: #1fce6d;\n}\n.c-twitter {\n  background-color: #4099ff;\n}\n.c-opportunity-metrics {\n  background-color: #a05cff;\n}\n.c-casessummary {\n  background-color: #e85479;\n}\n/* Dashboards\n------------------------- */\n.layout__Dashboards.show-paginator .backBtn {\n  display: block;\n}\n.dashboard {\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.dashboard .dashlets__slider-area {\n  visibility: hidden;\n}\n.dashboard + .pagination__bar {\n  display: none;\n}\n.show-paginator .dashboard {\n  bottom: 51px;\n}\n.show-paginator .dashboard + .pagination__bar {\n  display: block;\n}\n.show-dashlets .dashboard .dashlets__list {\n  display: none;\n}\n.show-dashlets .dashboard .dashlets__slider-area {\n  visibility: visible;\n}\n.show-dashlets .dashboard .dashlets__slider {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.dashlets__slider-area {\n  position: absolute;\n  z-index: 1;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.dashlets__list {\n  position: relative;\n  z-index: 2;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n  padding: 10px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  background: #fff;\n}\n.dashlets__list::after {\n  display: table;\n  clear: both;\n}\n.dashlets__list::after {\n  clear: both;\n}\n.dashlets__list .dashlet__item {\n  overflow: hidden;\n  height: 7rem;\n  border-radius: 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n  font-size: 1rem;\n  text-align: center;\n  color: #fff;\n}\n.dashlets__list .dashlet__item .dashlet__title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  margin: 15px 10px 12px;\n}\n.dashlets__list .dashlet__item .dashlet__icon {\n  height: 45px;\n}\n.dashlets__list .dashlet__item .icondefault {\n  font-size: 30px;\n  line-height: 1em;\n}\n.dashlets__list .dashlet__item.selected-item {\n  opacity: 0.9;\n}\n.dashlets__list__col {\n  float: left;\n  padding: 5px;\n  width: 50%;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.layout__detail .dashlets__list__col {\n  width: 50%;\n}\n@media screen and (min-width: 700px) {\n  .dashlets__list__col {\n    width: 33.33333333%;\n  }\n}\n@media screen and (min-width: 768px) {\n  .dashlets__list__col {\n    width: 25%;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .dashlets__list__col {\n    width: 20%;\n  }\n  .layout__detail .dashlets__list__col {\n    width: 33.33333333%;\n  }\n}\n.dashlets__title {\n  position: relative;\n  width: 100%;\n  height: 44px;\n  line-height: 44px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: center;\n  background: #fff;\n  font-size: 1.143rem;\n  font-weight: bold;\n  z-index: 1;\n}\n.dashlets__title + .dashlets__slider-area {\n  top: 44px;\n}\n.dashlets__title.hide + .dashlets__slider-area {\n  top: 0;\n}\n.dashlets__slider {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  box-shadow: content-box;\n  -webkit-transform-style: preserve-3d;\n  transform-style: preserve-3d;\n  -webkit-transition-property: -webkit-transform;\n  transition-property: transform;\n}\n.dashlets__slider .dashlet__b {\n  height: 100%;\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  transform-style: preserve-3d;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n}\n.dashlets__slider .dashlet__b:empty {\n  background: #fff;\n}\n/* Pagination\n------------------------- */\n.pagination__bar {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 50px;\n  line-height: 50px;\n  border-top: solid 1px #e5e5e5;\n  background: #fff;\n  text-align: center;\n  color: #676767;\n}\n.pagination__bar .icondefault {\n  height: 50px;\n  line-height: 50px;\n  padding: 0 2px;\n  margin: 0 2px;\n  font-size: 10px;\n}\n.pagination__bar .icondefault.disabled {\n  color: #ccc;\n}\n.pagination__bar .prev,\n.pagination__bar .next {\n  padding: 0 12px;\n  font-size: 20px;\n}\n.pagination__bar .prev {\n  float: left;\n}\n.pagination__bar .next {\n  float: right;\n}\n.pagination__bar .icon-circle-thin {\n  color: #a8a8a8;\n}\n/* Tabbed dashlet view\n------------------------- */\n.hide-tab {\n  position: absolute;\n  display: block;\n  visibility: hidden;\n  -webkit-overflow-scrolling: auto !important;\n}\n.tabbed__dashlet {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.tabbed__dashlet .tabs__switcher {\n  position: absolute;\n  z-index: 2;\n}\n.tabbed__dashlet.has-dashlet-options .easy-scroller-parent {\n  top: 40px;\n}\n.tabs__switcher {\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 49px;\n  flex-flow: wrap;\n  background: #fff;\n  border-bottom: solid 1px #d8d8d8;\n  z-index: 2;\n}\n.views__switcher {\n  overflow: hidden;\n}\n.tabs__scroll-bar {\n  display: block;\n  height: 50px;\n}\n.tabs__scroll-bar::before,\n.tabs__scroll-bar::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 0;\n  height: 25px;\n  box-shadow: 0 0 15px 12px #fff;\n  z-index: 3;\n}\n.tabs__scroll-bar::after {\n  left: auto;\n  right: 0;\n}\n.tabs__scroll-bar .tabs__scroll-bar__ul {\n  height: 55px;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n  overflow-x: scroll;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  flex-flow: row;\n}\n.tabs__scroll-bar .tabs__scroll-bar__ul::-webkit-scrollbar {\n  height: 0;\n}\n.tabs__scroll-bar .tab {\n  position: relative;\n  padding: 0 15px;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  border-bottom: 9px solid transparent;\n  list-style: none;\n}\n.tabs__scroll-bar .tab::after {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  height: 17px;\n  background: transparent;\n  content: " ";\n}\n.tabs__scroll-bar .tab .tab__title {\n  width: 100%;\n  max-height: 54px;\n  font-size: 0.857rem;\n  font-weight: bold;\n  text-align: center;\n  text-transform: uppercase;\n  color: #000;\n}\n.tabs__scroll-bar .tab .step-number {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 1px;\n  border-radius: 8px;\n  background: #ccd6dc;\n  line-height: 16px;\n  text-align: center;\n  color: #fff;\n}\n.tabs__scroll-bar .tab .step-number.fulfilled-state {\n  background: #54cb14;\n}\n.tabs__scroll-bar .tab .step-number.invalid-state {\n  background: #e61718;\n}\n.tabs__scroll-bar .tab .title {\n  display: block;\n  white-space: nowrap;\n}\n.tabs__scroll-bar .tab .count {\n  display: inline-block;\n  font-size: 0.857rem;\n  min-width: 22px;\n  width: auto;\n  padding: 3px;\n  background-color: #e61718;\n  border-color: transparent;\n  border-radius: 3px;\n  margin: 2px 0;\n  color: #fff;\n}\n.tabs__scroll-bar .tab.selected-item {\n  background: #f6f6f6;\n  border-color: transparent;\n  color: #000;\n}\n.tabs__scroll-bar .tab.selected-item .tab__title {\n  color: #000;\n}\n.tabs__scroll-bar .tab.tab--active {\n  background: #fff;\n  border-color: #e61718;\n  color: #000;\n}\n.tabs__scroll-bar .tab.tab--active .tab__title {\n  color: #000;\n}\n.tabs__switcher--dd {\n  left: 0;\n  right: 0;\n  height: 50px;\n  padding: 0 15px;\n  border-bottom: 1px solid;\n  background: #f6f6f6;\n}\n.tabs__switcher--dd .filter {\n  padding-right: 0;\n}\n.tabs__switcher--dd .field {\n  padding-top: 0;\n}\n.tabs__switcher--dd .field .field__controls {\n  padding-bottom: 0;\n}\n.tabs__switcher--dd .field select {\n  width: 100%;\n}\n.tabs__switcher--dd .field select,\n.tabs__switcher--dd .field .icondefault,\n.tabs__switcher--dd .field .actionsheet-select {\n  height: 50px;\n  line-height: 50px;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.tabs__switcher--dd .field .actionsheet-select {\n  overflow: hidden;\n  width: 100%;\n}\n.tabs__switcher--dd .field .actionsheet-select__value {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.tabs__container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.tabs__container .easy-scroller-holder {\n  background: #fff;\n}\n.tabs__switcher + .tabs__container {\n  top: 50px;\n}\n/* Activity stream\n------------------------- */\n.activitystream-item {\n  padding: 0 !important;\n}\n.panel__addpost {\n  height: 46px;\n  line-height: 46px;\n  border-bottom: solid 1px #d3dbe1;\n}\n.panel-addpost-link {\n  display: block;\n  padding: 0 15px;\n}\n.as__detail {\n  position: relative;\n  min-height: 46px;\n  padding: 8px 28px 8px 50px;\n}\n.as__detail .label-module-sm,\n.as__detail .as__icon {\n  float: left;\n  margin: 4px 0 0 -36px;\n}\n.as__detail .user-icon {\n  border: solid 2px #999;\n}\n.as__detail .as__title {\n  padding-bottom: 2px;\n}\n.as__detail .as__info {\n  font-size: 0.785rem;\n  color: #717171;\n}\n.comments-container {\n  margin-left: 46px;\n}\n.comment__item {\n  overflow: hidden;\n  border-top: 1px dotted #ebedef;\n  padding: 6px 10px 6px 38px;\n  font-size: 0.857rem;\n}\n.comment__item .user-icon {\n  float: left;\n  margin: 4px 0 0 -38px;\n  border: solid 2px #999;\n}\n.comment__item .comment__info {\n  padding-top: 3px;\n  font-size: 0.785rem;\n  color: #717171;\n}\n.comments-more-btn {\n  display: block;\n  padding: 10px 0;\n  border-top: 1px dotted #ebedef;\n}\n.sugar_tag {\n  display: inline-block;\n  padding: 2px 4px 1px;\n  border-radius: 2px;\n  color: #fff;\n  background: #000;\n}\n.tb__detail {\n  padding-left: 35px;\n  padding-top: 4px;\n}\n.tb__detail .tb__icon {\n  float: left;\n  padding-top: 2px;\n  margin-left: -35px;\n}\n.tb__detail .tb__info {\n  color: #717171;\n}\n.tb__detail .user-icon {\n  border: solid 2px #999;\n}\n/* Autocomplete  */\n.view__taggable {\n  position: relative;\n  height: 100%;\n  background: #fff;\n}\n.taggable,\n.taggable-shadow {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  padding: 10px;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  text-indent: 0;\n  display: block;\n  resize: none;\n  -webkit-box-sizing: border-box;\n  -webkit-line-break: after-white-space;\n  -webkit-appearance: none;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  font-size: 1.214rem;\n  line-height: 1.286em;\n  outline: none;\n}\n.taggable {\n  -webkit-overflow-scrolling: auto;\n  background-color: transparent;\n  z-index: 4;\n  -webkit-box-shadow: none;\n  letter-spacing: 0;\n}\n.ios .taggable {\n  -webkit-transform: translate3d(-4px, 0, 0);\n  transform: translate3d(-4px, 0, 0);\n  left: 0;\n  right: -10px;\n  width: auto;\n}\n.taggable-shadow {\n  background: #fff;\n  border-color: transparent;\n  color: transparent;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  -webkit-user-select: none;\n  word-spacing: 0;\n  letter-spacing: normal;\n}\n.taggable-shadow .sugar_tag {\n  display: inline;\n  position: relative;\n  z-index: 5;\n  padding: 0;\n  color: #fff;\n}\n.taggable-dropdown {\n  position: absolute;\n  top: 100px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow-y: scroll;\n  border-top: solid 1px #2d2d2d;\n  border-bottom: solid 1px #2d2d2d;\n  background: #fff;\n  z-index: 5;\n}\n.taggable-dropdown .taggable-listItem {\n  padding: 0 10px;\n  line-height: 2.5rem;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.taggable-dropdown .taggable-listItem.disabled {\n  color: #717275;\n}\n.taggable-dropdown .taggable-status {\n  float: right;\n  font-style: italic;\n}\n.taggable-dropdown .label-module-sm {\n  margin: 0 10px 0 0;\n  vertical-align: middle;\n}\n.show-dropdown .taggable,\n.show-dropdown .taggable-shadow {\n  height: 60px;\n}\n.show-dropdown .taggable-dropdown {\n  top: 60px;\n}\n/* Charts\n------------------------- */\n.nv-chart {\n  height: 100%;\n}\n.chart-wrapper {\n  width: 100%;\n  min-height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: #fff;\n  overflow-y: auto;\n}\n.chart-wrapper.has-scroll {\n  position: static;\n}\n.chart-wrapper .chart {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n.chart-wrapper.has-dashlet-options .chart {\n  top: 40px;\n}\n.chart-wrapper .warning-message {\n  padding: 20px 0;\n}\n/* In Forecast dashlet\n------------------------- */\n.forecast-details .fd__b {\n  padding: 20px;\n}\n.forecast-details .fd__b .row-fluid {\n  padding: 10px;\n  border-bottom: 1px solid #e9e9e9;\n  box-sizing: border-box;\n}\n.forecast-details .fd__b .row-fluid::after {\n  clear: both;\n  display: table;\n  content: "";\n  line-height: 0;\n}\n.forecast-details .fd__b .row-fluid.deficitRow {\n  border-top: 1px solid #e9e9e9;\n  font-weight: 600;\n}\n.forecast-details .fd__b .row-fluid.deficitRow.font-green {\n  color: #33800d;\n}\n.forecast-details .fd__b .row-fluid.deficitRow.font-red {\n  color: #e61718;\n}\n.forecast-details .fd__b .row-fluid.details-cols {\n  padding: 10px 0;\n  border-bottom: none;\n}\n.forecast-details .fd__b .row-fluid .span1 {\n  float: left;\n  width: 100%;\n}\n.forecast-details .fd__b .row-fluid .span2 {\n  float: left;\n  width: 48.9%;\n  margin-left: 2.2%;\n}\n.forecast-details .fd__b .row-fluid .span2:first-child {\n  margin-left: 0;\n}\n.forecast-details .fd__b .row-fluid .span3 {\n  float: left;\n  width: 32%;\n  margin-left: 2%;\n}\n.forecast-details .fd__b .row-fluid .span3:first-child {\n  margin-left: 0;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline {\n  display: block !important;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.green {\n  background: #33800d;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.grayLight {\n  background: #717171;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline.red {\n  background: #e61718;\n}\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label,\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount,\n.forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback {\n  display: block;\n}\n.forecast-details .fd__b .row-fluid:last-child div[class*="span"] > .forecast_details_default_feedback {\n  font-size: 11px;\n  line-height: 16px;\n  color: #fff;\n  border-radius: 3px;\n  padding: 8px;\n  margin-top: 4px;\n}\n.forecast-details .fd__b .row-fluid .forecast_details_no_access {\n  padding: 3px 6px;\n  color: #fff;\n  background: #666;\n  border-radius: 4px;\n  font-size: 11px;\n  display: inline-block;\n  margin-top: 3px;\n}\n.forecast-details .warning-message {\n  padding: 20px;\n}\n@media screen and (max-height: 360px) {\n  .landscape .forecast-details .fd__b {\n    padding: 5px 20px 20px;\n  }\n  .landscape .forecast-details .fd__b .row-fluid {\n    padding: 5px;\n  }\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback {\n    display: inline;\n  }\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_label .fdf_ln1,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_amount .fdf_ln1,\n  .landscape .forecast-details .fd__b .row-fluid .ellipsis_inline .forecast_details_feedback .fdf_ln1 {\n    display: inline;\n  }\n}\n/* Dashlet Options */\n.filters-wrap {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  padding: 5px 5px 5px 15px;\n}\n.filter {\n  white-space: nowrap;\n  padding-right: 20px;\n}\n.filter .field__label,\n.filter .placeholder {\n  display: none;\n}\n.filter .field__controls {\n  border-bottom: none;\n}\n.filter select,\n.filter .actionsheet-select {\n  width: auto;\n}\n.dashlet-options {\n  position: relative;\n  height: 40px;\n  background: #fff;\n  border-bottom: 1px solid #e5e5e5;\n  z-index: 2;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.dashlet-options .dashlet-options_bigbar {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.dashlet-options .dashlet-options_bigbar .field {\n  padding-top: 0;\n}\n.dashlet-options .dashlet-options_bigbar .field--enum,\n.dashlet-options .dashlet-options_bigbar .field--radio .field__controls {\n  padding-top: 2px;\n}\n.dashlet-options .visibility-switcher .visibility-switcher__btn {\n  height: 40px;\n  padding: 0 15px;\n  background: transparent;\n  border: none;\n  line-height: 1.286em;\n  color: #6b7479;\n}\n.dashlet-options .visibility-switcher .visibility-switcher__btn.active {\n  color: #0679c8;\n}\n.dashlet-options .my-items-btn {\n  width: 32px;\n  height: 36px;\n  line-height: 36px;\n  padding: 0;\n  border: none;\n  font-size: 16px;\n  text-align: center;\n  color: #555;\n  position: absolute;\n  top: 0;\n  right: 5px;\n}\n.dashlet-options .my-items-btn.active {\n  background-color: transparent;\n  color: inherit !important;\n}\n.dashlet-options .my-items-btn.active .user-icon::before {\n  content: "\\F007";\n}\n.twitter-wrapper .tw__user_icon {\n  border: none !important;\n  border-radius: 5px !important;\n  background-color: #fff;\n  width: 26px;\n  height: 26px;\n  background-size: 100%;\n  background-position: 50% 50%;\n}\n.twitter-wrapper .tw__as__title {\n  padding-top: 2px;\n}\n.twitter-wrapper .tw__as_profile_link {\n  color: #585858;\n}\n.twitter-wrapper .tw__as_content_url {\n  word-wrap: break-word;\n  width: 100%;\n}\n.dashlet-webpage {\n  height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.dashlet-webpage .wp__wrapper {\n  position: absolute;\n  top: 40%;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n.dashlet-webpage .wp__container {\n  display: inline-block;\n  min-width: 60%;\n  max-width: 70%;\n  border: 1px solid #ddd;\n  padding: 5px;\n  -webkit-border-radius: 3px;\n  background-color: #f5f5f5;\n}\n.dashlet-webpage .wp__favlogo {\n  position: absolute;\n  float: left;\n  top: 38%;\n  padding-left: 10px;\n  color: #666;\n}\n.dashlet-webpage .wp__content {\n  overflow: hidden;\n  text-align: left;\n  padding-left: 35px;\n}\n.dashlet-webpage .wp__title {\n  right: auto;\n  padding: 2px;\n  color: #000;\n}\n.dashlet-webpage .wp__url {\n  font-size: 0.885rem;\n  right: auto;\n  padding: 2px;\n  word-wrap: break-word;\n}\n.donut-chart {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.donut-chart .nv-chart {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  min-height: 50px;\n  min-width: 100px;\n  top: 0;\n  bottom: 0;\n}\n.donut-chart .donut-chart-metric-container {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  bottom: 0;\n  left: 0;\n}\n.donut-chart .chart-metric {\n  text-align: center;\n  width: 33%;\n  position: relative;\n  border-top: 1px solid #e8e8e8;\n  border-right: 1px solid #e8e8e8;\n  float: left;\n  padding: 14px 0 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  bottom: 0;\n}\n.donut-chart .chart-metric:last-child {\n  border-right: none;\n}\n.donut-chart .chart-metric span.label {\n  width: 26px;\n  height: 26px;\n  padding: 3px;\n  position: absolute;\n  top: -22px;\n  left: 50%;\n  margin-left: -12px;\n  border: none;\n  font-size: 1rem;\n  line-height: 1.786rem;\n}\n.donut-chart .chart-metric div.metric-description span {\n  float: none;\n  display: inline-block;\n  font-weight: bold;\n  font-size: 10px;\n  text-align: center;\n  text-shadow: 0 1px 0 #636363;\n  margin-right: 3px !important;\n}\n.donut-chart .chart-metric div.metric-amount {\n  font-weight: bold;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.opportunity-metrics-wrapper {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n.opportunity-metrics-wrapper .nv-chart {\n  bottom: 70px;\n}\n.opportunity-metrics-wrapper .nv-chart .active {\n  fill: #176de5;\n}\n.opportunity-metrics-wrapper .nv-chart .won {\n  fill: #33800d;\n}\n.opportunity-metrics-wrapper .nv-chart .lost {\n  fill: #e61718;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.won {\n  background-color: #33800d;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.lost {\n  background-color: #e61718;\n}\n.opportunity-metrics-wrapper .chart-metric span.label.active {\n  background-color: #176de5;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.won {\n  color: #33800d;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.lost {\n  color: #e61718;\n}\n.opportunity-metrics-wrapper .chart-metric div.metric-amount.active {\n  color: #176de5;\n}\n.layout__switch-container {\n  top: 0;\n}\n.layout__switch-container .tabs__switcher + .tabs__container {\n  bottom: 73px;\n}\n.lead-conversion__section--relative .scroll .pad {\n  background: #f7f8f9;\n  padding-bottom: 73px;\n}\n.lead-conversion__content--relative {\n  margin-bottom: 24px;\n  border-bottom: solid 1px #d3dbe1;\n}\n.lead-conversion__content--relative .easy-scroller-parent {\n  position: relative;\n}\n.lead-conversion__content--relative .easy-scroller-holder {\n  position: relative;\n}\n.duplicates-check-failed,\n.duplicates-check-no-records-found {\n  padding: 16px 15px 13px;\n  background: #f7f8f9;\n  font-size: 1.143rem;\n}\n.duplicates-list-hint {\n  padding: 16px 15px 13px;\n  background: #fff;\n  font-size: 1.143rem;\n}\n.box__header-context {\n  padding: 16px 15px 13px;\n  background: #f7f8f9;\n  border-bottom: solid 1px #d3dbe1;\n}\n.box__header-context .header-context__title {\n  font-size: 1.143rem;\n  font-weight: 600;\n}\n.box__header-context .header-context__title--optional {\n  font-weight: 400;\n}\n.box__header-context .header-context__subtitle {\n  margin-top: 8px;\n}\n.box__link-duplicates {\n  display: block;\n  position: relative;\n  padding: 12px 40px 12px 15px;\n  margin-bottom: 24px;\n  background: #fff;\n  border-top: solid 1px #d3dbe1;\n  border-bottom: solid 1px #d3dbe1;\n  font-size: 1.143rem;\n}\n.box__link-duplicates .icondefault {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  width: 40px;\n  margin-top: -11px;\n  font-size: 22px;\n  color: #000;\n  text-align: center;\n}\n.box__link-duplicates.disabled {\n  color: rgba(107, 116, 121, 0.5);\n}\n.lead-conversion__footer {\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: 73px;\n  width: 100%;\n  padding: 14px 15px 0;\n  background: #f7f8f9;\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.5);\n}\n.lead-conversion__prev {\n  float: left;\n  height: 44px;\n  line-height: 44px;\n  padding-right: 20px;\n  background: transparent;\n  font-size: 1.143rem;\n  color: #0c89d1;\n}\n.lead-conversion__prev.selected-item {\n  opacity: 0.6;\n}\n.lead-conversion__prev .icondefault {\n  font-weight: bold;\n}\n.rtl .lead-conversion__prev .icondefault {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n  position: relative;\n  top: -2px;\n}\n.rtl .lead-conversion__prev {\n  float: right;\n  padding-left: 20px;\n  padding-right: 0;\n}\n.lead-conversion__next {\n  float: right;\n  height: 44px;\n  padding: 0 20px;\n  line-height: 44px;\n}\n.lead-conversion__next .icondefault {\n  padding-left: 5px;\n  font-weight: bold;\n}\n.rtl .lead-conversion__next .icondefault {\n  position: relative;\n  top: -2px;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .lead-conversion__next {\n  float: left;\n}\n.progress {\n  width: 40px;\n  height: 10px;\n}\n.progress-wrap {\n  background: #3aca50;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  right: 15px;\n  margin-top: -30px;\n  z-index: 9999;\n}\n.progress-wrap .progress-bar {\n  background: #ddd;\n  left: 0;\n  position: absolute;\n  top: 0;\n  -webkit-transition: left 0.6s linear;\n  transition: left 0.6s linear;\n}\n.rtl .progress-wrap {\n  left: 15px;\n  right: auto;\n}\n.field-dupecheck-list__label {\n  float: left;\n  width: 120px;\n  padding-right: 16px;\n  font-size: 0.857rem;\n  color: #7e878d;\n}\n.rtl .field-dupecheck-list__label {\n  float: right;\n  padding-right: 0;\n  padding-left: 16px;\n}\n/* Default overlay\n------------------------- */\n.box__overlay {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 999990;\n  font-size: 1.357rem;\n  font-weight: bold;\n  text-align: center;\n}\n.box__overlay .overlay-message {\n  position: relative;\n  top: 50%;\n  font-size: 1.714rem;\n}\n.box__overlay .overlay-spinner {\n  height: 40px;\n  width: 40px;\n  margin-top: 20px;\n  display: none;\n}\n.box__overlay .overlay-spinner .icon-spinner {\n  width: 32px;\n  height: 32px;\n}\n.box__overlay .current {\n  display: inline-block;\n  padding-bottom: 10px;\n}\n.box__overlay .completed {\n  font-size: 0.632em;\n  color: #cdcccb;\n}\n.box__overlay .icon-spinner {\n  display: inline-block;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n.box__overlay .icon-spinner-path {\n  fill: black;\n}\n.box__overlay.overlay--visible {\n  background: rgba(0, 0, 0, 0.5);\n}\n.box__overlay.spinner .overlay-message,\n.box__overlay.spinner .overlay-spinner {\n  position: relative;\n  top: 40%;\n}\n.box__overlay.spinner .overlay-spinner {\n  display: inline-block;\n}\n.box__overlay.tint {\n  background: #fff;\n  color: black;\n}\n.box__overlay.tint .icon-spinner-path {\n  fill: black;\n}\n.box__overlay.overlay--shadow {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n/* Preloader on login\n------------------------- */\n.box__preloader {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 9998;\n  background: #fff;\n}\n.box__preloader .preloader__header {\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  margin-top: -100px;\n  text-align: center;\n}\n.box__preloader .preloader__message {\n  text-align: center;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: black;\n}\n.box__preloader .preloader__message .icon-spinner {\n  display: inline-block;\n  vertical-align: top;\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n.box__preloader .preloader__message .icon-spinner-path {\n  fill: black !important;\n}\n/* Record overlay\n------------------------- */\n.box__overlay-record {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1001;\n}\n.box__overlay-record .overlay-record__message {\n  position: absolute;\n  top: 45%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  opacity: 0.8;\n  color: #fff;\n}\n/* Lead preloader\n------------------------- */\n.box__lead-preloader {\n  position: absolute;\n  top: -50px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 99999;\n  background: #f7f8f9;\n}\n.box__lead-preloader .lead-preloader__tabs {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 49px;\n  padding: 0 20px;\n  border-bottom: solid 1px #d3dbe1;\n  background: #fff;\n  justify-content: space-between;\n}\n.box__lead-preloader .lead-preloader__tab {\n  margin-top: 21px;\n  width: 66px;\n}\n.box__lead-preloader .lead-preloader__tab--2 {\n  width: 85px;\n}\n.box__lead-preloader .lead-preloader__tab--3 {\n  width: 35px;\n}\n.box__lead-preloader .lead-preloader__content {\n  position: relative;\n  background: #fff;\n  padding: 21px 15px 11px 46px;\n  border-bottom: solid 1px #ebedef;\n}\n.rtl .box__lead-preloader .lead-preloader__content {\n  padding-left: 15px;\n  padding-right: 46px;\n}\n.box__lead-preloader .lead-preloader__line-content {\n  width: 150px;\n  margin-bottom: 21px;\n}\n.box__lead-preloader .lead-preloader__line-content--2 {\n  width: 130px;\n}\n.box__lead-preloader .lead-preloader__line-content--3 {\n  width: 100px;\n}\n.box__lead-preloader .lead-preloader__line-radio {\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  background: #d8d8d8;\n  border-radius: 8px;\n  line-height: 0;\n  animation: pulse 0.65s infinite alternate;\n}\n.rtl .box__lead-preloader .lead-preloader__line-radio {\n  right: 15px;\n  left: auto;\n}\n.box__lead-preloader .lead-preloader__tab,\n.box__lead-preloader .lead-preloader__line-content {\n  height: 9px;\n  background: #d8d8d8;\n  line-height: 0;\n  animation: pulse 0.65s infinite alternate;\n}\n.box__lead-preloader .lead-preloader__btn1 {\n  float: left;\n  width: 65px;\n  height: 9px;\n  margin-top: 15px;\n  background: #d8d8d8;\n}\n.rtl .box__lead-preloader .lead-preloader__btn1 {\n  float: right;\n}\n.box__lead-preloader .lead-preloader__btn2 {\n  float: right;\n  width: 110px;\n  height: 46px;\n  background: #d8d8d8;\n  border-radius: 3px;\n}\n.rtl .box__lead-preloader .lead-preloader__btn2 {\n  float: left;\n}\n.html-content {\n  line-height: normal;\n}\n.textarea .html-content {\n  overflow-x: auto;\n  padding: 15px;\n}\n.html-content h1,\n.html-content h2,\n.html-content h3,\n.html-content h4,\n.html-content h5,\n.html-content h6 {\n  line-height: normal;\n}\n.html-content ul,\n.html-content ol {\n  padding-left: 30px;\n}\n.html-content img {\n  max-width: 100%;\n}\n/* Body and structure\n------------------------- */\n.background {\n  position: absolute !important;\n  top: 50px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #fff;\n  z-index: 9999 !important;\n}\n.fno {\n  float: none !important;\n}\n.fleft {\n  float: left !important;\n}\n.fright {\n  float: right !important;\n}\n.altview {\n  display: none;\n}\nsvg text {\n  font-family: "Open Sans", sans-serif;\n}\n.vis_action_hidden {\n  display: none !important;\n}\n/* Typography */\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-family: "Open Sans", sans-serif;\n  font-weight: 400;\n}\nh1 {\n  font-size: 26px;\n}\n.tcenter {\n  text-align: center;\n}\n.tleft {\n  text-align: left;\n}\n.tright {\n  text-align: right;\n}\n.ellipsis {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.line-clamp {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n/* Checkboxes */\n.checkbox_default {\n  -webkit-appearance: none;\n  width: 1.286rem;\n  height: 1.286rem;\n  border-width: 1px;\n  border-style: solid;\n  border-color: #999;\n  border-radius: 3px;\n}\n.checkbox_default:checked::after {\n  content: "\\2713";\n  font-size: 130%;\n  line-height: 16px;\n}\n.checkbox_custom {\n  width: 1.286rem;\n  height: 1.571rem;\n  -webkit-appearance: none;\n  position: relative;\n  border: none;\n  background: transparent;\n  box-shadow: none;\n  vertical-align: middle;\n  z-index: 2;\n}\n.checkbox_custom + .checkbox-icon {\n  width: 1.286rem;\n  margin-left: -1.286rem;\n  z-index: 1;\n}\n.checkbox-icon {\n  position: relative;\n  display: inline-block;\n  font-size: 1.357rem;\n  line-height: 1;\n  color: #111;\n  vertical-align: middle;\n  text-align: left;\n  z-index: 1;\n}\n/* Blocks */\n.modal {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  right: 10px;\n  width: auto;\n  margin: 0;\n}\n.modal.fade.in {\n  top: auto;\n}\n.modal .modal-header .close {\n  padding: 10px;\n  margin: -10px;\n}\n/* icons for Modules */\n.label-module-sm {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 24px;\n  width: 24px;\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 24px;\n  border-radius: 50%;\n  background: #6b7479;\n  white-space: nowrap;\n  text-align: center;\n  color: #fff;\n}\n.label-module-sm .icondefault {\n  font-size: 18px;\n  width: 18px;\n  height: 18px;\n  line-height: 18px;\n  text-align: center;\n  color: #fff;\n}\n.label-module-sm.has-icon-inside .label-module-sm_title {\n  position: absolute;\n  top: 4px;\n  left: 4px;\n}\n.label-module-sm .icon-th {\n  margin-top: 1px;\n  color: #2b2b2b;\n}\n.label-Accounts {\n  background-color: #51cd15;\n}\n.label-Bugs {\n  background-color: #f75f60;\n}\n.label-Calendar {\n  background-color: #00bd9c;\n}\n.label-Calls {\n  background-color: #01d1ff;\n}\n.label-Campaigns {\n  background-color: #ffcf00;\n}\n.label-CampaignLog {\n  background-color: #ffcf00;\n}\n.label-Cases {\n  background-color: #e85479;\n}\n.label-Contacts {\n  background-color: #cc6cd9;\n}\n.label-Documents {\n  background-color: #626bf5;\n}\n.label-Emails {\n  background-color: #2c97de;\n}\n.label-Employees {\n  background-color: #2c97de;\n}\n.label-Files {\n  background-color: #fbc02d;\n}\n.label-Forecasts {\n  background-color: #1fce6d;\n}\n.label-KBDocuments {\n  background-color: #f72b74;\n}\n.label-KBContents {\n  background-color: #f72b74;\n}\n.label-Leads {\n  background-color: #7651fc;\n}\n.label-Meetings {\n  background-color: #2ee0cd;\n}\n.label-Notes {\n  background-color: #28bdf0;\n}\n.label-Opportunities {\n  background-color: #a05cff;\n}\n.label-Products {\n  background-color: #011523;\n}\n.label-Prospects {\n  background-color: #aacb2d;\n}\n.label-ProspectLists {\n  background-color: #aacb2d;\n}\n.label-Quotes {\n  background-color: #0eba61;\n}\n.label-Quotas {\n  background-color: #18e7d2;\n}\n.label-Reports {\n  background-color: #ff973e;\n}\n.label-RevenueLineItems {\n  background-color: #00cbf3;\n}\n.label-Targets {\n  background-color: #429e10;\n}\n.label-TargetLists {\n  background-color: #429e10;\n}\n.label-Tasks {\n  background-color: #ff5a9c;\n}\n.label-Users {\n  background-color: #6b7379;\n}\n.label-Workflow {\n  background-color: #41b7d1;\n}\n.label-empty {\n  background: #fff;\n  border: 1px solid #555;\n  color: #555;\n}\n/* Filter Box\n------------------------- */\n.view__filters.filters-hidden {\n  display: none;\n}\n.box__filter {\n  position: relative;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  height: 44px;\n  padding: 8px 15px 7px;\n  background: #f8f9f9;\n  border-bottom: solid 1px #d3dbe1;\n  white-space: nowrap;\n}\n.box__filter .filter__item:first-child {\n  flex-shrink: 1;\n  overflow: hidden;\n}\n.box__filter .filter__seporate {\n  -webkit-box-flex: 1 1 15px;\n  -webkit-flex: 1 1 15px;\n  flex: 1 1 15px;\n}\n.box__filter .filter__item-by {\n  max-width: 160px;\n}\n.box__filter .filter__item-sort {\n  flex: 0 0 30px;\n  margin-left: -1px;\n}\n.box__filter .filter__item-sort .btn-filter {\n  position: relative;\n  width: 20px;\n  padding: 0 5px;\n  border-radius: 0 2px 2px 0;\n  color: #d3dbe1;\n}\n.box__filter .filter__item-sort .filter-item-sort__asc {\n  position: absolute;\n  top: 2px;\n  left: 11px;\n}\n.desc .box__filter .filter__item-sort .filter-item-sort__asc {\n  color: #000;\n}\n.box__filter .filter__item-sort .filter-item-sort__desc {\n  position: absolute;\n  top: 10px;\n  left: 11px;\n}\n.box__filter .filter__item-sort.asc .filter-item-sort__asc,\n.box__filter .filter__item-sort.desc .filter-item-sort__desc {\n  color: #000;\n}\n.box__filter .btn-filter {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.view__search {\n  display: none;\n  position: absolute;\n  top: -51px;\n  left: 0;\n  width: 100%;\n  height: 50px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-transition: all 0.6s linear;\n  transition: all 0.6s linear;\n  background: #fff;\n  align-items: center;\n  z-index: 9002;\n  opacity: 0;\n}\n.view__search.show-search {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.view__search .box__search-query {\n  position: relative;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n}\n.view__search .box__search-icon {\n  position: absolute;\n  top: 0;\n  left: 15px;\n  height: 50px;\n  line-height: 50px;\n  color: #0679c8;\n  font-size: 1.286rem;\n}\n.view__search .icon-spinner {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 15px;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n}\n.view__search .icon-spinner .icon-spinner-path {\n  fill: #0679c8;\n}\n.view__search .search-query {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  height: 50px;\n  padding: 0 35px 0 44px;\n  background: transparent;\n  font-size: 1.143rem;\n}\n.view__search .search-query::-webkit-input-placeholder {\n  white-space: nowrap;\n  text-overflow: ellipsis !important;\n}\n.view__search .search-query::-webkit-search-cancel-button {\n  display: none;\n}\n.view__search .clear-button {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 50px;\n  line-height: 50px;\n  padding: 0 12px;\n  font-size: 1.143rem;\n  color: #6b7479;\n}\n.view__search .not-empty .clear-button {\n  display: block;\n}\n.view__search .search__cancel-btn {\n  line-height: 50px;\n  padding: 0 15px;\n  font-size: 1.143rem;\n  color: #0679c8;\n}\n.view__search .search__cancel-btn.selected-item {\n  color: #0679c8;\n  background: transparent;\n}\n.view__search-box.in-progress .box__search-icon {\n  display: none;\n}\n.view__search-box.in-progress .icon-spinner {\n  display: block;\n}\n.overlay-dropdown {\n  position: absolute;\n  top: 44px;\n  left: 0;\n  width: 100%;\n  height: 1500px;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 2;\n}\n.dropdown {\n  position: absolute;\n  overflow-y: auto;\n  top: 44px;\n  border-radius: 0 0 2px 2px;\n  background: #fff;\n  z-index: 2;\n  max-height: 70%;\n}\n.dropdown.dropdown__filter {\n  left: 7px;\n  width: 190px;\n}\n.dropdown.dropdown__sortBy {\n  right: 7px;\n  width: 183px;\n}\n.dropdown li {\n  display: block;\n  border-top: 1px solid #e8e8e8;\n}\n.dropdown li:first-child {\n  border: none;\n}\n.dropdown li.filters-preloader .icon-spinner {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 8px;\n  vertical-align: top;\n}\n.dropdown li.filters-preloader .icon-spinner .icon-spinner-path {\n  fill: #c2c2c2;\n}\n.dropdown li.selected-item {\n  background: #f6f6f6;\n}\n.dropdown li.selected-item a {\n  color: #323232;\n}\n.dropdown li.filters-fetching-error {\n  padding: 8px 10px;\n  text-align: center;\n}\n.dropdown li.filters-fetching-error.show {\n  display: block;\n}\n.dropdown li.filters-fetching-error span {\n  font-size: 0.857rem;\n}\n.dropdown li.filters-fetching-error .filters-try-again {\n  font-size: 1rem;\n  color: #0679c8;\n  text-decoration: underline;\n}\n.dropdown li a {\n  position: relative;\n  display: block;\n  height: 2.857rem;\n  color: #323232;\n}\n.dropdown li a.active {\n  background: #fff;\n  color: #0679c8;\n}\n.dropdown li a.active .check-icon {\n  display: block;\n}\n.dropdown li a.filters-reload {\n  height: auto;\n}\n.dropdown li .name {\n  position: absolute;\n  top: 50%;\n  left: 22px;\n  right: 7px;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  max-height: 2.857rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.dropdown li .check-icon {\n  display: none;\n  position: absolute;\n  top: 50%;\n  left: 6px;\n  margin-top: -7px;\n  font-size: 13px;\n}\n.dropdown li .loading-error {\n  height: auto;\n  padding: 12px 0;\n  text-align: center;\n}\n.dropdown li .loading-error .message {\n  display: block;\n  padding-bottom: 6px;\n}\n.dropdown li .loading-error .link {\n  color: #0679c8;\n  text-decoration: underline;\n}\n/* Content\n------------------------- */\n.mobile.show-content-child #content {\n  display: none;\n}\n.mobile.show-content-child #content-child {\n  display: block;\n}\n.tablet #wrapper {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  background: #fff;\n}\n.tablet.show-content-child #content {\n  display: block;\n  width: 340px;\n}\n.tablet.show-content-child #content-child {\n  display: block;\n  box-shadow: -2px 0 7px rgba(0, 0, 0, 0.1);\n}\n.tablet.show-content-child.body--search-onfocus #content {\n  width: 100% !important;\n  z-index: 2003;\n}\n.tablet #moduleList {\n  -webkit-transform: translate3d(0, 0, 0);\n}\n#wrapper {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n#content,\n#content-child {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 2002;\n}\n#content-child {\n  display: none;\n}\n.duplicates-list .items .layout__list {\n  position: relative;\n  top: 0;\n  height: 300px;\n}\n#content-overlay {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 50px;\n  bottom: 0;\n  z-index: 2003;\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  opacity: 0;\n  -webkit-transition: opacity 0.2s linear;\n  transition: opacity 0.2s linear;\n}\n#content-overlay.full {\n  top: 0;\n}\n.show-menu-left #content-overlay {\n  top: 0;\n  background: rgba(0, 0, 0, 0.5);\n  opacity: 1;\n}\n.easy-scroller-parent {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n}\n.view__filters ~ .easy-scroller-parent {\n  top: 44px;\n}\n.filters-hidden .easy-scroller-parent {\n  top: 0;\n}\n.easy-scroller-holder {\n  position: absolute;\n  top: 0;\n  min-height: 100%;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n.layout__list .easy-scroller-holder,\n.layout__Dashboards .easy-scroller-holder {\n  background: #fff;\n}\n.actionsheet-overlay {\n  top: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 9999;\n  width: 100%;\n  bottom: 0;\n  position: absolute;\n}\n.actionsheet-overlay .popup {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  min-width: 250px;\n  max-width: 90%;\n  font-weight: bold;\n  background-color: #fff;\n  color: #000;\n  font-size: 16px;\n  position: absolute;\n}\n.actionsheet-overlay .popup .header {\n  border-bottom: 3px solid #d3dbe1;\n  padding: 16px 0;\n  text-align: center;\n}\n.actionsheet-overlay .popup .items {\n  max-height: 120px;\n  overflow: auto;\n  overflow-x: hidden;\n}\n.actionsheet-overlay .popup .items .item {\n  height: 40px !important;\n  line-height: 40px;\n  width: auto;\n  padding-left: 20px;\n  padding-right: 20px;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.actionsheet-overlay .popup .items .item.selected-item {\n  background: #666;\n}\n.actionsheet-overlay .popup.compact .header {\n  padding: 10px !important;\n}\n.actionsheet-overlay .popup.compact .items {\n  max-height: 80px !important;\n}\n.actionsheet-overlay .popup.compact .footer .cancel {\n  padding: 10px !important;\n}\n.actionsheet-overlay .popup .footer {\n  border-top: 2px solid #d3dbe1;\n}\n.actionsheet-overlay .popup .footer .cancel {\n  display: block;\n  color: #0679c8;\n  text-align: center;\n  padding: 16px;\n}\n.actionsheet-overlay .popup .footer .cancel.selected-item {\n  color: #005088;\n}\n.view__summary .scroll > ul > li,\n.items article {\n  position: relative;\n}\n.ios .view__summary .scroll > ul > li,\n.ios .items article {\n  -webkit-transform: translateZ(0);\n}\n/* List\n------------------------- */\n.listing {\n  background: #fff;\n  min-height: 100%;\n  width: 100%;\n  padding-bottom: 1px;\n  overflow: hidden;\n  z-index: 2;\n}\n.listing .no-records-found {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  color: #6b7479;\n  background-color: #f0f2f5;\n  padding: 24px 15px 26px;\n  font-size: 1.214rem;\n  text-align: center;\n}\n.listing#listing-Activities .no-records-found {\n  top: 47px;\n}\n.listing .bucket-header {\n  min-height: 15px;\n  padding: 10px 15px;\n  background: #ecedef;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #000;\n}\n.listing article {\n  display: block;\n  padding: 8px 8px 8px 15px;\n  background: #fff;\n  border-bottom: 1px solid #ebedef;\n  min-height: 52px;\n}\n.listing article p {\n  display: block;\n}\n.listing article p:last-child {\n  margin: 0;\n}\n.listing article.selected-item,\n.listing article.item-checkbox_checked {\n  background: #ededed !important;\n  color: #000;\n}\n.listing article.selected-item a,\n.listing article.item-checkbox_checked a,\n.listing article.selected-item .item-name,\n.listing article.item-checkbox_checked .item-name,\n.listing article.selected-item .tb__info,\n.listing article.item-checkbox_checked .tb__info {\n  color: #005088 !important;\n}\n.listing article.selected-item .module-name,\n.listing article.item-checkbox_checked .module-name,\n.listing article.selected-item .module-name-comma,\n.listing article.item-checkbox_checked .module-name-comma,\n.listing article.selected-item .item-label,\n.listing article.item-checkbox_checked .item-label,\n.listing article.selected-item div.search-result,\n.listing article.item-checkbox_checked div.search-result,\n.listing article.selected-item .fields .value,\n.listing article.item-checkbox_checked .fields .value {\n  color: #000 !important;\n}\n.listing article.selected-item .menu-container a,\n.listing article.item-checkbox_checked .menu-container a {\n  color: #262626 !important;\n}\n.listing article.current {\n  background: #9aa5ad;\n  color: #fff;\n}\n.listing article.current a,\n.listing article.current .item-name,\n.listing article.current .tb__info {\n  color: #fff !important;\n}\n.listing article.current .module-name,\n.listing article.current .module-name-comma,\n.listing article.current .item-label,\n.listing article.current div.search-result,\n.listing article.current .fields .value {\n  color: #fff !important;\n}\n.listing article.current .menu-container a {\n  color: #262626 !important;\n}\n.listing article.deleted {\n  opacity: 0;\n}\n.listing .list-item {\n  position: relative;\n}\n.listing .list-item .txt {\n  margin-top: 6px;\n  min-height: 2.7em;\n}\n.listing .list-item .txt.line-clamp {\n  line-height: 1.3em;\n}\n.listing .list-item .txt .clip a em {\n  font-style: normal;\n  color: #000;\n}\n.listing .list-item .txt > .clip:first-child,\n.listing .list-item .txt .item-name {\n  font-size: 1.214rem;\n  line-height: 1.3em;\n}\n.listing .list-item .txt .module-name {\n  float: left;\n  max-width: 50%;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-style: normal;\n  color: #000;\n  font-size: 1.214rem;\n  line-height: 1.3em;\n}\n.listing .list-item .txt .module-name-comma {\n  float: left;\n  font-size: 1.214rem;\n  line-height: 1.3em;\n  padding-right: 4px;\n  color: #000;\n}\n.listing .list-item .txt .highlight {\n  font-weight: bold;\n  color: inherit;\n}\n.listing .list-item .txt div.search-result {\n  color: #000;\n  font-size: 1rem;\n}\n.listing .list-item .txt div.search-result .highlight {\n  padding: 0 2px;\n  background: #dfdfdf;\n  color: #000;\n  font-weight: normal;\n}\n.listing .list-item .txt div.search-result .relate-link {\n  color: #000;\n}\n.listing .list-item .search {\n  height: auto;\n}\n.listing .list-item .additional {\n  padding-top: 0.3em;\n  padding-bottom: 0.3em;\n  font-size: 0.929rem;\n}\n.listing .list-item .additional div.search-result {\n  display: block;\n}\n.listing .list-item .txt.has-access .item-name {\n  color: #0679c8;\n}\n.listing .list-item .fields {\n  padding-top: 2px;\n}\n.listing .list-item .fields .value {\n  color: #000;\n}\n.listing .list-item .fields .field {\n  padding-top: 0;\n  overflow: hidden;\n}\n.listing .list-item .fields .item-label {\n  float: left;\n  width: 46%;\n  padding-right: 10px;\n  font-weight: 500;\n  color: #000;\n}\n.listing .list-item .field-leads-status-value {\n  float: right;\n}\n.rtl .listing .list-item .field-leads-status-value {\n  float: left;\n}\n.listing .list-item.tx-item {\n  font-size: 1.214rem;\n  color: #0679c8;\n}\n.listing .list-item.error {\n  color: #fff;\n  background: #e61718;\n  border-top: none;\n  border-bottom: solid 3px #8a1a0f;\n}\n.listing .list-item.error .module-name,\n.listing .list-item.error .module-name-comma {\n  color: #fff;\n}\n.listing .list-item.warning {\n  color: #fff;\n  background: #ffa800;\n  border-top: none;\n  border-bottom: solid 3px #b27500;\n}\n.listing .list-item.warning .module-name,\n.listing .list-item.warning .module-name-comma {\n  color: #fff;\n}\n.listing article.has-grip {\n  padding-right: 32px;\n}\n.listing article.item-checkbox {\n  position: relative;\n  padding-right: 32px;\n}\n.listing article.item-checkbox .asscacct,\n.listing article.item-checkbox .checkbox-icon {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  width: 31px;\n  margin-top: -0.5em;\n}\n.listing article.list-item-radio {\n  position: relative;\n  padding: 11px 15px 11px 46px;\n}\n.listing article.list-item-radio .radio-icon {\n  position: absolute;\n  top: 30px;\n  left: 15px;\n  width: 18px;\n  margin-top: -8px;\n  text-align: center;\n  color: #979797;\n  font-size: 18px;\n}\n.listing article.list-item-radio .item-name {\n  font-size: 1.143rem;\n}\n.listing article.list-item-radio.list-item-radio--selected .radio-icon {\n  font-weight: bold;\n  color: #54cb14;\n}\n.listing article.list-item-radio:last-child {\n  border-bottom: none;\n}\n.listing article.list-item-radio .row--head:first-child {\n  font-size: 1.143rem;\n}\n.listing article.list-item-radio .row {\n  padding-bottom: 5px;\n}\n.listing article.list-item-radio .edit-link,\n.listing article.list-item-radio .show-more-link,\n.listing article.list-item-radio .show-less-link {\n  display: block;\n  padding: 20px 0 14px;\n  margin: -15px 0 -10px;\n  text-transform: capitalize;\n}\n.listing .show-more-btn {\n  background: #f5f5f5;\n  border-top: 1px solid #ebedef;\n  padding: 0 15px;\n  margin-bottom: 0;\n  min-height: 42px;\n  line-height: 42px;\n  text-transform: capitalize;\n}\n.listing .show-more-btn.show-more-top-btn {\n  z-index: 1;\n}\n.listing .show-more-btn:first-child,\n.listing .show-more-btn:nth-child(2),\n.listing .show-more-btn:nth-child(3) {\n  border-bottom: 1px solid #ebedef;\n  margin-bottom: -1px;\n}\n.picker-list-row {\n  line-height: 52px;\n  font-size: 1.143rem;\n}\n.picker-list-row .label-module-sm {\n  margin: -2px 9px 0 0;\n  vertical-align: middle;\n}\n.picker-list-row a {\n  color: #000;\n}\n.menu-container-grip {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 20px;\n  padding: 0 0 0 15px;\n  font-size: 14px;\n  font-style: normal;\n  line-height: 68px;\n}\n.menu-container {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 100%;\n  width: 100%;\n  background: #f4f5f6;\n  text-align: center;\n  -webkit-transition-duration: 0.15s;\n  transition-duration: 0.15s;\n}\n.menu-container.on {\n  -webkit-transform: translate3d(-100%, 0, 0);\n  transform: translate3d(-100%, 0, 0);\n}\n.mobile .has-drag-menu .menu-container.on {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.menu-container .context-menu__item {\n  display: inline-block;\n  padding: 18px 0 300px;\n  height: 26px;\n  width: 62px;\n  color: #262626;\n  text-align: center;\n  font-size: 11px;\n  line-height: 18px;\n}\n.menu-container .context-menu__item .icondefault {\n  font-size: 20px;\n  color: #262626;\n}\n.menu-container .context-menu__item.selected-item .icondefault {\n  color: #262626;\n}\n.menu-container .context-menu__item .icon-spinner {\n  display: inline-block;\n  width: 14px;\n  height: 14px;\n}\n.menu-container .context-menu__item .icon-spinner .icon-spinner-path {\n  fill: #262626;\n}\n.menu-container .grip {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  line-height: 68px;\n  width: 16px;\n  padding: 0 2px 0 10px;\n  font-size: 14px;\n  color: #262626;\n}\n.menu-container .box__context-menu {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  justify-content: center;\n}\n.menu-container .box__context-menu .context-menu__no-options {\n  padding: 10px;\n}\n.menu-container .box__context-menu .disabled {\n  opacity: 0.2;\n}\n.menu-container .action-label {\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.mobile .menu-container {\n  top: -1px;\n  border-top: solid 1px #ebedef;\n}\n.mobile .menu-container .box__context-menu {\n  position: absolute;\n}\n.mobile .menu-container a {\n  width: 72px;\n}\n.mobile .menu-container-grip + .menu-container .box__context-menu {\n  position: inherit;\n}\n.error-box {\n  padding: 18px 15px 20px;\n  background-color: transparent;\n  font-weight: bold;\n  color: #fff;\n}\n/* Related Actions List\n------------------------- */\n.box__related-actions {\n  margin: 0;\n  padding: 0;\n}\n.box__related-actions .related-action__item {\n  list-style: none;\n  padding: 0 0 0 10px;\n  line-height: 39px;\n  border-bottom: 1px solid #ebedef;\n  min-height: 40px;\n  position: relative;\n}\n.box__related-actions .related-action__item.selected-item {\n  background-color: #ededed;\n}\n.box__related-actions .related-action__item .related-action-item__link {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 40px;\n  color: #000;\n  font-size: 1.071rem;\n  text-decoration: none;\n}\n.box__related-actions .related-action__item .label-module-sm {\n  margin: 0 6px -6px 0;\n}\n.box__related-actions .related-action__item .more {\n  position: absolute;\n  top: 0;\n  right: 10px;\n  line-height: inherit;\n}\n.box__related-actions .related-action__item .related-action-item__add {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 40px;\n  padding: 0;\n  text-align: center;\n  text-indent: 3px;\n  font-size: 0.857rem;\n  color: #525252;\n}\n.box__related-actions .related-action__item.related-action__item_empty .related-action-item__link {\n  color: rgba(0, 0, 0, 0.3);\n}\n.brand {\n  background: url('+n(414)+') 50% 50% no-repeat;\n  background-size: contain;\n  text-indent: -7000px;\n  overflow: hidden;\n  margin: 15px auto;\n  width: 240px;\n  height: 80px;\n}\n/* Edit view\n--------------*/\n.scroll {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n.scroll .pad {\n  padding-bottom: 1px;\n  min-height: 100%;\n  width: 100%;\n  background: #fff;\n}\n.textarea .scroll .pad {\n  height: 100%;\n}\n.textarea .scroll .pad > textarea {\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n}\n#nomad .box__edit.box__edit_readonly .field.field--readonly .textarea-div {\n  color: #111;\n}\n.input-wrapper {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.input-wrapper input {\n  display: block;\n  width: 100%;\n  padding-right: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n  flex: 1;\n  line-height: 1;\n}\n.input-wrapper input:focus {\n  outline: 0;\n  outline-offset: 0;\n}\n.input-wrapper .clear-button {\n  display: none;\n  position: relative;\n  box-sizing: border-box;\n  height: 3.286rem;\n  line-height: 3.286rem;\n  align-self: center;\n  padding: 0 15px 0 20px;\n  margin: -10px -15px -10px 0;\n  font-size: 1.143rem;\n  cursor: pointer;\n  color: #6b7479;\n  z-index: 99;\n}\n.input-wrapper.not-empty input:focus + .clear-button {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.modal-footer {\n  padding: 20px 0 10px;\n  border-top: 1px solid #e8e8e8;\n  text-align: center;\n}\n/* Icons\n------------------------- */\n.btn .icondefault {\n  margin-top: 3px;\n}\nselect {\n  box-sizing: border-box;\n  width: 100%;\n  padding-right: 20px;\n  margin-right: -20px;\n}\nselect + .icondefault,\n.actionsheet-select + .icondefault {\n  float: right;\n  width: 20px;\n  font-size: 18px;\n  text-align: right;\n}\n.icon-size-md {\n  font-size: 20px;\n}\n/* Alerts\n------------------------- */\n.ios .alert {\n  -webkit-transform: translateZ(0);\n}\n.alert {\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  min-height: 22px;\n  overflow: hidden;\n  padding: 12px 15px;\n  margin: 0;\n  z-index: 2002;\n  font-size: 1.071rem;\n  background: #f5f5f5;\n  color: #5b5b5b;\n}\n.alert.closeable {\n  padding-right: 38px;\n}\n.alert .icondefault {\n  position: absolute;\n  top: 14px;\n  right: 15px;\n  font-size: 14px;\n  line-height: 1;\n}\n.alert a {\n  text-decoration: underline;\n}\n.alert .icon-spinner {\n  display: inline-block;\n  position: absolute;\n  top: 16px;\n  left: 15px;\n  right: auto;\n  width: 14px;\n  height: 14px;\n}\n.alert .icon-spinner .icon-spinner-path {\n  fill: #6b7479;\n}\n.alert .close-icon {\n  top: 50%;\n  margin-top: -9px;\n  font-size: 18px;\n}\n.alert .icon-spinner + .message {\n  padding-left: 24px;\n}\n.alert .message {\n  line-height: 1.3em;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  font-weight: lighter;\n}\n#alerts {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  height: auto;\n  width: 100%;\n  overflow: hidden;\n  z-index: 9998;\n}\n.syncApp #alerts {\n  z-index: 999999;\n}\n.has-pagination #alerts {\n  bottom: 50px;\n}\n.tablet #alerts .alert {\n  margin-top: 2px;\n}\n.data-unavailable-label {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  margin-top: -20px;\n  text-align: center;\n}\n/* Alert overrider */\n.alert--warning {\n  background: #fbc02d;\n  color: #fff;\n}\n.alert--warning a {\n  color: #fff;\n}\n.alert--info {\n  background: #0679c8;\n  color: #fff;\n}\n.alert--info a {\n  color: #fff;\n}\n.alert--success {\n  background: #54cb14;\n  color: #fff;\n}\n.alert--success a {\n  color: #fff;\n}\n.alert--error {\n  background: #e61718;\n  color: #fff;\n}\n.alert--error a {\n  color: #fff;\n}\n.alert--load {\n  background: #ecedef;\n  color: #6b7479;\n}\n.alert--load a {\n  color: #6b7479;\n}\n.alert--load .close-icon {\n  color: #6b7479;\n}\n.alert[id^="demo-"] {\n  display: none;\n}\n.layout__error {\n  background: #000;\n}\n/* portrait */\n.portrait .tablet .layout__list .menuBtn {\n  display: block;\n}\n.portrait .tablet #content .menuBtn {\n  display: block;\n}\n.portrait .tablet #content-child {\n  left: 340px;\n}\n.portrait .tablet #content-child .menuBtn {\n  display: none;\n}\n.portrait .tablet #content-child .backBtn {\n  left: 0;\n}\n.portrait .tablet #content-child .offline-status {\n  display: none;\n}\n/* landscape */\n.landscape .tablet #content-child {\n  left: 340px;\n}\n.landscape .tablet #content-child .menuBtn {\n  display: none;\n}\n.landscape .tablet #content-child .offline-status {\n  display: none;\n}\n/* Settings page */\n.page__settings .modal-footer {\n  border-top: none;\n}\n.page__settings .settings__other-fields {\n  margin-bottom: 10px;\n}\n.page__settings .field--bool {\n  overflow: hidden;\n  padding-top: 12px;\n}\n.page__settings .field--bool .field__controls {\n  border-bottom: transparent;\n}\n.page__settings .field--bool .field__label {\n  float: left;\n  font-size: 1.143rem;\n  font-weight: bold;\n  color: #111;\n}\n.page__settings .field--bool .field__controls {\n  float: right;\n}\n/* Errors page */\n.b-vc-w {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n}\n.b-vc-w::before {\n  content: "";\n  display: inline-block;\n  height: 100%;\n  vertical-align: middle;\n  margin-right: -0.25em;\n}\n.b-vc {\n  display: inline-block;\n  width: 90%;\n  vertical-align: middle;\n}\n.error-message {\n  color: #f00;\n  font-size: 18px;\n}\n/** back to sugar url **/\n.sugar-back-link {\n  color: #000;\n  font-weight: bold;\n  padding: 30px;\n  text-align: center;\n}\n/* cut css3 for android */\n.android .background {\n  opacity: 0;\n}\n.android .field__controls--flex .input-wrapper {\n  overflow: hidden;\n}\n/* input scrolling in Android */\n.bodyScroll,\n.bodyScroll body {\n  overflow: visible;\n}\n.bodyScroll body {\n  background: #fff;\n}\n.bodyScroll.loginView body {\n  min-height: 100%;\n  height: auto;\n  background: #fff;\n}\n.bodyScroll.loginView body .view__login {\n  position: static;\n  background: none;\n}\n.bodyScroll.loginView body #wrapper,\n.bodyScroll.loginView body #content {\n  -webkit-transform: none !important;\n}\n.bodyScroll #menu-left {\n  overflow: hidden;\n  position: absolute;\n}\n.bodyScroll .menu__inner {\n  background: none;\n}\n.bodyScroll #menu-left:not(.hide) + #content {\n  padding-top: 50px;\n}\n.bodyScroll .header-actions {\n  top: 50px;\n}\n.bodyScroll #nomad,\n.bodyScroll #wrapper,\n.bodyScroll #content,\n.bodyScroll #content .layout__def,\n.bodyScroll #content-child,\n.bodyScroll #content-child .layout__def,\n.bodyScroll .box__header,\n.bodyScroll .header__inner,\n.bodyScroll .box__menu,\n.bodyScroll .easy-scroller-parent,\n.bodyScroll .easy-scroller-holder,\n.bodyScroll .scroll {\n  position: static;\n}\n.bodyScroll .header__inner {\n  height: 50px;\n}\n.bodyScroll .scroll {\n  overflow: visible;\n}\n.bodyScroll #alerts {\n  position: fixed;\n}\n.bodyScroll .rotate #alerts {\n  position: absolute;\n}\n.bodyScroll #nomad {\n  -webkit-animation: triggerRepaint 0.4s 1;\n  animation: triggerRepaint 0.4s 1;\n}\n.bodyScroll .dw-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.bodyScroll .actionsheet-overlay {\n  position: fixed;\n}\n.bodyScroll .mobile #wrapper {\n  box-shadow: none;\n}\n.bodyScroll #smartbanner {\n  position: relative !important;\n}\n.ellipsis .label-module-sm {\n  margin-right: 7px;\n}\n/* media query */\n@media screen and (max-width: 767px) {\n  .portrait .tablet.show-content-child #content {\n    width: 44%;\n  }\n  .portrait .tablet #content-child {\n    left: 44%;\n  }\n}\n/* Narrow Tablet Mode */\n.portrait .tablet.narrow-tablet-mode #moduleList {\n  width: 100%;\n}\n.portrait .tablet.narrow-tablet-mode #content {\n  right: 0;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .menuBtn {\n  display: block;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .offline-status {\n  display: block;\n}\n.portrait .tablet.narrow-tablet-mode #content-child .status-success {\n  display: none;\n}\n.portrait .tablet.narrow-tablet-mode.show-content-child #content {\n  display: none;\n}\n.portrait .tablet.narrow-tablet-mode.show-content-child #content-child {\n  left: 0;\n  display: block;\n}\n/* Font Awesome */\n.btn .icondefault,\n.nav-tabs .icondefault {\n  /* keeps button heights with and without icons the same */\n  line-height: 0.9em;\n  vertical-align: baseline;\n}\n.icon-pipeline {\n  width: 1em;\n  height: 1em;\n  background: url('+n(412)+") 50% 50% no-repeat;\n  background-size: contain;\n}\n.rotate {\n  opacity: 0.99;\n}\n.rotate #moduleList {\n  overflow: hidden;\n}\n.desktop .taggable {\n  width: 100% !important;\n}\n/* Tags */\n.layout-detail .tag-item {\n  display: inline-block;\n  padding: 2px 13px 1px;\n  margin: 5px 4px 5px 0;\n  background-color: #fff;\n  border-radius: 11px;\n  font-size: 0.86rem;\n  color: #222;\n}\n/* Setup Buddy */\n.setupbuddy__wrapper {\n  min-height: 100%;\n  background-color: #fff;\n  -webkit-overflow-scrolling: auto;\n}\n.setupbuddy__wrapper .pad {\n  position: relative;\n}\n.setupbuddy__wrapper .sb__text__container {\n  padding-top: 30%;\n  padding-bottom: 200px;\n}\n.landscape .setupbuddy__wrapper .sb__text__container {\n  padding-top: 30px;\n}\n.landscape .setupbuddy__wrapper .sb__text__container .sb__icon {\n  margin-bottom: 20px;\n}\n.setupbuddy__wrapper .sb__text__container .sb__text {\n  min-width: 290px;\n  max-width: 330px;\n  padding: 0 15px;\n  margin: auto;\n  text-align: center;\n}\n.setupbuddy__wrapper .sb__text__container .sb__header {\n  font-size: 17px;\n  font-weight: bold;\n  margin: 10px 0 20px;\n}\n.setupbuddy__wrapper .sb__text__container .sb__icon {\n  margin-bottom: 40px;\n}\n.setupbuddy__wrapper .sb__text__container .icon-touch-id {\n  display: inline-block;\n  width: 95px;\n  height: 95px;\n  background: url("+n(413)+') no-repeat;\n  background-size: contain;\n}\n.setupbuddy__wrapper .sb__text__container .sb__description {\n  margin-top: 10px;\n}\n.setupbuddy__wrapper .sb__footer {\n  position: absolute;\n  bottom: 30px;\n  left: 15px;\n  right: 15px;\n  text-align: center;\n}\n.setupbuddy__wrapper .sb__footer .btn--large {\n  display: block;\n  margin: 20px auto 0;\n  min-width: 290px;\n  max-width: 330px;\n}\n.setupbuddy__wrapper .sb__footer.sb__footer--single {\n  position: static;\n  padding: 0 15px 50px;\n  margin: -100px auto 0;\n}\n/* Elements */\n.el__spinner {\n  width: 38px;\n}\n.el__spinner .spinner__circle {\n  width: 8px;\n  height: 8px;\n  background-color: #ccc;\n  border-radius: 100%;\n  display: inline-block;\n  animation: spinner_bounce 1.4s infinite ease-in-out;\n  animation-fill-mode: both;\n}\n.el__spinner .spinner__circle_1 {\n  animation-delay: -0.32s;\n}\n.el__spinner .spinner__circle_2 {\n  animation-delay: -0.16s;\n}\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.hide {\n  display: none !important;\n}\n.show {\n  display: block;\n}\n.view-holder-hide {\n  display: none !important;\n}\n.invisible {\n  visibility: hidden;\n}\n.tcenter {\n  text-align: center !important;\n}\n.tleft {\n  text-align: left !important;\n}\n.tright {\n  text-align: right !important;\n}\n.brake-lines {\n  white-space: pre-line !important;\n}\n.rotate1 {\n  -webkit-animation: rotation1 0.15s 1 linear;\n  -webkit-transform: rotate(180deg);\n}\n@-webkit-keyframes rotation1 {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(180deg);\n  }\n}\n.rotate2 {\n  -webkit-animation: rotation2 0.15s 1 linear;\n  -webkit-transform: rotate(0deg);\n}\n@-webkit-keyframes rotation2 {\n  from {\n    -webkit-transform: rotate(180deg);\n  }\n  to {\n    -webkit-transform: rotate(0deg);\n  }\n}\n.rotate360 {\n  -webkit-animation: spin 0.7s infinite linear;\n}\n@-webkit-keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(359deg);\n  }\n}\n.pull-to-refresh {\n  z-index: -1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background: #f0f2f5;\n  height: 50%;\n  min-height: 50%;\n  padding-top: 23px;\n  text-align: center;\n}\n.pull-to-refresh .ptr__wrap-spinner {\n  position: relative;\n  width: 28px;\n  height: 28px;\n  margin: 0 auto;\n}\n.pull-to-refresh .ptr__spinner {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n@-webkit-keyframes animationScale {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n.animation--scale-once {\n  animation: animationScale 0.4s linear;\n  -webkit-animation: animationScale 0.4s linear;\n  -webkit-animation-iteration-count: 1;\n  -webkit-animation-fill-mode: forwards;\n}\nhtml {\n  direction: ltr;\n}\n.rtl {\n  direction: rtl;\n  /* header */\n  /* search */\n  /* filter Box */\n  /* list view */\n  /* detail view */\n  /* edit view */\n  /* Lead conversion */\n  /* dashlets */\n  /* alerts */\n  /* tutorial */\n  /* portrait */\n  /* landscape */\n  /* Offline Stats page */\n}\n.rtl .backBtn,\n.rtl .menuBtn,\n.rtl .offline-status,\n.rtl .dashHomeBtn {\n  float: right;\n}\n.rtl .backBtn {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .createBtn,\n.rtl .searchBtn {\n  float: left;\n}\n.rtl .label-module-sm.has-icon-inside .label-module-sm_title {\n  right: 4px;\n}\n.rtl .box__header .saveBtn,\n.rtl .box__menu .saveBtn {\n  padding-left: 0;\n}\n.rtl .box__header .right-menu .icondefault,\n.rtl .box__menu .right-menu .icondefault {\n  margin: 0 -2px 0 8px;\n}\n.rtl .box__header .menu__item .menu-item__icon,\n.rtl .box__menu .menu__item .menu-item__icon,\n.rtl .box__header .menu__item .label-module-sm,\n.rtl .box__menu .menu__item .label-module-sm,\n.rtl .box__header .menu__item .user-icon,\n.rtl .box__menu .menu__item .user-icon {\n  margin: -6px 0 -6px 7px;\n}\n.rtl .box__header.has-edit-button.has-search .header__title {\n  left: 110px;\n  right: 80px;\n}\n.rtl #menu-left .menu__inner .menu__item .menu-item__link .user-icon {\n  margin-left: 5px;\n  margin-right: 0;\n}\n.rtl .view__search-box .search-query {\n  padding: 0 44px 0 35px;\n}\n.rtl .view__search-box .view__search-box__actions {\n  left: 10px;\n  right: auto;\n}\n.rtl .view__search-box .clear-button {\n  right: auto;\n  left: 0;\n}\n.rtl .view__search-box .box__search-icon {\n  right: 15px;\n  left: auto;\n}\n.rtl .view__search-box .icon-spinner {\n  right: 15px;\n  left: auto;\n}\n.rtl .view__search-box .favoriteable {\n  padding-left: 134px;\n}\n.rtl .view__search-box .favoriteable .search-query {\n  padding-left: 95px;\n}\n.rtl .view__search-box .favoriteable .clear-button {\n  left: 70px;\n  right: auto;\n}\n.rtl .view__search-box .hidden-my-items {\n  padding-left: 74px;\n}\n.rtl .taggable-dropdown .label-module-sm {\n  margin: 0 0 0 10px;\n}\n.rtl .box__filter .filter__item-sort {\n  margin-left: 0;\n  margin-right: -1px;\n}\n.rtl .dropdown.dropdown__filter {\n  left: auto;\n  right: 7px;\n}\n.rtl .dropdown.dropdown__sortBy {\n  left: 7px;\n  right: auto;\n}\n.rtl .filters-wrap {\n  padding-right: 15px;\n  padding-left: 5px;\n}\n.rtl .filter {\n  padding-right: 0;\n  padding-left: 20px;\n}\n.rtl .listing article {\n  padding: 8px 15px 8px 8px;\n}\n.rtl .listing article.has-grip {\n  padding-left: 32px;\n}\n.rtl .listing article.item-checkbox {\n  padding-left: 32px;\n}\n.rtl .listing article.list-item-radio {\n  padding: 11px 46px 11px 15px;\n}\n.rtl .listing article.list-item-radio .radio-icon {\n  right: 15px;\n  left: auto;\n}\n.rtl .menu-container-grip {\n  left: 0;\n  right: auto;\n  padding: 0 15px 0 0;\n}\n.rtl .menu-container {\n  left: auto;\n  right: 100%;\n}\n.rtl .menu-container.on {\n  -webkit-transform: translate3d(100%, 0, 0);\n  transform: translate3d(100%, 0, 0);\n}\n.rtl .menu-container .grip {\n  right: 0;\n  left: auto;\n  padding: 0 10px 0 2px;\n}\n.rtl .listing .list-view-item .module-name,\n.rtl .listing .parent-item .module-name,\n.rtl .listing .list-item .module-name,\n.rtl .listing .list-view-item .module-name-comma,\n.rtl .listing .parent-item .module-name-comma,\n.rtl .listing .list-item .module-name-comma {\n  float: right;\n}\n.rtl .listing article.item-checkbox .asscacct,\n.rtl .listing article.item-checkbox .checkbox-icon {\n  left: 0;\n  right: auto;\n}\n.rtl .picker-list-row .label-module-sm {\n  margin: -2px 0 0 9px;\n}\n.rtl .view__detail .avatar,\n.rtl .view__detail .label-module-sm {\n  left: auto;\n  right: 17px;\n}\n.rtl .view__detail .input_upload {\n  left: auto;\n  right: 0;\n}\n.rtl .view__detail .box_detail__title {\n  left: 30px;\n  right: 90px;\n}\n.rtl .view__detail .favorite-icon {\n  left: 0;\n  right: auto;\n}\n.rtl .field-detail {\n  padding: 10px 120px 11px 10px;\n}\n.rtl .field-detail .field-detail__label {\n  float: right;\n  margin-left: auto;\n  margin-right: -109px;\n}\n.rtl .box__related-actions .related-action__item {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .box__related-actions .related-action__item .related-action-item__link {\n  padding-left: 44px;\n  padding-right: 0;\n}\n.rtl .box__related-actions .related-action__item .label-module-sm {\n  margin-right: 0;\n  margin-left: 9px;\n}\n.rtl .box__related-actions .related-action__item .records-count {\n  display: inline-block;\n}\n.rtl .box__related-actions .related-action__item .related-action-item__add {\n  left: 0;\n  right: auto;\n}\n.rtl .box__related-actions .related-action__item .more {\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n  left: 10px;\n  right: auto;\n}\n.rtl .btn-group .btn {\n  float: right;\n  border-radius: 0;\n}\n.rtl .btn-group .btn:last-child {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .field .field__controls .checkbox_custom + .checkbox-icon {\n  margin: 4px -65% 0 0;\n}\n.rtl .field input:not([type="checkbox"]),\n.rtl .field textarea,\n.rtl .field select {\n  padding-right: 0;\n  text-align: right;\n}\n.rtl .field select {\n  margin-right: 0;\n  margin-left: -20px;\n  padding-right: 0;\n  padding-left: 20px;\n}\n.rtl .field .horizontal-fieldset .field .field__controls {\n  float: none;\n  margin: 0;\n}\n.rtl .field--datetime .date {\n  float: right;\n  margin-right: 0;\n  margin-left: 10px;\n  border-right: none;\n}\n.rtl .field--datetime .date input {\n  padding-left: 0;\n}\n.rtl .field--datetime .time {\n  float: right;\n  border-width: 0 1px 0 0;\n}\n.rtl .field--datetime .time input {\n  padding-left: 0;\n  padding-right: 10px;\n}\n.rtl .field--datetime .field__controls.field__controls--has-btns {\n  padding-left: 1.5rem;\n  padding-right: 0;\n}\n.rtl .field--datetime .btn-group {\n  right: auto;\n  left: 0;\n}\n.rtl .field--file .picture-wrap {\n  float: right;\n}\n.rtl .field--file .picture-wrap .picture-icon + .placeholder {\n  margin-left: 0;\n  margin-right: 35px;\n}\n.rtl .field--radio .field__controls .btn {\n  left: 0;\n}\n.rtl .field--currency .field__controls .selector {\n  margin-left: 10px;\n  margin-right: 0;\n  border-width: 0 0 0 1px;\n}\n.rtl .field--currency .field__controls .selector select {\n  padding: 0 15px 0 0;\n  margin-left: 0;\n}\n.rtl .box__link-duplicates {\n  padding: 12px 15px 12px 40px;\n}\n.rtl .box__link-duplicates .icondefault {\n  right: auto;\n  left: 0;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .dashboard,\n.rtl .pagination__bar {\n  direction: ltr;\n}\n.rtl .dashlets__list,\n.rtl .dashlet__b {\n  direction: rtl;\n}\n.rtl .as__detail {\n  padding: 8px 50px 8px 28px;\n}\n.rtl .as__detail .as__icon .icondefault {\n  margin-right: 0;\n}\n.rtl .as__detail .label-module-sm,\n.rtl .as__detail .as__icon {\n  float: right;\n  margin: 4px -36px 0 0;\n}\n.rtl .comments-container {\n  margin-left: 0;\n  margin-right: 46px;\n}\n.rtl .comment__item {\n  padding: 6px 38px 6px 10px;\n}\n.rtl .comment__item .user-icon {\n  float: right;\n  margin: 4px -38px 0 0;\n}\n.rtl .tb__detail {\n  padding-left: 0;\n  padding-right: 35px;\n}\n.rtl .tb__detail .tb__icon {\n  float: right;\n  margin-left: 0;\n  margin-right: -35px;\n}\n.rtl .chart {\n  direction: ltr;\n}\n.rtl .learning-resources .resource-list .resource .resource-info {\n  margin-right: 44px;\n  margin-left: 0;\n}\n.rtl .alert.closeable {\n  padding-left: 38px;\n  padding-right: 15px;\n}\n.rtl .alert .icondefault {\n  right: auto;\n  left: 15px;\n}\n.rtl .alert .icon-spinner {\n  right: 15px;\n  left: auto;\n}\n.rtl .alert .icon-spinner + .message {\n  padding: 0 24px 0 0;\n}\n.rtl #tutorial {\n  direction: ltr;\n}\n.rtl .view__login .icon-spinner {\n  margin-right: 0;\n  margin-left: 2px;\n}\n.rtl .page__offline .offline-list__item .more {\n  left: 10px;\n  right: auto;\n  -webkit-transform: scale(-1);\n  transform: scale(-1);\n}\n.rtl .page__offline .offline__start-stop-btn {\n  float: left;\n  margin-left: 0;\n  margin-right: 8px;\n}\n.rtl .page__offline .offline__control-group .offline__checkbox-data {\n  float: left;\n}\n.rtl .page__offline .offline__control-group .offline__checkbox-data .checkbox-icon {\n  margin-left: 0;\n}\n.rtl .mobile .right-menu {\n  left: 0;\n  right: 14%;\n}\n.rtl .tablet .right-menu {\n  left: 0;\n  right: auto;\n}\n.rtl .tablet .right-menu__corner {\n  left: 10px;\n  right: auto;\n}\n.rtl .tablet #wrapper {\n  -webkit-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n}\n.rtl .tablet #content .overlay__right-menu {\n  left: 0;\n  right: -56px;\n}\n.rtl.portrait .tablet.narrow-tablet-mode.show-content-child #content-child {\n  right: 0;\n}\n.rtl.portrait .tablet #moduleList {\n  -webkit-transform: translate(100%, 0, 0);\n  transform: translate(100%, 0, 0);\n}\n.rtl.portrait .tablet #content-child {\n  left: 0;\n  right: 340px;\n}\n.rtl.portrait .tablet #content-child .backBtn {\n  left: 0;\n  right: 0;\n}\n.rtl.landscape .tablet #content-child {\n  left: 0;\n  right: 340px;\n}\n.rtl select + .icondefault {\n  float: left;\n  text-align: left;\n}\n.rtl .table th,\n.rtl .table td {\n  text-align: right;\n}\n.rtl .pull-right {\n  float: left;\n}\n.rtl .pull-left {\n  float: right;\n}\n.rtl .input-wrapper .clear-button {\n  padding: 0 20px 0 15px;\n  margin-right: 0;\n  margin-left: -15px;\n}\n.rtl .checkbox-icon {\n  text-align: right;\n}\n.rtl .page__offline .td-count {\n  text-align: left;\n}\n.rtl .page__offline .td-count .lbl-count {\n  float: left;\n}\n.rtl .page__offline .td-count .icons {\n  padding-left: 7px;\n  margin-right: 3px;\n}\n@media screen and (max-width: 767px) {\n  .rtl.portrait .tablet #content-child {\n    right: 44%;\n    left: 0;\n  }\n}\n.brand {\n  width: 224px;\n  height: 60px;\n}\n.view__login .control-ssl {\n  opacity: 1;\n}\n.view__login .control-ssl .icondefault {\n  color: #0679c8;\n}\n.view__login .login__links .separator {\n  opacity: 1;\n  background: #91969f;\n}\n.view__login .login__links .login-links__link {\n  color: #0679c8;\n}\n.view__login .login__links .login-links__link.selected-item {\n  color: #005088;\n}\n#overlay.spinner {\n  color: #9aa5ad;\n}\n#overlay.spinner .icon-spinner-path {\n  fill: #9aa5ad;\n}\n',""])},function(e,t){function n(e){var t=this;var n=Math.round;var i=Math.floor;var a=new Array(64);var r=new Array(64);var s=new Array(64);var o=new Array(64);var l;var u;var c;var d;var f=new Array(65535);var h=new Array(65535);var p=new Array(64);var m=new Array(64);var _=[];var g=0;var v=7;var b=new Array(64);var y=new Array(64);var x=new Array(64);var S=new Array(256);var w=new Array(2048);var L;var E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63];var M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];var k=[0,1,2,3,4,5,6,7,8,9,10,11];var A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];var T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250];var C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];var D=[0,1,2,3,4,5,6,7,8,9,10,11];var R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];var O=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e){var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(var n=0;n<64;n++){var l=i((t[n]*e+50)/100);if(l<1){l=1}else if(l>255){l=255}a[E[n]]=l}var u=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(var c=0;c<64;c++){var d=i((u[c]*e+50)/100);if(d<1){d=1}else if(d>255){d=255}r[E[c]]=d}var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];var h=0;for(var p=0;p<8;p++){for(var m=0;m<8;m++){s[h]=1/(a[E[h]]*f[p]*f[m]*8);o[h]=1/(r[E[h]]*f[p]*f[m]*8);h++}}}function F(e,t){var n=0;var i=0;var a=new Array;for(var r=1;r<=16;r++){for(var s=1;s<=e[r];s++){a[t[i]]=[];a[t[i]][0]=n;a[t[i]][1]=r;i++;n++}n*=2}return a}function N(){l=F(M,k);u=F(C,D);c=F(A,T);d=F(R,O)}function B(){var e=1;var t=2;for(var n=1;n<=15;n++){for(var i=e;i<t;i++){h[32767+i]=n;f[32767+i]=[];f[32767+i][1]=n;f[32767+i][0]=i}for(var a=-(t-1);a<=-e;a++){h[32767+a]=n;f[32767+a]=[];f[32767+a][1]=n;f[32767+a][0]=t-1+a}e<<=1;t<<=1}}function U(){for(var e=0;e<256;e++){w[e]=19595*e;w[e+256>>0]=38470*e;w[e+512>>0]=7471*e+32768;w[e+768>>0]=-11059*e;w[e+1024>>0]=-21709*e;w[e+1280>>0]=32768*e+8421375;w[e+1536>>0]=-27439*e;w[e+1792>>0]=-5329*e}}function P(e){var t=e[0];var n=e[1]-1;while(n>=0){if(t&1<<n){g|=1<<v}n--;v--;if(v<0){if(g==255){Y(255);Y(0)}else{Y(g)}v=7;g=0}}}function Y(e){_.push(S[e])}function H(e){Y(e>>8&255);Y(e&255)}function G(e,t){var n,i,a,r,s,o,l,u;var c=0;var d;const f=8;const h=64;for(d=0;d<f;++d){n=e[c];i=e[c+1];a=e[c+2];r=e[c+3];s=e[c+4];o=e[c+5];l=e[c+6];u=e[c+7];var m=n+u;var _=n-u;var g=i+l;var v=i-l;var b=a+o;var y=a-o;var x=r+s;var S=r-s;var w=m+x;var L=m-x;var E=g+b;var M=g-b;e[c]=w+E;e[c+4]=w-E;var k=(M+L)*.707106781;e[c+2]=L+k;e[c+6]=L-k;w=S+y;E=y+v;M=v+_;var A=(w-M)*.382683433;var T=.5411961*w+A;var C=1.306562965*M+A;var D=E*.707106781;var R=_+D;var O=_-D;e[c+5]=O+T;e[c+3]=O-T;e[c+1]=R+C;e[c+7]=R-C;c+=8}c=0;for(d=0;d<f;++d){n=e[c];i=e[c+8];a=e[c+16];r=e[c+24];s=e[c+32];o=e[c+40];l=e[c+48];u=e[c+56];var I=n+u;var F=n-u;var N=i+l;var B=i-l;var U=a+o;var P=a-o;var Y=r+s;var H=r-s;var G=I+Y;var V=I-Y;var j=N+U;var z=N-U;e[c]=G+j;e[c+32]=G-j;var $=(z+V)*.707106781;e[c+16]=V+$;e[c+48]=V-$;G=H+P;j=P+B;z=B+F;var q=(G-z)*.382683433;var W=.5411961*G+q;var K=1.306562965*z+q;var J=j*.707106781;var X=F+J;var Z=F-J;e[c+40]=Z+W;e[c+24]=Z-W;e[c+8]=X+K;e[c+56]=X-K;c++}var Q;for(d=0;d<h;++d){Q=e[d]*t[d];p[d]=Q>0?Q+.5|0:Q-.5|0}return p}function V(){H(65504);H(16);Y(74);Y(70);Y(73);Y(70);Y(0);Y(1);Y(1);Y(0);H(1);H(1);Y(0);Y(0)}function j(e,t){H(65472);H(17);Y(8);H(t);H(e);Y(3);Y(1);Y(17);Y(0);Y(2);Y(17);Y(1);Y(3);Y(17);Y(1)}function z(){H(65499);H(132);Y(0);for(var e=0;e<64;e++){Y(a[e])}Y(1);for(var t=0;t<64;t++){Y(r[t])}}function $(){H(65476);H(418);Y(0);for(var e=0;e<16;e++){Y(M[e+1])}for(var t=0;t<=11;t++){Y(k[t])}Y(16);for(var n=0;n<16;n++){Y(A[n+1])}for(var i=0;i<=161;i++){Y(T[i])}Y(1);for(var a=0;a<16;a++){Y(C[a+1])}for(var r=0;r<=11;r++){Y(D[r])}Y(17);for(var s=0;s<16;s++){Y(R[s+1])}for(var o=0;o<=161;o++){Y(O[o])}}function q(){H(65498);H(12);Y(3);Y(1);Y(0);Y(2);Y(17);Y(3);Y(17);Y(0);Y(63);Y(0)}function W(e,t,n,i,a){var r=a[0];var s=a[240];var o;const l=16;const u=63;const c=64;var d=G(e,t);for(var p=0;p<c;++p){m[E[p]]=d[p]}var _=m[0]-n;n=m[0];if(_==0){P(i[0])}else{o=32767+_;P(i[h[o]]);P(f[o])}var g=63;for(;g>0&&m[g]==0;g--){}if(g==0){P(r);return n}var v=1;var b;while(v<=g){var y=v;for(;m[v]==0&&v<=g;++v){}var x=v-y;if(x>=l){b=x>>4;for(var S=1;S<=b;++S)P(s);x=x&15}o=32767+m[v];P(a[(x<<4)+h[o]]);P(f[o]);v++}if(g!=u){P(r)}return n}function K(){var e=String.fromCharCode;for(var t=0;t<256;t++){S[t]=e(t)}}this.encode=function(e,t){var n=(new Date).getTime();if(t)J(t);_=new Array;g=0;v=7;H(65496);V();z();j(e.width,e.height);$();q();var i=0;var a=0;var r=0;g=0;v=7;this.encode.displayName="_encode_";var f=e.data;var h=e.width;var p=e.height;var m=h*4;var S=h*3;var L,E=0;var M,k,A;var T,C,D,R,O;while(E<p){L=0;while(L<m){T=m*E+L;C=T;D=-1;R=0;for(O=0;O<64;O++){R=O>>3;D=(O&7)*4;C=T+R*m+D;if(E+R>=p){C-=m*(E+1+R-p)}if(L+D>=m){C-=L+D-m+4}M=f[C++];k=f[C++];A=f[C++];b[O]=(w[M]+w[k+256>>0]+w[A+512>>0]>>16)-128;y[O]=(w[M+768>>0]+w[k+1024>>0]+w[A+1280>>0]>>16)-128;x[O]=(w[M+1280>>0]+w[k+1536>>0]+w[A+1792>>0]>>16)-128}i=W(b,s,i,l,c);a=W(y,o,a,u,d);r=W(x,o,r,u,d);L+=32}E+=8}if(v>=0){var I=[];I[1]=v+1;I[0]=(1<<v+1)-1;P(I)}H(65497);var F="data:image/jpeg;base64,"+btoa(_.join(""));_=[];var N=(new Date).getTime()-n;return F};function J(e){if(e<=0){e=1}if(e>100){e=100}if(L==e)return;var t=0;if(e<50){t=Math.floor(5e3/e)}else{t=Math.floor(200-e*2)}I(t);L=e}function X(){var t=(new Date).getTime();if(!e)e=50;K();N();B();U();J(e);var n=(new Date).getTime()-t}X()}function i(e){var t=typeof e=="string"?document.getElementById(e):e;var n=document.createElement("canvas");n.width=t.width;n.height=t.height;var i=n.getContext("2d");i.drawImage(t,0,0);return i.getImageData(0,0,n.width,n.height)}e.exports=n},function(e,t){(function(){if(this.JpegMeta){throw Error("Library included multiple times")}var e={};e.parseNum=function e(t,n,i,a){var r;var s;var o=t===">";if(i===undefined)i=0;if(a===undefined)a=n.length-i;for(o?r=i:r=i+a-1;o?r<i+a:r>=i;o?r++:r--){s<<=8;s+=n.charCodeAt(r)}return s};e.parseSnum=function e(t,n,i,a){var r;var s;var o;var l=t===">";if(i===undefined)i=0;if(a===undefined)a=n.length-i;for(l?r=i:r=i+a-1;l?r<i+a:r>=i;l?r++:r--){if(o===undefined){o=(n.charCodeAt(r)&128)===128}s<<=8;s+=o?~n.charCodeAt(r)&255:n.charCodeAt(r)}if(o){s+=1;s*=-1}return s};e.Rational=function e(t,n){this.num=t;this.den=n||1;return this};e.Rational.prototype.toString=function e(){if(this.num===0){return""+this.num}if(this.den===1){return""+this.num}if(this.num===1){return this.num+" / "+this.den}return this.num/this.den};e.Rational.prototype.asFloat=function e(){return this.num/this.den};e.MetaGroup=function e(t,n){this.fieldName=t;this.description=n;this.metaProps={};return this};e.MetaGroup.prototype._addProperty=function t(n,i,a){var r=new e.MetaProp(n,i,a);this[r.fieldName]=r;this.metaProps[r.fieldName]=r};e.MetaGroup.prototype.toString=function e(){return"[MetaGroup "+this.description+"]"};e.MetaProp=function e(t,n,i){this.fieldName=t;this.description=n;this.value=i;return this};e.MetaProp.prototype.toString=function e(){return""+this.value};this.JpegMeta=e;this.JpegMeta.JpegFile=function t(n,i){var a=this._SOS;this.metaGroups={};this._binary_data=n;this.filename=i;var r=0;var s=0;var o;var l;var u;var c;var d;var f;var h;if(this._binary_data.slice(0,2)!==this._SOI_MARKER){throw new Error("Doesn't look like a JPEG file. First two bytes are "+this._binary_data.charCodeAt(0)+","+this._binary_data.charCodeAt(1)+".")}r+=2;while(r<this._binary_data.length){o=this._binary_data.charCodeAt(r++);l=this._binary_data.charCodeAt(r++);s=r;if(o!=this._DELIM){break}if(l===a){break}d=e.parseNum(">",this._binary_data,r,2);r+=d;while(r<this._binary_data.length){o=this._binary_data.charCodeAt(r++);if(o==this._DELIM){u=this._binary_data.charCodeAt(r++);if(u!=0){r-=2;break}}}c=r-s;if(this._markers[l]){f=this._markers[l][0];h=this._markers[l][1]}else{f="UNKN";h=undefined}if(h){this[h](l,s+2)}}if(this.general===undefined){throw Error("Invalid JPEG file.")}return this};this.JpegMeta.JpegFile.prototype.toString=function(){return"[JpegFile "+this.filename+" "+this.general.type+" "+this.general.pixelWidth+"x"+this.general.pixelHeight+" Depth: "+this.general.depth+"]"};this.JpegMeta.JpegFile.prototype._SOI_MARKER="ÿØ";this.JpegMeta.JpegFile.prototype._DELIM=255;this.JpegMeta.JpegFile.prototype._EOI=217;this.JpegMeta.JpegFile.prototype._SOS=218;this.JpegMeta.JpegFile.prototype._sofHandler=function t(n,i){if(this.general!==undefined){throw Error("Unexpected multiple-frame image")}this._addMetaGroup("general","General");this.general._addProperty("depth","Depth",e.parseNum(">",this._binary_data,i,1));this.general._addProperty("pixelHeight","Pixel Height",e.parseNum(">",this._binary_data,i+1,2));this.general._addProperty("pixelWidth","Pixel Width",e.parseNum(">",this._binary_data,i+3,2));this.general._addProperty("type","Type",this._markers[n][2])};this.JpegMeta.JpegFile.prototype._JFIF_IDENT="JFIF\0";this.JpegMeta.JpegFile.prototype._JFXX_IDENT="JFXX\0";this.JpegMeta.JpegFile.prototype._EXIF_IDENT="Exif\0";this.JpegMeta.JpegFile.prototype._types={1:["BYTE",1],2:["ASCII",1],3:["SHORT",2],4:["LONG",4],5:["RATIONAL",8],6:["SBYTE",1],7:["UNDEFINED",1],8:["SSHORT",2],9:["SLONG",4],10:["SRATIONAL",8],11:["FLOAT",4],12:["DOUBLE",8]};this.JpegMeta.JpegFile.prototype._tifftags={256:["Image width","ImageWidth"],257:["Image height","ImageLength"],258:["Number of bits per component","BitsPerSample"],259:["Compression scheme","Compression",{1:"uncompressed",6:"JPEG compression"}],262:["Pixel composition","PhotmetricInerpretation",{2:"RGB",6:"YCbCr"}],274:["Orientation of image","Orientation",{1:"Normal",2:"Reverse?",3:"Upside-down",4:"Upside-down Reverse",5:"90 degree CW",6:"90 degree CW reverse",7:"90 degree CCW",8:"90 degree CCW reverse"}],277:["Number of components","SamplesPerPixel"],284:["Image data arrangement","PlanarConfiguration",{1:"chunky format",2:"planar format"}],530:["Subsampling ratio of Y to C","YCbCrSubSampling"],531:["Y and C positioning","YCbCrPositioning",{1:"centered",2:"co-sited"}],282:["X Resolution","XResolution"],283:["Y Resolution","YResolution"],296:["Resolution Unit","ResolutionUnit",{2:"inches",3:"centimeters"}],273:["Image data location","StripOffsets"],278:["Number of rows per strip","RowsPerStrip"],279:["Bytes per compressed strip","StripByteCounts"],513:["Offset to JPEG SOI","JPEGInterchangeFormat"],514:["Bytes of JPEG Data","JPEGInterchangeFormatLength"],301:["Transfer function","TransferFunction"],318:["White point chromaticity","WhitePoint"],319:["Chromaticities of primaries","PrimaryChromaticities"],529:["Color space transformation matrix coefficients","YCbCrCoefficients"],532:["Pair of black and white reference values","ReferenceBlackWhite"],306:["Date and time","DateTime"],270:["Image title","ImageDescription"],271:["Make","Make"],272:["Model","Model"],305:["Software","Software"],315:["Person who created the image","Artist"],316:["Host Computer","HostComputer"],33432:["Copyright holder","Copyright"],34665:["Exif tag","ExifIfdPointer"],34853:["GPS tag","GPSInfoIfdPointer"]};this.JpegMeta.JpegFile.prototype._exiftags={36864:["Exif Version","ExifVersion"],40960:["FlashPix Version","FlashpixVersion"],40961:["Color Space","ColorSpace"],37121:["Meaning of each component","ComponentsConfiguration"],37122:["Compressed Bits Per Pixel","CompressedBitsPerPixel"],40962:["Pixel X Dimension","PixelXDimension"],40963:["Pixel Y Dimension","PixelYDimension"],37500:["Manufacturer notes","MakerNote"],37510:["User comments","UserComment"],40964:["Related audio file","RelatedSoundFile"],36867:["Date Time Original","DateTimeOriginal"],36868:["Date Time Digitized","DateTimeDigitized"],37520:["DateTime subseconds","SubSecTime"],37521:["DateTimeOriginal subseconds","SubSecTimeOriginal"],37522:["DateTimeDigitized subseconds","SubSecTimeDigitized"],33434:["Exposure time","ExposureTime"],33437:["FNumber","FNumber"],34850:["Exposure program","ExposureProgram"],34852:["Spectral sensitivity","SpectralSensitivity"],34855:["ISO Speed Ratings","ISOSpeedRatings"],34856:["Optoelectric coefficient","OECF"],37377:["Shutter Speed","ShutterSpeedValue"],37378:["Aperture Value","ApertureValue"],37379:["Brightness","BrightnessValue"],37380:["Exposure Bias Value","ExposureBiasValue"],37381:["Max Aperture Value","MaxApertureValue"],37382:["Subject Distance","SubjectDistance"],37383:["Metering Mode","MeteringMode"],37384:["Light Source","LightSource"],37385:["Flash","Flash"],37386:["Focal Length","FocalLength"],37396:["Subject Area","SubjectArea"],41483:["Flash Energy","FlashEnergy"],41484:["Spatial Frequency Response","SpatialFrequencyResponse"],41486:["Focal Plane X Resolution","FocalPlaneXResolution"],41487:["Focal Plane Y Resolution","FocalPlaneYResolution"],41488:["Focal Plane Resolution Unit","FocalPlaneResolutionUnit"],41492:["Subject Location","SubjectLocation"],41493:["Exposure Index","ExposureIndex"],41495:["Sensing Method","SensingMethod"],41728:["File Source","FileSource"],41729:["Scene Type","SceneType"],41730:["CFA Pattern","CFAPattern"],41985:["Custom Rendered","CustomRendered"],41986:["Exposure Mode","Exposure Mode"],41987:["White Balance","WhiteBalance"],41988:["Digital Zoom Ratio","DigitalZoomRatio"],41990:["Scene Capture Type","SceneCaptureType"],41991:["Gain Control","GainControl"],41992:["Contrast","Contrast"],41993:["Saturation","Saturation"],41994:["Sharpness","Sharpness"],41995:["Device settings description","DeviceSettingDescription"],41996:["Subject distance range","SubjectDistanceRange"],42016:["Unique image ID","ImageUniqueID"],40965:["Interoperability tag","InteroperabilityIFDPointer"]};this.JpegMeta.JpegFile.prototype._gpstags={0:["GPS tag version","GPSVersionID"],1:["North or South Latitude","GPSLatitudeRef"],2:["Latitude","GPSLatitude"],3:["East or West Longitude","GPSLongitudeRef"],4:["Longitude","GPSLongitude"],5:["Altitude reference","GPSAltitudeRef"],6:["Altitude","GPSAltitude"],7:["GPS time (atomic clock)","GPSTimeStamp"],8:["GPS satellites usedd for measurement","GPSSatellites"],9:["GPS receiver status","GPSStatus"],10:["GPS mesaurement mode","GPSMeasureMode"],11:["Measurement precision","GPSDOP"],12:["Speed unit","GPSSpeedRef"],13:["Speed of GPS receiver","GPSSpeed"],14:["Reference for direction of movement","GPSTrackRef"],15:["Direction of movement","GPSTrack"],16:["Reference for direction of image","GPSImgDirectionRef"],17:["Direction of image","GPSImgDirection"],18:["Geodetic survey data used","GPSMapDatum"],19:["Reference for latitude of destination","GPSDestLatitudeRef"],20:["Latitude of destination","GPSDestLatitude"],21:["Reference for longitude of destination","GPSDestLongitudeRef"],22:["Longitude of destination","GPSDestLongitude"],23:["Reference for bearing of destination","GPSDestBearingRef"],24:["Bearing of destination","GPSDestBearing"],25:["Reference for distance to destination","GPSDestDistanceRef"],26:["Distance to destination","GPSDestDistance"],27:["Name of GPS processing method","GPSProcessingMethod"],28:["Name of GPS area","GPSAreaInformation"],29:["GPS Date","GPSDateStamp"],30:["GPS differential correction","GPSDifferential"]};this.JpegMeta.JpegFile.prototype._markers={192:["SOF0","_sofHandler","Baseline DCT"],193:["SOF1","_sofHandler","Extended sequential DCT"],194:["SOF2","_sofHandler","Progressive DCT"],195:["SOF3","_sofHandler","Lossless (sequential)"],197:["SOF5","_sofHandler","Differential sequential DCT"],198:["SOF6","_sofHandler","Differential progressive DCT"],199:["SOF7","_sofHandler","Differential lossless (sequential)"],200:["JPG",null,"Reserved for JPEG extensions"],201:["SOF9","_sofHandler","Extended sequential DCT"],202:["SOF10","_sofHandler","Progressive DCT"],203:["SOF11","_sofHandler","Lossless (sequential)"],205:["SOF13","_sofHandler","Differential sequential DCT"],206:["SOF14","_sofHandler","Differential progressive DCT"],207:["SOF15","_sofHandler","Differential lossless (sequential)"],196:["DHT",null,"Define Huffman table(s)"],204:["DAC",null,"Define arithmetic coding conditioning(s)"],208:["RST0",null,"Restart with modulo 8 count “0”"],209:["RST1",null,"Restart with modulo 8 count “1”"],210:["RST2",null,"Restart with modulo 8 count “2”"],211:["RST3",null,"Restart with modulo 8 count “3”"],212:["RST4",null,"Restart with modulo 8 count “4”"],213:["RST5",null,"Restart with modulo 8 count “5”"],214:["RST6",null,"Restart with modulo 8 count “6”"],215:["RST7",null,"Restart with modulo 8 count “7”"],216:["SOI",null,"Start of image"],217:["EOI",null,"End of image"],218:["SOS",null,"Start of scan"],219:["DQT",null,"Define quantization table(s)"],220:["DNL",null,"Define number of lines"],221:["DRI",null,"Define restart interval"],222:["DHP",null,"Define hierarchical progression"],223:["EXP",null,"Expand reference component(s)"],224:["APP0","_app0Handler","Reserved for application segments"],225:["APP1","_app1Handler"],226:["APP2",null],227:["APP3",null],228:["APP4",null],229:["APP5",null],230:["APP6",null],231:["APP7",null],232:["APP8",null],233:["APP9",null],234:["APP10",null],235:["APP11",null],236:["APP12",null],237:["APP13",null],238:["APP14",null],239:["APP15",null],240:["JPG0",null],241:["JPG1",null],242:["JPG2",null],243:["JPG3",null],244:["JPG4",null],245:["JPG5",null],246:["JPG6",null],247:["JPG7",null],248:["JPG8",null],249:["JPG9",null],250:["JPG10",null],251:["JPG11",null],252:["JPG12",null],253:["JPG13",null],254:["COM",null],1:["JPG13",null]};this.JpegMeta.JpegFile.prototype._addMetaGroup=function t(n,i){var a=new e.MetaGroup(n,i);this[a.fieldName]=a;this.metaGroups[a.fieldName]=a;return a};this.JpegMeta.JpegFile.prototype._parseIfd=function t(n,i,a,r,s,o,l){var u=e.parseNum(n,i,a+r,2);var c,d;var f;var h;var p,m,_;var g;var v;var b;var y;var x;var S;var w;w=this._addMetaGroup(o,l);for(var c=0;c<u;c++){f=a+r+2+c*12;h=e.parseNum(n,i,f,2);m=e.parseNum(n,i,f+2,2);g=e.parseNum(n,i,f+4,4);v=e.parseNum(n,i,f+8,4);if(this._types[m]===undefined){continue}p=this._types[m][0];_=this._types[m][1];if(_*g<=4){v=f+8}else{v=a+v}if(p=="UNDEFINED"){b=i.slice(v,v+g)}else if(p=="ASCII"){b=i.slice(v,v+g);b=b.split("\0")[0]}else{b=new Array;for(d=0;d<g;d++,v+=_){if(p=="BYTE"||p=="SHORT"||p=="LONG"){b.push(e.parseNum(n,i,v,_))}if(p=="SBYTE"||p=="SSHORT"||p=="SLONG"){b.push(e.parseSnum(n,i,v,_))}if(p=="RATIONAL"){x=e.parseNum(n,i,v,4);S=e.parseNum(n,i,v+4,4);b.push(new e.Rational(x,S))}if(p=="SRATIONAL"){x=e.parseSnum(n,i,v,4);S=e.parseSnum(n,i,v+4,4);b.push(new e.Rational(x,S))}b.push()}if(g===1){b=b[0]}}w._addProperty(s[h][1],s[h][0],b)}};this.JpegMeta.JpegFile.prototype._jfifHandler=function t(n,i){if(this.jfif!==undefined){throw Error("Multiple JFIF segments found")}this._addMetaGroup("jfif","JFIF");this.jfif._addProperty("version_major","Version Major",this._binary_data.charCodeAt(i+5));this.jfif._addProperty("version_minor","Version Minor",this._binary_data.charCodeAt(i+6));this.jfif._addProperty("version","JFIF Version",this.jfif.version_major.value+"."+this.jfif.version_minor.value);this.jfif._addProperty("units","Density Unit",this._binary_data.charCodeAt(i+7));this.jfif._addProperty("Xdensity","X density",e.parseNum(">",this._binary_data,i+8,2));this.jfif._addProperty("Ydensity","Y Density",e.parseNum(">",this._binary_data,i+10,2));this.jfif._addProperty("Xthumbnail","X Thumbnail",e.parseNum(">",this._binary_data,i+12,1));this.jfif._addProperty("Ythumbnail","Y Thumbnail",e.parseNum(">",this._binary_data,i+13,1))};this.JpegMeta.JpegFile.prototype._app0Handler=function e(t,n){var i=this._binary_data.slice(n,n+5);if(i==this._JFIF_IDENT){this._jfifHandler(t,n)}else if(i==this._JFXX_IDENT){}else{}};this.JpegMeta.JpegFile.prototype._app1Handler=function e(t,n){var i=this._binary_data.slice(n,n+5);if(i==this._EXIF_IDENT){this._exifHandler(t,n+6)}else{}};e.JpegFile.prototype._exifHandler=function t(n,i){if(this.exif!==undefined){throw new Error("Multiple JFIF segments found")}var a;var r;var s;var o,l,u;var c=this._binary_data.slice(i,i+2);if(c==="II"){a="<"}else if(c==="MM"){a=">"}else{throw new Error("Malformed TIFF meta-data. Unknown endianess: "+c)}r=e.parseNum(a,this._binary_data,i+2,2);if(r!==42){throw new Error("Malformed TIFF meta-data. Bad magic: "+r)}s=e.parseNum(a,this._binary_data,i+4,4);this._parseIfd(a,this._binary_data,i,s,this._tifftags,"tiff","TIFF");if(this.tiff.ExifIfdPointer){this._parseIfd(a,this._binary_data,i,this.tiff.ExifIfdPointer.value,this._exiftags,"exif","Exif")}if(this.tiff.GPSInfoIfdPointer){this._parseIfd(a,this._binary_data,i,this.tiff.GPSInfoIfdPointer.value,this._gpstags,"gps","GPS");if(this.gps.GPSLatitude){var d;d=this.gps.GPSLatitude.value[0].asFloat()+1/60*this.gps.GPSLatitude.value[1].asFloat()+1/3600*this.gps.GPSLatitude.value[2].asFloat();if(this.gps.GPSLatitudeRef.value==="S"){d=-d}this.gps._addProperty("latitude","Dec. Latitude",d)}if(this.gps.GPSLongitude){var f;f=this.gps.GPSLongitude.value[0].asFloat()+1/60*this.gps.GPSLongitude.value[1].asFloat()+1/3600*this.gps.GPSLongitude.value[2].asFloat();if(this.gps.GPSLongitudeRef.value==="W"){f=-f}this.gps._addProperty("longitude","Dec. Longitude",f)}}}}).call(window);e.exports=JpegMeta},function(e,t,n){e.exports=n.p+"../font/OpenSans-Bold.ttf"},function(e,t,n){e.exports=n.p+"../font/OpenSans-Regular.ttf"},function(e,t,n){e.exports=n.p+"../font/OpenSans-Semibold.ttf"},function(e,t,n){e.exports=n.p+"../font/fontawesome-webfont.ttf"},function(e,t,n){e.exports=n.p+"../img/icon-pipeline.svg"},function(e,t,n){e.exports=n.p+"../img/icon-touchid.svg"},function(e,t,n){e.exports=n.p+"../img/logo-login.svg"},function(e,t,n){e.exports=n.p+"../img/pattern-tiled.svg"},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'    <article data-id="'+e.escapeExpression((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="activitystream-item">\n        <div class="as__detail">\n'+((r=n["with"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"with",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </article>\n"},2:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <span class="label-module-sm label-'+u((r=(r=n.display_parent_type||(t!=null?t.display_parent_type:t))!=null?r:o,typeof r===l?r.call(s,{name:"display_parent_type",hash:{},data:a}):r))+'">'+u((n.moduleIconLabel||t&&t.moduleIconLabel||o).call(s,t!=null?t.display_parent_type:t,{name:"moduleIconLabel",hash:{},data:a}))+'</span>\n                <div class="as__title">\n                    '+u((n.activityItem||t&&t.activityItem||o).call(s,t,{name:"activityItem",hash:{},data:a}))+'\n                </div>\n                <div class="as__info">\n                    <a href="#Users/'+u((r=(r=n.created_by||(t!=null?t.created_by:t))!=null?r:o,typeof r===l?r.call(s,{name:"created_by",hash:{},data:a}):r))+'">'+u((n.str||t&&t.str||o).call(s,t!=null?t.created_by_name:t,{name:"str",hash:{},data:a}))+"</a> "+u((n.relativeTime||t&&t.relativeTime||o).call(s,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:a}))+"\n                </div>\n"},4:function(e,t,n,i,a){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=(n.isActivityItemValid||t&&t.isActivityItemValid||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"isActivityItemValid",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="panel__addpost">\n    <a href="javascript:void(0)" class="panel-addpost-link fast-click-highlighted">'+u((n.str||t&&t.str||l).call(o,"LBL_COMMENT_ADD",{name:"str",hash:{},data:a}))+'</a>\n</div>\n\n<div class="listing" id="listing-'+u((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"module",hash:{},data:a}):s))+'">\n    '+u((n.partial||t&&t.partial||l).call(o,"list-no-records",t,{name:"partial",hash:{},data:a}))+"\n    "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-top",t,{name:"partial",hash:{},data:a}))+'\n    <div class="items">\n        '+u((n.listItems||t&&t.listItems||l).call(o,(r=t!=null?t.collection:t)!=null?r.models:r,t,{name:"listItems",hash:{},data:a}))+"\n    </div>\n    "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-bottom",t,{name:"partial",hash:{},data:a}))+"\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'        <div class="as__detail">\n            <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:a}):s))+'/edit" class="as__icon">'+c((n.userPicture||t&&t.userPicture||l).call(o,t!=null?t.created_by:t,{name:"userPicture",hash:{},data:a}))+'</a>\n            <div class="as__title">\n                '+c((n.comment||t&&t.comment||l).call(o,(r=t!=null?t.data:t)!=null?r.value:r,(r=t!=null?t.data:t)!=null?r.tags:r,{name:"comment",hash:{},data:a}))+'\n            </div>\n            <div class="as__info">\n                <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:a}):s))+'">'+c((n.str||t&&t.str||l).call(o,t!=null?t.created_by_name:t,{name:"str",hash:{},data:a}))+"</a> "+c((n.relativeTime||t&&t.relativeTime||l).call(o,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:a}))+"\n            </div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="activitystream-item">\n'+((r=n["with"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"with",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    "+u((n.partial||t&&t.partial||l).call(o,"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,u="function";return"<p>"+l((n.str||t&&t.str||o).call(s,"LBL_CREATED","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.assigned_user_name||(t!=null?t.assigned_user_name:t))!=null?r:o,typeof r===u?r.call(s,{name:"assigned_user_name",hash:{},data:a}):r))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_LIKELY","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.amount||(t!=null?t.amount:t))!=null?r:o,typeof r===u?r.call(s,{name:"amount",hash:{},data:a}):r))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_DATE_CLOSED","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.close_date||(t!=null?t.close_date:t))!=null?r:o,typeof r===u?r.call(s,{name:"close_date",hash:{},data:a}):r))+"</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_PROBABILITY","Opportunities",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.probability||(t!=null?t.probability:t))!=null?r:o,typeof r===u?r.call(s,{name:"probability",hash:{},data:a}):r))+"%</b></p>\n<p>"+l((n.str||t&&t.str||o).call(s,"LBL_ACCOUNTS",{name:"str",hash:{},data:a}))+": <b>"+l((r=(r=n.account_name||(t!=null?t.account_name:t))!=null?r:o,typeof r===u?r.call(s,{name:"account_name",hash:{},data:a}):r))+"</b></p>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="chart">\n    <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</span>\n    <div class="nv-chart nv-chart-bubble"></div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return'        <div class="filters-wrap">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},(o=t!=null?t.viewState:t)!=null?o.filtersDef:o,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n"},2:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing;return'                <div class="filter '+((o=(l=(l=n.name||(t!=null?t.name:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"name",hash:{},data:a}):l))!=null?o:"")+'">\n                    '+e.escapeExpression((n.field||t&&t.field||c).call(u,s[1],{name:"field",hash:{parent:s[1],model:(o=s[1]!=null?s[1].viewState:s[1])!=null?o.filters:o},data:a}))+"\n                </div>\n"},4:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.viewState:t)!=null?r.visibility:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:""},5:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="visibility-switcher">\n                <button class="visibility-switcher__btn '+((r=n["if"].call(s,(r=t!=null?t.viewState:t)!=null?r.myItemsOnly:r,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" data-value="user" track="click:mine">'+l((n.icon||t&&t.icon||o).call(s,"sorting.myItemsOnly",{name:"icon",hash:{},data:a}))+'</button>\n                <button class="visibility-switcher__btn '+((r=n.unless.call(s,(r=t!=null?t.viewState:t)!=null?r.myItemsOnly:r,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" data-value="group" track="click:all">'+l((n.icon||t&&t.icon||o).call(s,"sorting.teamItems",{name:"icon",hash:{},data:a}))+"</button>\n            </div>\n"},6:function(e,t,n,i,a){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="dashlet-options">\n    <div class="dashlet-options_bigbar">\n'+((o=n["if"].call(l,(o=t!=null?t.viewState:t)!=null?o.filtersDef:o,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"    </div>\n"+((o=n["if"].call(l,t!=null?t.isManager:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=e.lambda,l=e.escapeExpression;return'        <div class="chart-metric">\n            <span class="label '+l(o((r=t!=null?t.value:t)!=null?r.cssClass:r,t))+'">'+l(o((r=t!=null?t.value:t)!=null?r.count:r,t))+'</span>\n            <div class="metric-amount '+l((s=(s=n.key||(t!=null?t.key:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"key",hash:{},data:a}):s))+'">'+l(o((r=t!=null?t.value:t)!=null?r.formattedAmount:r,t))+'</div>\n            <div class="metric-description">'+l(o((r=t!=null?t.value:t)!=null?r.stageLabel:r,t))+"</div>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return'<div class="donut-chart">\n    <div class="nv-chart nv-chart-donut"></div>\n    <div class="donut-chart-metric-container">\n'+((r=(n.eachOptions||t&&t.eachOptions||o).call(s,t!=null?t.metricsCollection:t,{name:"eachOptions",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    </div>\n    <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"has-grip"},3:function(e,t,n,i,a){var r;return'<span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.model:t)!=null?r.module:r,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>'},5:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression,l=t!=null?t:e.nullContext||{};return'                <div class="tb__info">\n                    <a href="#Users/'+((r=s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'">'+o(s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_name:r,t))+"</a>\n                    "+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(l,n.lookup.call(l,(r=t!=null?t.model:t)!=null?r.attributes:r,"date_entered",{name:"lookup",hash:{},data:a}),{name:"relativeTime",hash:{},data:a}))+"\n                </div>\n"},7:function(e,t,n,i,a){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" module="'+c((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===u?s.call(o,{name:"moduleName",hash:{},data:a}):s))+'"\n         class="list-item fast-click-highlighted '+((r=n["if"].call(o,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'"\n         track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="txt '+c((s=(s=n.detailsCss||(t!=null?t.detailsCss:t))!=null?s:l,typeof s===u?s.call(o,{name:"detailsCss",hash:{},data:a}):s))+'">\n        <div class="tb__detail">\n            <a href="#Users/'+((r=e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'" class="tb__icon">\n                '+c((n.userPicture||t&&t.userPicture||l).call(o,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,{name:"userPicture",hash:{},data:a}))+"\n            </a>\n            "+((r=n["if"].call(o,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="tb__title item-name">\n                '+c((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.subjectFieldDef:t,t,{name:"fieldByName",hash:{},data:a}))+"\n            </div>\n"+((r=n["if"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'        <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</span>\n\n        <div class="nv-chart nv-pareto"></div>\n'},3:function(e,t,n,i,a){var r,s;return"        "+((r=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"forecastsNotSetUpMsg",hash:{},data:a}):s))!=null?r:"")+"\n"},5:function(e,t,n,i,a){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="chart">\n'+((r=n["if"].call(s,t!=null?t.isForecastSetup:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n"+((r=n.unless.call(s,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s;return"        "+((r=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"forecastsNotSetUpMsg",hash:{},data:a}):s))!=null?r:"")+"\n"},3:function(e,t,n,i,a){return'        <span class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</span>\n        <div class="nv-chart nv-funnelChart"></div>\n'},5:function(e,t,n,i,a){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="chart">\n'+((r=n["if"].call(s,t!=null?t.forecastsNotSetUpMsg:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n"+((r=n.unless.call(s,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return'        <div class="fd__wrapper">\n\n            <div class="fd__b">\n'+((o=n["with"].call(t!=null?t:e.nullContext||{},(o=t!=null?t.model:t)!=null?o.attributes:o,{name:"with",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n            </div>\n        </div>\n"},2:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return((o=n["if"].call(u,t!=null?t.showTargetQuota:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n                    <div class="row-fluid">\n                        <span class="span2">\n                            '+f((l=(l=n.quota_label||(t!=null?t.quota_label:t))!=null?l:c,typeof l===d?l.call(u,{name:"quota_label",hash:{},data:a}):l))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.quota_amount_str||(t!=null?t.quota_amount_str:t))!=null?l:c,typeof l===d?l.call(u,{name:"quota_amount_str",hash:{},data:a}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid">\n                        <span class="span2">\n                            '+f((n.str||t&&t.str||c).call(u,"LBL_CLOSED","Forecasts",{name:"str",hash:{},data:a}))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.closed_amount_str||(t!=null?t.closed_amount_str:t))!=null?l:c,typeof l===d?l.call(u,{name:"closed_amount_str",hash:{},data:a}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid deficitRow">\n                        <span class="span2">\n                            '+f((l=(l=n.deficit_label||(t!=null?t.deficit_label:t))!=null?l:c,typeof l===d?l.call(u,{name:"deficit_label",hash:{},data:a}):l))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+f((l=(l=n.deficit_amount_str||(t!=null?t.deficit_amount_str:t))!=null?l:c,typeof l===d?l.call(u,{name:"deficit_amount_str",hash:{},data:a}):l))+'\n                        </span>\n                    </div>\n\n                    <div class="row-fluid details-cols">\n'+((o=n.each.call(u,t!=null?t.detailsOpts:t,{name:"each",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                    </div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="row-fluid">\n                        <span class="span2">\n                            '+l((n.str||t&&t.str||o).call(s,"LBL_QUOTA","Forecasts",{name:"str",hash:{},data:a}))+'\n                        </span>\n                        <span class="span2 tright">\n                            '+l((r=(r=n.target_quota_amount_str||(t!=null?t.target_quota_amount_str:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"target_quota_amount_str",hash:{},data:a}):r))+"\n                        </span>\n                    </div>\n"},5:function(e,t,n,i,a,r,s){var o;return'                            <div class="span'+((o=e.lambda(s[1]!=null?s[1].spanCSS:s[1],t))!=null?o:"")+' tcenter">\n'+((o=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.program(8,a,0,r,s),data:a}))!=null?o:"")+"                            </div>\n"},6:function(e,t,n,i,a){var r,s,o=e.lambda,l=e.escapeExpression,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function";return'                                    <div class="forecast_details_default_numbers forecast_details_'+l(o(t!=null?t["case"]:t,t))+'_numbers ellipsis_inline">\n                                        <span class="forecast_details_label">\n                                            '+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:c,typeof s===d?s.call(u,{name:"label",hash:{},data:a}):s))+'\n                                        </span>\n                                        <span class="forecast_details_amount">\n                                            '+l((s=(s=n.amount||(t!=null?t.amount:t))!=null?s:c,typeof s===d?s.call(u,{name:"amount",hash:{},data:a}):s))+'\n                                        </span>\n                                    </div>\n\n                                    <div class="forecast_details_default_feedback forecast_details_'+l(o(t!=null?t["case"]:t,t))+'_feedback ellipsis_inline">\n                                        <span class="forecast_details_feedback">\n                                            <div class="fdf_ln1">'+((r=(s=(s=n.feedbackLn1||(t!=null?t.feedbackLn1:t))!=null?s:c,typeof s===d?s.call(u,{name:"feedbackLn1",hash:{},data:a}):s))!=null?r:"")+"</div>\n                                            "+((r=(s=(s=n.feedbackLn2||(t!=null?t.feedbackLn2:t))!=null?s:c,typeof s===d?s.call(u,{name:"feedbackLn2",hash:{},data:a}):s))!=null?r:"")+"\n                                        </span>\n                                    </div>\n"},8:function(e,t,n,i,a){var r,s=e.escapeExpression,o=t!=null?t:e.nullContext||{},l=n.helperMissing;return'                                    <div class="forecast_details_default_numbers forecast_details_'+s(e.lambda(t!=null?t["case"]:t,t))+'_numbers ellipsis_inline">\n                                        <span class="forecast_details_label">\n                                            '+s((r=(r=n.label||(t!=null?t.label:t))!=null?r:l,typeof r==="function"?r.call(o,{name:"label",hash:{},data:a}):r))+'\n                                        </span>\n                                        <span class="forecast_details_no_access">\n                                            '+s((n.str||t&&t.str||l).call(o,"LBL_NO_FIELD_ACCESS",{name:"str",hash:{},data:a}))+"\n                                        </span>\n                                    </div>\n"},10:function(e,t,n,i,a){var r,s;return"        "+((r=(s=(s=n.forecastsNotSetUpMsg||(t!=null?t.forecastsNotSetUpMsg:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(t!=null?t:e.nullContext||{},{name:"forecastsNotSetUpMsg",hash:{},data:a}):s))!=null?r:"")+"\n"},12:function(e,t,n,i,a){return'        <div class="warning-message">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FORECASTS_MISSING_SALES_STAGE_VALUES","Forecasts",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="forecast-details">\n'+((o=n["if"].call(l,t!=null?t.isForecastSetup:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(10,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n.unless.call(l,t!=null?t.isForecastsConfigValid:t,{name:"unless",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="chart">\n    <div class="data-unavailable-label hide">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CHART_NO_DATA",{name:"str",hash:{},data:a}))+'</div>\n\n    <div class="nv-chart nv-chart-reports"></div>\n</div>\n\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"has-grip"},3:function(e,t,n,i,a){var r;return'<span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.model:t)!=null?r.module:r,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>'},5:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression,l=t!=null?t:e.nullContext||{};return'                <div class="tb__info">\n                    <a href="#Users/'+((r=s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'">'+o(s((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_name:r,t))+"</a>\n                    "+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(l,n.lookup.call(l,(r=t!=null?t.model:t)!=null?r.attributes:r,(r=(r=t!=null?t.view:t)!=null?r.listParams:r)!=null?r.record_date:r,{name:"lookup",hash:{},data:a}),{name:"relativeTime",hash:{},data:a}))+"\n                </div>\n"},7:function(e,t,n,i,a){return"                "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" module="'+c((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===u?s.call(o,{name:"moduleName",hash:{},data:a}):s))+'"\n         class="list-item fast-click-highlighted '+((r=n["if"].call(o,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'"\n         track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="txt '+c((s=(s=n.detailsCss||(t!=null?t.detailsCss:t))!=null?s:l,typeof s===u?s.call(o,{name:"detailsCss",hash:{},data:a}):s))+'">\n        <div class="tb__detail">\n            <a href="#Users/'+((r=e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,t))!=null?r:"")+'" class="tb__icon">\n                '+c((n.userPicture||t&&t.userPicture||l).call(o,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.assigned_user_id:r,{name:"userPicture",hash:{},data:a}))+"\n            </a>\n            "+((r=n["if"].call(o,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="tb__title item-name">\n                '+c((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n                "+c((n.fieldByName||t&&t.fieldByName||l).call(o,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:a}))+"\n            </div>\n"+((r=n["if"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="wp__wrapper">\n    <div class="wp__container">\n        <div class="wp__favlogo">\n            '+l((n.icon||t&&t.icon||o).call(s,"actions.url",{name:"icon",hash:{},data:a}))+'\n        </div>\n        <div class="wp__content">\n            <div class="wp__title">\n            '+l((r=(r=n.title||(t!=null?t.title:t))!=null?r:o,typeof r===u?r.call(s,{name:"title",hash:{},data:a}):r))+'\n            </div>\n            <div class="wp__url">\n                    '+l((r=(r=n.url||(t!=null?t.url:t))!=null?r:o,typeof r===u?r.call(s,{name:"url",hash:{},data:a}):r))+"\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'        <span class="field-detail__value brake-lines"><a>'+e.escapeExpression(e.lambda(t!=null?t.addressValue:t,t))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.addressValue:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=e.escapeExpression;return'<div class="field field--address fast-click-highlighted">\n    <label class="field__label">'+l((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly color-def">\n        '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        <span class="brake-lines">'+l(e.lambda(t!=null?t.addressValue:t,t))+"</span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+s((r=(r=n.label||(t!=null?t.label:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field__controls field__controls--readonly brake-lines">'+s(e.lambda(t!=null?t.addressValue:t,t))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="field-detail">\n    <span class="field-detail__label">'+l((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"label",hash:{},data:a}):r))+'</span>\n    <span class="field-detail__value">'+l((n.str||t&&t.str||o).call(s,"LBL_VALUE_ERASED",{name:"str",hash:{},data:a}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="text" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<span class="field-value">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VALUE_ERASED",{name:"str",hash:{},data:a}))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="field">\n    <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_LOGIN_USERNAME",{name:"str",hash:{},data:a}))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="text" size="35" tabindex="1" id="'+l((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===u?r.call(s,{name:"name",hash:{},data:a}):r))+'" name="'+l((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===u?r.call(s,{name:"name",hash:{},data:a}):r))+'" value="'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===u?r.call(s,{name:"value",hash:{},data:a}):r))+'" autocapitalize="off" autocorrect="off" autocomplete="off">\n            '+l((r=(r=n.clearButton||(t!=null?t.clearButton:t))!=null?r:o,typeof r===u?r.call(s,{name:"clearButton",hash:{},data:a}):r))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_YES",{name:"str",hash:{},data:a}))},3:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</span>\n    <span class="field-detail__value">\n       '+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n    </span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" checked"},3:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOn",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},5:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--bool">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <input type="checkbox" class="checkbox_custom"'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+">\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_YES",{name:"str",hash:{},data:a}))},3:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+": "+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_YES",{name:"str",hash:{},data:a}))},3:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'class="selector"'},3:function(e,t,n,i,a){return'class="hide"'},5:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o,l=t!=null?t:e.nullContext||{},u=n.helperMissing,c="function",d=e.escapeExpression,f='<div class="field field--currency">\n    <label class="field__label">'+d((s=(s=n.label||(t!=null?t.label:t))!=null?s:u,typeof s===c?s.call(l,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div ';r=(s=(s=n.ifFewCurrenciesAreAvailable||(t!=null?t.ifFewCurrenciesAreAvailable:t))!=null?s:u,o={name:"ifFewCurrenciesAreAvailable",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a},typeof s===c?s.call(l,o):s);if(!n.ifFewCurrenciesAreAvailable){r=n.blockHelperMissing.call(t,r,o)}if(r!=null){f+=r}return f+">\n            "+d((n.icon||t&&t.icon||u).call(l,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n            "+d((n.currencySelect||t&&t.currencySelect||u).call(l,t!=null?t.availableCurrencies:t,{name:"currencySelect",hash:{},data:a}))+'\n        </div>\n        <span class="input-wrapper">\n            <input type="'+d((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:u,typeof s===c?s.call(l,{name:"fieldType",hash:{},data:a}):s))+'" class="_numeric" '+((r=n["if"].call(l,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+d((s=(s=n.value||(t!=null?t.value:t))!=null?s:u,typeof s===c?s.call(l,{name:"value",hash:{},data:a}):s))+'">\n            '+d((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:u,typeof s===c?s.call(l,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},3:function(e,t,n,i,a){return"disabled"},5:function(e,t,n,i,a){var r;return(r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:""},6:function(e,t,n,i,a){return"empty"},8:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--date">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <span class="input-wrapper">\n            '+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <input type="'+c((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","date",{name:"ternary",hash:{},data:a}))+'" autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+'"\n                '+((r=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'  class="\n                '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            ">\n        </span>\n        <div class="btn-group clear-button '+((r=n.unless.call(o,t!=null?t.showClearButton:t,{name:"unless",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n            <button class="btn secondary-btn inert">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" field__controls--has-btns"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},5:function(e,t,n,i,a){return"disabled"},7:function(e,t,n,i,a){var r;return(r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:""},8:function(e,t,n,i,a){return"empty"},10:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--datetime">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls '+((r=n["if"].call(o,t!=null?t.showClearButton:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        <span class="date">\n            <input type="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","date",{name:"ternary",hash:{},data:a}))+'" data-type="date"  autocorrect="off"  '+((r=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n                value="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,(r=t!=null?t.formattedValues:t)!=null?r.date:r,(r=t!=null?t.values:t)!=null?r.date:r,{name:"ternary",hash:{},data:a}))+'" class="\n                '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            "/>\n        </span>\n        <span class="time">\n            <input type="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,"text","time",{name:"ternary",hash:{},data:a}))+'" data-type="time"  autocorrect="off"  '+((r=n["if"].call(o,t!=null?t.shouldFormatValues:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n                value="'+u((n.ternary||t&&t.ternary||l).call(o,t!=null?t.shouldFormatValues:t,(r=t!=null?t.formattedValues:t)!=null?r.time:r,(r=t!=null?t.values:t)!=null?r.time:r,{name:"ternary",hash:{},data:a}))+'" class="\n                '+((r=n["if"].call(o,(r=t!=null?t.def:t)!=null?r.required:r,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            "/>\n        </span>\n\n        <div class="btn-group clear-button '+((r=n.unless.call(o,t!=null?t.showClearButton:t,{name:"unless",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n            <button class="btn secondary-btn inert">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n        </div>\n\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<span class="field-value">'+l((n.str||t&&t.str||o).call(s,t!=null?t.label:t,{name:"str",hash:{},data:a}))+': <span class="field-value">'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"value",hash:{},data:a}):r))+"</span></span>"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="field-value"><span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span></span>"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'        <span class="field-detail__value">\n            <a data-index="'+c((s=(s=n.index||a&&a.index)!=null?s:l,typeof s===u?s.call(o,{name:"index",hash:{},data:a}):s))+'" class="'+((r=n["if"].call(o,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                '+c((s=(s=n.email_address||(t!=null?t.email_address:t))!=null?s:l,typeof s===u?s.call(o,{name:"email_address",hash:{},data:a}):s))+"\n            </a>\n        </span>\n"},2:function(e,t,n,i,a){return" email_type_invalid"},4:function(e,t,n,i,a){return" email_type_opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'            <div class="field__controls--flex '+((o=n["if"].call(u,t!=null?t.primary_address:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(u,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(u,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'" email-id="'+f((l=(l=n.index||a&&a.index)!=null?l:c,typeof l===d?l.call(u,{name:"index",hash:{},data:a}):l))+'">\n                <span class="input-wrapper">\n                    <input type="email" class="input-email" placeholder="'+f((n.emailPlaceholder||t&&t.emailPlaceholder||c).call(u,t!=null?t.value:t,{name:"emailPlaceholder",hash:{required:(o=s[1]!=null?s[1].def:s[1])!=null?o.required:o},data:a}))+'" autocorrect="off" value="'+f((l=(l=n.email_address||(t!=null?t.email_address:t))!=null?l:c,typeof l===d?l.call(u,{name:"email_address",hash:{},data:a}):l))+'">\n                    '+f((l=(l=n.clearButton||(t!=null?t.clearButton:t))!=null?l:c,typeof l===d?l.call(u,{name:"clearButton",hash:{},data:a}):l))+'\n                </span>\n                <div class="btn-group">\n                    <button class="btn actions-btn inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:c,typeof l===d?l.call(u,{name:"id",hash:{},data:a}):l))+'">'+f((n.icon||t&&t.icon||c).call(u,"edit.email.actionsBtn",{name:"icon",hash:{},data:a}))+"</button>\n                </div>\n            </div>\n"},2:function(e,t,n,i,a){return" primary-address"},4:function(e,t,n,i,a){return" invalid-email"},6:function(e,t,n,i,a){return" opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="field field--email">\n    <label class="field__label">'+f((l=(l=n.label||(t!=null?t.label:t))!=null?l:c,typeof l===d?l.call(u,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n'+((o=n.each.call(u,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        <div class="field--email__add">\n            '+f((n.str||t&&t.str||c).call(u,"LBL_EMAIL_ADD",{name:"str",hash:{},data:a}))+'\n        </div>\n        <div class="field__controls--flex hide" email-id="-1">\n            <span class="input-wrapper">\n                <input type="email" class="input-email" autocorrect="off" value="">\n                '+f((l=(l=n.clearButton||(t!=null?t.clearButton:t))!=null?l:c,typeof l===d?l.call(u,{name:"clearButton",hash:{},data:a}):l))+'\n            </span>\n            <div class="btn-group">\n                <button class="btn add-btn inert" style="visibility: hidden">'+f((n.icon||t&&t.icon||c).call(u,"edit.email.addBtn",{name:"icon",hash:{},data:a}))+"</button>\n            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return e.escapeExpression((n.primaryEmail||t&&t.primaryEmail||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"primaryEmail",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <div class="field__controls--readonly field__controls--flex'+((r=n["if"].call(o,t!=null?t.primary_address:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.invalid_email:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.opt_out:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <div class="txt-value">'+e.escapeExpression((s=(s=n.email_address||(t!=null?t.email_address:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"email_address",hash:{},data:a}):s))+"</div>\n            </div>\n"},2:function(e,t,n,i,a){return" primary-address"},4:function(e,t,n,i,a){return" invalid-email"},6:function(e,t,n,i,a){return" opt-out"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--email field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n'+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.prop||t&&t.prop||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"prop",hash:{},data:a}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="actionsheet-select">\n            <span class="actionsheet-select__value">'+l((r=(r=n.valueText||(t!=null?t.valueText:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"valueText",hash:{},data:a}):r))+"</span>\n        </span>\n        "+l((n.icon||t&&t.icon||o).call(s,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n"},5:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d=e.escapeExpression;return'        <select name="'+d((l=(l=n.name||(t!=null?t.name:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"name",hash:{},data:a}):l))+'">\n'+((o=(n.eachOptions||t&&t.eachOptions||c).call(u,t!=null?t.renderItems:t,{name:"eachOptions",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </select>\n        "+d((n.icon||t&&t.icon||c).call(u,"edit.selectArrow",{name:"icon",hash:{additionalClass:"selectArrow-icon"},data:a}))+"\n"},6:function(e,t,n,i,a,r,s){var o,l=e.lambda,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d=e.escapeExpression;return'                <option value="'+((o=l((o=t!=null?t.value:t)!=null?o["0"]:o,t))!=null?o:"")+'" '+((o=(n.eq||t&&t.eq||c).call(u,(o=t!=null?t.value:t)!=null?o["0"]:o,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                    "+d((n.debugAttributes||t&&t.debugAttributes||c).call(u,"label",(o=t!=null?t.value:t)!=null?o["1"]:o,{name:"debugAttributes",hash:{},data:a}))+">"+d(l((o=t!=null?t.value:t)!=null?o["1"]:o,t))+"</option>\n"},7:function(e,t,n,i,a){return"selected"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{};return'<div class="field field--enum">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n        '+((o=n["if"].call(u,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n\n"+((o=n["if"].call(u,t!=null?t._viaActionSheet:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.program(5,a,0,r,s),data:a}))!=null?o:"")+"    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((n.prop||t&&t.prop||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"prop",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">'+u((n.prop||t&&t.prop||l).call(o,(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"prop",hash:{defaultValue:""},data:a}))+"</div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'    <span track="click:my_fav">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+"    </span>\n"},2:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.favorite",{name:"icon",hash:{additionalClass:"favorite-icon"},data:a}))+"\n"},4:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.unfavorite",{name:"icon",hash:{additionalClass:"favorite-icon color-disabled"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=(n.isFavoriteable||t&&t.isFavoriteable||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"isFavoriteable",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'    <span track="click:my_fav">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+"    </span>\n"},2:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.favorite",{name:"icon",hash:{additionalClass:"favorite-icon"},data:a}))+"\n"},4:function(e,t,n,i,a){return"            "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"actions.unfavorite",{name:"icon",hash:{additionalClass:"favorite-icon color-disabled"},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=(n.isFavoriteable||t&&t.isFavoriteable||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"isFavoriteable",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field-detail">\n    <span class="field-detail__label">'+u((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</span>\n    <span class="field-detail__value horizontal-fieldset">'+u((r=(r=n.subfields||(t!=null?t.subfields:t))!=null?r:o,typeof r===l?r.call(s,{name:"subfields",hash:{},data:a}):r))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+u((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field__controls">\n        <span class="horizontal-fieldset">'+u((r=(r=n.subfields||(t!=null?t.subfields:t))!=null?r:o,typeof r===l?r.call(s,{name:"subfields",hash:{},data:a}):r))+"</span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'    <div class="avatar">\n        <i class="icon icon-file"></i>\n'},3:function(e,t,n,i,a){var r;return'    <div class="avatar placeholder">\n        <i class="icon icon-file"></i>\n'+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||n.helperMissing).call(t!=null?t:e.nullContext||{},"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")},4:function(e,t,n,i,a){var r;return"            "+((r=(n.ifHasAccessToModel||t&&t.ifHasAccessToModel||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit",(r=t!=null?t.view:t)!=null?r.model:r,{name:"ifHasAccessToModel",hash:{field:t!=null?t.name:t},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},5:function(e,t,n,i,a){return'<i class="icon icon-plus"></i>'},7:function(e,t,n,i,a){var r;return'    <input type="file" class="input_upload" accept="'+e.escapeExpression((r=(r=n.inputAccept||(t!=null?t.inputAccept:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputAccept",hash:{},data:a}):r))+'" track="click:file_upload"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return((r=(n.ifHasValue||t&&t.ifHasValue||o).call(s,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"    </div>\n"+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||o).call(s,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},5:function(e,t,n,i,a){var r;return'                <input type="file" accept="'+e.escapeExpression((r=(r=n.inputAccept||(t!=null?t.inputAccept:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputAccept",hash:{},data:a}):r))+'" class="input_upload" track="click:file_upload" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+"</span>\n            "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <span class="value">'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+"</span>\n"+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||l).call(o,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        </div>\n        <div class="btn-group">\n            <button class="btn file-remove '+((r=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{},data:a}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"\x3c!--\x3e\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+c((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+'</span>\n            <span class="value">'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+"</span>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"f.int.edit",t,{name:"partial",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" followed"},3:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FOLLOWING",{name:"str",hash:{},data:a}))+"\n"},5:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FOLLOW",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<span class="follow-label'+((r=n["if"].call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.following:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' inert">\n    <i class="inert">\n'+((r=n["if"].call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.following:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"    </i>\n</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression,d=e.lambda;return'<div class="field textarea field--readonly">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <textarea rows="'+c(d((r=t!=null?t.def:t)!=null?r.rows:r,t))+'" cols="'+c(d((r=t!=null?t.def:t)!=null?r.cols:r,t))+'" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'" readonly>'+c((n.html2text||t&&t.html2text||l).call(o,t!=null?t.value:t,50,{name:"html2text",hash:{},data:a}))+"</textarea>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="field__text-preview__div">'+o((n.html2text||t&&t.html2text||s).call(r,t!=null?t.value:t,1e3,{name:"html2text",hash:{},data:a}))+'</div>\n                <div class="field__text-preview__more">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_MORE",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field-detail field-detail--textarea">\n    <span class="field-detail__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</span>\n    <div class="field-detail__value">\n        <div class="field__text-preview" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="field__text-preview__div">'+o((n.html2text||t&&t.html2text||s).call(r,t!=null?t.value:t,1e3,{name:"html2text",hash:{},data:a}))+'</div>\n                <div class="field__text-preview__more">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_MORE",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--textarea field--readonly fast-click-highlighted">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="field__text-preview" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'    <div class="avatar"></div>\n'},3:function(e,t,n,i,a){return'    <div class="avatar placeholder">\n        '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu.user",{name:"icon",hash:{additionalClass:"user-icon"},data:a}))+"\n    </div>\n"},5:function(e,t,n,i,a){return'    <input type="file" class="input_upload" accept="image/*" track="click:image_upload"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return((r=(n.ifHasValue||t&&t.ifHasValue||o).call(s,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||o).call(s,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},5:function(e,t,n,i,a){return'                <input type="file" class="input_upload" accept="image/*" track="click:image_upload" />\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+"</span>\n            "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            <div class="avatar"></div>\n'+((r=(n.ifFeatureSupported||t&&t.ifFeatureSupported||l).call(o,"fileUpload",{name:"ifFeatureSupported",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        </div>\n        <div class="btn-group">\n            <button class="btn file-remove '+((r=n.unless.call(o,t!=null?t.value:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return"\x3c!--\x3e\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--file">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="picture-wrap">\n            <span class="picture-icon '+((r=(n.ifHasValue||t&&t.ifHasValue||l).call(o,(r=t!=null?t.view:t)!=null?r.model:r,t!=null?t.name:t,{name:"ifHasValue",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.picture",{name:"icon",hash:{},data:a}))+'</span>\n            <div class="avatar"></div>\n        </div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},3:function(e,t,n,i,a){return'pattern="[0-9]*" '},5:function(e,t,n,i,a){return' step="any" '},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="'+c((s=(s=n.fieldType||(t!=null?t.fieldType:t))!=null?s:l,typeof s===u?s.call(o,{name:"fieldType",hash:{},data:a}):s))+'" class="_numeric" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" '+((r=n.unless.call(o,t!=null?t.isFloat:t,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+' value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+'"/>\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return"                <div class=\"field__controls--flex\">\n                    <span class='txt-value'>\n"+((r=n["if"].call(o,t!=null?t.isNameErased:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+'                    </span>\n                    <div class="btn-group">\n                        <button class="btn secondary-btn inert" uid="'+u((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"id",hash:{},data:a}):s))+'">'+u((n.icon||t&&t.icon||l).call(o,"edit.remove",{name:"icon",hash:{},data:a}))+"</button>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){return"                            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VALUE_ERASED",{name:"str",hash:{},data:a}))+"\n"},5:function(e,t,n,i,a){var r;return"                            "+e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+"\n"},7:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--invitees fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r["default"]:r,t!=null?t.module:t,{name:"str",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},data:a}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=(n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <span class="multienum-list__label" item-id="'+u((r=(r=n.id||(t!=null?t.id:t))!=null?r:o,typeof r===l?r.call(s,{name:"id",hash:{},data:a}):r))+'" '+u((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.name:t,{name:"debugAttributes",hash:{},data:a}))+">"+u((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+" "+u((n.icon||t&&t.icon||o).call(s,"edit.multiselect.remove",{name:"icon",hash:{additionalClass:"inert multienum-list__remove"},data:a}))+"</span>\n"},4:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="multienum-list">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"            "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="value">'+e.escapeExpression((n.multienumStr||t&&t.multienumStr||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},data:a}))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((n.multienumStr||t&&t.multienumStr||l).call(o,(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"multienumStr",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'    <span class="field-detail__value field-value">\n        '+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+":\n"+((r=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(7,a,0),data:a}))!=null?r:"")+"    </span>\n"},2:function(e,t,n,i,a){var r;return((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.link:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"            </span>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                    <a href="#'+u((r=(r=n.link||(t!=null?t.link:t))!=null?r:o,typeof r===l?r.call(s,{name:"link",hash:{},data:a}):r))+'" class="relate-link fast-click-highlighted">'+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</a>\n"},5:function(e,t,n,i,a){var r;return"                    "+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"\n"},7:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" </div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="txt-value">\n                '+l((n.moduleNameSingular||t&&t.moduleNameSingular||o).call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+": "+((r=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+'\n            </div>\n            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+l((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},2:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>"},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},6:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="placeholder">\n                '+((r=n["if"].call(o,t!=null?t.isErased:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n                "+e.escapeExpression((s=(s=n.inputHint||(t!=null?t.inputHint:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"inputHint",hash:{},data:a}):s))+"\n            </span>"},7:function(e,t,n,i,a){var r;return e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+": "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(s,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+": "+((r=n["if"].call(s,t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return": "+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>"},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((n.moduleNameSingular||t&&t.moduleNameSingular||l).call(o,(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.parent_type:r,{name:"moduleNameSingular",hash:{},data:a}))+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="field">\n    <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_LOGIN_PASSWORD",{name:"str",hash:{},data:a}))+'</label>\n    <div class="field__controls">\n    <span class="input-wrapper">\n        <input type="password" size="26" tabindex="2" id="password" name="password" value="'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===u?r.call(s,{name:"value",hash:{},data:a}):r))+'" autocomplete="off">\n        '+l((r=(r=n.clearButton||(t!=null?t.clearButton:t))!=null?r:o,typeof r===u?r.call(s,{name:"clearButton",hash:{},data:a}):r))+"\n    </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            <a>'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</a>\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="tel" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field__controls field__controls--readonly">'+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n            '+e.escapeExpression((n.optionLabel||t&&t.optionLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"optionLabel",hash:{},data:a}))+"\n        </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression,d=e.lambda;return"                <button "+c((n.gaTrack||t&&t.gaTrack||u).call(l,t!=null?t.key:t,s[1]!=null?s[1].def:s[1],{name:"gaTrack",hash:{},data:a}))+' class="btn '+((o=(n.eq||t&&t.eq||u).call(l,t!=null?t.key:t,s[1]!=null?s[1].value:s[1],{name:"eq",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'" data-value="'+c(d(t!=null?t.key:t,t))+'">'+c(d(t!=null?t.value:t,t))+"</button>\n"},2:function(e,t,n,i,a){return"active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing;return'<div class="field field--radio">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n        <div class="btn-group" data-toggle="buttons-radio">\n'+((o=(n.eachOptions||t&&t.eachOptions||c).call(u,(o=t!=null?t.def:t)!=null?o.options:o,{name:"eachOptions",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return e.escapeExpression((n.optionLabel||t&&t.optionLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"optionLabel",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="field field--readonly">\n    <label class="field__label">'+u((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+u((n.optionLabel||t&&t.optionLabel||l).call(o,(r=t!=null?t.def:t)!=null?r.options:r,t!=null?t.value:t,{name:"optionLabel",hash:{},data:a}))+"\n    </div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(7,a,0),data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.link:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:""},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <a href="#'+u((r=(r=n.link||(t!=null?t.link:t))!=null?r:o,typeof r===l?r.call(s,{name:"link",hash:{},data:a}):r))+'" class="field-detail__value relate-link fast-click-highlighted">'+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</a>\n"},5:function(e,t,n,i,a){var r;return'                <span class="field-detail__value field-value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},7:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <div class="txt-value">'+l((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"value",hash:{},data:a}):r))+'</div>\n            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+l((n.icon||t&&t.icon||o).call(s,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},3:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>\n"},5:function(e,t,n,i,a){return'            <div class="btn-group">\n                <button class="btn secondary-btn inert">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</button>\n            </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--relate fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--flex">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.isErased:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.hasAccess:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))},4:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NO_ACCESS",{name:"str",hash:{},data:a}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n        '+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return"    &ndash; "+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value">\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </span>\n"},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'                <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+"</span>"+((r=n.unless.call(o,a&&a.last,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},3:function(e,t,n,i,a){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return"    "+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+":\n"+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'        <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+"</span>"+((r=n.unless.call(o,a&&a.last,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},3:function(e,t,n,i,a){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="tag-item">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+"</span>"+((r=n.unless.call(o,a&&a.last,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},2:function(e,t,n,i,a){return", "},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((r=n.each.call(o,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return o((n.fieldValue||t&&t.fieldValue||s).call(r,t!=null?t.model:t,"name",{name:"fieldValue",hash:{},data:a}))+" "+o((n.fieldValue||t&&t.fieldValue||s).call(r,t!=null?t.model:t,"name_2",{name:"fieldValue",hash:{},data:a}))+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{};return'        <span class="field-detail__value">'+e.escapeExpression((l=(l=n.name||(t!=null?t.name:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"name",hash:{},data:a}):l))+" "+((o=n["if"].call(u,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+" "+((o=n["if"].call(u,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+" "+((o=n["if"].call(u,s[1]!=null?s[1].isTBAEnabled:s[1],{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</span>\n"},2:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},4:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_COLLECTION_PRIMARY",{name:"str",hash:{},data:a}))+")</label>"},6:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:""},7:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_TEAM_SET_SELECTED",{name:"str",hash:{},data:a}))+")</label>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"label",hash:{},data:a}):l))+"</span>\n"+((o=n.each.call(u,t!=null?t.value:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},2:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return"                <div class=\"field__controls--flex\">\n                    <span class='txt-value'>"+f((l=(l=n.name||(t!=null?t.name:t))!=null?l:c,typeof l===d?l.call(u,{name:"name",hash:{},data:a}):l))+((o=n["if"].call(u,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'</span>\n                    <div class="btn-group">\n                        <button class="btn primary-btn '+((o=n["if"].call(u,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+' inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:c,typeof l===d?l.call(u,{name:"id",hash:{},data:a}):l))+'">\n                            '+((o=n["if"].call(u,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.program(9,a,0,r,s),data:a}))!=null?o:"")+"\n                        </button>\n"+((o=n["if"].call(u,s[1]!=null?s[1].isTBAEnabled:s[1],{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <button class="btn remove-btn inert" team-id="'+f((l=(l=n.id||(t!=null?t.id:t))!=null?l:c,typeof l===d?l.call(u,{name:"id",hash:{},data:a}):l))+'">'+f((n.icon||t&&t.icon||c).call(u,"edit.remove",{name:"icon",hash:{additionalClass:"control__btn_remove"},data:a}))+"</i></button>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},5:function(e,t,n,i,a){return"active"},7:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.teamsetPrimary",{name:"icon",hash:{},data:a}))},9:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.teamsetSecondary",{name:"icon",hash:{},data:a}))},11:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'                            <button class="btn selected-btn '+((r=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))!=null?r:"")+' inert" team-id="'+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"id",hash:{},data:a}):s))+'">'+((r=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.program(16,a,0),data:a}))!=null?r:"")+"</button>\n"},12:function(e,t,n,i,a){return" active "},14:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.unlock",{name:"icon",hash:{},data:a}))},16:function(e,t,n,i,a){return e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.lock",{name:"icon",hash:{},data:a}))},18:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{};return'<div class="field field--teamset fast-click-highlighted">\n    <label class="field__label">'+e.escapeExpression((l=(l=n.label||(t!=null?t.label:t))!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"label",hash:{},data:a}):l))+'</label>\n    <div class="field__controls">\n'+((o=n["if"].call(u,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        "+((o=n["if"].call(u,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+((r=n["if"].call(o,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return((r=(n.joinPrimaryFirst||t&&t.joinPrimaryFirst||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"joinPrimaryFirst",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'            <span class="value">'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+" "+((r=n["if"].call(o,t!=null?t.name_2:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(o,t!=null?t.primary:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(o,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</span>\n"},3:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=(r=n.name_2||(t!=null?t.name_2:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name_2",hash:{},data:a}):r))},5:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_COLLECTION_PRIMARY",{name:"str",hash:{},data:a}))+")</label>"},7:function(e,t,n,i,a){return'<label class="subvalue">('+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_TEAM_SET_SELECTED",{name:"str",hash:{},data:a}))+")</label>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'    <span class="field-detail__value">\n        '+e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.value:t,{name:"nl2br",hash:{},data:a}))+"\n    </span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail field-detail--textarea">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'<span class="placeholder">'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field field--textarea fast-click-highlighted">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <div class="textarea-div" name="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'">'+((r=n["if"].call(o,t!=null?t.showPlaceholder:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'<span class="field-value">'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+"</span></div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="field field--textarea field--readonly fast-click-highlighted">\n    <label class="field__label">'+u((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+'</label>\n    <div class="field__controls">\n        <div class="textarea-div" name="'+u((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+'">'+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'        <div class="field__controls">\n            <a class="uneditable-link clip fast-click-highlighted" target="_blank" href="'+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+'">'+u((r=(r=n.value||(t!=null?t.value:t))!=null?r:o,typeof r===l?r.call(s,{name:"value",hash:{},data:a}):r))+"</a>\n        </div>\n"},3:function(e,t,n,i,a){return'        <div class="field__controls field__controls--readonly">\n            '+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NOT_AVAILABLE",{name:"str",hash:{},data:a}))+"\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</label>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="field-detail__value"><a>'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field-detail">\n    <span class="field-detail__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+"</span>\n"+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'placeholder="'+e.escapeExpression((r=(r=n.inputHint||(t!=null?t.inputHint:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"inputHint",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="field">\n    <label class="field__label">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls">\n        <span class="input-wrapper">\n            <input type="url" '+((r=n["if"].call(o,t!=null?t.inputHint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' autocorrect="off" value="'+c((s=(s=n.value||(t!=null?t.value:t))!=null?s:l,typeof s===u?s.call(o,{name:"value",hash:{},data:a}):s))+'">\n            '+c((s=(s=n.clearButton||(t!=null?t.clearButton:t))!=null?s:l,typeof s===u?s.call(o,{name:"clearButton",hash:{},data:a}):s))+"\n        </span>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<span class="value">'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'            <span class="value"><a>'+e.escapeExpression((r=(r=n.value||(t!=null?t.value:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"value",hash:{},data:a}):r))+"</a></span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="field field--readonly">\n    <label class="field__label">'+e.escapeExpression((s=(s=n.label||(t!=null?t.label:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"label",hash:{},data:a}):s))+'</label>\n    <div class="field__controls field__controls--readonly">\n'+((r=n["if"].call(o,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"has-icon-inside"},3:function(e,t,n,i,a){var r;return'        <span class="label-module-sm_title">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.iconLabel:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")+"        </span>\n"},4:function(e,t,n,i,a){return"                "+e.escapeExpression((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.iconLabel:t,{name:"moduleIconLabel",hash:{},data:a}))+"\n"},6:function(e,t,n,i,a){return"                "+e.escapeExpression((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIconLabel",hash:{},data:a}))+"\n"},8:function(e,t,n,i,a){var r;return'        <i class="icondefault '+e.escapeExpression((r=(r=n.iconClass||(t!=null?t.iconClass:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"iconClass",hash:{},data:a}):r))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<span class="label-module-sm label-'+c((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s===u?s.call(o,{name:"module",hash:{},data:a}):s))+" "+((r=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+c((s=(s=n.additionalClass||(t!=null?t.additionalClass:t))!=null?s:l,typeof s===u?s.call(o,{name:"additionalClass",hash:{},data:a}):s))+'" aria-hidden="true">\n'+((r=n["if"].call(o,t!=null?t.displayInitials:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</span>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<i class="icondefault '+u((r=(r=n.iconClass||(t!=null?t.iconClass:t))!=null?r:o,typeof r===l?r.call(s,{name:"iconClass",hash:{},data:a}):r))+" "+u((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:o,typeof r===l?r.call(s,{name:"additionalClass",hash:{},data:a}):r))+'"></i>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<svg xmlns="http://www.w3.org/2000/svg" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="ptr__spinner">\n    <g>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.84" transform="rotate(0 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.02" transform="rotate(30 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.04" transform="rotate(60 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.12" transform="rotate(90 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.2" transform="rotate(120 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.28" transform="rotate(150 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.36" transform="rotate(180 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.44" transform="rotate(210 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.52" transform="rotate(240 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.6" transform="rotate(270 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.68" transform="rotate(300 50 50) translate(0 -37)"></rect>\n        <rect x="46.5" y="37.5" width="7" height="25" rx="5" ry="5" fill="#6b727d" opacity="0.76" transform="rotate(330 50 50) translate(0 -37)"></rect>\n    </g>\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 249 28" version="1.1" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 249 28">\n<g fill="#b9bec6" class="copyright-logo__svg-color">\n\t<g>\n\t\t<path d="m14.699 9.616c-0.601 0.237-1.583 0.237-2.181 0l-10.825-4.288c-0.599-0.237-0.599-0.626 0-0.864l10.825-4.286c0.598-0.237 1.58-0.237 2.181 0l10.824 4.286c0.599 0.238 0.599 0.626 0 0.864l-10.824 4.288z"/>\n\t\t<path d="m13.006 27.182c0 0.646-0.49 0.978-1.091 0.743l-10.824-4.287c-0.6-0.238-1.091-0.958-1.091-1.605v-15.031c0-0.644 0.491-0.978 1.091-0.74l10.825 4.287c0.6 0.237 1.091 0.959 1.091 1.605v15.028z"/>\n\t\t<path d="m14.208 27.177c0 0.646 0.491 0.978 1.092 0.742l10.823-4.286c0.6-0.238 1.091-0.96 1.091-1.605v-15.029c0-0.645-0.49-0.98-1.091-0.742l-10.823 4.286c-0.601 0.238-1.092 0.961-1.092 1.605v15.029z"/>\n\t</g>\n\t<g>\n\t\t<path d="m207.26 5.385c3.006 0 5.05 0.446 6.136 1.34 1.098 0.893 1.642 2.519 1.642 4.882 0 1.641-0.249 2.862-0.725 3.66-0.487 0.796-1.298 1.336-2.443 1.6 1.005 0.241 1.76 0.662 2.259 1.263 0.503 0.604 0.76 1.382 0.76 2.345v3.857h-5.818v-2.868c0-0.744-0.176-1.258-0.52-1.54-0.355-0.27-1.051-0.417-2.088-0.417h-8.609v4.825h-5.803v-18.947h15.2zm-0.22 4.724h-9.185v4.646h9.185c0.775 0 1.309-0.183 1.616-0.542 0.309-0.362 0.47-1.015 0.47-1.966 0-0.746-0.165-1.293-0.495-1.631-0.34-0.343-0.87-0.507-1.6-0.507z"/>\n\t\t<path d="m36.389 18.012l5.706-0.008v0.343c0 0.723 0.176 1.217 0.527 1.461 0.351 0.255 1.086 0.382 2.206 0.382h7.268c0.714 0 1.224-0.124 1.531-0.362 0.304-0.242 0.452-0.647 0.452-1.209 0-0.567-0.171-0.983-0.525-1.223-0.35-0.251-1.111-0.411-2.276-0.501l-9.094-0.203c-2.28-0.069-3.819-0.499-4.622-1.294-0.802-0.798-1.2-2.26-1.2-4.361 0-1.084 0.104-1.975 0.313-2.682 0.212-0.699 0.554-1.292 1.024-1.759 0.549-0.524 1.271-0.896 2.167-1.115 0.899-0.226 2.352-0.332 4.367-0.332h8.826c2.183 0 3.76 0.395 4.725 1.191 0.96 0.801 1.438 2.088 1.438 3.879 0 0.119 0 0.247-0.003 0.383-0.002 0.133-0.013 0.353-0.043 0.658h-5.569v-0.076c0-0.622-0.156-1.083-0.474-1.394-0.322-0.311-0.793-0.463-1.433-0.463h-6.67c-1.108 0-1.841 0.109-2.196 0.328-0.358 0.219-0.536 0.61-0.536 1.154 0 0.542 0.162 0.933 0.483 1.178 0.321 0.237 0.916 0.392 1.786 0.462l9.512 0.153c2.171 0.06 3.696 0.549 4.58 1.464 0.892 0.917 1.329 2.485 1.329 4.697 0 1.317-0.162 2.338-0.485 3.056-0.328 0.727-0.879 1.336-1.651 1.844-0.512 0.328-1.199 0.555-2.072 0.696-0.869 0.141-2.143 0.211-3.789 0.211h-7.71c-3.17 0-5.289-0.357-6.361-1.069-1.069-0.712-1.607-2.037-1.607-3.969 0-0.121 0.009-0.305 0.02-0.561 0.011-0.261 0.033-0.581 0.056-0.959z"/>\n\t\t<path d="m61.994 5.385h5.773v11.235c0 1.277 0.287 2.136 0.868 2.571 0.585 0.441 1.847 0.658 3.8 0.658h3.29c1.625 0 2.711-0.233 3.265-0.696 0.553-0.463 0.825-1.304 0.825-2.533v-11.235h5.808v13.025c0 2.239-0.607 3.823-1.802 4.759-1.203 0.926-3.284 1.399-6.248 1.399h-6.468c-3.47 0-5.858-0.445-7.159-1.335-1.308-0.896-1.951-2.502-1.951-4.824v-13.024z"/>\n\t\t<path d="m106.02 12.193v-0.052c0-0.855-0.258-1.446-0.789-1.762-0.528-0.319-1.71-0.478-3.56-0.478h-3.376c-1.973 0-3.239 0.236-3.798 0.709-0.554 0.475-0.834 1.47-0.834 2.992v2.645c0 1.362 0.314 2.304 0.938 2.808 0.635 0.508 1.871 0.76 3.724 0.76h3.346c1.662 0 2.802-0.147 3.436-0.449 0.623-0.3 0.941-0.816 0.941-1.559 0-0.102-0.014-0.269-0.051-0.51v-0.058h-6.808v-3.842h12.849v6.226c0 1.794-0.669 3.066-1.989 3.814-1.322 0.754-3.618 1.132-6.903 1.132h-6.44c-1.974 0-3.428-0.108-4.372-0.319-0.936-0.215-1.735-0.578-2.388-1.091-0.764-0.599-1.324-1.337-1.67-2.225-0.342-0.878-0.521-1.991-0.521-3.331v-5.181c0-2.704 0.645-4.602 1.929-5.668 1.281-1.073 3.615-1.607 6.997-1.607h6.465c2.093 0 3.637 0.095 4.63 0.277 0.992 0.188 1.773 0.497 2.346 0.943 0.593 0.457 1.035 1.069 1.32 1.844 0.287 0.773 0.424 1.749 0.424 2.91v0.651c-0.011 0.153-0.015 0.292-0.023 0.42h-5.83z"/>\n\t\t<path d="m118.21 24.331h-6.32l10.36-18.946h7.39l10.165 18.946h-6.357l-1.841-3.156h-11.552l-1.84 3.156zm4.04-7.708h7.287l-3.679-6.706-3.61 6.706z"/>\n\t\t<path d="m155.71 5.385c3.006 0 5.059 0.446 6.144 1.34 1.086 0.893 1.633 2.519 1.633 4.882 0 1.641-0.24 2.862-0.728 3.66-0.49 0.796-1.3 1.336-2.434 1.6 1.002 0.241 1.753 0.662 2.257 1.263 0.504 0.604 0.751 1.382 0.751 2.345v3.857h-5.8v-2.868c0-0.744-0.182-1.258-0.531-1.54-0.348-0.27-1.044-0.417-2.085-0.417h-8.613v4.825h-5.803v-18.947h15.2zm-0.21 4.724h-9.193v4.646h9.193c0.774 0 1.312-0.183 1.622-0.542 0.311-0.362 0.455-1.015 0.455-1.966 0-0.746-0.16-1.293-0.494-1.631-0.33-0.343-0.86-0.507-1.59-0.507z"/>\n\t\t<path d="m183.99 12.24v-0.191c0-0.735-0.242-1.281-0.731-1.627-0.49-0.348-1.263-0.522-2.321-0.522h-4.63c-1.982 0-3.252 0.24-3.822 0.716-0.563 0.482-0.844 1.489-0.844 3.016v2.614c0 1.362 0.316 2.304 0.944 2.808 0.626 0.508 1.873 0.76 3.722 0.76h3.359c1.838 0 3.047-0.183 3.618-0.553 0.572-0.369 0.861-1.059 0.861-2.057v-0.208h5.869c0 0.022 0.005 0.072 0.005 0.134 0.034 0.558 0.047 0.971 0.047 1.245 0 1.218-0.158 2.222-0.461 3.02-0.3 0.791-0.789 1.423-1.433 1.893-0.62 0.466-1.443 0.789-2.481 0.983-1.029 0.203-2.544 0.298-4.532 0.298h-6.46c-1.982 0-3.437-0.108-4.372-0.319-0.938-0.215-1.733-0.578-2.398-1.091-0.767-0.599-1.319-1.342-1.667-2.227-0.347-0.882-0.522-1.989-0.522-3.336v-5.126c0-2.728 0.654-4.625 1.938-5.705 1.293-1.084 3.631-1.618 7.022-1.618h6.46c2.075 0 3.608 0.095 4.596 0.277 0.978 0.193 1.755 0.503 2.322 0.955 0.606 0.45 1.045 1.076 1.339 1.855 0.283 0.782 0.42 1.765 0.42 2.933v0.649c-0.005 0.153-0.023 0.293-0.038 0.423h-5.82z"/>\n\t\t<path d="m223.09 24.331h-5.637v-18.946h8.557l6.759 11.828 6.88-11.828h8.429v18.946h-5.602v-13.502l-7.832 13.502h-3.786l-7.767-13.502v13.502z"/>\n\t</g>\n</g>\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},3:function(e,t,n,i,a){return"show-attribution"},5:function(e,t,n,i,a){var r;return'                    <p class="about__legal">\n                        '+e.escapeExpression((r=(r=n._trademark2Text||(t!=null?t._trademark2Text:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"_trademark2Text",hash:{},data:a}):r))+"\n                    </p>\n"},7:function(e,t,n,i,a){return'                <div class="box__copyright">\n                    <span class="copyright__text">powered by</span>\n                    <span class="copyright__logo">\n                        '+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"sugarcrm-copyright-logo",t,{name:"partial",hash:{},data:a}))+"\n                    </span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d=e.escapeExpression,f="function";return'<div class="box__edit box__edit_readonly page__about">\n    <div class="scroll">\n        <div class="pad">\n\n'+((o=n.each.call(u,t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n\n            <div class="field tcenter '+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n                <p class="about__legal">\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||c).call(u,t!=null?t.model:t,"privacy",{name:"fieldValue",hash:{},data:a}))+'" class="fast-click-highlighted" track="click:privacy">'+d((n.str||t&&t.str||c).call(u,"LNK_PRIVACY_POLICY",{name:"str",hash:{},data:a}))+'</a>,\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||c).call(u,t!=null?t.model:t,"tos",{name:"fieldValue",hash:{},data:a}))+'" class="fast-click-highlighted" track="click:tos">'+d((n.str||t&&t.str||c).call(u,"LNK_TERMS_OF_USE",{name:"str",hash:{},data:a}))+'</a>,\n                    <a href="'+d((n.fieldValue||t&&t.fieldValue||c).call(u,t!=null?t.model:t,"thirdPartySoftware",{name:"fieldValue",hash:{},data:a}))+'" class="fast-click-highlighted" track="click:thirdPartySoftware">'+d((n.str||t&&t.str||c).call(u,"LNK_THIRD_PARTY_SOFTWARE",{name:"str",hash:{},data:a}))+'</a>\n                </p>\n                <p class="about__legal">\n                    '+d((l=(l=n._copyrightText||(t!=null?t._copyrightText:t))!=null?l:c,typeof l===f?l.call(u,{name:"_copyrightText",hash:{},data:a}):l))+'\n                </p>\n                <p class="about__legal">\n                    '+d((l=(l=n._trademarkText||(t!=null?t._trademarkText:t))!=null?l:c,typeof l===f?l.call(u,{name:"_trademarkText",hash:{},data:a}):l))+"\n                </p>\n"+((o=n["if"].call(u,t!=null?t._displayTrademarks:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n\n"+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'      <div data-index="'+l((r=(r=n.index||a&&a.index)!=null?r:o,typeof r==="function"?r.call(s,{name:"index",hash:{},data:a}):r))+'" class="item fast-click-highlighted" '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t,{name:"debugAttributes",hash:{},data:a}))+">"+l(e.lambda(t,t))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="popup invisible">\n\n    <div class="header">'+c((s=(s=n.title||(t!=null?t.title:t))!=null?s:l,typeof s===u?s.call(o,{name:"title",hash:{},data:a}):s))+'</div>\n\n    <div class="items">\n'+((r=n.each.call(o,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    </div>\n\n    <div class="footer" style="margin-top: 10px;">\n        <a href="javascript:void(0)" class="cancel fast-click-highlighted">'+c((s=(s=n.cancelText||(t!=null?t.cancelText:t))!=null?s:l,typeof s===u?s.call(o,{name:"cancelText",hash:{},data:a}):s))+"</a>\n    </div>\n\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing;return((r=n["if"].call(s,t!=null?t.confirmVisible:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a}))!=null?r:"")+'            <div class="items nps-stars">\n'+((r=(n["for"]||t&&t["for"]||o).call(s,0,t!=null?t.rateCount:t,{name:"for",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=(n["for"]||t&&t["for"]||o).call(s,t!=null?t.rateCount:t,5,{name:"for",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            </div>\n            <div class="footer nps-footer '+((r=n["if"].call(s,t!=null?t.confirmVisible:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <a href="javascript:void(0)" class="cancel fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||o).call(s,"LBL_NPS_NOT_NOW",{name:"str",hash:{},data:a}))+"</a>\n            </div>\n"},2:function(e,t,n,i,a){return'                    <div class="nps-confirm-header">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_NPS_THANKS_MSG",{name:"str",hash:{},data:a}))+"</div>\n"},4:function(e,t,n,i,a){return'                    <div class="nps-description">'+e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.ratingMsg:t,{name:"nl2br",hash:{},data:a}))+"</div>\n"},6:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                    <div class="rate-btn btn" data-index="'+u((r=(r=n.index||a&&a.index)!=null?r:o,typeof r===l?r.call(s,{name:"index",hash:{},data:a}):r))+'" label="'+u((r=(r=n.counter||a&&a.counter)!=null?r:o,typeof r===l?r.call(s,{name:"counter",hash:{},data:a}):r))+' star">'+u((n.icon||t&&t.icon||o).call(s,"alert.star",{name:"icon",hash:{additionalClass:"nps-star-icon"},data:a}))+"</div>\n"},8:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                    <div class="rate-btn btn" data-index="'+u((r=(r=n.index||a&&a.index)!=null?r:o,typeof r===l?r.call(s,{name:"index",hash:{},data:a}):r))+'" label="'+u((r=(r=n.counter||a&&a.counter)!=null?r:o,typeof r===l?r.call(s,{name:"counter",hash:{},data:a}):r))+' star">'+u((n.icon||t&&t.icon||o).call(s,"alert.starOpen",{name:"icon",hash:{additionalClass:"nps-star-icon"},data:a}))+"</div>\n"},10:function(e,t,n,i,a){return"invisible"},12:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <div class="nps-header">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_THANKS_MSG",{name:"str",hash:{},data:a}))+'</div>\n        <div class="nps-app-rate-desc">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_APPSTORE_RATE_MSG",{name:"str",hash:{},data:a}))+'</div>\n        <div class="nps-footer">\n            <ul class="actions-ul">\n                <li class="actions-li">\n                    <a href="javascript:void(0)" class="submit-rate-app action-item fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_RATE_NOW",{name:"str",hash:{},data:a}))+'</a>\n                </li>\n                <li class="actions-li">\n                    <a href="javascript:void(0)" class="cancel-rate-app action-item fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_NPS_NO_THANKS",{name:"str",hash:{},data:a}))+"</a>\n                </li>\n            </ul>\n        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="popup nps-popup invisible">\n\n'+((r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.rateAppVisible:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.program(12,a,0),data:a}))!=null?r:"")+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return"alert--"+e.escapeExpression((r=(r=n.level||(t!=null?t.level:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"level",hash:{},data:a}):r))},3:function(e,t,n,i,a){return"closeable"},5:function(e,t,n,i,a){return"    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"alert.close",{name:"icon",hash:{additionalClass:"close-icon"},data:a}))+"\n"},7:function(e,t,n,i,a){return"    "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"spinner",t,{name:"partial",hash:{},data:a}))+"\n"},9:function(e,t,n,i,a){return e.escapeExpression((n.nl2br||t&&t.nl2br||n.helperMissing).call(t!=null?t:e.nullContext||{},t,{name:"nl2br",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="alert '+((r=n["if"].call(s,t!=null?t.level:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(s,t!=null?t.closeable:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n'+((r=n["if"].call(s,t!=null?t.closeable:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=(n.eq||t&&t.eq||n.helperMissing).call(s,t!=null?t.level:t,"load",{name:"eq",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n<div class="message">\n    '+((r=n.each.call(s,t!=null?t.messages:t,{name:"each",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <div class="bulkload__form">\n            <div class="field">\n                <label class="field__label">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_USE_CELLULAR",{name:"str",hash:{},data:a}))+'</label>\n                <div class="field__controls">\n                    <label class="checkbox-toggle">\n                        <input type="checkbox" class="checkbox-toggle__checkbox cellular_checkbox" '+((r=n["if"].call(s,t!=null?t.useCellularData:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                        <span class="checkbox-toggle__slider"></span>\n                    </label>\n                </div>\n            </div>\n            <div class="bulkload__connect-message">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_CONNECTION_USE_MESSAGE",{name:"str",hash:{},data:a}))+"</div>\n        </div>\n"},2:function(e,t,n,i,a){return" checked"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="scroll">\n<div class="pad">\n    <div class="bulkload__title">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_OFFLINE_RECORDS",{name:"str",hash:{},data:a}))+'</div>\n    <div class="bulkload__message">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_PREFETCH_MESSAGE",{name:"str",hash:{},data:a}))+"</div>\n\n"+((r=n["if"].call(s,t!=null?t.shouldShowCellularCheckbox:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n    <div class="bulkload__btns">\n        <a class="btn btn--primary btn--large btn-download fast-click-highlighted" data-id="ok">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_BTN_DOWNLOAD",{name:"str",hash:{},data:a}))+'</a>\n        <a class="btn btn--secondary btn--large btn-cancel fast-click-highlighted" data-id="cancel">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_NOT_RIGHT_NOW",{name:"str",hash:{},data:a}))+"</a>\n    </div>\n</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="tabs__switcher tabs__switcher--dd">\n    <div class="filter">\n        '+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.ddSwitcher:t,t,{name:"fieldByName",hash:{template:"edit"},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return o((n.icon||t&&t.icon||s).call(r,"swiper.prev",{name:"icon",hash:{additionalClass:"prev"},data:a}))+"\n"+o((n.icon||t&&t.icon||s).call(r,"swiper.next",{name:"icon",hash:{additionalClass:"next"},data:a}))+'\n<div class="pagination"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="'+u((r=(r=n.switcherCss||(t!=null?t.switcherCss:t))!=null?r:o,typeof r===l?r.call(s,{name:"switcherCss",hash:{},data:a}):r))+'"></div>\n<div class="'+u((r=(r=n.viewContainerCss||(t!=null?t.viewContainerCss:t))!=null?r:o,typeof r===l?r.call(s,{name:"viewContainerCss",hash:{},data:a}):r))+'">'+u((r=(r=n.childViews||(t!=null?t.childViews:t))!=null?r:o,typeof r===l?r.call(s,{name:"childViews",hash:{},data:a}):r))+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'        <li data-tab-index="'+f((l=(l=n.index||(t!=null?t.index:t))!=null?l:c,typeof l===d?l.call(u,{name:"index",hash:{},data:a}):l))+'" class="\n        tab fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.active:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n">\n            <div class="tab__title">\n                <span class="title" '+f((n.debugAttributes||t&&t.debugAttributes||c).call(u,"title",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n                    "+f((l=(l=n.title||(t!=null?t.title:t))!=null?l:c,typeof l===d?l.call(u,{name:"title",hash:{},data:a}):l))+'\n                </span>\n                <span class="'+f(e.lambda(s[1]!=null?s[1].subtextCss:s[1],t))+' hide"></span>\n            </div>\n        </li>\n'},2:function(e,t,n,i,a){return"tab--active"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return'<ul class="tabs__scroll-bar__ul">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.tabs:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</ul>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return(o=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFavorite:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.program(4,a,0,r,s),data:a}))!=null?o:""},2:function(e,t,n,i,a,r,s){var o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'            <a href="javascript:void(0)" class="context-menu__item favorite-item fast-click-highlighted" action="favorite" track="click:c-favorite" style='+u((n.ternary||t&&t.ternary||l).call(o,s[1]!=null?s[1].myFavorite:s[1],"display:none;","",{name:"ternary",hash:{},data:a}))+'>\n                <span aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"actions.unfavorite",{name:"icon",hash:{},data:a}))+"</span><br>\n                "+u((n.str||t&&t.str||l).call(o,"LBL_FAVORITE",{name:"str",hash:{},data:a}))+'\n            </a>\n            <a href="javascript:void(0)" class="context-menu__item unfavorite-item fast-click-highlighted" action="favorite" track="click:c-unfavorite" style='+u((n.ternary||t&&t.ternary||l).call(o,s[1]!=null?s[1].myFavorite:s[1],"","display:none;",{name:"ternary",hash:{},data:a}))+'>\n                <span aria-hidden="true">'+u((n.icon||t&&t.icon||l).call(o,"actions.favorite",{name:"icon",hash:{},data:a}))+"</span><br>\n                "+u((n.str||t&&t.str||l).call(o,"LBL_UNFAVORITE",{name:"str",hash:{},data:a}))+"\n            </a>\n"},4:function(e,t,n,i,a){return"            "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"record-action-button",t,{name:"partial",hash:{},data:a}))+"\n"},6:function(e,t,n,i,a){return'        <div class="context-menu__no-options">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_MOBILE_NO_ACTIONS_AVAILABLE",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="actions box__context-menu">\n'+((o=n.each.call(l,t!=null?t.contextMenuItems:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isEmptyMenu:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=e.escapeExpression,l=t!=null?t:e.nullContext||{},u=n.helperMissing,c="function";return'                <div class="dashlets__list__col">\n                    <div class="dashlet__item fast-click-highlighted c-'+o(e.lambda((r=(r=t!=null?t.meta:t)!=null?r.view:r)!=null?r.type:r,t))+'"\n                         data-dashlet-index='+o((s=(s=n.index||(t!=null?t.index:t))!=null?s:u,typeof s===c?s.call(l,{name:"index",hash:{},data:a}):s))+"\n                        "+o((n.debugAttributes||t&&t.debugAttributes||u).call(l,"dashable-list-module",(r=(r=t!=null?t.meta:t)!=null?r.view:r)!=null?r.module:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+"\n                        "+o((n.debugAttributes||t&&t.debugAttributes||u).call(l,"dashlet-name",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+'>\n\n                        <div class="dashlet__title">'+o((s=(s=n.title||(t!=null?t.title:t))!=null?s:u,typeof s===c?s.call(l,{name:"title",hash:{},data:a}):s))+'</div>\n                        <div class="dashlet__icon">'+o((n.icon||t&&t.icon||u).call(l,t!=null?t.icon:t,{name:"icon",hash:{},data:a}))+"</div>\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){var r;return'            <div class="dashlets__slider-area">\n                <div class="dashlets__slider">\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t._dashlets:t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"                </div>\n            </div>\n"},4:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'                        <div class="dashlet__b" data-dashlet-index='+u((s=(s=n.index||(t!=null?t.index:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"index",hash:{},data:a}):s))+"\n                            "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashable-list-module",(r=(r=t!=null?t.meta:t)!=null?r.view:r)!=null?r.module:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+"\n                            "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashlet-name",t!=null?t.title:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n                            "+u((n.childViews||t&&t.childViews||l).call(o,(r=t!=null?t.meta:t)!=null?r.id:r,{name:"childViews",hash:{},data:a}))+"\n                        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="dashboard-container">\n    <div class="dashboard"\n        '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashboard-id",(r=t!=null?t.model:t)!=null?r.id:r,{name:"debugAttributes",hash:{},data:a}))+"\n        "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"dashboard-name",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.name:r,{name:"debugAttributes",hash:{localize:(r=t!=null?t.options:t)!=null?r.parentModule:r,removeSpaces:true},data:a}))+'>\n\n        <div class="dashlets__list">\n'+((r=n.each.call(o,t!=null?t._dashlets:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        </div>\n        <div class="dashlets__title hide">'+u((s=(s=n.subtitle||(t!=null?t.subtitle:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"subtitle",hash:{},data:a}):s))+"</div>\n"+((r=n["if"].call(o,t!=null?t.shouldRenderDashlets:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n    \x3c!--div.dashboard-container is required for pagination to be rendered here--\x3e\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=e.escapeExpression;return'                <div class="field error">\n                    <label class="field__label">Error count:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+s(e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_error_count:r,t))+'\n                    </div>\n                </div>\n\n                <div class="field">\n                    <label class="field__label">Error Description:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+s((n.getErrorDescription||t&&t.getErrorDescription||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_error:r,{name:"getErrorDescription",hash:{},data:a}))+"\n                    </div>\n                </div>\n"},3:function(e,t,n,i,a){var r;return'                <div class="field">\n                    <label class="field__label">Link:</label>\n                    <div class="field__controls field__controls--readonly clip">\n                        '+e.escapeExpression(e.lambda((r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_link:r,t))+"\n                    </div>\n                </div>\n"},5:function(e,t,n,i,a,r,s){var o;return"\n"+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.updatedFields:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"},6:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n                        <label class="field__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(l,t!=null?t.vname:t,(o=(o=s[1]!=null?s[1].model:s[1])!=null?o.attributes:o)!=null?o._tx_bean_module:o,{name:"str",hash:{},data:a}))+":</label>\n"+((o=n["with"].call(l,t,{name:"with",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                    </div>\n"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'                            <div class="field__controls field__controls--readonly clip">\n'+((r=n["if"].call(s,t!=null?t.before:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(s,(r=t!=null?t.after:t)!=null?r.el:r,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.program(15,a,0),data:a}))!=null?r:"")+"                            </div>\n"},8:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.before:t)!=null?r.el:r,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a}))!=null?r:""},9:function(e,t,n,i,a){var r;return'                                        <span class="line-through">'+((r=e.lambda((r=(r=t!=null?t.before:t)!=null?r.el:r)!=null?r.innerHTML:r,t))!=null?r:"")+"</span><br />\n"},11:function(e,t,n,i,a){var r;return'                                        <span class="line-through">'+e.escapeExpression((r=(r=n.before||(t!=null?t.before:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"before",hash:{},data:a}):r))+"</span><br />\n"},13:function(e,t,n,i,a){var r;return"                                    "+((r=e.lambda((r=(r=t!=null?t.after:t)!=null?r.el:r)!=null?r.innerHTML:r,t))!=null?r:"")+"<br />\n"},15:function(e,t,n,i,a){var r;return"                                    "+e.escapeExpression((r=(r=n.after||(t!=null?t.after:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"after",hash:{},data:a}):r))+"<br />\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="box__edit box__edit_readonly">\n    <div class="scroll">\n        <div class="pad">\n\n'+((o=n["if"].call(u,(o=(o=t!=null?t.model:t)!=null?o.attributes:o)!=null?o._tx_error_count:o,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n            <div class="field">\n                <label class="field__label">Summary:</label>\n                <div class="field__controls field__controls--readonly line-clamp">\n                    '+f((l=(l=n.getTxLogActionExplanation||(t!=null?t.getTxLogActionExplanation:t))!=null?l:c,typeof l===d?l.call(u,{name:"getTxLogActionExplanation",hash:{},data:a}):l))+'\n                </div>\n            </div>\n\n            <div class="field">\n                <label class="field__label">Action:</label>\n                <div class="field__controls field__controls--readonly clip">\n                    '+f((n.getTxLogActionName||t&&t.getTxLogActionName||c).call(u,(o=(o=t!=null?t.model:t)!=null?o.attributes:o)!=null?o._tx_action:o,{name:"getTxLogActionName",hash:{},data:a}))+'\n                </div>\n            </div>\n\n            <div class="field">\n                <label class="field__label">Module:</label>\n                <div class="field__controls field__controls--readonly clip">\n                    '+f((l=(l=n.getTxLogModuleName||(t!=null?t.getTxLogModuleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"getTxLogModuleName",hash:{},data:a}):l))+"\n                </div>\n            </div>\n\n"+((o=n["if"].call(u,(o=t!=null?t.updatedFields:t)!=null?o.link:o,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.program(5,a,0,r,s),data:a}))!=null?o:"")+'\n            <div class="edit__footer">\n                <a href="javascript:void(0)" class="btn btn--danger btn--large  delete" track="click:delete">'+f((n.str||t&&t.str||c).call(u,"LBL_ROLLBACK_BUTTON",{name:"str",hash:{},data:a}))+"</a>\n            </div>\n\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,u,c="        ";o=(l=(l=n.avatarField||(t!=null?t.avatarField:t))!=null?l:n.helperMissing,u={name:"avatarField",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a},typeof l==="function"?l.call(t!=null?t:e.nullContext||{},u):l);if(!n.avatarField){o=n.blockHelperMissing.call(t,o,u)}if(o!=null){c+=o}return c+"\n"},2:function(e,t,n,i,a,r,s){return e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))},4:function(e,t,n,i,a){return"        "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u,c=t!=null?t:e.nullContext||{},d=n.helperMissing,f="function",h=e.escapeExpression,p='<div class="view__detail-bg view__detail-bg_'+h((l=(l=n.module||(t!=null?t.module:t))!=null?l:d,typeof l===f?l.call(c,{name:"module",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(c,t!=null?t.avatarField:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(4,a,0,r,s),data:a}))!=null?o:"")+'    <a class="box_detail__title">\n        ';o=(l=(l=n.headerField||(t!=null?t.headerField:t))!=null?l:d,u={name:"headerField",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a},typeof l===f?l.call(c,u):l);if(!n.headerField){o=n.blockHelperMissing.call(t,o,u)}if(o!=null){p+=o}return p+"\n    </a>\n    "+h((n.fieldByName||t&&t.fieldByName||d).call(c,"my_favorite",t,{name:"fieldByName",hash:{},data:a}))+'\n\n    <div class="box__record-actions__wrapper">\n        <div class="box__record-actions"></div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){return"    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"box__edit_readonly"},3:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="box__edit '+((o=n["if"].call(l,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.each.call(l,t!=null?t.addressFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'  <div class="field__error-message">'+e.escapeExpression(e.lambda(t,t))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"box__edit_readonly"},3:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},5:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},6:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},8:function(e,t,n,i,a){return'                    <button tabindex="4" class="btn btn--danger btn--large delete hide fast-click-highlighted" track="click:delete">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_DELETE_BUTTON",{name:"str",hash:{},data:a}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="box__edit '+((o=n["if"].call(l,t!=null?t.isReadOnly:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.each.call(l,t!=null?t.relationshipFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n.unless.call(l,t!=null?t.onlyRelationshipEdit:t,{name:"unless",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'            <div class="edit__footer">\n'+((o=n.unless.call(l,t!=null?t.isCreate:t,{name:"unless",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="textarea">\n    <div class="scroll">\n        <div class="pad">\n            <div class="html-content"></div>\n        </div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"readonly"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="textarea">\n    <div class="scroll">\n        <div class="pad">\n            <textarea '+((r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.options:t)!=null?r.isReadOnly:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"></textarea>\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                        <option value="'+c((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'" '+((r=n["if"].call(o,t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+">"+c((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+"</option>\n"},2:function(e,t,n,i,a){return"selected"},4:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'                    <div class="emulation-item">\n                        <div class="error-emulation-check">\n                            <input type="checkbox" class="checkbox_default" data-key="'+f((l=(l=n.key||a&&a.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:a}):l))+'" data-type="api" '+((o=n["if"].call(u,t!=null?t.status:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                                "+((o=n["if"].call(u,t!=null?t.disabled:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+">"+f((l=(l=n.key||a&&a.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:a}):l))+"\n                        </div>\n"+((o=n["if"].call(u,t!=null?t.crud:t,{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                    </div>\n"},5:function(e,t,n,i,a){return"checked"},7:function(e,t,n,i,a){return"disabled"},9:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{};return'                            <select class="error-emulation-select" data-type="crud" data-parent-type="'+e.escapeExpression((l=(l=n.key||a&&a.key)!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"key",hash:{},data:a}):l))+'"\n                                    '+((o=n["if"].call(u,s[1]!=null?s[1].crudDisabled:s[1],{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+">\n"+((o=n.each.call(u,t!=null?t.crud:t,{name:"each",hash:{},fn:e.program(10,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                            </select>\n"},10:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                                    <option value="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'" '+((r=n["if"].call(o,t!=null?t.status:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+">"+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+"</option>\n"},12:function(e,t,n,i,a){var r;return'                <li>\n                    <div class="bucket-header">\n                        Offline:\n                    </div>\n                    <div class="content">\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.offlineErrorItems:t,{name:"each",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))!=null?r:"")+"                    </div>\n                </li>\n"},13:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                        <div class="error-emulation-check">\n                            <input type="checkbox" class="checkbox_default" '+((r=n["if"].call(o,t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+' data-key="'+c((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'" data-type="offline">'+c((s=(s=n.key||a&&a.key)!=null?s:l,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+"\n                        </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <ul class="listing">\n            <li>\n                <div class="bucket-header">\n                    HTTP:\n                </div>\n\n                <h4>Error to be triggered:</h4>\n                <select class="error-emulation-select" data-type="http">\n                    <option value="default">no error</option>\n'+((o=n.each.call(l,t!=null?t.httpErrorItems:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                </select>\n\n                <div class="content">\n'+((o=n.each.call(l,t!=null?t.apiErrorItems:t,{name:"each",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                </div>\n            </li>\n"+((o=n.unless.call(l,t!=null?t.offlineDisabled:t,{name:"unless",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </ul>\n    </div>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return"\n    "+l((n.str||t&&t.str||o).call(s,"ERR_MOBILE_VIEW_NOT_SUPPORTED",{name:"str",hash:{},data:a}))+'\n\n    <div class="sugar-back-link">\n        <a id="sugar_url" track="click:desktop" target="_blank" href="'+l((r=(r=n.sugarLink||(t!=null?t.sugarLink:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"sugarLink",hash:{},data:a}):r))+'">'+l((n.str||t&&t.str||o).call(s,"LBL_MOBILE_DESKTOP","",t!=null?t.config:t,{name:"str",hash:{},data:a}))+"</a>\n    </div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return"        Error "+l((r=(r=n.errorCode||(t!=null?t.errorCode:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"errorCode",hash:{},data:a}):r))+". "+l((n.str||t&&t.str||o).call(s,t!=null?t.errorLabel:t,{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="error-message b-vc-w">\n<div class="b-vc">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.showSugarBackLink:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+"</div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return'        <span class="filter__item filter__item-main"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted '+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isFilterDDOpened:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" track=""></a></span>\n'},2:function(e,t,n,i,a){return"active"},4:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <span class="filter__item filter__item-by"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted" track="">'+o((n.str||t&&t.str||s).call(r,"LBL_MOBILE_BY",{name:"str",hash:{},data:a}))+': <span class="field-name"></span></a></span>\n        <span class="filter__item filter__item-sort"><a href="javascript:void(0)" class="btn-filter fast-click-highlighted" track="">\n            '+o((n.icon||t&&t.icon||s).call(r,"sorting.asc",{name:"icon",hash:{additionalClass:"filter-item-sort__asc"},data:a}))+"\n            "+o((n.icon||t&&t.icon||s).call(r,"sorting.desc",{name:"icon",hash:{additionalClass:"filter-item-sort__desc"},data:a}))+"\n        </a></span>\n"},6:function(e,t,n,i,a){return"hide"},8:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'    <div class="dropdown dropdown__filter '+((r=n.unless.call(s,t!=null?t.isFilterDDOpened:t,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        <ul>\n'+((r=n.each.call(s,t!=null?t.filters:t,{name:"each",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            <li class="filters-preloader hide"><a><span class="name">'+l((n.partial||t&&t.partial||o).call(s,"spinner",t,{name:"partial",hash:{},data:a}))+l((n.str||t&&t.str||o).call(s,"LBL_LOADING",{name:"str",hash:{},data:a}))+'</span></a></li>\n            <li class="filters-fetching-error hide fast-click-highlighted">\n                <a class="filters-reload">\n                    <span>'+l((n.str||t&&t.str||o).call(s,"ERR_FILTERS_FETCHING",{name:"str",hash:{},data:a}))+'</span><br />\n                    <span class="filters-try-again">'+l((n.str||t&&t.str||o).call(s,"LBL_TRY_AGAIN",{name:"str",hash:{},data:a}))+"</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n"},9:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                <li class="fast-click-highlighted"><a class="'+((r=n["if"].call(o,t!=null?t.active:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" data-filter-id="'+c((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s===u?s.call(o,{name:"id",hash:{},data:a}):s))+'">'+c((n.icon||t&&t.icon||l).call(o,"sorting.checked",{name:"icon",hash:{additionalClass:"check-icon"},data:a}))+' <span class="name">'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+"</span></a></li>\n"},11:function(e,t,n,i,a){var r;return'    <div class="dropdown dropdown__sortBy hide">\n        <ul>\n'+((r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.sortableFields:t,{name:"each",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </ul>\n    </div>\n"},12:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'            <li class="fast-click-highlighted"><a data-fieldname="'+u((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+'">'+u((n.icon||t&&t.icon||o).call(s,"sorting.checked",{name:"icon",hash:{additionalClass:"check-icon"},data:a}))+' <span class="name">'+u((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===l?r.call(s,{name:"label",hash:{},data:a}):r))+"</span></a></li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="box__filter">\n'+((r=n["if"].call(s,(r=t!=null?t.filters:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    <span class="filter__seporate"></span>\n    \x3c!--Sort buttons--\x3e\n'+((r=n["if"].call(s,t!=null?t.sortable:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'</div>\n\n<div class="overlay-dropdown '+((r=n.unless.call(s,t!=null?t.isFilterDDOpened:t,{name:"unless",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))!=null?r:"")+'"></div>\n'+((r=n["if"].call(s,(r=t!=null?t.filters:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(s,t!=null?t.sortable:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"btns-long"},3:function(e,t,n,i,a){return"has-edit-button"},5:function(e,t,n,i,a){return"has-search"},7:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<a href="javascript:void(0)" class="backBtn back fast-click-highlighted" aria-label="'+o((n.str||t&&t.str||s).call(r,"LBL_VO_BACK_BTN",{name:"str",hash:{},data:a}))+'" track="click:back">'+o((n.icon||t&&t.icon||s).call(r,"header.back",{name:"icon",hash:{},data:a}))+"</a>"},9:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'            <a href="javascript:void(0)" class="logo menuBtn fast-click-highlighted" aria-label="'+l((n.str||t&&t.str||o).call(s,"LBL_VO_HOME_BTN",{name:"str",hash:{},data:a}))+'" track="click:home">\n                '+l((n.icon||t&&t.icon||o).call(s,"header.menu",{name:"icon",hash:{},data:a}))+"\n"+((r=n.blockHelperMissing.call(t,e.lambda((r=t!=null?t.config:t)!=null?r.offlineEnabled:r,t),{name:"config.offlineEnabled",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+"            </a>\n"},10:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <span class="offline-status '+l((r=(r=n.offlineStatusClass||(t!=null?t.offlineStatusClass:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"offlineStatusClass",hash:{},data:a}):r))+'">'+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:a}))+"</span>\n"},12:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<a href="javascript:void(0)" class="dashHomeBtn fast-click-highlighted" aria-label="'+o((n.str||t&&t.str||s).call(r,"LBL_VO_DASHBOARD_BTN",{name:"str",hash:{},data:a}))+'" track="click:dashHome">'+o((n.icon||t&&t.icon||s).call(r,"header.dashboard",{name:"icon",hash:{},data:a}))+"</a>"},14:function(e,t,n,i,a){var r;return'            <div class="header__btn--cancel header__btn fast-click-highlighted" track="click:cancel">\n'+((r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.config:t)!=null?r.cancelLabel:r,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.program(17,a,0),data:a}))!=null?r:"")+"            </div>\n"},15:function(e,t,n,i,a){var r;return"                    "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.config:t)!=null?r.cancelLabel:r,{name:"str",hash:{},data:a}))+"\n"},17:function(e,t,n,i,a){return"                    "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CANCEL_BUTTON_LABEL",{name:"str",hash:{},data:a}))+"\n"},19:function(e,t,n,i,a){var r;return e.escapeExpression(e.lambda((r=t!=null?t.config:t)!=null?r.subtitle:r,t))},21:function(e,t,n,i,a){var r;return e.escapeExpression(e.lambda((r=t!=null?t.config:t)!=null?r.title:r,t))},23:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'            <div class="header__save-container '+((r=n["if"].call(s,(r=t!=null?t.config:t)!=null?r.saveHidden:r,{name:"if",hash:{},fn:e.program(24,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <div class="header__btn--save header__btn fast-click-highlighted '+((r=n["if"].call(s,t!=null?t._saveBtnDisabled:t,{name:"if",hash:{},fn:e.program(26,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" track="click:save">\n'+((r=n["if"].call(s,(r=t!=null?t.config:t)!=null?r.saveLabel:r,{name:"if",hash:{},fn:e.program(28,a,0),inverse:e.program(30,a,0),data:a}))!=null?r:"")+'                </div>\n                <div class="header__btn--caret header__btn fast-click-highlighted hide">\n                    '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(s,"header.saveBtnArrow",{name:"icon",hash:{additionalClass:"saveArrow-icon"},data:a}))+"\n                </div>\n            </div>\n"},24:function(e,t,n,i,a){return"hide"},26:function(e,t,n,i,a){return"disabled"},28:function(e,t,n,i,a){var r;return"                        "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.config:t)!=null?r.saveLabel:r,{name:"str",hash:{},data:a}))+"\n"},30:function(e,t,n,i,a){return"                        "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_SAVE_BUTTON_LABEL",{name:"str",hash:{},data:a}))+"\n"},32:function(e,t,n,i,a){var r,s,o,l=t!=null?t:e.nullContext||{},u='            <a href="javascript:void(0)" class="createBtn launch create-entity fast-click-highlighted" aria-label="'+((r=n["if"].call(l,t!=null?t.quickAction:t,{name:"if",hash:{},fn:e.program(33,a,0),inverse:e.program(35,a,0),data:a}))!=null?r:"")+'" track="click:create" ';r=(s=(s=n.quickAction||(t!=null?t.quickAction:t))!=null?s:n.helperMissing,o={name:"quickAction",hash:{},fn:e.program(37,a,0),inverse:e.noop,data:a},typeof s==="function"?s.call(l,o):s);if(!n.quickAction){r=n.blockHelperMissing.call(t,r,o)}if(r!=null){u+=r}return u+">\n"+((r=n["if"].call(l,t!=null?t.quickAction:t,{name:"if",hash:{},fn:e.program(39,a,0),inverse:e.program(41,a,0),data:a}))!=null?r:"")+"            </a>\n"},33:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VO_ADD_BTN",{name:"str",hash:{},data:a}))},35:function(e,t,n,i,a){return e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_VO_RIGHT_MENU_BTN",{name:"str",hash:{},data:a}))},37:function(e,t,n,i,a){var r;return'action="'+e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+'"'},39:function(e,t,n,i,a){var r;return"                    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.quickAction:t)!=null?r.iconKey:r,{name:"icon",hash:{additionalClass:"header-icon__plus icon-size-md"},data:a}))+"\n"},41:function(e,t,n,i,a){return"                    "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"header.overflow",{name:"icon",hash:{additionalClass:"header-icon__plus icon-size-md"},data:a}))+"\n"},43:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <a href="javascript:void(0)" class="searchBtn fast-click-highlighted" aria-label="'+o((n.str||t&&t.str||s).call(r,"LBL_VO_SEARCH_BTN",{name:"str",hash:{},data:a}))+'" track="click:search">'+o((n.icon||t&&t.icon||s).call(r,"header.search",{name:"icon",hash:{additionalClass:"icon-size-md"},data:a}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o,l=t!=null?t:e.nullContext||{},u=e.lambda,c=n.blockHelperMissing,d='<div class="box__header '+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.btnsLong:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(l,(r=(r=t!=null?t.config:t)!=null?r.ui:r)!=null?r.hasEditButton:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.search:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" track="swipeLeft swipeRight:header">\n    <div class="header__inner">\n        '+((r=c.call(t,u((r=t!=null?t.config:t)!=null?r.back:r,t),{name:"config.back",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=c.call(t,u((r=t!=null?t.config:t)!=null?r.isMenuButtonSupported:r,t),{name:"config.isMenuButtonSupported",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=c.call(t,u((r=t!=null?t.config:t)!=null?r.dashboardHome:r,t),{name:"config.dashboardHome",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=c.call(t,u((r=t!=null?t.config:t)!=null?r.cancel:r,t),{name:"config.cancel",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <h1 class="header__title">\n            <span class="header-subtitle">'+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.subtitle:r,{name:"if",hash:{},fn:e.program(19,a,0),inverse:e.noop,data:a}))!=null?r:"")+'</span>\n            <span class="header-title">'+((r=n["if"].call(l,(r=t!=null?t.config:t)!=null?r.title:r,{name:"if",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</span>\n        </h1>\n"+((r=c.call(t,u((r=t!=null?t.config:t)!=null?r.save:r,t),{name:"config.save",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a}))!=null?r:"");r=(s=(s=n.rightMenu||(t!=null?t.rightMenu:t))!=null?s:n.helperMissing,o={name:"rightMenu",hash:{},fn:e.program(32,a,0),inverse:e.noop,data:a},typeof s==="function"?s.call(l,o):s);if(!n.rightMenu){r=c.call(t,r,o)}if(r!=null){d+=r}return d+((r=c.call(t,u((r=t!=null?t.config:t)!=null?r.search:r,t),{name:"config.search",hash:{},fn:e.program(43,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    </div>\n    <div class="right-menu__container_tablet"></div>\n</div>\n<div class="overlay__right-menu hide" track="swipeLeft swipeRight:header"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"additional"},3:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="field field-dupecheck-list">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                <div class="row row--head clip field-dupecheck-list__value">\n                    '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                </div>\n            </div>\n"},4:function(e,t,n,i,a,r,s){return'                    <div class="clip field-dupecheck-list__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},6:function(e,t,n,i,a){return"        hide\n"},8:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                <div class="field field-dupecheck-list">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                    <div class="row clip field-dupecheck-list__value">\n                        '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                    </div>\n                </div>\n"},9:function(e,t,n,i,a,r,s){return'                        <div class="clip field-dupecheck-list__label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},11:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <a href="javascript:void(0)" class="show-more-link fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_MORE",{name:"str",hash:{},data:a}))+'</a>\n        <a href="javascript:void(0)" class="hide show-less-link fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_SHOW_LESS",{name:"str",hash:{},data:a}))+"</a>\n\n"},13:function(e,t,n,i,a){return'        <a href="javascript:void(0)" class="edit-link fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_EDIT_BUTTON",{name:"str",hash:{},data:a}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d=e.escapeExpression;return'<article data-id="'+d((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l==="function"?l.call(u,{name:"itemId",hash:{},data:a}):l))+'" class="fast-click-highlighted list-item-radio list-item-dupecheck">\n    '+d((n.icon||t&&t.icon||c).call(u,"edit.radioOff",{name:"icon",hash:{additionalClass:"radio-icon"},data:a}))+'\n    <div class="fields '+((o=n["if"].call(u,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(u,t!=null?t.headFields:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        <div class="\n        rest-fields\n'+((o=n["if"].call(u,(o=t!=null?t.links:t)!=null?o.showMore:o,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        ">\n'+((o=n.each.call(u,t!=null?t.restFields:t,{name:"each",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </div>\n    </div>\n"+((o=n["if"].call(u,(o=t!=null?t.links:t)!=null?o.showMore:o,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,(o=t!=null?t.links:t)!=null?o.edit:o,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"                    hide\n"},3:function(e,t,n,i,a){var r;return"                    "+((r=n.unless.call(t!=null?t:e.nullContext||{},t!=null?t.duplicatesCheckFailed:t,{name:"unless",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},4:function(e,t,n,i,a){return"hide"},6:function(e,t,n,i,a){var r;return"                    "+((r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.duplicatesCheckFailed:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"},8:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <a href="javascript:void 0"\n                   class="box__link-duplicates duplicates-list__search" track="click:lead-conversion-'+l((r=(r=n.module||(t!=null?t.module:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"module",hash:{},data:a}):r))+'-search">\n                    '+l((n.str||t&&t.str||o).call(s,"LBL_SEARCH_EXISTING_RECORD",null,t!=null?t.modulePlural:t,{name:"str",hash:{},data:a}))+"\n                </a>\n"},10:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'                <a href="javascript:void 0"\n                   class="box__link-duplicates duplicates-list__create\n'+((r=n["if"].call(o,t!=null?t.isNewDuplicateRecord:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))!=null?r:"")+'                    " track="click:lead-conversion-'+u((s=(s=n.module||(t!=null?t.module:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"module",hash:{},data:a}):s))+'-create">\n                    '+u((n.str||t&&t.str||l).call(o,"LBL_CREATE_MODULE",null,t!=null?t.moduleSingular:t,{name:"str",hash:{},data:a}))+"\n                </a>\n"},11:function(e,t,n,i,a){return"                        disabled\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="lead-conversion__section lead-conversion__section--relative">\n    <div class="scroll">\n        <div class="pad">\n            <div class="duplicates-check-failed\n'+((r=n["if"].call(s,(r=t!=null?t.collection:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:"")+'                ">'+l((n.str||t&&t.str||o).call(s,"LBL_DUPLICATES_CHECK_FAILED",{name:"str",hash:{},data:a}))+' <a href="javascript:void 0" class="reload-duplicates">'+l((n.str||t&&t.str||o).call(s,"LBL_TRY_AGAIN",{name:"str",hash:{},data:a}))+'</a></div>\n\n            <div class="duplicates-check-no-records-found\n'+((r=n["if"].call(s,(r=t!=null?t.collection:t)!=null?r.length:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")+'            ">'+l((n.str||t&&t.str||o).call(s,"LBL_MOBILE_NO_DUPLICATES_FOUND",{name:"str",hash:{},data:a}))+'</div>\n\n            <div class="lead-conversion__content--relative '+((r=n.unless.call(s,(r=t!=null?t.collection:t)!=null?r.length:r,{name:"unless",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n                <div class="duplicates-list-hint">\n                    '+l((n.str||t&&t.str||o).call(s,t!=null?t.duplicateListHint:t,null,t,{name:"str",hash:{},data:a}))+"\n                </div>\n                "+l((n.childViews||t&&t.childViews||o).call(s,"duplicates",{name:"childViews",hash:{},data:a}))+"\n            </div>\n\n"+((r=n["if"].call(s,t!=null?t.hasListAccess:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(s,t!=null?t.hasCreateAccess:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="lead-conversion__prev fast-click-highlighted" track="click:lead-conversion-back"\n            '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.label:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n            "+l((n.icon||t&&t.icon||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.icon:r,{name:"icon",hash:{},data:a}))+"\n            "+((r=(n.str||t&&t.str||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.label:r,{name:"str",hash:{},data:a}))!=null?r:"")+"\n        </span>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <span class="\n        lead-conversion__next\n        btn btn--primary '+((r=n.unless.call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.enabled:r,{name:"unless",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        fast-click-highlighted" track="click:lead-conversion-next"\n            '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.label:r,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+">\n            "+((r=(n.str||t&&t.str||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.label:r,{name:"str",hash:{},data:a}))!=null?r:"")+"\n            "+l((n.icon||t&&t.icon||o).call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.icon:r,{name:"icon",hash:{},data:a}))+"\n        </span>\n"},4:function(e,t,n,i,a){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="lead-conversion__footer">\n'+((r=n["if"].call(s,(r=(r=t!=null?t.state:t)!=null?r.backBtn:r)!=null?r.show:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(s,(r=(r=t!=null?t.state:t)!=null?r.nextBtn:r)!=null?r.show:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"    "+e.escapeExpression((n.childViews||t&&t.childViews||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.viewId:t,{name:"childViews",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return"\n"+((r=n.each.call(o,t!=null?t._viewDefs:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'<div class="progress-wrap progress">\n    <div class="progress-bar progress"></div>\n</div>\n<div class="'+e.escapeExpression((s=(s=n.switcherCss||(t!=null?t.switcherCss:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"switcherCss",hash:{},data:a}):s))+'"></div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["with"].call(t!=null?t:e.nullContext||{},t!=null?t.attributes:t,{name:"with",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'        <div data-id="'+c((s=(s=n.id||(t!=null?t.id:t))!=null?s:l,typeof s===u?s.call(o,{name:"id",hash:{},data:a}):s))+'" class="comment__item">\n            <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:a}):s))+'/edit">'+c((n.userPicture||t&&t.userPicture||l).call(o,t!=null?t.created_by:t,{name:"userPicture",hash:{},data:a}))+"</a>\n            "+c((n.comment||t&&t.comment||l).call(o,(r=t!=null?t.data:t)!=null?r.value:r,(r=t!=null?t.data:t)!=null?r.tags:r,{name:"comment",hash:{},data:a}))+'\n            <div class="comment__info">\n                <a href="#Users/'+c((s=(s=n.created_by||(t!=null?t.created_by:t))!=null?s:l,typeof s===u?s.call(o,{name:"created_by",hash:{},data:a}):s))+'">'+c((n.str||t&&t.str||l).call(o,t!=null?t.created_by_name:t,{name:"str",hash:{},data:a}))+"</a> "+c((n.relativeTime||t&&t.relativeTime||l).call(o,t!=null?t.date_entered:t,{name:"relativeTime",hash:{},data:a}))+"\n            </div>\n        </div>\n"},4:function(e,t,n,i,a){var r;return'    <a href="#" class="comments-more-btn">'+e.escapeExpression((r=(r=n._moreCommentsCount||(t!=null?t._moreCommentsCount:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"_moreCommentsCount",hash:{},data:a}):r))+" more comments...</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return((r=n.each.call(s,(r=t!=null?t.collection:t)!=null?r.models:r,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(s,t!=null?t._moreCommentsCount:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" has-grip "},3:function(e,t,n,i,a){return" has-drag-menu "},5:function(e,t,n,i,a){return" has-menu "},7:function(e,t,n,i,a){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:a}))+"\n"},9:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return((r=n["if"].call(s,t!=null?t.dateSentFieldDef:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            <div class="item-name clip">\n                '+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(s,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n            </div>\n"},10:function(e,t,n,i,a){return'                <div class="field-leads-status-value">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.dateSentFieldDef:t,t,{name:"fieldByName",hash:{},data:a}))+"</div>\n"},12:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(15,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},13:function(e,t,n,i,a){return"additional"},15:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(16,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},16:function(e,t,n,i,a,r,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},18:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l===d?l.call(u,{name:"itemId",hash:{},data:a}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"moduleName",hash:{},data:a}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))!=null?o:"")+"\n    "+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:c,typeof l===d?l.call(u,{name:"detailsCss",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(u,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.program(9,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" has-grip "},3:function(e,t,n,i,a){return" has-drag-menu "},5:function(e,t,n,i,a){return" has-menu "},7:function(e,t,n,i,a){return" item-checkbox "},9:function(e,t,n,i,a){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},11:function(e,t,n,i,a){return'            <span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.moduleName:t,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>\n'},13:function(e,t,n,i,a){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:a}))+"\n"},15:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return((r=n["if"].call(s,t!=null?t.statusFieldDef:t,{name:"if",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a}))!=null?r:"")+'            <div class="item-name clip">\n                '+l((n.fieldByName||t&&t.fieldByName||o).call(s,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n                "+l((n.fieldByName||t&&t.fieldByName||o).call(s,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:a}))+"\n            </div>\n"},16:function(e,t,n,i,a){var r;return'                <div class="field-leads-status-value">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.statusFieldDef:t)!=null?r.name:r,t,{name:"fieldByName",hash:{},data:a}))+"</div>\n"},18:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(19,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(21,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},19:function(e,t,n,i,a){return"additional"},21:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(22,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},22:function(e,t,n,i,a,r,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},24:function(e,t,n,i,a){var r;return"            "+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.view:t)!=null?r.sortBy:r,t,{name:"fieldByName",hash:{},data:a}))+"\n"},26:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l===d?l.call(u,{name:"itemId",hash:{},data:a}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"moduleName",hash:{},data:a}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))!=null?o:"")+"\n    "+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    "+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n'+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:c,typeof l===d?l.call(u,{name:"detailsCss",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(u,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.program(15,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.sortBy:o,{name:"if",hash:{},fn:e.program(24,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(26,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"item-checkbox"},3:function(e,t,n,i,a){return e.escapeExpression((n.debugAttributes||t&&t.debugAttributes||n.helperMissing).call(t!=null?t:e.nullContext||{},"label",t!=null?t.label:t,{name:"debugAttributes",hash:{},data:a}))},5:function(e,t,n,i,a){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},7:function(e,t,n,i,a){return"        "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="picker-list-row fast-click-highlighted '+((r=n["if"].call(o,(r=t!=null?t.view:t)!=null?r.multiselect:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" '+((r=n["if"].call(o,(r=t!=null?t.view:t)!=null?r.multiselect:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"  "+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"module",t!=null?t.module:t,{name:"debugAttributes",hash:{},data:a}))+">\n"+((r=n["if"].call(o,(r=t!=null?t.view:t)!=null?r.multiselect:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.module:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'    <a href="javascript:void(0)">'+c((s=(s=n.label||(t!=null?t.label:t))!=null?s:l,typeof s===u?s.call(o,{name:"label",hash:{},data:a}):s))+"</a>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"search"},3:function(e,t,n,i,a){return'            <div class="clip">'+e.escapeExpression((n.teamSearchItem||t&&t.teamSearchItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"teamSearchItem",hash:{},data:a}))+"</div>\n"},5:function(e,t,n,i,a){return'            <div class="clip">'+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},"name",t,{name:"fieldByName",hash:{type:"teamset-name"},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<article data-id="'+u((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" class="list-item item-checkbox fast-click-highlighted"\n    '+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"team_name",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.name:r,{name:"debugAttributes",hash:{},data:a}))+"\n    "+u((n.debugAttributes||t&&t.debugAttributes||l).call(o,"uid",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r.id:r,{name:"debugAttributes",hash:{},data:a}))+">\n\n    "+u((n.icon||t&&t.icon||l).call(o,"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+'\n    <div class="'+((r=n["if"].call(o,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+' txt">\n'+((r=n["if"].call(o,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"    </div>\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article class="tx-item list-item fast-click-highlighted '+c((s=(s=n.getTxLogItemStatusClass||(t!=null?t.getTxLogItemStatusClass:t))!=null?s:l,typeof s===u?s.call(o,{name:"getTxLogItemStatusClass",hash:{},data:a}):s))+'" data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:a}):s))+'"\n         module="'+c(e.lambda((r=t!=null?t.model:t)!=null?r.module:r,t))+'" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"record_id",(r=(r=t!=null?t.model:t)!=null?r.attributes:r)!=null?r._tx_bean_id:r,{name:"debugAttributes",hash:{},data:a}))+'>\n    <div class="txt line-clamp">\n        '+c((s=(s=n.getTxLogActionExplanation||(t!=null?t.getTxLogActionExplanation:t))!=null?s:l,typeof s===u?s.call(o,{name:"getTxLogActionExplanation",hash:{},data:a}):s))+"\n    </div>\n    "+c((n.partial||t&&t.partial||l).call(o,"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return" has-grip "},3:function(e,t,n,i,a){return" has-drag-menu "},5:function(e,t,n,i,a){return" has-menu "},7:function(e,t,n,i,a){return" item-checkbox "},9:function(e,t,n,i,a){return"        "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"edit.checkboxOff",{name:"icon",hash:{additionalClass:"checkbox-icon"},data:a}))+"\n"},11:function(e,t,n,i,a){return'            <span class="module-name">'+e.escapeExpression((n.moduleNameSingular||t&&t.moduleNameSingular||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.moduleName:t,{name:"moduleNameSingular",hash:{},data:a}))+'</span><span class="module-name-comma">,</span>\n'},13:function(e,t,n,i,a){return"            "+e.escapeExpression((n.searchListItem||t&&t.searchListItem||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.model:t,{name:"searchListItem",hash:{},data:a}))+"\n"},15:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'           <div class="item-name clip">\n               '+o((n.fieldByName||t&&t.fieldByName||s).call(r,t!=null?t.titleField:t,t,{name:"fieldByName",hash:{},data:a}))+"\n               "+o((n.fieldByName||t&&t.fieldByName||s).call(r,t!=null?t.relationshipField:t,t,{name:"fieldByName",hash:{type:"relationship"},data:a}))+"\n           </div>\n"},17:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'            <div class="fields '+((o=n["if"].call(l,t!=null?t.showLabel:t,{name:"if",hash:{},fn:e.program(18,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n'+((o=n.each.call(l,t!=null?t.additionalFields:t,{name:"each",hash:{},fn:e.program(20,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </div>\n"},18:function(e,t,n,i,a){return"additional"},20:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                    <div class="field">\n'+((o=n["if"].call(l,s[1]!=null?s[1].showLabel:s[1],{name:"if",hash:{},fn:e.program(21,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'                        <div class="clip value">\n                            '+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(l,s[1]!=null?s[1].view:s[1],{name:"field",hash:{model:s[1]!=null?s[1].model:s[1]},data:a}))+"\n                        </div>\n                    </div>\n"},21:function(e,t,n,i,a,r,s){return'                            <div class="clip item-label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,s[1]!=null?s[1].moduleName:s[1],{name:"str",hash:{},data:a}))+"</div>\n"},23:function(e,t,n,i,a){var r;return"            "+e.escapeExpression((n.fieldByName||t&&t.fieldByName||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.view:t)!=null?r.sortBy:r,t,{name:"fieldByName",hash:{},data:a}))+"\n"},25:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<article data-id="'+f((l=(l=n.itemId||(t!=null?t.itemId:t))!=null?l:c,typeof l===d?l.call(u,{name:"itemId",hash:{},data:a}):l))+'" module="'+f((l=(l=n.moduleName||(t!=null?t.moduleName:t))!=null?l:c,typeof l===d?l.call(u,{name:"moduleName",hash:{},data:a}):l))+'" class="\n        list-item\n        fast-click-highlighted\n        '+((o=n["if"].call(u,t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))!=null?o:"")+"\n        "+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n        "+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    " track="swipeLeft swipeRight:c-menu.active-list-item">\n\n'+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.multiselect:o,{name:"if",hash:{},fn:e.program(9,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n    <div class="txt '+f((l=(l=n.detailsCss||(t!=null?t.detailsCss:t))!=null?l:c,typeof l===d?l.call(u,{name:"detailsCss",hash:{},data:a}):l))+'">\n'+((o=n["if"].call(u,t!=null?t.isModuleVisible:t,{name:"if",hash:{},fn:e.program(11,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.hasSearch:t,{name:"if",hash:{},fn:e.program(13,a,0,r,s),inverse:e.program(15,a,0,r,s),data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,t!=null?t.additionalFields:t,{name:"if",hash:{},fn:e.program(17,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(u,(o=t!=null?t.view:t)!=null?o.sortBy:o,{name:"if",hash:{},fn:e.program(23,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n    </div>\n"+((o=n["if"].call(u,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(25,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"</article>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="no-records-found hide">\n    '+e.escapeExpression(e.lambda(t!=null?t.labelNoRecords:t,t))+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="error-box">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"ERR_MOBILE_NOT_AUTHORIZED",{name:"str",hash:{},data:a}))+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="scroll">\n    <div class="listing" id="listing">\n        '+e.escapeExpression((n.listItems||t&&t.listItems||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.collection:t)!=null?r.models:r,t,{name:"listItems",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'    <div class="show-more-btn show-more-bottom-btn '+((r=n.unless.call(o,t!=null?t.needShowMoreBottomBtn:t,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        <div>\n            <a class="show_more_posts" href="javascript:void(0)" track="click:more-bottom">'+e.escapeExpression((s=(s=n.labelShowMoreBottom||(t!=null?t.labelShowMoreBottom:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"labelShowMoreBottom",hash:{},data:a}):s))+"</a>\n        </div>\n    </div>\n"},2:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isPaginationEnabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'    <div class="show-more-btn show-more-top-btn '+((r=n.unless.call(o,t!=null?t.needShowMoreTopButton:t,{name:"unless",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n        <div>\n            <a class="show_more_posts" href="javascript:void(0)" track="click:more-top">'+e.escapeExpression((s=(s=n.labelShowMoreTop||(t!=null?t.labelShowMoreTop:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"labelShowMoreTop",hash:{},data:a}):s))+"</a>\n        </div>\n    </div>\n"},2:function(e,t,n,i,a){return"hide"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isPaginationEnabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="listing" id="'+u((s=(s=n.listViewId||(t!=null?t.listViewId:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"listViewId",hash:{},data:a}):s))+'">\n  '+u((n.partial||t&&t.partial||l).call(o,"list-no-records",t,{name:"partial",hash:{},data:a}))+"\n  "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-top",t,{name:"partial",hash:{},data:a}))+'\n    <div class="items">\n      '+u((n.listItems||t&&t.listItems||l).call(o,(r=t!=null?t.collection:t)!=null?r.models:r,t,{name:"listItems",hash:{},data:a}))+"\n    </div>\n  "+u((n.partial||t&&t.partial||l).call(o,"list-show-more-bottom",t,{name:"partial",hash:{},data:a}))+"\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'    <span class="menu-container-grip grip" track="click:c-menu">'+o((n.icon||t&&t.icon||s).call(r,"list.grip",{name:"icon",hash:{},data:a}))+'</span>\n    <div class="menu-container">\n        <span class="grip open" track="click:c-menu.open">'+o((n.icon||t&&t.icon||s).call(r,"list.grip",{name:"icon",hash:{},data:a}))+"</span>\n    </div>\n"},3:function(e,t,n,i,a){return'    <div class="menu-container"></div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.isMenuGripVisible:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression;return'            <div class="as__icon">\n                <i class="tw__user_icon icon" style="background-image: url('+o(s(t!=null?t.tw_profile_image_url:t,t))+');">\n                </i>\n            </div>\n\n            <div class="as__info" >\n                <a class="tw__as_profile_link" target="_blank" href="'+o(s(t!=null?t.tw_profile_url:t,t))+'" ><strong>'+o(s(t!=null?t.name:t,t))+'</strong></a>\n                <a class="tw__as_profile_link" target="_blank" href="'+o(s(t!=null?t.tw_profile_url:t,t))+'" >@'+o(s(t!=null?t.screen_name:t,t))+'</a>\n                <div class="pull-right">\n                    '+o((n.relativeTime||t&&t.relativeTime||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.date:t,{name:"relativeTime",hash:{},data:a}))+'\n                </div>\n            </div>\n            <div class="tw__as__title as__title">\n                '+((r=s(t!=null?t.text:t,t))!=null?r:"")+"\n            </div>\n"},3:function(e,t,n,i,a){return"            "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu-list-item",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<article data-id="'+c((s=(s=n.itemId||(t!=null?t.itemId:t))!=null?s:l,typeof s===u?s.call(o,{name:"itemId",hash:{},data:a}):s))+'" module="'+c((s=(s=n.moduleName||(t!=null?t.moduleName:t))!=null?s:l,typeof s===u?s.call(o,{name:"moduleName",hash:{},data:a}):s))+'" class="activitystream-item list-item" track="swipeLeft swipeRight:c-menu.active-list-item">\n    <div class="as__detail">\n'+((r=n["with"].call(o,(r=t!=null?t.model:t)!=null?r.attributes:r,{name:"with",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n"+((r=n["if"].call(o,t!=null?t.isMenuVisible:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n\n</article>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"readonly"},3:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.clearButton||(t!=null?t.clearButton:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"clearButton",hash:{},data:a}):r))},5:function(e,t,n,i,a){return"checked"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="field no-border">\n    <div class="field__controls">\n    <div class="field__controls--flex">\n        <span class="settings__control_label">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_EXTERNAL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:a}))+'</span>\n        <div class="settings__control_checkbox">\n            <label class="checkbox-toggle">\n                <input type="checkbox" '+((r=n.unless.call(s,t!=null?t.loginSettingsEditable:t,{name:"unless",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+' class="checkbox-toggle__checkbox sso_checkbox" '+((r=n["if"].call(s,t!=null?t.isSSO:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                <span class="checkbox-toggle__slider"></span>\n            </label>\n        </div>\n    </div>\n    </div>\n</div>\n'},8:function(e,t,n,i,a){return"disabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression,c="function";return'\n<div class="settings__controls_group">\n<div class="field">\n    <div class="field__controls">\n        <label class="field__label settings__control_label_url">'+u((n.str||t&&t.str||l).call(o,"LBL_MOBILE_SERVER_URL",{name:"str",hash:{},data:a}))+'</label>\n        <span class="input-wrapper">\n            <input type="url" class="login_settings_server_url" placeholder="your-'+u((s=(s=n.brandName||(t!=null?t.brandName:t))!=null?s:l,typeof s===c?s.call(o,{name:"brandName",hash:{},data:a}):s))+'-instance.com" value="'+u((s=(s=n.serverUrl||(t!=null?t.serverUrl:t))!=null?s:l,typeof s===c?s.call(o,{name:"serverUrl",hash:{},data:a}):s))+'" autocapitalize="off" autocorrect="off" autocomplete="off" '+((r=n.unless.call(o,t!=null?t.loginSettingsEditable:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+">\n            "+((r=n["if"].call(o,t!=null?t.loginSettingsEditable:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n        </span>\n    </div>\n</div>\n\n<div class="field no-border">\n    <div class="field__controls">\n        <div class="field__controls--flex">\n            <span class="settings__control_label">'+u((n.str||t&&t.str||l).call(o,"LBL_USE_HTTPS",{name:"str",hash:{},data:a}))+'</span>\n            <div class="settings__control_checkbox">\n                <label class="checkbox-toggle">\n                    <input type="checkbox" class="checkbox-toggle__checkbox ssl_checkbox" '+((r=n["if"].call(o,t!=null?t.useHttps:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                    <span class="checkbox-toggle__slider"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n</div>\n\n'+((r=n["if"].call(o,t!=null?t.showExternalLogin:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<div class="page__login">\n\n    <div id="login_settings_section" class="login__body">\n        '+o((n.partial||t&&t.partial||s).call(r,"login-settings-section",t,{name:"partial",hash:{},data:a}))+'\n    </div>\n\n    <div class="login__footer">\n        <a href="javascript:void(0)" class="btn btn--primary btn--large continue_btn fast-click-highlighted" disabled="disabled" track="click:login">'+o((n.str||t&&t.str||s).call(r,"LBL_UPDATE",{name:"str",hash:{},data:a}))+"</a>\n    </div>\n\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'            <div  class="login__settings_div">\n                <a href="javascript:void(0)" class="login__settings_btn fast-click-highlighted" track="click:login-settings-btn">\n                    '+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"menu.settings",{name:"icon",hash:{additionalClass:"icon-size-md"},data:a}))+"\n                </a>\n            </div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'        <div id="login_settings_section" class="login__settings">\n            <div class="field">\n                <div class="settings__header">'+u((r=(r=n.loginSettingsTitle||(t!=null?t.loginSettingsTitle:t))!=null?r:o,typeof r===l?r.call(s,{name:"loginSettingsTitle",hash:{},data:a}):r))+'</div>\n                <div class="settings__header__desc">'+u((r=(r=n.loginSettingsDesc||(t!=null?t.loginSettingsDesc:t))!=null?r:o,typeof r===l?r.call(s,{name:"loginSettingsDesc",hash:{},data:a}):r))+"</div>\n            </div>\n            "+u((n.partial||t&&t.partial||o).call(s,"login-settings-section",t,{name:"partial",hash:{},data:a}))+"\n        </div>\n"},5:function(e,t,n,i,a,r,s){var o;return'        <form id="login_section" class="login-fields">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.displayFields:t,{name:"each",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"        </form>\n"},6:function(e,t,n,i,a,r,s){return"                "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[1],{name:"field",hash:{},data:a}))+"\n"},8:function(e,t,n,i,a){return"login__footer_show-attribution"},10:function(e,t,n,i,a){return'            <a href="javascript:void(0)" class="btn btn--primary btn--large continue_btn fast-click-highlighted" disabled="disabled" track="click:loginsettings_continue">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_CONTINUE",{name:"str",hash:{},data:a}))+"</a>\n"},12:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'            <a href="javascript:void(0)" id="login_btn" class="btn btn--primary btn--large fast-click-highlighted" disabled="disabled" track="click:login">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(s,"LBL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:a}))+"</a>\n"+((r=n["if"].call(s,t!=null?t.showExternalLogin:t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))!=null?r:"")},13:function(e,t,n,i,a){return'                <a href="javascript:void(0)" id="external_login_btn" tabindex="5" class="btn btn--primary btn--large fast-click-highlighted" track="click:external_login">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_EXTERNAL_LOGIN_BUTTON_TITLE",{name:"str",hash:{},data:a}))+"</a>\n"},15:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'        <div class="box__copyright">\n            <span class="copyright__text">powered by</span>\n            <span class="copyright__logo">\n                '+l((n.partial||t&&t.partial||o).call(s,"sugarcrm-copyright-logo",t,{name:"partial",hash:{},data:a}))+'\n            </span>\n            <span class="copyright__version">v. '+l((r=(r=n.productVersion||(t!=null?t.productVersion:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"productVersion",hash:{},data:a}):r))+"</span>\n        </div>\n"},17:function(e,t,n,i,a){var r;return'        <div class="version">v. '+e.escapeExpression((r=(r=n.productVersion||(t!=null?t.productVersion:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"productVersion",hash:{},data:a}):r))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="page__login">\n    <div class="login__header">\n'+((o=n["if"].call(u,t!=null?t.settingsButtonVisible:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        <h3 class="brand">'+f((l=(l=n.brandName||(t!=null?t.brandName:t))!=null?l:c,typeof l===d?l.call(u,{name:"brandName",hash:{},data:a}):l))+'</h3>\n    </div>\n    <div class="login__body">\n\n'+((o=n["if"].call(u,t!=null?t.firstLaunch:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.program(5,a,0,r,s),data:a}))!=null?o:"")+'\n    </div>\n    <div class="login__footer '+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(8,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n\n'+((o=n["if"].call(u,t!=null?t.firstLaunch:t,{name:"if",hash:{},fn:e.program(10,a,0,r,s),inverse:e.program(12,a,0,r,s),data:a}))!=null?o:"")+'\n    </div>\n</div>\n<div class="login__links">\n'+((o=n["if"].call(u,t!=null?t.showAttribution:t,{name:"if",hash:{},fn:e.program(15,a,0,r,s),inverse:e.program(17,a,0,r,s),data:a}))!=null?o:"")+'    <a href="'+f((l=(l=n.tosLink||(t!=null?t.tosLink:t))!=null?l:c,typeof l===d?l.call(u,{name:"tosLink",hash:{},data:a}):l))+'" class="legal-link login-links__link fast-click-highlighted" track="click:tos">'+f((n.str||t&&t.str||c).call(u,"LNK_TERMS_OF_USE",{name:"str",hash:{},data:a}))+'</a>\n    <i class="separator"></i>\n    <a href="javascript:void(0)" class="about-link login-links__link fast-click-highlighted">'+f((n.str||t&&t.str||c).call(u,"LNK_ABOUT",{name:"str",hash:{},data:a}))+'</a>\n    <i class="separator"></i>\n    <a href="'+f((l=(l=n.privacyLink||(t!=null?t.privacyLink:t))!=null?l:c,typeof l===d?l.call(u,{name:"privacyLink",hash:{},data:a}):l))+'" class="legal-link login-links__link fast-click-highlighted" track="click:privacy">'+f((n.str||t&&t.str||c).call(u,"LNK_PRIVACY_POLICY",{name:"str",hash:{},data:a}))+"</a>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},t!=null?t.dashboards:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:""},2:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.dashboards:t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:""},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,u="function";return'                    <li class="menu__item fast-click-highlighted"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.label:t,{name:"debugAttributes",hash:{removeSpaces:true},data:a}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"dashboard-id",t!=null?t.id:t,{name:"debugAttributes",hash:{},data:a}))+'>\n                        <a href="#Dashboards/'+l((r=(r=n.id||(t!=null?t.id:t))!=null?r:o,typeof r===u?r.call(s,{name:"id",hash:{},data:a}):r))+'" class="menu-item__link">\n                            '+l((n.moduleIcon||t&&t.moduleIcon||o).call(s,"Dashboard",{name:"moduleIcon",hash:{iconLabel:t!=null?t.label:t},data:a}))+'\n                            <span class="menu-item__label">'+l((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===u?r.call(s,{name:"label",hash:{},data:a}):r))+"</span>\n                        </a>\n                    </li>\n"},5:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'        <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(r,"label","Activities",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#Activities" id="activities-link" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+o((n.icon||t&&t.icon||s).call(r,"menu.activities",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+o((n.str||t&&t.str||s).call(r,"LBL_ACTIVITY_STREAM",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression,u="function";return'            <li class="menu__item fast-click-highlighted"  '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"label",t!=null?t.route:t,{name:"debugAttributes",hash:{},data:a}))+'>\n                <a href="#'+l((r=(r=n.route||(t!=null?t.route:t))!=null?r:o,typeof r===u?r.call(s,{name:"route",hash:{},data:a}):r))+'" class="menu-item__link">\n                    '+l((n.moduleIcon||t&&t.moduleIcon||o).call(s,t!=null?t.route:t,{name:"moduleIcon",hash:{additionalClass:t!=null?t.iconAdditionalClass:t,iconLabel:t!=null?t.label:t,iconKey:t!=null?t.iconKey:t},data:a}))+'\n                    <span class="menu-item__label">'+l((r=(r=n.label||(t!=null?t.label:t))!=null?r:o,typeof r===u?r.call(s,{name:"label",hash:{},data:a}):r))+"</span>\n                </a>\n            </li>\n"},9:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(r,"label","Offline",{name:"debugAttributes",hash:{},data:a}))+'>\n                <a href="#Offline" id="offline-link" class="menu-item__link offline-settings">\n                    <span class="menu-item__icon" aria-hidden="true">\n                        '+o((n.icon||t&&t.icon||s).call(r,"menu.offline-settings",{name:"icon",hash:{},data:a}))+"\n                        "+o((n.partial||t&&t.partial||s).call(r,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:a}))+'\n                    </span>\n                    <span class="menu-item__label">'+o((n.str||t&&t.str||s).call(r,"LBL_OFFLINE_MENU_SETTINGS",{name:"str",hash:{},data:a}))+"</span>\n                </a>\n            </li>\n"},11:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'            <li class="menu__item fast-click-highlighted" '+o((n.debugAttributes||t&&t.debugAttributes||s).call(r,"label","ErrorEmulation",{name:"debugAttributes",hash:{},data:a}))+'>\n                <a href="#ErrorEmulation" class="menu-item__link">\n                    <span class="menu-item__icon" aria-hidden="true">'+o((n.icon||t&&t.icon||s).call(r,"menu.errorEmulation",{name:"icon",hash:{},data:a}))+'</span>\n                    <span class="menu-item__label">Error Emulation</span>\n                </a>\n            </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="box__menu">\n    <ul class="menu__inner" id="moduleList">\n\n        <li class="menu__item menu__item--userpic fast-click-highlighted">\n            <a href="#Users/'+c((s=(s=n.userId||(t!=null?t.userId:t))!=null?s:l,typeof s===u?s.call(o,{name:"userId",hash:{},data:a}):s))+'/edit" id="me" class="menu-item__link">\n                <span class="menu-item__userpic" aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"menu.user",{name:"icon",hash:{additionalClass:"user-icon"},data:a}))+'</span>\n                <span class="menu-item__label">'+c((s=(s=n.userName||(t!=null?t.userName:t))!=null?s:l,typeof s===u?s.call(o,{name:"userName",hash:{},data:a}):s))+'</span>\n            </a>\n        </li>\n        <li class="menu__divider"></li>\n'+((r=n["if"].call(o,t!=null?t.dashboardsSupported:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Search",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#Search" id="globalSearch-link" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"menu.search",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LBL_MOBILE_GLOBAL_SEARCH",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n"+((r=n["if"].call(o,t!=null?t.activitiesSupported:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__divider"></li>\n'+((r=n.each.call(o,t!=null?t.items:t,{name:"each",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__divider"></li>\n        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","About",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#About" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"menu.about",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LNK_ABOUT",{name:"str",hash:{},data:a}))+'</span>\n            </a>\n        </li>\n        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Settings",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#Settings" id="settings-link" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"menu.settings",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LNK_SETTINGS",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n"+((r=n["if"].call(o,t!=null?t.offlineEnabled:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.errorEmulationEnabled:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))!=null?r:"")+'        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Desktop",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="'+c((s=(s=n.desktopURI||(t!=null?t.desktopURI:t))!=null?s:l,typeof s===u?s.call(o,{name:"desktopURI",hash:{},data:a}):s))+'" id="desktop" class="menu-item__link" track="click:desktop" target="_blank">\n                <span class="menu-item__icon" aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"menu.desktop",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LBL_MOBILE_DESKTOP",{name:"str",hash:{},data:a}))+'</span>\n            </a>\n        </li>\n        <li class="menu__item fast-click-highlighted" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label","Logout",{name:"debugAttributes",hash:{},data:a}))+'>\n            <a href="#logout" track="click:logout" class="menu-item__link">\n                <span class="menu-item__icon" aria-hidden="true">'+c((n.icon||t&&t.icon||l).call(o,"menu.logout",{name:"icon",hash:{},data:a}))+'</span>\n                <span class="menu-item__label">'+c((n.str||t&&t.str||l).call(o,"LBL_LOGOUT",{name:"str",hash:{},data:a}))+"</span>\n            </a>\n        </li>\n    </ul>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o=e.lambda,l=e.escapeExpression;return'            <tr>\n                <td>\n                    <input type="checkbox" class="custom-data-checkbox" data-module="'+l(o(t,t))+'">\n                    <span>'+l(o(t,t))+'</span>\n                </td>\n                <td>\n                    <input type="number" class="icon-border" data-module="'+l(o(t,t))+'" value="'+l(o(s[1]!=null?s[1].recordsPerModule:s[1],t))+'">\n                </td>\n            </tr>\n'},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'                <option data-name="'+u((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+'">'+u((r=(r=n.name||(t!=null?t.name:t))!=null?r:o,typeof r===l?r.call(s,{name:"name",hash:{},data:a}):r))+" ("+u((r=(r=n.type||(t!=null?t.type:t))!=null?r:o,typeof r===l?r.call(s,{name:"type",hash:{},data:a}):r))+")</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'<div class="scroll">\n    <div>\n        <h3>Generate all data</h3>\n        <span>Records per module</span><input id="all-data-amount" type="text" class="icon-border" value="'+f((l=(l=n.recordsPerModule||(t!=null?t.recordsPerModule:t))!=null?l:c,typeof l===d?l.call(u,{name:"recordsPerModule",hash:{},data:a}):l))+'">\n        <br>\n        <button data-action="generate-default-data" class="btn primary-btn active">Generate</button>\n    </div>\n    <hr>\n    <div>\n        <h3>Generate data by module</h3>\n        <table>\n'+((o=n.each.call(u,t!=null?t._modules:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        </table>\n        <button data-action="generate-selected-data" class="btn primary-btn active">Generate selected</button>\n    </div>\n    <hr>\n    <div>\n        <h3>Generate all relationships</h3>\n        <button data-action="generate-default-relationship" class="btn primary-btn active">Generate</button>\n        <hr>\n\n        <h3>Generate custom relationship</h3>\n        <span>Select relationship</span>\n        <select id="relation-select">\n'+((o=n.each.call(u,t!=null?t._relationships:t,{name:"each",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'        </select>\n        <div>\n            Parent module <span id="parent-module" style="font-weight: bold"></span>\n            <br>\n            Number of records<input type="number" class="icon-border" id="parent-module-amount" value="'+f((l=(l=n.parentRelationsAmount||(t!=null?t.parentRelationsAmount:t))!=null?l:c,typeof l===d?l.call(u,{name:"parentRelationsAmount",hash:{},data:a}):l))+'">\n        </div>\n        <div>\n            Child module <span id="child-module" style="font-weight: bold"></span>\n            <br>\n            Number of records<input type="number" class="icon-border" id="child-module-amount" value="'+f((l=(l=n.childRelationsAmount||(t!=null?t.childRelationsAmount:t))!=null?l:c,typeof l===d?l.call(u,{name:"childRelationsAmount",hash:{},data:a}):l))+'">\n        </div>\n        <button data-action="generate-selected-relationship" class="btn primary-btn active">Generate</button>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=e.escapeExpression;return'                    <div class="bucket-header">\n                        '+c((l=(l=n.key||a&&a.key)!=null?l:n.helperMissing,typeof l==="function"?l.call(u,{name:"key",hash:{},data:a}):l))+":\n                    </div>\n                "+c(n.log.call(u,t,{name:"log",hash:{},data:a}))+"\n"+((o=n.each.call(u,t,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")},2:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'                        <div class="offline-property">\n'+((o=n["if"].call(l,t!=null?t.isBoolean:t,{name:"if",hash:{},fn:e.program(3,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+((o=n["if"].call(l,t!=null?t.isString:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"                        </div>\n"},3:function(e,t,n,i,a,r,s){var o,l,u=t!=null?t:e.nullContext||{},c=n.helperMissing,d="function",f=e.escapeExpression;return'                            <input type="checkbox" '+((o=n["if"].call(u,t!=null?t.value:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+' class="checkbox_default" data-key="'+f((l=(l=n.key||a&&a.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:a}):l))+'" data-section="'+f(e.lambda(e.data(a,1)&&e.data(a,1).key,t))+'">'+f((l=(l=n.key||a&&a.key)!=null?l:c,typeof l===d?l.call(u,{name:"key",hash:{},data:a}):l))+"\n"},4:function(e,t,n,i,a){return"checked"},6:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},u=n.helperMissing,c="function",d=e.escapeExpression;return"                            <label>"+d((o=(o=n.key||a&&a.key)!=null?o:u,typeof o===c?o.call(l,{name:"key",hash:{},data:a}):o))+'<input type="text" style="border: 1px solid darkgray;margin: 0" data-key="'+d((o=(o=n.key||a&&a.key)!=null?o:u,typeof o===c?o.call(l,{name:"key",hash:{},data:a}):o))+'" value="'+d((o=(o=n.value||(t!=null?t.value:t))!=null?o:u,typeof o===c?o.call(l,{name:"value",hash:{},data:a}):o))+'" data-section="'+d(e.lambda(e.data(a,1)&&e.data(a,1).key,t))+'"/></label>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n\n            <div style="padding-left: 12px; margin-bottom: 10px;">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.sections:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'            </div>\n            <div><a href="#Offline/offlineDataGeneration" class="offline-list__item fast-click-highlighted">Generate fake data</a></div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression,c="function";return'                <div class="bucket-header">\n                    '+u((n.str||t&&t.str||l).call(o,"LBL_BULK_LOAD_DOWNLOAD_SETTINGS",{name:"str",hash:{},data:a}))+'\n                </div>\n                <div class="offline__text-container">\n                    <a class="btn btn--primary offline__start-stop-btn fast-click-highlighted" track="click:preload_records">'+u((s=(s=n.startStopButtText||(t!=null?t.startStopButtText:t))!=null?s:l,typeof s===c?s.call(o,{name:"startStopButtText",hash:{},data:a}):s))+'</a>\n                    \x3c!--<div class="el__spinner offline__spinner-total">--\x3e\n                        \x3c!--<div class="spinner__circle spinner__circle_1"></div>--\x3e\n                        \x3c!--<div class="spinner__circle spinner__circle_2"></div>--\x3e\n                        \x3c!--<div class="spinner__circle spinner__circle_3"></div>--\x3e\n                    \x3c!--</div>--\x3e\n                    <div class="status-text">'+u((s=(s=n.statusText||(t!=null?t.statusText:t))!=null?s:l,typeof s===c?s.call(o,{name:"statusText",hash:{},data:a}):s))+'</div>\n                    <div class="bh__timestamp">\n                        '+u((n.str||t&&t.str||l).call(o,"LBL_OFFLINE_LAST_DOWNLOAD",{name:"str",hash:{},data:a}))+": <span>"+u(e.lambda((r=t!=null?t.dbStats:t)!=null?r.lastCompletedTs:r,t))+"</span>\n                    </div>\n                </div>\n"+((r=n["if"].call(o,t!=null?t.showCellularCb:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))!=null?r:"")},2:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                    <div class="offline__control-group">\n                        <div class="offline__checkbox-data">\n                            <label class="checkbox-toggle js-checkbox-toggle--cellular">\n                                <input type="checkbox" class="checkbox-toggle__checkbox" '+((r=n["if"].call(s,t!=null?t.useCellularData:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                                <span class="checkbox-toggle__slider"></span>\n                            </label>\n                        </div>\n                        <label class="offline__control-label">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_USE_CELLULAR",{name:"str",hash:{},data:a}))+'</label>\n                        <div class="offline__message-wifi">'+l((n.str||t&&t.str||o).call(s,"LBL_BULK_LOAD_CONNECTION_USE_MESSAGE",{name:"str",hash:{},data:a}))+"</div>\n                    </div>\n"},3:function(e,t,n,i,a){return" checked"},5:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'--\x3e\n                \x3c!--<div class="bucket-header">--\x3e\n                    \x3c!--'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_DB_SIZE",{name:"str",hash:{},data:a}))+'--\x3e\n                \x3c!--</div>--\x3e\n                \x3c!--<div class="text-container">--\x3e\n                    \x3c!--'+l((n.humanFileSize||t&&t.humanFileSize||o).call(s,(r=t!=null?t.dbStats:t)!=null?r.dbSize:r,{name:"humanFileSize",hash:{},data:a}))+"--\x3e\n                \x3c!--</div>--\x3e\n            \x3c!--"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=e.escapeExpression;return'                <div class="bucket-header">\n                    '+o((n.str||t&&t.str||n.helperMissing).call(s,"LBL_OFFLINE_TOTAL_RECORDS",{name:"str",hash:{},data:a}))+': <span class="total-count">'+o(e.lambda((r=t!=null?t.dbStats:t)!=null?r.totalRecordsCount:r,t))+'</span>\n                </div>\n\n                <table class="table">\n'+((r=n.each.call(s,(r=t!=null?t.dbStats:t)!=null?r.modules:r,{name:"each",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))!=null?r:"")+"                </table>\n"},8:function(e,t,n,i,a){var r=e.lambda,s=e.escapeExpression;return'                        <tr data-id="'+s(r(t!=null?t.name:t,t))+'">\n                            <td>\n                                <div class="ellipsis"><span class="label-module-sm label-'+s(r(t!=null?t.name:t,t))+'">'+s((n.moduleIconLabel||t&&t.moduleIconLabel||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.name:t,{name:"moduleIconLabel",hash:{},data:a}))+"</span> "+s(r(t!=null?t.moduleName:t,t))+'</div>\n                            </td>\n                            <td width="100" class="td-count">\n                                    <span class="icons">\n                                        <i class="hide offline-icon status-warning"></i>\n                                    </span>\n                                <span class="lbl-count">'+s(r(t!=null?t.count:t,t))+"</span>\n                            </td>\n                        </tr>\n"},10:function(e,t,n,i,a){return"                "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_LOADING",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n'+((r=n["if"].call(s,t!=null?t.bulkLoaderEnabled:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"\n            \x3c!--we decide to hide this information for now--\x3e\n            \x3c!--"+((r=n["if"].call(s,(r=t!=null?t.dbStats:t)!=null?r.dbSize:r,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+"--\x3e\n\n"+((r=n["if"].call(s,t!=null?t.dbStats:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.program(10,a,0),data:a}))!=null?r:"")+"\n\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<span class="offline-icon '+e.escapeExpression(e.lambda(t,t))+'"></span>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'    <div class="offline-statusbar__icon offline-statusbar__isSyncing">'+o((n.partial||t&&t.partial||s).call(r,"spinner",t,{name:"partial",hash:{},data:a}))+'</div>\n    <div class="offline-statusbar__message offline-statusbar__isSyncing">'+o((n.str||t&&t.str||s).call(r,"LBL_OFFLINE_SYNC_IN_PROGRESS",{name:"str",hash:{},data:a}))+"</div>\n"},3:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'    <div class="offline-statusbar__icon">'+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusIconPartial:t,t!=null?t.offlineStatusClass:t,{name:"partial",hash:{},data:a}))+'</div>\n    <div class="offline-statusbar__message">\n        '+l((n.str||t&&t.str||o).call(s,(r=t!=null?t.offlineMessage:t)!=null?r.message:r,{name:"str",hash:{},data:a}))+'\n        <span class="offline-statusbar__network">'+l((n.str||t&&t.str||o).call(s,(r=t!=null?t.offlineMessage:t)!=null?r.networkMessage:r,{name:"str",hash:{},data:a}))+"</span>\n    </div>\n"+((r=n["if"].call(s,(r=t!=null?t.offlineMessage:t)!=null?r.lastSyncMessage:r,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))!=null?r:"")},4:function(e,t,n,i,a){var r;return'        <div class="offline-statusbar__timestamp">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},(r=t!=null?t.offlineMessage:t)!=null?r.lastSyncMessage:r,{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n["if"].call(t!=null?t:e.nullContext||{},(r=t!=null?t.offlineMessage:t)!=null?r.isSyncing:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'                    <li><a href="#Offline/offlineSettings" class="offline-list__item fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_OFFLINE_DEBUG_SETTINGS",{name:"str",hash:{},data:a}))+"</a></li>\n"},3:function(e,t,n,i,a){return'                <div class="offline__encryption-message">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_OFFLINE_DATA_ENCRYPTION_ENABLED",{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="box__edit page__offline">\n    <div class="scroll">\n        <div class="listing">\n\n            <div class="offline-statusbar">\n                '+l((n.partial||t&&t.partial||o).call(s,t!=null?t.offlineStatusBar:t,t,{name:"partial",hash:{},data:a}))+'\n            </div>\n\n            <ul class="box__offline-list">\n                <li><a href="#Offline/TxLog" class="offline-list__item fast-click-highlighted">'+l((n.str||t&&t.str||o).call(s,"LBL_TX_LOG",{name:"str",hash:{},data:a}))+'</a></li>\n                <li><a href="#Offline/offlineStats" class="offline-list__item fast-click-highlighted">'+l((n.str||t&&t.str||o).call(s,"LBL_RECORDS",{name:"str",hash:{},data:a}))+"</a></li>\n"+((r=n["if"].call(s,t!=null?t._devMode:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"            </ul>\n\n"+((r=n["if"].call(s,t!=null?t.offlineDbEncrypted:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'\n            \x3c!--\n            <div class="modal-footer">\n                <a href="javascript:void(0)" class="btn btn--primary" id="preload_relationships_button" track="click:preload_rels">'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_PREFETCH_RELATED_ACTION",{name:"str",hash:{},data:a}))+"</a> (experimental)\n            </div>\n            --\x3e\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"tint"},3:function(e,t,n,i,a){return"spinner"},5:function(e,t,n,i,a){return'        <span class="overlay-message">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.message:t,{name:"str",hash:{},data:a}))+"</span><br/>\n"},7:function(e,t,n,i,a){return'        <span class="overlay-spinner">'+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"spinner",t,{name:"partial",hash:{},data:a}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<div class="box__overlay hide '+e.escapeExpression((s=(s=n.additionalClass||(t!=null?t.additionalClass:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"additionalClass",hash:{},data:a}):s))+" "+((r=n["if"].call(o,t!=null?t.tint:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+" "+((r=n["if"].call(o,t!=null?t.spinner:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n'+((r=n["if"].call(o,t!=null?t.message:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+((r=n["if"].call(o,t!=null?t.spinner:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+"</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'<div class="box__overlay-record '+l((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:o,typeof r==="function"?r.call(s,{name:"additionalClass",hash:{},data:a}):r))+'">\n    <span class="overlay-record__message">'+l((n.str||t&&t.str||o).call(s,t!=null?t.message:t,{name:"str",hash:{},data:a}))+"</span>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="box__lead-preloader '+e.escapeExpression((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"additionalClass",hash:{},data:a}):r))+'">\n    <div class="lead-preloader__tabs">\n        <div class="lead-preloader__tab"></div>\n        <div class="lead-preloader__tab lead-preloader__tab--2"></div>\n        <div class="lead-preloader__tab lead-preloader__tab--3"></div>\n    </div>\n    <div class="lead-preloader__content">\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--2"></div>\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--3"></div>\n        <div class="lead-preloader__line-radio"></div>\n    </div>\n    <div class="lead-preloader__content">\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--2"></div>\n        <div class="lead-preloader__line-content"></div>\n        <div class="lead-preloader__line-content lead-preloader__line-content--3"></div>\n        <div class="lead-preloader__line-radio"></div>\n    </div>\n    <div class="lead-conversion__footer">\n        <div class="lead-preloader__btn1"></div>\n        <div class="lead-preloader__btn2"></div>\n    </div>\n</div>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="box__preloader '+u((r=(r=n.additionalClass||(t!=null?t.additionalClass:t))!=null?r:o,typeof r===l?r.call(s,{name:"additionalClass",hash:{},data:a}):r))+'">\n    <div class="preloader__header">\n        <h3 class="brand">'+u((r=(r=n.brandName||(t!=null?t.brandName:t))!=null?r:o,typeof r===l?r.call(s,{name:"brandName",hash:{},data:a}):r))+'</h3>\n        <div class="preloader__message">\n            '+u((n.partial||t&&t.partial||o).call(s,"spinner",t,{name:"partial",hash:{},data:a}))+"\n            "+u((n.str||t&&t.str||o).call(s,"LBL_LOADING",{name:"str",hash:{},data:a}))+"\n        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1792 1792" class="icondefault icon-spinner rotate360">\n    <path class="icon-spinner-path" fill="white" transform="translate(0,256)" d="M1792 640q0 -182 -71 -348t-191 -286t-286 -191t-348 -71t-348 71t-286 191t-191 286t-71 348q0 222 101 414.5t276.5 317t390.5 155.5v-260q-221 -45 -366.5 -221t-145.5 -406q0 -130 51 -248.5t136.5 -204t204 -136.5t248.5 -51t248.5 51t204 136.5t136.5 204t51 248.5 q0 230 -145.5 406t-366.5 221v260q215 -31 390.5 -155.5t276.5 -317t101 -414.5z" />\n</svg>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="pull-to-refresh">\n    <div class="ptr__wrap-spinner">\n        '+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"ptr-spinner",t,{name:"partial",hash:{},data:a}))+"\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"disabled"},3:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.googleAnalyticsName||(t!=null?t.googleAnalyticsName:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"googleAnalyticsName",hash:{},data:a}):r))},5:function(e,t,n,i,a){var r;return e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))},7:function(e,t,n,i,a){var r;return'style="width:'+e.escapeExpression((r=(r=n.width||(t!=null?t.width:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"width",hash:{},data:a}):r))+'"'},9:function(e,t,n,i,a){return"        "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"spinner",t,{name:"partial",hash:{},data:a}))+"\n"},11:function(e,t,n,i,a){return'        <span aria-hidden="true">'+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.iconKey:t,{name:"icon",hash:{},data:a}))+"</span>\n"},13:function(e,t,n,i,a){return"            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.label:t,{name:"str",hash:{},data:a}))+"\n"},15:function(e,t,n,i,a){var r;return"            "+e.escapeExpression((r=(r=n.name||(t!=null?t.name:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{};return'<a action="'+e.escapeExpression((s=(s=n.name||(t!=null?t.name:t))!=null?s:n.helperMissing,typeof s==="function"?s.call(o,{name:"name",hash:{},data:a}):s))+'" class="context-menu__item '+((r=n.unless.call(o,t!=null?t.isEnabled:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'" href="javascript:void(0)"\n   track="click:'+((r=n["if"].call(o,t!=null?t.googleAnalyticsName:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+'"\n   '+((r=n["if"].call(o,t!=null?t.width:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a}))!=null?r:"")+">\n"+((r=n["if"].call(o,t!=null?t.isLoading:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a}))!=null?r:"")+'    <span class="action-label">\n'+((r=n["if"].call(o,t!=null?t.label:t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.program(15,a,0),data:a}))!=null?r:"")+"    </span>\n</a>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"    "+e.escapeExpression((n.partial||t&&t.partial||n.helperMissing).call(t!=null?t:e.nullContext||{},"record-action-button",t,{name:"partial",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return(r=n.each.call(t!=null?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:""},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{},u=e.lambda,c=e.escapeExpression,d=n.helperMissing;return'            <li class="related-action__item fast-click-highlighted '+((o=n["if"].call(l,t!=null?t.isEmpty:t,{name:"if",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'">\n                <a href="#'+c(u((o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,t))+"/"+c(u((o=s[1]!=null?s[1].model:s[1])!=null?o.id:o,t))+"/link/"+c(u((o=t!=null?t.context:t)!=null?o.link:o,t))+'" class="related-action-item__link">\n                    '+c((n.moduleIcon||t&&t.moduleIcon||d).call(l,t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n                    "+c((n.str||t&&t.str||d).call(l,t!=null?t.label:t,(o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,{name:"str",hash:{},data:a}))+"\n                    "+((o=n["if"].call(l,t!=null?t.showCount:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n                </a>\n"+((o=n["if"].call(l,t!=null?t.canCreate:t,{name:"if",hash:{},fn:e.program(6,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"            </li>\n"},2:function(e,t,n,i,a){return"related-action__item_empty"},4:function(e,t,n,i,a){var r;return'<span class="records-count">('+e.escapeExpression((r=(r=n.recordsCount||(t!=null?t.recordsCount:t))!=null?r:n.helperMissing,typeof r==="function"?r.call(t!=null?t:e.nullContext||{},{name:"recordsCount",hash:{},data:a}):r))+")</span>"},6:function(e,t,n,i,a,r,s){var o,l=e.lambda,u=e.escapeExpression;return'                    <a class="related-action-item__add" href="#'+u(l((o=s[1]!=null?s[1].model:s[1])!=null?o.module:o,t))+"/"+u(l((o=s[1]!=null?s[1].model:s[1])!=null?o.id:o,t))+"/link/"+u(l((o=t!=null?t.context:t)!=null?o.link:o,t))+'/create">\n                        '+u((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},"detail.createRelated",{name:"icon",hash:{},data:a}))+"\n                    </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o;return'<div class="listing">\n    <ul class="box__related-actions">\n'+((o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.relatedList:t,{name:"each",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"    </ul>\n</div>\n"},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return"show"},3:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'                <li class="menu__item fast-click-highlighted">\n                    <a class="menu-item__link" href="#" action="'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'" track="click:'+c((s=(s=n.name||(t!=null?t.name:t))!=null?s:l,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'">\n                        <span class="menu-item__icon" aria-hidden="true">\n'+((r=n["if"].call(o,t!=null?t.iconKey:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))!=null?r:"")+'                        </span>\n                        <span class="menu-item__label" '+c((n.debugAttributes||t&&t.debugAttributes||l).call(o,"label",t!=null?t.label:t,{name:"debugAttributes",hash:{},data:a}))+">\n                            "+c((n.str||t&&t.str||l).call(o,t!=null?t.label:t,{name:"str",hash:{},data:a}))+"\n                        </span>\n                    </a>\n                </li>\n"},4:function(e,t,n,i,a){return"                                "+e.escapeExpression((n.icon||t&&t.icon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.iconKey:t,{name:"icon",hash:{},data:a}))+"\n"},6:function(e,t,n,i,a){return"                                "+e.escapeExpression((n.moduleIcon||t&&t.moduleIcon||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.module:t,{name:"moduleIcon",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{};return'<div class="right-menu '+((r=n["if"].call(s,t!=null?t._isShowing:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'">\n    <div class="right-menu__corner"></div>\n    <div class="box__menu">\n        <ul class="menu__inner">\n'+((r=n.each.call(s,t!=null?t.availableActions:t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        </ul>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'<form class="view__search" action="">\n    <div class="box__search-query not-empty">\n        '+o((n.icon||t&&t.icon||s).call(r,"header.search",{name:"icon",hash:{additionalClass:"box__search-icon"},data:a}))+"\n        "+o((n.partial||t&&t.partial||s).call(r,"spinner",t,{name:"partial",hash:{},data:a}))+'\n        <input type="search" class="search-query" value="">\n        '+o((n.clearButton||t&&t.clearButton||s).call(r,{name:"clearButton",hash:{iconKey:"header.clear"},data:a}))+'\n    </div>\n    <div class="search__cancel-btn fast-click-highlighted" track="click:searchCancel">\n        '+o((n.str||t&&t.str||s).call(r,"LBL_CANCEL_BUTTON_LABEL",{name:"str",hash:{},data:a}))+"\n    </div>\n</form>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a,r,s){var o;return(o=n.each.call(t!=null?t:e.nullContext||{},t!=null?t.fields:t,{name:"each",hash:{},fn:e.program(2,a,0,r,s),inverse:e.noop,data:a}))!=null?o:""},2:function(e,t,n,i,a,r,s){return"                    "+e.escapeExpression((n.field||t&&t.field||n.helperMissing).call(t!=null?t:e.nullContext||{},s[2],{name:"field",hash:{},data:a}))+"\n"},4:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="field field--bool">\n                    <label class="field__label" for="offline-toggle">'+l((n.str||t&&t.str||o).call(s,"LBL_OFFLINE_MODE",{name:"str",hash:{},data:a}))+'</label>\n                    <div class="field__controls"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","offline-mode",{name:"debugAttributes",hash:{},data:a}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:a}))+'>\n\n                        <label class="checkbox-toggle">\n                            <input type="checkbox" class="checkbox-toggle__checkbox" id="offline-toggle" '+((r=n["if"].call(s,t!=null?t._offlineEnabled:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                            <span class="checkbox-toggle__slider"></span>\n                        </label>\n                    </div>\n                </div>\n'},5:function(e,t,n,i,a){return" checked"},7:function(e,t,n,i,a){var r,s=t!=null?t:e.nullContext||{},o=n.helperMissing,l=e.escapeExpression;return'                <div class="field field--bool">\n                    <label class="field__label" for="touchid-toggle">\n'+((r=n["if"].call(s,t!=null?t._isFaceIdSupported:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a}))!=null?r:"")+'                    </label>\n                    <div class="field__controls"\n                        '+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-name","touchid-mode",{name:"debugAttributes",hash:{},data:a}))+"\n                        "+l((n.debugAttributes||t&&t.debugAttributes||o).call(s,"field-type","toggle",{name:"debugAttributes",hash:{},data:a}))+'>\n\n                        <label class="checkbox-toggle">\n                            <input type="checkbox" class="checkbox-toggle__checkbox" id="touchid-toggle" '+((r=n["if"].call(s,t!=null?t._touchIdEnabled:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))!=null?r:"")+'>\n                            <span class="checkbox-toggle__slider"></span>\n                        </label>\n                    </div>\n                </div>\n'},8:function(e,t,n,i,a){return"                            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_FACEID",{name:"str",hash:{},data:a}))+"\n"},10:function(e,t,n,i,a){return"                            "+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_TOUCHID",{name:"str",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l=t!=null?t:e.nullContext||{};return'<div class="page__settings box__edit">\n    <div class="scroll">\n        <div class="pad">\n'+((o=n.blockHelperMissing.call(t,e.lambda((o=t!=null?t.meta:t)!=null?o.panels:o,t),{name:"meta.panels",hash:{},fn:e.program(1,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n            <div class="settings__other-fields"></div>\n\n'+((o=n["if"].call(l,t!=null?t._showOfflineButton:t,{name:"if",hash:{},fn:e.program(4,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+"\n"+((o=n["if"].call(l,t!=null?t._showTouchIdButton:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))!=null?o:"")+'\n            <div class="modal-footer"></div>\n        </div>\n    </div>\n</div>\n'},useData:true,useDepths:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<textarea class="taggable" placeholder="'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_MOBILE_ACTIVITYSTREAM_POST_PLACEHOLDER",{name:"str",hash:{},data:a}))+'"></textarea>\n<div class="taggable-shadow"></div>\n<ul class="taggable-dropdown hide"></ul>\n'},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'                            <div class="icon-touch-id"/>\n'},3:function(e,t,n,i,a){var r=t!=null?t:e.nullContext||{},s=n.helperMissing,o=e.escapeExpression;return'                <div class="sb__footer">\n                    <span class="sbEnableBtn">\n                        <a href="javascript:void(0)" class="btn btn--primary btn--large fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_ENABLE",{name:"str",hash:{},data:a}))+'</a>\n                    </span>\n                    <span class="sbSkipBtn">\n                        <a href="javascript:void(0)" class="btn btn--secondary btn--large fast-click-highlighted">'+o((n.str||t&&t.str||s).call(r,"LBL_SKIP",{name:"str",hash:{},data:a}))+"</a>\n                    </span>\n                </div>\n"},5:function(e,t,n,i,a){return'                <div class="sb__footer sb__footer--single">\n                    <span class="sbOkBtn">\n                        <a href="javascript:void(0)" class="btn btn--primary btn--large fast-click-highlighted">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},"LBL_OK",{name:"str",hash:{},data:a}))+"</a>\n                    </span>\n                </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<div class="box__edit">\n    <div class="setupbuddy__wrapper scroll">\n        <div class="pad">\n            <div class="sb__text__container">\n                <div class="sb__text">\n                    <div class="sb__icon">\n'+((r=n["if"].call(o,t!=null?t._isTouchIdSupported:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+'                    </div>\n                    <div class="sb__header">'+u((s=(s=n.sbHeader||(t!=null?t.sbHeader:t))!=null?s:l,typeof s==="function"?s.call(o,{name:"sbHeader",hash:{},data:a}):s))+'</div>\n\n                    <span class="touch-id-enrolled">\n                        <div class="sb__description">'+u((n.nl2br||t&&t.nl2br||l).call(o,t!=null?t.sbDescription:t,{name:"nl2br",hash:{},data:a}))+"</div>\n                    </span>\n                </div>\n            </div>\n"+((r=n["if"].call(o,t!=null?t._isTouchIdEnrolled:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a}))!=null?r:"")+"        </div>\n    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({1:function(e,t,n,i,a){return'            <div class="tutorial-title">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.textTitle:t,{name:"str",hash:{},data:a}))+"</div>\n"},3:function(e,t,n,i,a){return'            <div class="tutorial-additional">'+e.escapeExpression((n.str||t&&t.str||n.helperMissing).call(t!=null?t:e.nullContext||{},t!=null?t.textAdditional:t,{name:"str",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=t!=null?t:e.nullContext||{},l=n.helperMissing,u="function";return'<div class="text-container '+e.escapeExpression((s=(s=n.textFormatClass||(t!=null?t.textFormatClass:t))!=null?s:l,typeof s===u?s.call(o,{name:"textFormatClass",hash:{},data:a}):s))+'">\n    <div class="text">\n'+((r=n["if"].call(o,t!=null?t.textTitle:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))!=null?r:"")+"        "+((r=(s=(s=n.text||(t!=null?t.text:t))!=null?s:l,typeof s===u?s.call(o,{name:"text",hash:{},data:a}):s))!=null?r:"")+"\n"+((r=n["if"].call(o,t!=null?t.textAdditional:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))!=null?r:"")+"    </div>\n</div>\n"},useData:true})},function(e,t,n){var i=n(0);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div id="tutorial__view">\n    <svg xlink="http://www.w3.org/1999/xlink" id="tutorial" height="100%" width="100%">\n        <defs>\n            <mask id="marker-glow">\n                <rect x="0" y="0" width="100%" height="100%" fill="white" />\n            </mask>\n            <g id="marker">\n                <circle cx="22" cy="22" r="20" fill="none" stroke="#fff" stroke-width="2px" />\n                <line x1="22" y1="42" x2="22" y2="67" stroke="#fff" stroke-width="1" />\n                <circle cx="22" cy="67" r="2" fill="#fff" />\n            </g>\n            <g id="tutorial-swipe">\n                <circle cx="65" cy="13" r="13" fill="#fff" />\n                <line x1="65" y1="26" x2="65" y2="46" stroke="#fff" stroke-width="2" />\n                <circle cx="65" cy="48" r="2.5" fill="#fff" />\n                <polygon points="0 13,8 8,8 12,49 12,49 14,8 14,8 18" fill="#fff" />\n            </g>\n        </defs>\n        <rect height="100%" width="100%" fill="black" fill-opacity="0.5" stroke="none" mask="url(#marker-glow)" />\n    </svg>\n    <div id="tutorial-content"></div>\n</div>\n'},useData:true})},function(e,t,n){(function n(i,a){if(true)e.exports=a();else if(typeof define==="function"&&define.amd)define([],a);else if(typeof t==="object")t["Handlebars"]=a();else i["Handlebars"]=a()})(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:false};e[i].call(a.exports,a,a.exports,n);a.loaded=true;return a.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(2);var r=i(a);var s=n(35);var o=i(s);var l=n(36);var u=n(41);var c=n(42);var d=i(c);var f=n(39);var h=i(f);var p=n(34);var m=i(p);var _=r["default"].create;function g(){var e=_();e.compile=function(t,n){return u.compile(t,n,e)};e.precompile=function(t,n){return u.precompile(t,n,e)};e.AST=o["default"];e.Compiler=u.Compiler;e.JavaScriptCompiler=d["default"];e.Parser=l.parser;e.parse=l.parse;return e}var v=g();v.create=g;m["default"](v);v.Visitor=h["default"];v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=true},function(e,t,n){"use strict";var i=n(3)["default"];var a=n(1)["default"];t.__esModule=true;var r=n(4);var s=i(r);var o=n(21);var l=a(o);var u=n(6);var c=a(u);var d=n(5);var f=i(d);var h=n(22);var p=i(h);var m=n(34);var _=a(m);function g(){var e=new s.HandlebarsEnvironment;f.extend(e,s);e.SafeString=l["default"];e.Exception=c["default"];e.Utils=f;e.escapeExpression=f.escapeExpression;e.VM=p;e.template=function(t){return p.template(t,e)};return e}var v=g();v.create=g;_["default"](v);v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}};t.__esModule=true},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=m;var a=n(5);var r=n(6);var s=i(r);var o=n(10);var l=n(18);var u=n(20);var c=i(u);var d="4.0.11";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var p="[object Object]";function m(e,t,n){this.helpers=e||{};this.partials=t||{};this.decorators=n||{};o.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}m.prototype={constructor:m,logger:c["default"],log:c["default"].log,registerHelper:function e(t,n){if(a.toString.call(t)===p){if(n){throw new s["default"]("Arg not supported with multiple helpers")}a.extend(this.helpers,t)}else{this.helpers[t]=n}},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,n){if(a.toString.call(t)===p){a.extend(this.partials,t)}else{if(typeof n==="undefined"){throw new s["default"]('Attempting to register a partial called "'+t+'" as undefined')}this.partials[t]=n}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,n){if(a.toString.call(t)===p){if(n){throw new s["default"]("Arg not supported with multiple decorators")}a.extend(this.decorators,t)}else{this.decorators[t]=n}},unregisterDecorator:function e(t){delete this.decorators[t]}};var _=c["default"].log;t.log=_;t.createFrame=a.createFrame;t.logger=c["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=s;t.indexOf=c;t.escapeExpression=d;t.isEmpty=f;t.createFrame=h;t.blockParams=p;t.appendContextPath=m;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var i=/[&<>"'`=]/g,a=/[&<>"'`=]/;function r(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++){for(var n in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],n)){e[n]=arguments[t][n]}}}return e}var o=Object.prototype.toString;t.toString=o;var l=function e(t){return typeof t==="function"};if(l(/x/)){t.isFunction=l=function(e){return typeof e==="function"&&o.call(e)==="[object Function]"}}t.isFunction=l;var u=Array.isArray||function(e){return e&&typeof e==="object"?o.call(e)==="[object Array]":false};t.isArray=u;function c(e,t){for(var n=0,i=e.length;n<i;n++){if(e[n]===t){return n}}return-1}function d(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!a.test(e)){return e}return e.replace(i,r)}function f(e){if(!e&&e!==0){return true}else if(u(e)&&e.length===0){return true}else{return false}}function h(e){var t=s({},e);t._parent=e;return t}function p(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";var i=n(7)["default"];t.__esModule=true;var a=["description","fileName","lineNumber","message","name","number","stack"];function r(e,t){var n=t&&t.loc,s=undefined,o=undefined;if(n){s=n.start.line;o=n.start.column;e+=" - "+s+":"+o}var l=Error.prototype.constructor.call(this,e);for(var u=0;u<a.length;u++){this[a[u]]=l[a[u]]}if(Error.captureStackTrace){Error.captureStackTrace(this,r)}try{if(n){this.lineNumber=s;if(i){Object.defineProperty(this,"column",{value:o,enumerable:true})}else{this.column=o}}}catch(e){}}r.prototype=new Error;t["default"]=r;e.exports=t["default"]},function(e,t,n){e.exports={default:n(8),__esModule:true}},function(e,t,n){var i=n(9);e.exports=function e(t,n,a){return i.setDesc(t,n,a)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultHelpers=v;var a=n(11);var r=i(a);var s=n(12);var o=i(s);var l=n(13);var u=i(l);var c=n(14);var d=i(c);var f=n(15);var h=i(f);var p=n(16);var m=i(p);var _=n(17);var g=i(_);function v(e){r["default"](e);o["default"](e);u["default"](e);d["default"](e);h["default"](e);m["default"](e);g["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,r=n.fn;if(t===true){return r(this)}else if(t===false||t==null){return a(this)}else if(i.isArray(t)){if(t.length>0){if(n.ids){n.ids=[n.name]}return e.helpers.each(t,n)}else{return a(this)}}else{if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name);n={data:s}}return r(t,n)}})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(5);var r=n(6);var s=i(r);t["default"]=function(e){e.registerHelper("each",function(e,t){if(!t){throw new s["default"]("Must pass iterator to #each")}var n=t.fn,i=t.inverse,r=0,o="",l=undefined,u=undefined;if(t.data&&t.ids){u=a.appendContextPath(t.data.contextPath,t.ids[0])+"."}if(a.isFunction(e)){e=e.call(this)}if(t.data){l=a.createFrame(t.data)}function c(t,i,r){if(l){l.key=t;l.index=i;l.first=i===0;l.last=!!r;if(u){l.contextPath=u+t}}o=o+n(e[t],{data:l,blockParams:a.blockParams([e[t],t],[u+t,null])})}if(e&&typeof e==="object"){if(a.isArray(e)){for(var d=e.length;r<d;r++){if(r in e){c(r,r,r===e.length-1)}}}else{var f=undefined;for(var h in e){if(e.hasOwnProperty(h)){if(f!==undefined){c(f,r-1)}f=h;r++}}if(f!==undefined){c(f,r-1,true)}}}if(r===0){o=i(this)}return o})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(6);var r=i(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("if",function(e,t){if(i.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||i.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",function(){var t=[undefined],n=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++){t.push(arguments[i])}var a=1;if(n.hash.level!=null){a=n.hash.level}else if(n.data&&n.data.level!=null){a=n.data.level}t[0]=a;e.log.apply(e,t)})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){if(i.isFunction(e)){e=e.call(this)}var n=t.fn;if(!i.isEmpty(e)){var a=t.data;if(t.data&&t.ids){a=i.createFrame(t.data);a.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])}return n(e,{data:a,blockParams:i.blockParams([e],[a&&a.contextPath])})}else{return t.inverse(this)}})};e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.registerDefaultDecorators=s;var a=n(19);var r=i(a);function s(e){r["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,a){var r=e;if(!t.partials){t.partials={};r=function(a,r){var s=n.partials;n.partials=i.extend({},s,t.partials);var o=e(a,r);n.partials=s;return o}}t.partials[a.args[0]]=a.fn;return r})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if(typeof t==="string"){var n=i.indexOf(a.methodMap,t.toLowerCase());if(n>=0){t=n}else{t=parseInt(t,10)}}return t},log:function e(t){t=a.lookupLevel(t);if(typeof console!=="undefined"&&a.lookupLevel(a.level)<=t){var n=a.methodMap[t];if(!console[n]){n="log"}for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++){r[s-1]=arguments[s]}console[n].apply(console,r)}}};t["default"]=a;e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;function n(e){this.string=e}n.prototype.toString=n.prototype.toHTML=function(){return""+this.string};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(23)["default"];var a=n(3)["default"];var r=n(1)["default"];t.__esModule=true;t.checkRevision=d;t.template=f;t.wrapProgram=h;t.resolvePartial=p;t.invokePartial=m;t.noop=_;var s=n(5);var o=a(s);var l=n(6);var u=r(l);var c=n(4);function d(e){var t=e&&e[0]||1,n=c.COMPILER_REVISION;if(t!==n){if(t<n){var i=c.REVISION_CHANGES[n],a=c.REVISION_CHANGES[t];throw new u["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}else{throw new u["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}}function f(e,t){if(!t){throw new u["default"]("No environment passed to template")}if(!e||!e.main){throw new u["default"]("Unknown template object: "+typeof e)}e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function n(n,i,a){if(a.hash){i=o.extend({},i,a.hash);if(a.ids){a.ids[0]=true}}n=t.VM.resolvePartial.call(this,n,i,a);var r=t.VM.invokePartial.call(this,n,i,a);if(r==null&&t.compile){a.partials[a.name]=t.compile(n,e.compilerOptions,t);r=a.partials[a.name](i,a)}if(r!=null){if(a.indent){var s=r.split("\n");for(var l=0,c=s.length;l<c;l++){if(!s[l]&&l+1===c){break}s[l]=a.indent+s[l]}r=s.join("\n")}return r}else{throw new u["default"]("The partial "+a.name+" could not be compiled when running in runtime-only mode")}}var a={strict:function e(t,n){if(!(n in t)){throw new u["default"]('"'+n+'" not defined in '+t)}return t[n]},lookup:function e(t,n){var i=t.length;for(var a=0;a<i;a++){if(t[a]&&t[a][n]!=null){return t[a][n]}}},lambda:function e(t,n){return typeof t==="function"?t.call(n):t},escapeExpression:o.escapeExpression,invokePartial:n,fn:function t(n){var i=e[n];i.decorator=e[n+"_d"];return i},programs:[],program:function e(t,n,i,a,r){var s=this.programs[t],o=this.fn(t);if(n||r||a||i){s=h(this,t,o,n,i,a,r)}else if(!s){s=this.programs[t]=h(this,t,o)}return s},data:function e(t,n){while(t&&n--){t=t._parent}return t},merge:function e(t,n){var i=t||n;if(t&&n&&t!==n){i=o.extend({},n,t)}return i},nullContext:i({}),noop:t.VM.noop,compilerInfo:e.compiler};function r(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var i=n.data;r._setup(n);if(!n.partial&&e.useData){i=g(t,i)}var s=undefined,o=e.useBlockParams?[]:undefined;if(e.useDepths){if(n.depths){s=t!=n.depths[0]?[t].concat(n.depths):n.depths}else{s=[t]}}function l(t){return""+e.main(a,t,a.helpers,a.partials,i,o,s)}l=v(e.main,l,a,n.depths||[],i,o);return l(t,n)}r.isTop=true;r._setup=function(n){if(!n.partial){a.helpers=a.merge(n.helpers,t.helpers);if(e.usePartial){a.partials=a.merge(n.partials,t.partials)}if(e.usePartial||e.useDecorators){a.decorators=a.merge(n.decorators,t.decorators)}}else{a.helpers=n.helpers;a.partials=n.partials;a.decorators=n.decorators}};r._child=function(t,n,i,r){if(e.useBlockParams&&!i){throw new u["default"]("must pass block params")}if(e.useDepths&&!r){throw new u["default"]("must pass parent depths")}return h(a,t,e[t],n,0,i,r)};return r}function h(e,t,n,i,a,r,s){function o(t){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var o=s;if(s&&t!=s[0]&&!(t===e.nullContext&&s[0]===null)){o=[t].concat(s)}return n(e,t,e.helpers,e.partials,a.data||i,r&&[a.blockParams].concat(r),o)}o=v(n,o,e,s,i,r);o.program=t;o.depth=s?s.length:0;o.blockParams=a||0;return o}function p(e,t,n){if(!e){if(n.name==="@partial-block"){e=n.data["partial-block"]}else{e=n.partials[n.name]}}else if(!e.call&&!n.name){n.name=e;e=n.partials[e]}return e}function m(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=true;if(n.ids){n.data.contextPath=n.ids[0]||n.data.contextPath}var a=undefined;if(n.fn&&n.fn!==_){(function(){n.data=c.createFrame(n.data);var e=n.fn;a=n.data["partial-block"]=function t(n){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];a.data=c.createFrame(a.data);a.data["partial-block"]=i;return e(n,a)};if(e.partials){n.partials=o.extend({},n.partials,e.partials)}})()}if(e===undefined&&a){e=a}if(e===undefined){throw new u["default"]("The partial "+n.name+" could not be found")}else if(e instanceof Function){return e(t,n)}}function _(){return""}function g(e,t){if(!t||!("root"in t)){t=t?c.createFrame(t):{};t.root=e}return t}function v(e,t,n,i,a,r){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],a,r,i);o.extend(t,s)}return t}},function(e,t,n){e.exports={default:n(24),__esModule:true}},function(e,t,n){n(25);e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(e){return function t(n){return e&&i(n)?e(n):n}})},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,n){var i=n(28),a=n(30),r=n(33);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],s={};s[e]=t(n);i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(29),a=n(30),r=n(31),s="prototype";var o=function(e,t,n){var l=e&o.F,u=e&o.G,c=e&o.S,d=e&o.P,f=e&o.B,h=e&o.W,p=u?a:a[t]||(a[t]={}),m=u?i:c?i[t]:(i[t]||{})[s],_,g,v;if(u)n=t;for(_ in n){g=!l&&m&&_ in m;if(g&&_ in p)continue;v=g?m[_]:n[_];p[_]=u&&typeof m[_]!="function"?n[_]:f&&g?r(v,i):h&&m[_]==v?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};t[s]=e[s];return t}(v):d&&typeof v=="function"?r(Function.call,v):v;if(d)(p[s]||(p[s]={}))[_]=v}};o.F=1;o.G=2;o.S=4;o.P=8;o.B=16;o.W=32;e.exports=o},function(e,t){var n=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=n},function(e,t){var n=e.exports={version:"1.2.6"};if(typeof __e=="number")__e=n},function(e,t,n){var i=n(32);e.exports=function(e,t,n){i(e);if(t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t){(function(n){"use strict";t.__esModule=true;t["default"]=function(e){var t=typeof n!=="undefined"?n:window,i=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=i}return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var n={helpers:{helperExpression:function e(t){return t.type==="SubExpression"||(t.type==="MustacheStatement"||t.type==="BlockStatement")&&!!(t.params&&t.params.length||t.hash)},scopedId:function e(t){return/^\.|this\b/.test(t.original)},simpleId:function e(t){return t.parts.length===1&&!n.helpers.scopedId(t)&&!t.depth}}};t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];var a=n(3)["default"];t.__esModule=true;t.parse=h;var r=n(37);var s=i(r);var o=n(38);var l=i(o);var u=n(40);var c=a(u);var d=n(5);t.parser=s["default"];var f={};d.extend(f,c);function h(e,t){if(e.type==="Program"){return e}s["default"].yy=f;f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var n=new l["default"](t);return n.accept(s["default"].parse(e))}},function(e,t){"use strict";t.__esModule=true;var n=function(){var e={trace:function e(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function e(t,n,i,a,r,s,o){var l=s.length-1;switch(r){case 1:return s[l-1];break;case 2:this.$=a.prepareProgram(s[l]);break;case 3:this.$=s[l];break;case 4:this.$=s[l];break;case 5:this.$=s[l];break;case 6:this.$=s[l];break;case 7:this.$=s[l];break;case 8:this.$=s[l];break;case 9:this.$={type:"CommentStatement",value:a.stripComment(s[l]),strip:a.stripFlags(s[l],s[l]),loc:a.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[l],value:s[l],loc:a.locInfo(this._$)};break;case 11:this.$=a.prepareRawBlock(s[l-2],s[l-1],s[l],this._$);break;case 12:this.$={path:s[l-3],params:s[l-2],hash:s[l-1]};break;case 13:this.$=a.prepareBlock(s[l-3],s[l-2],s[l-1],s[l],false,this._$);break;case 14:this.$=a.prepareBlock(s[l-3],s[l-2],s[l-1],s[l],true,this._$);break;case 15:this.$={open:s[l-5],path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:a.stripFlags(s[l-5],s[l])};break;case 16:this.$={path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:a.stripFlags(s[l-5],s[l])};break;case 17:this.$={path:s[l-4],params:s[l-3],hash:s[l-2],blockParams:s[l-1],strip:a.stripFlags(s[l-5],s[l])};break;case 18:this.$={strip:a.stripFlags(s[l-1],s[l-1]),program:s[l]};break;case 19:var u=a.prepareBlock(s[l-2],s[l-1],s[l],s[l],false,this._$),c=a.prepareProgram([u],s[l-1].loc);c.chained=true;this.$={strip:s[l-2].strip,program:c,chain:true};break;case 20:this.$=s[l];break;case 21:this.$={path:s[l-1],strip:a.stripFlags(s[l-2],s[l])};break;case 22:this.$=a.prepareMustache(s[l-3],s[l-2],s[l-1],s[l-4],a.stripFlags(s[l-4],s[l]),this._$);break;case 23:this.$=a.prepareMustache(s[l-3],s[l-2],s[l-1],s[l-4],a.stripFlags(s[l-4],s[l]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[l-3],params:s[l-2],hash:s[l-1],indent:"",strip:a.stripFlags(s[l-4],s[l]),loc:a.locInfo(this._$)};break;case 25:this.$=a.preparePartialBlock(s[l-2],s[l-1],s[l],this._$);break;case 26:this.$={path:s[l-3],params:s[l-2],hash:s[l-1],strip:a.stripFlags(s[l-4],s[l])};break;case 27:this.$=s[l];break;case 28:this.$=s[l];break;case 29:this.$={type:"SubExpression",path:s[l-3],params:s[l-2],hash:s[l-1],loc:a.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[l],loc:a.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:a.id(s[l-2]),value:s[l],loc:a.locInfo(this._$)};break;case 32:this.$=a.id(s[l-1]);break;case 33:this.$=s[l];break;case 34:this.$=s[l];break;case 35:this.$={type:"StringLiteral",value:s[l],original:s[l],loc:a.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[l]),original:Number(s[l]),loc:a.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:s[l]==="true",original:s[l]==="true",loc:a.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:a.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:a.locInfo(this._$)};break;case 40:this.$=s[l];break;case 41:this.$=s[l];break;case 42:this.$=a.preparePath(true,s[l],this._$);break;case 43:this.$=a.preparePath(false,s[l],this._$);break;case 44:s[l-2].push({part:a.id(s[l]),original:s[l],separator:s[l-1]});this.$=s[l-2];break;case 45:this.$=[{part:a.id(s[l]),original:s[l]}];break;case 46:this.$=[];break;case 47:s[l-1].push(s[l]);break;case 48:this.$=[s[l]];break;case 49:s[l-1].push(s[l]);break;case 50:this.$=[];break;case 51:s[l-1].push(s[l]);break;case 58:this.$=[];break;case 59:s[l-1].push(s[l]);break;case 64:this.$=[];break;case 65:s[l-1].push(s[l]);break;case 70:this.$=[];break;case 71:s[l-1].push(s[l]);break;case 78:this.$=[];break;case 79:s[l-1].push(s[l]);break;case 82:this.$=[];break;case 83:s[l-1].push(s[l]);break;case 86:this.$=[];break;case 87:s[l-1].push(s[l]);break;case 90:this.$=[];break;case 91:s[l-1].push(s[l]);break;case 94:this.$=[];break;case 95:s[l-1].push(s[l]);break;case 98:this.$=[s[l]];break;case 99:s[l-1].push(s[l]);break;case 100:this.$=[s[l]];break;case 101:s[l-1].push(s[l]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function e(t,n){throw new Error(t)},parse:function e(t){var n=this,i=[0],a=[null],r=[],s=this.table,o="",l=0,u=0,c=0,d=2,f=1;this.lexer.setInput(t);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var h=this.lexer.yylloc;r.push(h);var p=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function m(e){i.length=i.length-2*e;a.length=a.length-e;r.length=r.length-e}function _(){var e;e=n.lexer.lex()||1;if(typeof e!=="number"){e=n.symbols_[e]||e}return e}var g,v,b,y,x,S,w={},L,E,M,k;while(true){b=i[i.length-1];if(this.defaultActions[b]){y=this.defaultActions[b]}else{if(g===null||typeof g=="undefined"){g=_()}y=s[b]&&s[b][g]}if(typeof y==="undefined"||!y.length||!y[0]){var A="";if(!c){k=[];for(L in s[b])if(this.terminals_[L]&&L>2){k.push("'"+this.terminals_[L]+"'")}if(this.lexer.showPosition){A="Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[g]||g)+"'"}else{A="Parse error on line "+(l+1)+": Unexpected "+(g==1?"end of input":"'"+(this.terminals_[g]||g)+"'")}this.parseError(A,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:h,expected:k})}}if(y[0]instanceof Array&&y.length>1){throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+g)}switch(y[0]){case 1:i.push(g);a.push(this.lexer.yytext);r.push(this.lexer.yylloc);i.push(y[1]);g=null;if(!v){u=this.lexer.yyleng;o=this.lexer.yytext;l=this.lexer.yylineno;h=this.lexer.yylloc;if(c>0)c--}else{g=v;v=null}break;case 2:E=this.productions_[y[1]][1];w.$=a[a.length-E];w._$={first_line:r[r.length-(E||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(E||1)].first_column,last_column:r[r.length-1].last_column};if(p){w._$.range=[r[r.length-(E||1)].range[0],r[r.length-1].range[1]]}S=this.performAction.call(w,o,u,l,this.yy,y[1],a,r);if(typeof S!=="undefined"){return S}if(E){i=i.slice(0,-1*E*2);a=a.slice(0,-1*E);r=r.slice(0,-1*E)}i.push(this.productions_[y[1]][0]);a.push(w.$);r.push(w._$);M=s[i[i.length-2]][i[i.length-1]];i.push(M);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function e(t,n){if(this.yy.parser){this.yy.parser.parseError(t,n)}else{throw new Error(t)}},setInput:function e(t){this._input=t;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function e(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var n=t.match(/(?:\r\n?|\n).*/g);if(n){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return t},unput:function e(t){var n=t.length;var i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-n-1);this.offset-=n;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(i.length-1)this.yylineno-=i.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===a.length?this.yylloc.first_column:0)+a[a.length-i.length].length-i[0].length:this.yylloc.first_column-n};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-n]}return this},more:function e(){this._more=true;return this},less:function e(t){this.unput(this.match.slice(t))},pastInput:function e(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function e(){var t=this.match;if(t.length<20){t+=this._input.substr(0,20-t.length)}return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function e(){var t=this.pastInput();var n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},next:function e(){if(this.done){return this.EOF}if(!this._input)this.done=true;var t,n,i,a,r,s;if(!this._more){this.yytext="";this.match=""}var o=this._currentRules();for(var l=0;l<o.length;l++){i=this._input.match(this.rules[o[l]]);if(i&&(!n||i[0].length>n[0].length)){n=i;a=l;if(!this.options.flex)break}}if(n){s=n[0].match(/(?:\r\n?|\n).*/g);if(s)this.yylineno+=s.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length};this.yytext+=n[0];this.match+=n[0];this.matches=n;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(n[0].length);this.matched+=n[0];t=this.performAction.call(this,this.yy,this,o[a],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(t)return t;else return}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function e(){var t=this.next();if(typeof t!=="undefined"){return t}else{return this.lex()}},begin:function e(t){this.conditionStack.push(t)},popState:function e(){return this.conditionStack.pop()},_currentRules:function e(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function e(){return this.conditionStack[this.conditionStack.length-2]},pushState:function e(t){this.begin(t)}};e.options={};e.performAction=function e(t,n,i,a){function r(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}var s=a;switch(i){case 0:if(n.yytext.slice(-2)==="\\\\"){r(0,1);this.begin("mu")}else if(n.yytext.slice(-1)==="\\"){r(0,1);this.begin("emu")}else{this.begin("mu")}if(n.yytext)return 15;break;case 1:return 15;break;case 2:this.popState();return 15;break;case 3:this.begin("raw");return 15;break;case 4:this.popState();if(this.conditionStack[this.conditionStack.length-1]==="raw"){return 15}else{n.yytext=n.yytext.substr(5,n.yyleng-9);return"END_RAW_BLOCK"}break;case 5:return 15;break;case 6:this.popState();return 14;break;case 7:return 65;break;case 8:return 68;break;case 9:return 19;break;case 10:this.popState();this.begin("raw");return 23;break;case 11:return 55;break;case 12:return 60;break;case 13:return 29;break;case 14:return 47;break;case 15:this.popState();return 44;break;case 16:this.popState();return 44;break;case 17:return 34;break;case 18:return 39;break;case 19:return 51;break;case 20:return 48;break;case 21:this.unput(n.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;break;case 23:return 48;break;case 24:return 73;break;case 25:return 72;break;case 26:return 72;break;case 27:return 87;break;case 28:break;case 29:this.popState();return 54;break;case 30:this.popState();return 33;break;case 31:n.yytext=r(1,2).replace(/\\"/g,'"');return 80;break;case 32:n.yytext=r(1,2).replace(/\\'/g,"'");return 80;break;case 33:return 85;break;case 34:return 82;break;case 35:return 82;break;case 36:return 83;break;case 37:return 84;break;case 38:return 81;break;case 39:return 75;break;case 40:return 77;break;case 41:return 72;break;case 42:n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1");return 72;break;case 43:return"INVALID";break;case 44:return 5;break}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function n(){this.yy={}}n.prototype=e;e.Parser=n;return new n}();t["default"]=n;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(39);var r=i(a);function s(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.options=e}s.prototype=new r["default"];s.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var n=!this.isRootSeen;this.isRootSeen=true;var i=e.body;for(var a=0,r=i.length;a<r;a++){var s=i[a],d=this.accept(s);if(!d){continue}var f=o(i,a,n),h=l(i,a,n),p=d.openStandalone&&f,m=d.closeStandalone&&h,_=d.inlineStandalone&&f&&h;if(d.close){u(i,a,true)}if(d.open){c(i,a,true)}if(t&&_){u(i,a);if(c(i,a)){if(s.type==="PartialStatement"){s.indent=/([ \t]+$)/.exec(i[a-1].original)[1]}}}if(t&&p){u((s.program||s.inverse).body);c(i,a)}if(t&&m){u(i,a);c((s.inverse||s.program).body)}}return e};s.prototype.BlockStatement=s.prototype.DecoratorBlock=s.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,a=n;if(n&&n.chained){i=n.body[0].program;while(a.chained){a=a.body[a.body.length-1].program}}var r={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:o((i||t).body)};if(e.openStrip.close){u(t.body,null,true)}if(n){var s=e.inverseStrip;if(s.open){c(t.body,null,true)}if(s.close){u(i.body,null,true)}if(e.closeStrip.open){c(a.body,null,true)}if(!this.options.ignoreStandalone&&o(t.body)&&l(i.body)){c(t.body);u(i.body)}}else if(e.closeStrip.open){c(t.body,null,true)}return r};s.prototype.Decorator=s.prototype.MustacheStatement=function(e){return e.strip};s.prototype.PartialStatement=s.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function o(e,t,n){if(t===undefined){t=e.length}var i=e[t-1],a=e[t-2];if(!i){return n}if(i.type==="ContentStatement"){return(a||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original)}}function l(e,t,n){if(t===undefined){t=-1}var i=e[t+1],a=e[t+2];if(!i){return n}if(i.type==="ContentStatement"){return(a||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original)}}function u(e,t,n){var i=e[t==null?0:t+1];if(!i||i.type!=="ContentStatement"||!n&&i.rightStripped){return}var a=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,"");i.rightStripped=i.value!==a}function c(e,t,n){var i=e[t==null?e.length-1:t-1];if(!i||i.type!=="ContentStatement"||!n&&i.leftStripped){return}var a=i.value;i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,"");i.leftStripped=i.value!==a;return i.leftStripped}t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(6);var r=i(a);function s(){this.parents=[]}s.prototype={constructor:s,mutating:false,acceptKey:function e(t,n){var i=this.accept(t[n]);if(this.mutating){if(i&&!s.prototype[i.type]){throw new r["default"]('Unexpected node type "'+i.type+'" found when accepting '+n+" on "+t.type)}t[n]=i}},acceptRequired:function e(t,n){this.acceptKey(t,n);if(!t[n]){throw new r["default"](t.type+" requires "+n)}},acceptArray:function e(t){for(var n=0,i=t.length;n<i;n++){this.acceptKey(t,n);if(!t[n]){t.splice(n,1);n--;i--}}},accept:function e(t){if(!t){return}if(!this[t.type]){throw new r["default"]("Unknown type: "+t.type,t)}if(this.current){this.parents.unshift(this.current)}this.current=t;var n=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||n){return n}else if(n!==false){return t}},Program:function e(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:function e(t){u.call(this,t);this.acceptKey(t,"program")},ContentStatement:function e(){},CommentStatement:function e(){},SubExpression:o,PathExpression:function e(){},StringLiteral:function e(){},NumberLiteral:function e(){},BooleanLiteral:function e(){},UndefinedLiteral:function e(){},NullLiteral:function e(){},Hash:function e(t){this.acceptArray(t.pairs)},HashPair:function e(t){this.acceptRequired(t,"value")}};function o(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function l(e){o.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function u(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.SourceLocation=o;t.id=l;t.stripFlags=u;t.stripComment=c;t.preparePath=d;t.prepareMustache=f;t.prepareRawBlock=h;t.prepareBlock=p;t.prepareProgram=m;t.preparePartialBlock=_;var a=n(6);var r=i(a);function s(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var n={loc:e.path.loc};throw new r["default"](e.path.original+" doesn't match "+t,n)}}function o(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function l(e){if(/^\[.*\]$/.test(e)){return e.substr(1,e.length-2)}else{return e}}function u(e,t){return{open:e.charAt(2)==="~",close:t.charAt(t.length-3)==="~"}}function c(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function d(e,t,n){n=this.locInfo(n);var i=e?"@":"",a=[],s=0,o="";for(var l=0,u=t.length;l<u;l++){var c=t[l].part,d=t[l].original!==c;i+=(t[l].separator||"")+c;if(!d&&(c===".."||c==="."||c==="this")){if(a.length>0){throw new r["default"]("Invalid path: "+i,{loc:n})}else if(c===".."){s++;o+="../"}}else{a.push(c)}}return{type:"PathExpression",data:e,depth:s,parts:a,original:i,loc:n}}function f(e,t,n,i,a,r){var s=i.charAt(3)||i.charAt(2),o=s!=="{"&&s!=="&";var l=/\*/.test(i);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:a,loc:this.locInfo(r)}}function h(e,t,n,i){s(e,n);i=this.locInfo(i);var a={type:"Program",body:t,strip:{},loc:i};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:a,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function p(e,t,n,i,a,o){if(i&&i.path){s(e,i)}var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=undefined,c=undefined;if(n){if(l){throw new r["default"]("Unexpected inverse block on decorator",n)}if(n.chain){n.program.body[0].closeStrip=i.strip}c=n.strip;u=n.program}if(a){a=u;u=t;t=a}return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function m(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;if(n&&i){t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}}}}return{type:"Program",body:e,strip:{},loc:t}}function _(e,t,n,i){s(e,n);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;t.Compiler=c;t.precompile=d;t.compile=f;var a=n(6);var r=i(a);var s=n(5);var o=n(35);var l=i(o);var u=[].slice;function c(){}c.prototype={compiler:c,equals:function e(t){var n=this.opcodes.length;if(t.opcodes.length!==n){return false}for(var i=0;i<n;i++){var a=this.opcodes[i],r=t.opcodes[i];if(a.opcode!==r.opcode||!h(a.args,r.args)){return false}}n=this.children.length;for(var i=0;i<n;i++){if(!this.children[i].equals(t.children[i])){return false}}return true},guid:0,compile:function e(t,n){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=n;this.stringParams=n.stringParams;this.trackIds=n.trackIds;n.blockParams=n.blockParams||[];var i=n.knownHelpers;n.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true};if(i){for(var a in i){if(a in i){this.options.knownHelpers[a]=i[a]}}}return this.accept(t)},compileProgram:function e(t){var n=new this.compiler,i=n.compile(t,this.options),a=this.guid++;this.usePartial=this.usePartial||i.usePartial;this.children[a]=i;this.useDepths=this.useDepths||i.useDepths;return a},accept:function e(t){if(!this[t.type]){throw new r["default"]("Unknown type: "+t.type,t)}this.sourceNode.unshift(t);var n=this[t.type](t);this.sourceNode.shift();return n},Program:function e(t){this.options.blockParams.unshift(t.blockParams);var n=t.body,i=n.length;for(var a=0;a<i;a++){this.accept(n[a])}this.options.blockParams.shift();this.isSimple=i===1;this.blockParams=t.blockParams?t.blockParams.length:0;return this},BlockStatement:function e(t){p(t);var n=t.program,i=t.inverse;n=n&&this.compileProgram(n);i=i&&this.compileProgram(i);var a=this.classifySexpr(t);if(a==="helper"){this.helperSexpr(t,n,i)}else if(a==="simple"){this.simpleSexpr(t);this.opcode("pushProgram",n);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("blockValue",t.path.original)}else{this.ambiguousSexpr(t,n,i);this.opcode("pushProgram",n);this.opcode("pushProgram",i);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function e(t){var n=t.program&&this.compileProgram(t.program);var i=this.setupFullMustacheParams(t,n,undefined),a=t.path;this.useDecorators=true;this.opcode("registerDecorator",i.length,a.original)},PartialStatement:function e(t){this.usePartial=true;var n=t.program;if(n){n=this.compileProgram(t.program)}var i=t.params;if(i.length>1){throw new r["default"]("Unsupported number of partial arguments: "+i.length,t)}else if(!i.length){if(this.options.explicitPartialContext){this.opcode("pushLiteral","undefined")}else{i.push({type:"PathExpression",parts:[],depth:0})}}var a=t.name.original,s=t.name.type==="SubExpression";if(s){this.accept(t.name)}this.setupFullMustacheParams(t,n,undefined,true);var o=t.indent||"";if(this.options.preventIndent&&o){this.opcode("appendContent",o);o=""}this.opcode("invokePartial",s,a,o);this.opcode("append")},PartialBlockStatement:function e(t){this.PartialStatement(t)},MustacheStatement:function e(t){this.SubExpression(t);if(t.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},Decorator:function e(t){this.DecoratorBlock(t)},ContentStatement:function e(t){if(t.value){this.opcode("appendContent",t.value)}},CommentStatement:function e(){},SubExpression:function e(t){p(t);var n=this.classifySexpr(t);if(n==="simple"){this.simpleSexpr(t)}else if(n==="helper"){this.helperSexpr(t)}else{this.ambiguousSexpr(t)}},ambiguousSexpr:function e(t,n,i){var a=t.path,r=a.parts[0],s=n!=null||i!=null;this.opcode("getContext",a.depth);this.opcode("pushProgram",n);this.opcode("pushProgram",i);a.strict=true;this.accept(a);this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function e(t){var n=t.path;n.strict=true;this.accept(n);this.opcode("resolvePossibleLambda")},helperSexpr:function e(t,n,i){var a=this.setupFullMustacheParams(t,n,i),s=t.path,o=s.parts[0];if(this.options.knownHelpers[o]){this.opcode("invokeKnownHelper",a.length,o)}else if(this.options.knownHelpersOnly){throw new r["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,t)}else{s.strict=true;s.falsy=true;this.accept(s);this.opcode("invokeHelper",a.length,s.original,l["default"].helpers.simpleId(s))}},PathExpression:function e(t){this.addDepth(t.depth);this.opcode("getContext",t.depth);var n=t.parts[0],i=l["default"].helpers.scopedId(t),a=!t.depth&&!i&&this.blockParamIndex(n);if(a){this.opcode("lookupBlockParam",a,t.parts)}else if(!n){this.opcode("pushContext")}else if(t.data){this.options.data=true;this.opcode("lookupData",t.depth,t.parts,t.strict)}else{this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i)}},StringLiteral:function e(t){this.opcode("pushString",t.value)},NumberLiteral:function e(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function e(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function e(){this.opcode("pushLiteral","undefined")},NullLiteral:function e(){this.opcode("pushLiteral","null")},Hash:function e(t){var n=t.pairs,i=0,a=n.length;this.opcode("pushHash");for(;i<a;i++){this.pushParam(n[i].value)}while(i--){this.opcode("assignToHash",n[i].key)}this.opcode("popHash")},opcode:function e(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function e(t){if(!t){return}this.useDepths=true},classifySexpr:function e(t){var n=l["default"].helpers.simpleId(t.path);var i=n&&!!this.blockParamIndex(t.path.parts[0]);var a=!i&&l["default"].helpers.helperExpression(t);var r=!i&&(a||n);if(r&&!a){var s=t.path.parts[0],o=this.options;if(o.knownHelpers[s]){a=true}else if(o.knownHelpersOnly){r=false}}if(a){return"helper"}else if(r){return"ambiguous"}else{return"simple"}},pushParams:function e(t){for(var n=0,i=t.length;n<i;n++){this.pushParam(t[n])}},pushParam:function e(t){var n=t.value!=null?t.value:t.original||"";if(this.stringParams){if(n.replace){n=n.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(t.depth){this.addDepth(t.depth)}this.opcode("getContext",t.depth||0);this.opcode("pushStringParam",n,t.type);if(t.type==="SubExpression"){this.accept(t)}}else{if(this.trackIds){var i=undefined;if(t.parts&&!l["default"].helpers.scopedId(t)&&!t.depth){i=this.blockParamIndex(t.parts[0])}if(i){var a=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,a)}else{n=t.original||n;if(n.replace){n=n.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")}this.opcode("pushId",t.type,n)}}this.accept(t)}},setupFullMustacheParams:function e(t,n,i,a){var r=t.params;this.pushParams(r);this.opcode("pushProgram",n);this.opcode("pushProgram",i);if(t.hash){this.accept(t.hash)}else{this.opcode("emptyHash",a)}return r},blockParamIndex:function e(t){for(var n=0,i=this.options.blockParams.length;n<i;n++){var a=this.options.blockParams[n],r=a&&s.indexOf(a,t);if(a&&r>=0){return[n,r]}}}};function d(e,t,n){if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new r["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e)}t=t||{};if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=n.parse(e,t),a=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(a,t)}function f(e,t,n){if(t===undefined)t={};if(e==null||typeof e!=="string"&&e.type!=="Program"){throw new r["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e)}t=s.extend({},t);if(!("data"in t)){t.data=true}if(t.compat){t.useDepths=true}var i=undefined;function a(){var i=n.parse(e,t),a=(new n.Compiler).compile(i,t),r=(new n.JavaScriptCompiler).compile(a,t,undefined,true);return n.template(r)}function o(e,t){if(!i){i=a()}return i.call(this,e,t)}o._setup=function(e){if(!i){i=a()}return i._setup(e)};o._child=function(e,t,n,r){if(!i){i=a()}return i._child(e,t,n,r)};return o}function h(e,t){if(e===t){return true}if(s.isArray(e)&&s.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++){if(!h(e[n],t[n])){return false}}return true}}function p(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=true;var a=n(4);var r=n(6);var s=i(r);var o=n(5);var l=n(43);var u=i(l);function c(e){this.value=e}function d(){}d.prototype={nameLookup:function e(t,n){if(d.isValidJavaScriptVariableName(n)){return[t,".",n]}else{return[t,"[",JSON.stringify(n),"]"]}},depthedLookup:function e(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function e(){var t=a.COMPILER_REVISION,n=a.REVISION_CHANGES[t];return[t,n]},appendToBuffer:function e(t,n,i){if(!o.isArray(t)){t=[t]}t=this.source.wrap(t,n);if(this.environment.isSimple){return["return ",t,";"]}else if(i){return["buffer += ",t,";"]}else{t.appendToBuffer=true;return t}},initializeBuffer:function e(){return this.quotedString("")},compile:function e(t,n,i,a){this.environment=t;this.options=n;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!a;this.name=this.environment.name;this.isChild=!!i;this.context=i||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(t,n);this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,o=undefined,l=undefined,u=undefined,c=undefined;for(u=0,c=r.length;u<c;u++){o=r[u];this.source.currentLocation=o.loc;l=l||o.loc;this[o.opcode].apply(this,o.args)}this.source.currentLocation=l;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new s["default"]("Compile completed with content left on stack")}if(!this.decorators.isEmpty()){this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(a){this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()])}else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}else{this.decorators=undefined}var d=this.createFunctionContext(a);if(!this.isChild){var f={compiler:this.compilerInfo(),main:d};if(this.decorators){f.main_d=this.decorators;f.useDecorators=true}var h=this.context;var p=h.programs;var m=h.decorators;for(u=0,c=p.length;u<c;u++){if(p[u]){f[u]=p[u];if(m[u]){f[u+"_d"]=m[u];f.useDecorators=true}}}if(this.environment.usePartial){f.usePartial=true}if(this.options.data){f.useData=true}if(this.useDepths){f.useDepths=true}if(this.useBlockParams){f.useBlockParams=true}if(this.options.compat){f.compat=true}if(!a){f.compiler=JSON.stringify(f.compiler);this.source.currentLocation={start:{line:1,column:0}};f=this.objectLiteral(f);if(n.srcName){f=f.toStringWithSourceMap({file:n.destName});f.map=f.map&&f.map.toString()}else{f=f.toString()}}else{f.compilerOptions=this.options}return f}else{return d}},preamble:function e(){this.lastContext=0;this.source=new u["default"](this.options.srcName);this.decorators=new u["default"](this.options.srcName)},createFunctionContext:function e(t){var n="";var i=this.stackVars.concat(this.registers.list);if(i.length>0){n+=", "+i.join(", ")}var a=0;for(var r in this.aliases){var s=this.aliases[r];if(this.aliases.hasOwnProperty(r)&&s.children&&s.referenceCount>1){n+=", alias"+ ++a+"="+r;s.children[0]="alias"+a}}var o=["container","depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){o.push("blockParams")}if(this.useDepths){o.push("depths")}var l=this.mergeSource(n);if(t){o.push(l);return Function.apply(this,o)}else{return this.source.wrap(["function(",o.join(","),") {\n  ",l,"}"])}},mergeSource:function e(t){var n=this.environment.isSimple,i=!this.forceBuffer,a=undefined,r=undefined,s=undefined,o=undefined;this.source.each(function(e){if(e.appendToBuffer){if(s){e.prepend("  + ")}else{s=e}o=e}else{if(s){if(!r){a=true}else{s.prepend("buffer += ")}o.add(";");s=o=undefined}r=true;if(!n){i=false}}});if(i){if(s){s.prepend("return ");o.add(";")}else if(!r){this.source.push('return "";')}}else{t+=", buffer = "+(a?"":this.initializeBuffer());if(s){s.prepend("return buffer + ");o.add(";")}else{this.source.push("return buffer;")}}if(t){this.source.prepend("var "+t.substring(2)+(a?"":";\n"))}return this.source.merge()},blockValue:function e(t){var n=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(t,0,i);var a=this.popStack();i.splice(1,0,a);this.push(this.source.functionCall(n,"call",i))},ambiguousBlockValue:function e(){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs("",0,n,true);this.flushInline();var i=this.topStack();n.splice(1,0,i);this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",n),"}"])},appendContent:function e(t){if(this.pendingContent){t=this.pendingContent+t}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=t},append:function e(){if(this.isInline()){this.replaceStack(function(e){return[" != null ? ",e,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function e(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function e(t){this.lastContext=t},pushContext:function e(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function e(t,n,i,a){var r=0;if(!a&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(t[r++]))}else{this.pushContext()}this.resolvePath("context",t,r,n,i)},lookupBlockParam:function e(t,n){this.useBlockParams=true;this.push(["blockParams[",t[0],"][",t[1],"]"]);this.resolvePath("context",n,1)},lookupData:function e(t,n,i){if(!t){this.pushStackLiteral("data")}else{this.pushStackLiteral("container.data(data, "+t+")")}this.resolvePath("data",n,0,true,i)},resolvePath:function e(t,n,i,a,r){var s=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&r,this,n,t));return}var o=n.length;for(;i<o;i++){this.replaceStack(function(e){var r=s.nameLookup(e,n[i],t);if(!a){return[" != null ? ",r," : ",e]}else{return[" && ",r]}})}},resolvePossibleLambda:function e(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function e(t,n){this.pushContext();this.pushString(n);if(n!=="SubExpression"){if(typeof t==="string"){this.pushString(t)}else{this.pushStackLiteral(t)}}},emptyHash:function e(t){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(t?"undefined":"{}")},pushHash:function e(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function e(){var t=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(t.ids))}if(this.stringParams){this.push(this.objectLiteral(t.contexts));this.push(this.objectLiteral(t.types))}this.push(this.objectLiteral(t.values))},pushString:function e(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function e(t){this.pushStackLiteral(t)},pushProgram:function e(t){if(t!=null){this.pushStackLiteral(this.programExpression(t))}else{this.pushStackLiteral(null)}},registerDecorator:function e(t,n){var i=this.nameLookup("decorators",n,"decorator"),a=this.setupHelperArgs(n,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",a])," || fn;"])},invokeHelper:function e(t,n,i){var a=this.popStack(),r=this.setupHelper(t,n),s=i?[r.name," || "]:"";var o=["("].concat(s,a);if(!this.options.strict){o.push(" || ",this.aliasable("helpers.helperMissing"))}o.push(")");this.push(this.source.functionCall(o,"call",r.callParams))},invokeKnownHelper:function e(t,n){var i=this.setupHelper(t,n);this.push(this.source.functionCall(i.name,"call",i.callParams))},invokeAmbiguous:function e(t,n){this.useRegister("helper");var i=this.popStack();this.emptyHash();var a=this.setupHelper(0,t,n);var r=this.lastHelper=this.nameLookup("helpers",t,"helper");var s=["(","(helper = ",r," || ",i,")"];if(!this.options.strict){s[0]="(helper = ";s.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",s,a.paramsInit?["),(",a.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",a.callParams)," : helper))"])},invokePartial:function e(t,n,i){var a=[],r=this.setupParams(n,1,a);if(t){n=this.popStack();delete r.name}if(i){r.indent=JSON.stringify(i)}r.helpers="helpers";r.partials="partials";r.decorators="container.decorators";if(!t){a.unshift(this.nameLookup("partials",n,"partial"))}else{a.unshift(n)}if(this.options.compat){r.depths="depths"}r=this.objectLiteral(r);a.push(r);this.push(this.source.functionCall("container.invokePartial","",a))},assignToHash:function e(t){var n=this.popStack(),i=undefined,a=undefined,r=undefined;if(this.trackIds){r=this.popStack()}if(this.stringParams){a=this.popStack();i=this.popStack()}var s=this.hash;if(i){s.contexts[t]=i}if(a){s.types[t]=a}if(r){s.ids[t]=r}s.values[t]=n},pushId:function e(t,n,i){if(t==="BlockParam"){this.pushStackLiteral("blockParams["+n[0]+"].path["+n[1]+"]"+(i?" + "+JSON.stringify("."+i):""))}else if(t==="PathExpression"){this.pushString(n)}else if(t==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:d,compileChildren:function e(t,n){var i=t.children,a=undefined,r=undefined;for(var s=0,o=i.length;s<o;s++){a=i[s];r=new this.compiler;var l=this.matchExistingProgram(a);if(l==null){this.context.programs.push("");var u=this.context.programs.length;a.index=u;a.name="program"+u;this.context.programs[u]=r.compile(a,n,this.context,!this.precompile);this.context.decorators[u]=r.decorators;this.context.environments[u]=a;this.useDepths=this.useDepths||r.useDepths;this.useBlockParams=this.useBlockParams||r.useBlockParams;a.useDepths=this.useDepths;a.useBlockParams=this.useBlockParams}else{a.index=l.index;a.name="program"+l.index;this.useDepths=this.useDepths||l.useDepths;this.useBlockParams=this.useBlockParams||l.useBlockParams}}},matchExistingProgram:function e(t){for(var n=0,i=this.context.environments.length;n<i;n++){var a=this.context.environments[n];if(a&&a.equals(t)){return a}}},programExpression:function e(t){var n=this.environment.children[t],i=[n.index,"data",n.blockParams];if(this.useBlockParams||this.useDepths){i.push("blockParams")}if(this.useDepths){i.push("depths")}return"container.program("+i.join(", ")+")"},useRegister:function e(t){if(!this.registers[t]){this.registers[t]=true;this.registers.list.push(t)}},push:function e(t){if(!(t instanceof c)){t=this.source.wrap(t)}this.inlineStack.push(t);return t},pushStackLiteral:function e(t){this.push(new c(t))},pushSource:function e(t){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(t){this.source.push(t)}},replaceStack:function e(t){var n=["("],i=undefined,a=undefined,r=undefined;if(!this.isInline()){throw new s["default"]("replaceStack on non-inline")}var o=this.popStack(true);if(o instanceof c){i=[o.value];n=["(",i];r=true}else{a=true;var l=this.incrStack();n=["((",this.push(l)," = ",o,")"];i=this.topStack()}var u=t.call(this,i);if(!r){this.popStack()}if(a){this.stackSlot--}this.push(n.concat(u,")"))},incrStack:function e(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function e(){return"stack"+this.stackSlot},flushInline:function e(){var t=this.inlineStack;this.inlineStack=[];for(var n=0,i=t.length;n<i;n++){var a=t[n];if(a instanceof c){this.compileStack.push(a)}else{var r=this.incrStack();this.pushSource([r," = ",a,";"]);this.compileStack.push(r)}}},isInline:function e(){return this.inlineStack.length},popStack:function e(t){var n=this.isInline(),i=(n?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof c){return i.value}else{if(!n){if(!this.stackSlot){throw new s["default"]("Invalid stack pop")}this.stackSlot--}return i}},topStack:function e(){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];if(n instanceof c){return n.value}else{return n}},contextName:function e(t){if(this.useDepths&&t){return"depths["+t+"]"}else{return"depth"+t}},quotedString:function e(t){return this.source.quotedString(t)},objectLiteral:function e(t){return this.source.objectLiteral(t)},aliasable:function e(t){var n=this.aliases[t];if(n){n.referenceCount++;return n}n=this.aliases[t]=this.source.wrap(t);n.aliasable=true;n.referenceCount=1;return n},setupHelper:function e(t,n,i){var a=[],r=this.setupHelperArgs(n,t,a,i);var s=this.nameLookup("helpers",n,"helper"),o=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:a,paramsInit:r,name:s,callParams:[o].concat(a)}},setupParams:function e(t,n,i){var a={},r=[],s=[],o=[],l=!i,u=undefined;if(l){i=[]}a.name=this.quotedString(t);a.hash=this.popStack();if(this.trackIds){a.hashIds=this.popStack()}if(this.stringParams){a.hashTypes=this.popStack();a.hashContexts=this.popStack()}var c=this.popStack(),d=this.popStack();if(d||c){a.fn=d||"container.noop";a.inverse=c||"container.noop"}var f=n;while(f--){u=this.popStack();i[f]=u;if(this.trackIds){o[f]=this.popStack()}if(this.stringParams){s[f]=this.popStack();r[f]=this.popStack()}}if(l){a.args=this.source.generateArray(i)}if(this.trackIds){a.ids=this.source.generateArray(o)}if(this.stringParams){a.types=this.source.generateArray(s);a.contexts=this.source.generateArray(r)}if(this.options.data){a.data="data"}if(this.useBlockParams){a.blockParams="blockParams"}return a},setupHelperArgs:function e(t,n,i,a){var r=this.setupParams(t,n,i);r=this.objectLiteral(r);if(a){this.useRegister("options");i.push("options");return["options=",r]}else if(i){i.push(r);return""}else{return r}}};(function(){var e=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");var t=d.RESERVED_WORDS={};for(var n=0,i=e.length;n<i;n++){t[e[n]]=true}})();d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function f(e,t,n,i){var a=t.popStack(),r=0,s=n.length;if(e){s--}for(;r<s;r++){a=t.nameLookup(a,n[r],i)}if(e){return[t.aliasable("container.strict"),"(",a,", ",t.quotedString(n[r]),")"]}else{return a}}t["default"]=d;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var i=n(5);var a=undefined;try{if(false){var r=require("source-map");a=r.SourceNode}}catch(e){}if(!a){a=function(e,t,n,i){this.src="";if(i){this.add(i)}};a.prototype={add:function e(t){if(i.isArray(t)){t=t.join("")}this.src+=t},prepend:function e(t){if(i.isArray(t)){t=t.join("")}this.src=t+this.src},toStringWithSourceMap:function e(){return{code:this.toString()}},toString:function e(){return this.src}}}function s(e,t,n){if(i.isArray(e)){var a=[];for(var r=0,s=e.length;r<s;r++){a.push(t.wrap(e[r],n))}return a}else if(typeof e==="boolean"||typeof e==="number"){return e+""}return e}function o(e){this.srcFile=e;this.source=[]}o.prototype={isEmpty:function e(){return!this.source.length},prepend:function e(t,n){this.source.unshift(this.wrap(t,n))},push:function e(t,n){this.source.push(this.wrap(t,n))},merge:function e(){var t=this.empty();this.each(function(e){t.add(["  ",e,"\n"])});return t},each:function e(t){for(var n=0,i=this.source.length;n<i;n++){t(this.source[n])}},empty:function e(){var t=this.currentLocation||{start:{}};return new a(t.start.line,t.start.column,this.srcFile)},wrap:function e(t){var n=arguments.length<=1||arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(t instanceof a){return t}t=s(t,this,n);return new a(n.start.line,n.start.column,this.srcFile,t)},functionCall:function e(t,n,i){i=this.generateList(i);return this.wrap([t,n?"."+n+"(":"(",i,")"])},quotedString:function e(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function e(t){var n=[];for(var i in t){if(t.hasOwnProperty(i)){var a=s(t[i],this);if(a!=="undefined"){n.push([this.quotedString(i),":",a])}}}var r=this.generateList(n);r.prepend("{");r.add("}");return r},generateList:function e(t){var n=this.empty();for(var i=0,a=t.length;i<a;i++){if(i){n.add(",")}n.add(s(t[i],this))}return n},generateArray:function e(t){var n=this.generateList(t);n.prepend("[");n.add("]");return n}};t["default"]=o;e.exports=t["default"]}])})},function(e,t){e.exports={appId:"nomad",env:"prod",clientID:"sugar",restVersion:"10",platform:"mobile",debugSugarApi:false,logger:{level:"WARN",consoleWriter:"ConsoleWriter",formatter:"SimpleFormatter"},authStore:"cache",minServerVersion:"6.7.1",supportedServerFlavors:["PRO","CORP","ENT","ULT"],siteUrl:"..",serverTimeout:30,maxQueryResult:20,cacheMeta:true,metadataTypes:["server_info","labels","ordered_labels","modules","relationships","currencies","_override_values","config","modules_info","views","editable_dropdown_filters"],syncConfig:false,sugarLogic:{enabled:true,minServerVersion:"7.2",isDynamic:false},appName:"nomad",keychainService:"SugarCRM",productName:"SugarCRM",brandName:"SugarCRM",appVersion:"6.1.2",appBuild:"459/135",sdkVersion:"6.1.2.459-1.4.1-2",buildTag:"",trialUntil:"",deviceMode:{type:"auto",landscape:false,portrait:false},keyValueStore:"sqlKeyValueStore",keyValueStoreEncryptionEnabled:true,nativeRedirectEnabled:true,loginSettings:{editable:true,defaultServerUrl:"",useHttps:true,externalLoginVisible:true,externalLoginOnly:false,loginSettingsLimit:5,logoutTimeout:3e3},leadConversion:{enabled:true,minServerVersion:"7.9.1"},maxHttpCacheAge:10,fetchLimit:{activities:10,bulkQueryRelatedRecords:10,maxPageSize:60,recents:20,filters:100},about:{privacy:"https://sugarcrm.com/legal/privacy-policy",tos:"http://support.sugarcrm.com/Resources/Master_Subscription_Agreements/",trademark:"http://www.sugarcrm.com/about/trademark-information",displayTrademarks:false,support:"http://support.sugarcrm.com",supportEmail:"support@sugarcrm.com",showSdkVersion:false,thirdPartySoftware:"http://www.sugarcrm.com/third-party-software",showAttribution:false,supportEmailVisible:"concealed",copyrightText:"Copyright © 2004-2018 SugarCRM Inc. All Rights Reserved.",trademarkText:"Sugar and SugarCRM are trademarks owned by SugarCRM Inc. All other trademarks are the property of their respective owners.",trademark2Text:"SugarCRM ®, Sugar Enterprise™ and Sugar™ are trademarks of SugarCRM Inc."},analytics:{enabled:true,ignoreServerSetting:false,trackers:{default:{appName:"SugarCRM",optOut:false,debug:false,dryRun:false,dispatchInterval:120,sampleRate:100,anonymize:true,useHttps:true},web:"UA-33012372-6",native:"UA-33012372-5",sdk:""},instanceTracking:true,serverUrlWhiteList:["sugarinternal.sugarondemand.com",".*\\.sugarondemand.com"],instanceUrlTracking:false,dbAnalyticsInterval:24},transMap:null,stringCleanupEnabled:true,setupBuddyEnabled:true,ui:{defaultFontSize:"normal",fontSizes:{tiny:10,small:12,normal:14,large:16,larger:18,huge:20,extra_huge:22},displayInitials:true,icons:{modules:{},menu:{user:"icon icon-user",search:"icon icon-search",activities:"icon icon-clock-o",about:"icon icon-info-circle",settings:"icon icon-cog",desktop:"icon icon-desktop",errorEmulation:"icon icon-support",logout:"icon icon-sign-out",duplicate:"icon icon-copy",createRelated:"icon icon-plus-circle",linkRelated:"icon icon-link",share:"icon icon-share-alt",create:"icon icon-plus","offline-settings":"icon icon-wifi"},header:{menu:"icon icon-bars",dashboard:"icon icon-th",back:"icon icon-chevron-left",search:"icon icon-search",overflow:"icon icon-ellipsis-v",saveBtnArrow:"icon icon-caret-down",clear:"icon icon-remove"},actions:{view:"icon icon-eye",edit:"icon icon-pencil",favorite:"icon icon-star",unfavorite:"icon icon-star-o",follow:"icon icon-check-circle",unfollow:"icon icon-check-circle-o",email:"icon icon-envelope",emailbody:"icon icon-font",unlink:"icon icon-minus-circle",delete:"icon icon-trash-o",close:"icon icon-times",call:"icon icon-phone",sms:"icon icon-comment",map:"icon icon-map-marker",url:"icon icon-external-link",file:"icon icon-file",comment:"icon icon-comment",reply:"icon icon-reply",more:"icon icon-ellipsis-h",retweet:"icon icon-retweet",convert:"icon icon-external-link-square"},sorting:{asc:"icon icon-caret-up",desc:"icon icon-caret-down",checked:"icon icon-check",myItemsOnly:"icon icon-user",teamItems:"icon icon-users"},alert:{close:"icon icon-remove",star:"icon icon-star",starOpen:"icon icon-star-o"},list:{grip:"icon icon-ellipsis-v"},detail:{createRelated:"icon icon-plus"},edit:{clear:"icon icon-remove",checkboxOff:"icon icon-square-o",checkboxOn:"icon icon-check-square",radioOn:"icon icon-chevron-circle-down",radioOff:"icon icon-circle-thin",selectArrow:"icon icon-caret-down",error:"icon icon-exclamation-circle",remove:"icon icon-remove",teamsetPrimary:"icon icon-star",teamsetSecondary:"icon icon-star-o",lock:"icon icon-lock",unlock:"icon icon-unlock-alt",picture:"icon icon-picture-o",email:{actionsBtn:"icon icon-ellipsis-v",addBtn:"icon icon-plus"},multiselect:{remove:"icon icon-remove"}},swiper:{prev:"icon icon-arrow-left",next:"icon icon-arrow-right",bullet:"icon icon-circle-thin",bulletActive:"icon-circle"},dashlets:{default:"icon icon-th-large",dashablelist:"icon icon-th-list","tabbed-dashlet":{"active-tasks":"icon icon-check-square-o","planned-activities":"icon icon-calendar-o","inactive-tasks":"icon icon-check",history:"icon icon-history"},"forecast-pareto":"icon icon-bar-chart",bubblechart:"icon icon-trophy","forecast-pipeline":"icon icon-pipeline","activitystream-dashlet":"icon icon-clock-o","saved-reports-chart":"icon icon-download",forecastdetails:"icon icon-area-chart",twitter:"icon icon-twitter",webpage:"icon icon-globe","opportunity-metrics":"icon icon-line-chart",casessummary:"icon icon-folder-open"},leadConversion:{link:"icon icon-angle-right",back:"icon icon-chevron-left",next:"icon icon-chevron-right"}},fastClickEnabled:true,maxAlertsPerLayout:2,alertAutoCloseDelay:3e3,refreshOnResumeTimeout:3e4,searchDelay:600,configurableFontSize:true,numberOfAdditionalListFields:{defaultValue:1,modules:{}},displayListFieldLabel:false,forceListReload:false,defaultViewScheme:"Search",showLogLevelSetting:false,showTutorial:true,constantlyVisibleViews:["offlineSettings","offlineStats","offlineDataGeneration","TxLog","Activities","Teams","Users"],maxPreloaderPanelMessages:4},files:{resizeImagesOnUpload:600,imageResizeTimeout:8e3,iosCanvasSizeLimit:5,jpegEncoderQuality:80,fileSizeLimit:10},modules:{knownModules:["Settings","About","TxLog","Error","Forecasts","Users","Accounts","Contacts","Documents","Leads","Opportunities","RevenueLineItems","Meetings","Calls","Tasks","Notes","Reports","Cases","Quotes","Employees","Bugs","Campaigns","Contracts","KBDocuments","Products","Project","Prospects","Targets","Emails"],unsupportedModules:["Home","Bugs","Campaigns","Contracts","KBDocuments","Products","Project","Prospects","Targets","OutboundEmail","EmailAddresses","UserSignatures","ProductBundles","ProductBundleNotes","Shippers","TaxRates"],modulesWithFiles:["Documents"],requiredStringsModules:["Home"],modulesWithPDFs:["Reports"],modulesWithAvatars:["Contacts","Leads","Employees","Users"],nonDuplicatableModules:["Users","Documents","Employees","KBDocuments","Reports","Quotes","Emails"],nonCreatableModules:["TxLog","Users","Documents","Employees","KBDocuments","Reports","Quotes","Emails"],nonEditableModules:["KBDocuments","Quotes","Employees","Reports","Emails"],nonDeletableModules:["Users","Employees","Emails"],nonDeletableSalesStages:["Closed Won","Closed Lost"],nonLinkableModules:[],followableModules:["Accounts","Contacts","Leads","Opportunities","Cases","RevenueLineItems","Tasks","Notes","Products"],readonlyModules:["Teams","ProductTypes","ProductCategories","ProductTemplates","Manufacturers"],nonAclModules:["Error","Login","About"],hiddenModules:["Forecasts","Filters","Comments"]},deepLinking:{scheme:"sugarcrm",configUrlWhiteList:[]},localSecurity:{enabled:true,minServerVersion:"7.2",maxAllowedPasswordAttempt:3,touchIdForLoginEnabled:true,passkeyEnabled:false,touchIdForPasskeyEnabled:false},nps:{enabled:true,minRatingForStore:5,autoCloseTimeout:1500,sessionLength:60,attemptCriteria:[{days:7,sessions:5},{days:30,sessions:10},{days:90,sessions:15}]},teamBasedAcl:{enabled:true,minServerVersion:"7.8.0.0RC1",unsupportedModules:[]},offline:{enabled:true,storageProvider:"sql",storageAdapter:"native",storageSize:5,dbEncryptionEnabled:true,debug:{ignoreEnabled:false,render:false,forceMigrate:false,online:true,syncManagerEnabled:true,monitorStatus:true,outOfSpace:false,performanceTracing:{enabled:false,defaultReporter:"console",zipkinServerUrl:"",zipkinPayload:null}},minServerVersion:"7.1.5RC1",exclude:["About","Settings","Search","Login","Offline","Error","ErrorEmulation","Recents","Forecasts","BubbleChart","Dashboards","Activities","Filters","Comments","Home","SetupBuddy","TxLog"],customOfflineModules:["TxLog","Recents"],staticModules:["Users","Teams","ProductCategories","ProductTypes","ProductTemplates","Manufacturers"],bulkLoad:{enabled:true,requestDelay:500,initial:{pageSize:100,numPages:{default:1,modules:{ProductTypes:2}},modules:["Users","Teams","ProductCategories","ProductTypes","ProductTemplates","Manufacturers"]},complete:{pageSize:300,numPages:{default:3,modules:{ProductTemplates:9,Teams:9,Accounts:9,Contacts:9,Employees:9}}}},syncManager:{enabled:true,syncTimeout:10,executors:{wins:{enabled:true,interval:180,priority:1,preSyncMaxRecords:100,syncPageSize:20,preSyncPageSize:20},txLog:{enabled:true,interval:20,priority:0}}},maxMixedCollectionQueryResult:30,monitorTimeout:5e3,cleanUp:{defaultPurgeInterval:90,recordsToKeepPercentage:90},dbLimits:{default:1e3,modules:{ProductTemplates:3e3,Teams:3e3,Accounts:3e3,Contacts:3e3,Employees:3e3}}},dashboards:{enabled:true,minServerVersion:"7.2",recordDashboardsEnabled:true,dashlets:{dashablelist:{minServerVersion:"7.2"},"tabbed-dashlet":{minServerVersion:"7.2"},"forecast-pareto":{minServerVersion:"7.6.0.0RC3"},bubblechart:{minServerVersion:"7.2"},"forecast-pipeline":{minServerVersion:"7.6.0.0RC3"},"sales-pipeline":{minServerVersion:"7.8.0.0RC2",icon:"icon-trophy"},"activitystream-dashlet":{minServerVersion:"7.2"},"saved-reports-chart":{minServerVersion:"7.2"},forecastdetails:{minServerVersion:"7.6.0.0RC3"},twitter:{minServerVersion:"7.5.0.0"},webpage:{minServerVersion:"7.5.0.0"},"opportunity-metrics":{minServerVersion:"7.6.0.0RC3"},casessummary:{minServerVersion:"7.5.0.0"}}},raven:{enabled:true,env:"store",url:"https://0c866dad58bb4a29b88e405491cfc6a6@app.getsentry.com/22007",enhancedErrorReporting:true,maxLogSize:30},errorEmulation:{enabled:false,user:"Max"},scheme:"store"}},function(e,t,n){var i={"./af":164,"./af.js":164,"./ar":171,"./ar-dz":165,"./ar-dz.js":165,"./ar-kw":166,"./ar-kw.js":166,"./ar-ly":167,"./ar-ly.js":167,"./ar-ma":168,"./ar-ma.js":168,"./ar-sa":169,"./ar-sa.js":169,"./ar-tn":170,"./ar-tn.js":170,"./ar.js":171,"./az":172,"./az.js":172,"./be":173,"./be.js":173,"./bg":174,"./bg.js":174,"./bm":175,"./bm.js":175,"./bn":176,"./bn.js":176,"./bo":177,"./bo.js":177,"./br":178,"./br.js":178,"./bs":179,"./bs.js":179,"./ca":180,"./ca.js":180,"./cs":181,"./cs.js":181,"./cv":182,"./cv.js":182,"./cy":183,"./cy.js":183,"./da":184,"./da.js":184,"./de":187,"./de-at":185,"./de-at.js":185,"./de-ch":186,"./de-ch.js":186,"./de.js":187,"./dv":188,"./dv.js":188,"./el":189,"./el.js":189,"./en-au":190,"./en-au.js":190,"./en-ca":191,"./en-ca.js":191,"./en-gb":192,"./en-gb.js":192,"./en-ie":193,"./en-ie.js":193,"./en-nz":194,"./en-nz.js":194,"./eo":195,"./eo.js":195,"./es":198,"./es-do":196,"./es-do.js":196,"./es-us":197,"./es-us.js":197,"./es.js":198,"./et":199,"./et.js":199,"./eu":200,"./eu.js":200,"./fa":201,"./fa.js":201,"./fi":202,"./fi.js":202,"./fo":203,"./fo.js":203,"./fr":206,"./fr-ca":204,"./fr-ca.js":204,"./fr-ch":205,"./fr-ch.js":205,"./fr.js":206,"./fy":207,"./fy.js":207,"./gd":208,"./gd.js":208,"./gl":209,"./gl.js":209,"./gom-latn":210,"./gom-latn.js":210,"./gu":211,"./gu.js":211,"./he":212,"./he.js":212,"./hi":213,"./hi.js":213,"./hr":214,"./hr.js":214,"./hu":215,"./hu.js":215,"./hy-am":216,"./hy-am.js":216,"./id":217,"./id.js":217,"./is":218,"./is.js":218,"./it":219,"./it.js":219,"./ja":220,"./ja.js":220,"./jv":221,"./jv.js":221,"./ka":222,"./ka.js":222,"./kk":223,"./kk.js":223,"./km":224,"./km.js":224,"./kn":225,"./kn.js":225,"./ko":226,"./ko.js":226,"./ky":227,"./ky.js":227,"./lb":228,"./lb.js":228,"./lo":229,"./lo.js":229,"./lt":230,"./lt.js":230,"./lv":231,"./lv.js":231,"./me":232,"./me.js":232,"./mi":233,"./mi.js":233,"./mk":234,"./mk.js":234,"./ml":235,"./ml.js":235,"./mr":236,"./mr.js":236,"./ms":238,"./ms-my":237,"./ms-my.js":237,"./ms.js":238,"./my":239,"./my.js":239,"./nb":240,"./nb.js":240,"./ne":241,"./ne.js":241,"./nl":243,"./nl-be":242,"./nl-be.js":242,"./nl.js":243,"./nn":244,"./nn.js":244,"./pa-in":245,"./pa-in.js":245,"./pl":246,"./pl.js":246,"./pt":248,"./pt-br":247,"./pt-br.js":247,"./pt.js":248,"./ro":249,"./ro.js":249,"./ru":250,"./ru.js":250,"./sd":251,"./sd.js":251,"./se":252,"./se.js":252,"./si":253,"./si.js":253,"./sk":254,"./sk.js":254,"./sl":255,"./sl.js":255,"./sq":256,"./sq.js":256,"./sr":258,"./sr-cyrl":257,"./sr-cyrl.js":257,"./sr.js":258,"./ss":259,"./ss.js":259,"./sv":260,"./sv.js":260,"./sw":261,"./sw.js":261,"./ta":262,"./ta.js":262,"./te":263,"./te.js":263,"./tet":264,"./tet.js":264,"./th":265,"./th.js":265,"./tl-ph":266,"./tl-ph.js":266,"./tlh":267,"./tlh.js":267,"./tr":268,"./tr.js":268,"./tzl":269,"./tzl.js":269,"./tzm":271,"./tzm-latn":270,"./tzm-latn.js":270,"./tzm.js":271,"./uk":272,"./uk.js":272,"./ur":273,"./ur.js":273,"./uz":275,"./uz-latn":274,"./uz-latn.js":274,"./uz.js":275,"./vi":276,"./vi.js":276,"./x-pseudo":277,"./x-pseudo.js":277,"./yo":278,"./yo.js":278,"./zh-cn":279,"./zh-cn.js":279,"./zh-hk":280,"./zh-hk.js":280,"./zh-tw":281,"./zh-tw.js":281};function a(e){return n(r(e))}function r(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(i)};a.resolve=r;e.exports=a;a.id=590},function(e,t,n){(function(e,t){(function(e,n){"use strict";if(e.setImmediate){return}var i=1;var a={};var r=false;var s=e.document;var o;function l(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var n=0;n<t.length;n++){t[n]=arguments[n+1]}var r={callback:e,args:t};a[i]=r;o(i);return i++}function u(e){delete a[e]}function c(e){var t=e.callback;var i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i);break}}function d(e){if(r){setTimeout(d,0,e)}else{var t=a[e];if(t){r=true;try{c(t)}finally{u(e);r=false}}}}function f(){o=function(e){t.nextTick(function(){d(e)})}}function h(){if(e.postMessage&&!e.importScripts){var t=true;var n=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=n;return t}}function p(){var t="setImmediate$"+Math.random()+"$";var n=function(n){if(n.source===e&&typeof n.data==="string"&&n.data.indexOf(t)===0){d(+n.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",n,false)}else{e.attachEvent("onmessage",n)}o=function(n){e.postMessage(t+n,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)};o=function(t){e.port2.postMessage(t)}}function _(){var e=s.documentElement;o=function(t){var n=s.createElement("script");n.onreadystatechange=function(){d(t);n.onreadystatechange=null;e.removeChild(n);n=null};e.appendChild(n)}}function g(){o=function(e){setTimeout(d,0,e)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e;if({}.toString.call(e.process)==="[object process]"){f()}else if(h()){p()}else if(e.MessageChannel){m()}else if(s&&"onreadystatechange"in s.createElement("script")){_()}else{g()}v.setImmediate=l;v.clearImmediate=u})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(t,n(56),n(79))},function(e,t,n){var i=n(404);if(typeof i==="string")i=[[e.i,i,""]];var a;var r={hmr:true};r.transform=a;var s=n(282)(i,r);if(i.locals)e.exports=i.locals;if(false){if(!i.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!./smartbanner.css",function(){var t=require("!!../../node_modules/css-loader/index.js!./smartbanner.css");if(typeof t==="string")t=[[e.id,t,""]];s(t)})}e.hot.dispose(function(){s()})}},function(e,t,n){var i=n(405);if(typeof i==="string")i=[[e.i,i,""]];var a;var r={hmr:true};r.transform=a;var s=n(282)(i,r);if(i.locals)e.exports=i.locals;if(false){if(!i.locals){e.hot.accept("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js?noIeCompat!./bootstrap-mobile.less",function(){var t=require("!!../../node_modules/css-loader/index.js!../../node_modules/less-loader/dist/cjs.js?noIeCompat!./bootstrap-mobile.less");if(typeof t==="string")t=[[e.id,t,""]];s(t)})}e.hot.dispose(function(){s()})}},function(e,t){e.exports=function(e){var t=typeof window!=="undefined"&&window.location;if(!t){throw new Error("fixUrls requires window.location")}if(!e||typeof e!=="string"){return e}var n=t.protocol+"//"+t.host;var i=n+t.pathname.replace(/\/[^\/]*$/,"/");var a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)){return e}var r;if(a.indexOf("//")===0){r=a}else if(a.indexOf("/")===0){r=n+a}else{r=i+a.replace(/^\.\//,"")}return"url("+JSON.stringify(r)+")"});return a}},function(e,t,n){(function(){var n=this;var i=n._;var a={};var r=Array.prototype,s=Object.prototype,o=Function.prototype;var l=r.slice,u=r.unshift,c=s.toString,d=s.hasOwnProperty;var f=r.forEach,h=r.map,p=r.reduce,m=r.reduceRight,_=r.filter,g=r.every,v=r.some,b=r.indexOf,y=r.lastIndexOf,x=Array.isArray,S=Object.keys,w=o.bind;var L=function(e){return new N(e)};if(true){if(typeof e!=="undefined"&&e.exports){t=e.exports=L}t._=L}else{n["_"]=L}L.VERSION="1.3.3";var E=L.each=L.forEach=function(e,t,n){if(e==null)return;if(f&&e.forEach===f){e.forEach(t,n)}else if(e.length===+e.length){for(var i=0,r=e.length;i<r;i++){if(i in e&&t.call(n,e[i],i,e)===a)return}}else{for(var s in e){if(L.has(e,s)){if(t.call(n,e[s],s,e)===a)return}}}};L.map=L.collect=function(e,t,n){var i=[];if(e==null)return i;if(h&&e.map===h)return e.map(t,n);E(e,function(e,a,r){i[i.length]=t.call(n,e,a,r)});if(e.length===+e.length)i.length=e.length;return i};L.reduce=L.foldl=L.inject=function(e,t,n,i){var a=arguments.length>2;if(e==null)e=[];if(p&&e.reduce===p){if(i)t=L.bind(t,i);return a?e.reduce(t,n):e.reduce(t)}E(e,function(e,r,s){if(!a){n=e;a=true}else{n=t.call(i,n,e,r,s)}});if(!a)throw new TypeError("Reduce of empty array with no initial value");return n};L.reduceRight=L.foldr=function(e,t,n,i){var a=arguments.length>2;if(e==null)e=[];if(m&&e.reduceRight===m){if(i)t=L.bind(t,i);return a?e.reduceRight(t,n):e.reduceRight(t)}var r=L.toArray(e).reverse();if(i&&!a)t=L.bind(t,i);return a?L.reduce(r,t,n,i):L.reduce(r,t)};L.find=L.detect=function(e,t,n){var i;M(e,function(e,a,r){if(t.call(n,e,a,r)){i=e;return true}});return i};L.filter=L.select=function(e,t,n){var i=[];if(e==null)return i;if(_&&e.filter===_)return e.filter(t,n);E(e,function(e,a,r){if(t.call(n,e,a,r))i[i.length]=e});return i};L.reject=function(e,t,n){var i=[];if(e==null)return i;E(e,function(e,a,r){if(!t.call(n,e,a,r))i[i.length]=e});return i};L.every=L.all=function(e,t,n){var i=true;if(e==null)return i;if(g&&e.every===g)return e.every(t,n);E(e,function(e,r,s){if(!(i=i&&t.call(n,e,r,s)))return a});return!!i};var M=L.some=L.any=function(e,t,n){t||(t=L.identity);var i=false;if(e==null)return i;if(v&&e.some===v)return e.some(t,n);E(e,function(e,r,s){if(i||(i=t.call(n,e,r,s)))return a});return!!i};L.include=L.contains=function(e,t){var n=false;if(e==null)return n;if(b&&e.indexOf===b)return e.indexOf(t)!=-1;n=M(e,function(e){return e===t});return n};L.invoke=function(e,t){var n=l.call(arguments,2);return L.map(e,function(e){return(L.isFunction(t)?t||e:e[t]).apply(e,n)})};L.pluck=function(e,t){return L.map(e,function(e){return e[t]})};L.max=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&L.isEmpty(e))return-Infinity;var i={computed:-Infinity};E(e,function(e,a,r){var s=t?t.call(n,e,a,r):e;s>=i.computed&&(i={value:e,computed:s})});return i.value};L.min=function(e,t,n){if(!t&&L.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&L.isEmpty(e))return Infinity;var i={computed:Infinity};E(e,function(e,a,r){var s=t?t.call(n,e,a,r):e;s<i.computed&&(i={value:e,computed:s})});return i.value};L.shuffle=function(e){var t=[],n;E(e,function(e,i,a){n=Math.floor(Math.random()*(i+1));t[i]=t[n];t[n]=e});return t};L.sortBy=function(e,t,n){var i=L.isFunction(t)?t:function(e){return e[t]};return L.pluck(L.map(e,function(e,t,a){return{value:e,criteria:i.call(n,e,t,a)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n===void 0)return 1;if(i===void 0)return-1;return n<i?-1:n>i?1:0}),"value")};L.groupBy=function(e,t){var n={};var i=L.isFunction(t)?t:function(e){return e[t]};E(e,function(e,t){var a=i(e,t);(n[a]||(n[a]=[])).push(e)});return n};L.sortedIndex=function(e,t,n){n||(n=L.identity);var i=0,a=e.length;while(i<a){var r=i+a>>1;n(e[r])<n(t)?i=r+1:a=r}return i};L.toArray=function(e){if(!e)return[];if(L.isArray(e))return l.call(e);if(L.isArguments(e))return l.call(e);if(e.toArray&&L.isFunction(e.toArray))return e.toArray();return L.values(e)};L.size=function(e){return L.isArray(e)?e.length:L.keys(e).length};L.first=L.head=L.take=function(e,t,n){return t!=null&&!n?l.call(e,0,t):e[0]};L.initial=function(e,t,n){return l.call(e,0,e.length-(t==null||n?1:t))};L.last=function(e,t,n){if(t!=null&&!n){return l.call(e,Math.max(e.length-t,0))}else{return e[e.length-1]}};L.rest=L.tail=function(e,t,n){return l.call(e,t==null||n?1:t)};L.compact=function(e){return L.filter(e,function(e){return!!e})};L.flatten=function(e,t){return L.reduce(e,function(e,n){if(L.isArray(n))return e.concat(t?n:L.flatten(n));e[e.length]=n;return e},[])};L.without=function(e){return L.difference(e,l.call(arguments,1))};L.uniq=L.unique=function(e,t,n){var i=n?L.map(e,n):e;var a=[];if(e.length<3)t=true;L.reduce(i,function(n,i,r){if(t?L.last(n)!==i||!n.length:!L.include(n,i)){n.push(i);a.push(e[r])}return n},[]);return a};L.union=function(){return L.uniq(L.flatten(arguments,true))};L.intersection=L.intersect=function(e){var t=l.call(arguments,1);return L.filter(L.uniq(e),function(e){return L.every(t,function(t){return L.indexOf(t,e)>=0})})};L.difference=function(e){var t=L.flatten(l.call(arguments,1),true);return L.filter(e,function(e){return!L.include(t,e)})};L.zip=function(){var e=l.call(arguments);var t=L.max(L.pluck(e,"length"));var n=new Array(t);for(var i=0;i<t;i++)n[i]=L.pluck(e,""+i);return n};L.indexOf=function(e,t,n){if(e==null)return-1;var i,a;if(n){i=L.sortedIndex(e,t);return e[i]===t?i:-1}if(b&&e.indexOf===b)return e.indexOf(t);for(i=0,a=e.length;i<a;i++)if(i in e&&e[i]===t)return i;return-1};L.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1};L.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0);var a=0;var r=new Array(i);while(a<i){r[a++]=e;e+=n}return r};var k=function(){};L.bind=function e(t,n){var i,a;if(t.bind===w&&w)return w.apply(t,l.call(arguments,1));if(!L.isFunction(t))throw new TypeError;a=l.call(arguments,2);return i=function(){if(!(this instanceof i))return t.apply(n,a.concat(l.call(arguments)));k.prototype=t.prototype;var e=new k;var r=t.apply(e,a.concat(l.call(arguments)));if(Object(r)===r)return r;return e}};L.bindAll=function(e){var t=l.call(arguments,1);if(t.length==0)t=L.functions(e);E(t,function(t){e[t]=L.bind(e[t],e)});return e};L.memoize=function(e,t){var n={};t||(t=L.identity);return function(){var i=t.apply(this,arguments);return L.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}};L.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};L.defer=function(e){return L.delay.apply(L,[e,1].concat(l.call(arguments,1)))};L.throttle=function(e,t){var n,i,a,r,s,o;var l=L.debounce(function(){s=r=false},t);return function(){n=this;i=arguments;var u=function(){a=null;if(s)e.apply(n,i);l()};if(!a)a=setTimeout(u,t);if(r){s=true}else{o=e.apply(n,i)}l();r=true;return o}};L.debounce=function(e,t,n){var i;return function(){var a=this,r=arguments;var s=function(){i=null;if(!n)e.apply(a,r)};if(n&&!i)e.apply(a,r);clearTimeout(i);i=setTimeout(s,t)}};L.once=function(e){var t=false,n;return function(){if(t)return n;t=true;return n=e.apply(this,arguments)}};L.wrap=function(e,t){return function(){var n=[e].concat(l.call(arguments,0));return t.apply(this,n)}};L.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};L.after=function(e,t){if(e<=0)return t();return function(){if(--e<1){return t.apply(this,arguments)}}};L.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)if(L.has(e,n))t[t.length]=n;return t};L.values=function(e){return L.map(e,L.identity)};L.functions=L.methods=function(e){var t=[];for(var n in e){if(L.isFunction(e[n]))t.push(n)}return t.sort()};L.extend=function(e){E(l.call(arguments,1),function(t){for(var n in t){e[n]=t[n]}});return e};L.pick=function(e){var t={};E(L.flatten(l.call(arguments,1)),function(n){if(n in e)t[n]=e[n]});return t};L.defaults=function(e){E(l.call(arguments,1),function(t){for(var n in t){if(e[n]==null)e[n]=t[n]}});return e};L.clone=function(e){if(!L.isObject(e))return e;return L.isArray(e)?e.slice():L.extend({},e)};L.tap=function(e,t){t(e);return e};function A(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e._chain)e=e._wrapped;if(t._chain)t=t._wrapped;if(e.isEqual&&L.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&L.isFunction(t.isEqual))return t.isEqual(e);var i=c.call(e);if(i!=c.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var a=n.length;while(a--){if(n[a]==e)return true}n.push(e);var r=0,s=true;if(i=="[object Array]"){r=e.length;s=r==t.length;if(s){while(r--){if(!(s=r in e==r in t&&A(e[r],t[r],n)))break}}}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return false;for(var o in e){if(L.has(e,o)){r++;if(!(s=L.has(t,o)&&A(e[o],t[o],n)))break}}if(s){for(o in t){if(L.has(t,o)&&!r--)break}s=!r}}n.pop();return s}L.isEqual=function(e,t){return A(e,t,[])};L.isEmpty=function(e){if(e==null)return true;if(L.isArray(e)||L.isString(e))return e.length===0;for(var t in e)if(L.has(e,t))return false;return true};L.isElement=function(e){return!!(e&&e.nodeType==1)};L.isArray=x||function(e){return c.call(e)=="[object Array]"};L.isObject=function(e){return e===Object(e)};L.isArguments=function(e){return c.call(e)=="[object Arguments]"};if(!L.isArguments(arguments)){L.isArguments=function(e){return!!(e&&L.has(e,"callee"))}}L.isFunction=function(e){return c.call(e)=="[object Function]"};L.isString=function(e){return c.call(e)=="[object String]"};L.isNumber=function(e){return c.call(e)=="[object Number]"};L.isFinite=function(e){return L.isNumber(e)&&isFinite(e)};L.isNaN=function(e){return e!==e};L.isBoolean=function(e){return e===true||e===false||c.call(e)=="[object Boolean]"};L.isDate=function(e){return c.call(e)=="[object Date]"};L.isRegExp=function(e){return c.call(e)=="[object RegExp]"};L.isNull=function(e){return e===null};L.isUndefined=function(e){return e===void 0};L.has=function(e,t){return d.call(e,t)};L.noConflict=function(){n._=i;return this};L.identity=function(e){return e};L.times=function(e,t,n){for(var i=0;i<e;i++)t.call(n,i)};L.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};L.result=function(e,t){if(e==null)return null;var n=e[t];return L.isFunction(n)?n.call(e):n};L.mixin=function(e){E(L.functions(e),function(t){U(t,L[t]=e[t])})};var T=0;L.uniqueId=function(e){var t=T++;return e?e+t:t};L.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/;var D={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var R in D)D[D[R]]=R;var O=/\\|'|\r|\n|\t|\u2028|\u2029/g;var I=/\\(\\|'|r|n|t|u2028|u2029)/g;var F=function(e){return e.replace(I,function(e,t){return D[t]})};L.template=function(e,t,n){n=L.defaults(n||{},L.templateSettings);var i="__p+='"+e.replace(O,function(e){return"\\"+D[e]}).replace(n.escape||C,function(e,t){return"'+\n_.escape("+F(t)+")+\n'"}).replace(n.interpolate||C,function(e,t){return"'+\n("+F(t)+")+\n'"}).replace(n.evaluate||C,function(e,t){return"';\n"+F(t)+"\n;__p+='"})+"';\n";if(!n.variable)i="with(obj||{}){\n"+i+"}\n";i="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var a=new Function(n.variable||"obj","_",i);if(t)return a(t,L);var r=function(e){return a.call(this,e,L)};r.source="function("+(n.variable||"obj")+"){\n"+i+"}";return r};L.chain=function(e){return L(e).chain()};var N=function(e){this._wrapped=e};L.prototype=N.prototype;var B=function(e,t){return t?L(e).chain():e};var U=function(e,t){N.prototype[e]=function(){var e=l.call(arguments);u.call(e,this._wrapped);return B(t.apply(L,e),this._chain)}};L.mixin(L);E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];N.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;if((e=="shift"||e=="splice")&&i===0)delete n[0];return B(n,this._chain)}});E(["concat","join","slice"],function(e){var t=r[e];N.prototype[e]=function(){return B(t.apply(this._wrapped,arguments),this._chain)}});N.prototype.chain=function(){this._chain=true;return this};N.prototype.value=function(){return this._wrapped}}).call(this)},function(e,t,n){var i,a,r,s,o,l,u,c,d,f,h=[].slice;c=n(595);i=Object.getPrototypeOf;a=Object.prototype;d={},r=d.hasOwnProperty,s=d.toString;o=t.DEFAULT_DELEGATE_OPTIONS={getter:"get",setter:"set",deleter:"unset"};l=t.TOMBSTONE={};u=t.DEFAULT_NESTED_OPTIONS=p({ensure:false,tombstone:l},o);f={isMember:function(e,t){var n,i;n=c.unique([].slice.call(arguments,1));i=c.intersection(c.values(e),n);return c.isEqual(n,i)},get:function(e,t,n,i){var a;if(e==null){return}a=(i!=null?i.getter:void 8)||"get";if(typeof e[a]==="function"){return e[a](t,n,i)}else{if(e[t]!==void 8){return e[t]}else{return n}}},set:function(e,t,n,i){var a,r,s;if(e==null){return}if(t!=null&&c.isObject(t)){s=[t,n],a=s[0],i=s[1]}else{a=(s={},s[t+""]=n,s)}r=(i!=null?i.setter:void 8)||"set";if(typeof e[r]==="function"){for(t in a){n=a[t];e[r](t,n,i)}}else{for(t in a){n=a[t];e[t]=n}}return e},unset:function(e,t,n){var i,a;if(e==null){return}i=(n!=null?n.deleter:void 8)||"unset";if(typeof e[i]==="function"){return e[i](t,n)}else{return a=e[t],delete e[t],a}},getNestedMeta:function(e,t,n){var i;if(typeof t==="string"){t=t.split(".")}i=t.length-1;n=p(c.clone(u),n||{});return c.reduce(t,function(e,t,a){var r;if(e==null){return}r=f.get(e,t,void 8,n);if(r===n.tombstone){if(!ops.ensure){return}r=void 8}if(a===i){return{key:t,val:r,obj:e,opts:n}}if(r==null&&n.ensure){r={};f.set(e,t,r,n)}return r},e)},getNested:function(e,t,n,i){var a;a=f.getNestedMeta(e,t,i);if((a!=null?a.val:void 8)===void 8){return n}return a.val},setNested:function(e,t,n,i){var a,r,s;if(!(a=f.getNestedMeta(e,t,i))){return}e=a.obj,r=a.key,s=a.val,i=a.opts;f.set(e,r,n,i);return s},unsetNested:function(e,t,n){var i,a,r;if(!(i=f.getNestedMeta(e,t,n))){return}e=i.obj,a=i.key,r=i.val,n=i.opts;f.unset(e,a,n);return r},isPlainObject:function(e){var t;if(!e||s.call(e)!=="[object Object]"||e.nodeType||e.setInterval){return false}if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf")){return false}for(t in e){}return t===void 8||r.call(e,t)},remove:function(e,t){var n,i,a,r,s;n=[].slice.call(arguments,1);if(c.isArray(e)||e instanceof Array){for(r=0,s=n.length;r<s;++r){t=n[r];i=e.indexOf(t);if(i!==-1){e.splice(i,1)}}}else{for(a in e){t=e[a];if(-1!==n.indexOf(t)){delete e[a]}}}return e},items:function(e){if(c.isObject(e)&&!c.isArguments(e)){return c.map(e,function(e,t){return[t,e]})}else{return[].slice.call(e)}},merge:function(e){var t,n,i,a;e==null&&(e={});t=h.call(arguments,1);if(!(typeof e==="object"||c.isFunction(e))){e=c.isArray(t[0])?[]:{}}for(i=0,a=t.length;i<a;++i){n=t[i];if(n==null){continue}c.each(n,r)}return e;function r(t,n){var i,a;i=e[n];if(e===t){return}if(t&&(f.isPlainObject(t)||(a=c.isArray(t)))){if(a){if(!c.isArray(i)){i=[]}}else{if(!(i&&typeof i==="object")){i={}}}return f.set(e,n,f.merge(i,t))}else if(t!==void 8){return f.set(e,n,t)}}}};p(t,f);function p(e,t){var n={}.hasOwnProperty;for(var i in t)if(n.call(t,i))e[i]=t[i];return e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t){(function(e){var t=0,n=window.document,i,a,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,o=/^(?:text|application)\/xml/i,l="application/json",u="text/html",c=/^\s*$/,d=n.createElement("a");d.href=window.location.href;function f(t,n,i){var a=e.Event(n);e(t).trigger(a,i);return!a.isDefaultPrevented()}function h(e,t,i,a){if(e.global)return f(t||n,i,a)}e.active=0;function p(t){if(t.global&&e.active++===0)h(t,null,"ajaxStart")}function m(t){if(t.global&&!--e.active)h(t,null,"ajaxStop")}function _(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===false||h(t,n,"ajaxBeforeSend",[e,t])===false)return false;h(t,n,"ajaxSend",[e,t])}function g(e,t,n,i){var a=n.context,r="success";n.success.call(a,e,r,t);if(i)i.resolveWith(a,[e,r,t]);h(n,a,"ajaxSuccess",[t,n,e]);b(r,t,n)}function v(e,t,n,i,a){var r=i.context;i.error.call(r,n,t,e);if(a)a.rejectWith(r,[n,t,e]);h(i,r,"ajaxError",[n,i,e||t]);b(t,n,i)}function b(e,t,n){var i=n.context;n.complete.call(i,t,e);h(n,i,"ajaxComplete",[t,n]);m(n)}function y(){}e.ajaxJSONP=function(i,a){if(!("type"in i))return e.ajax(i);var r=i.jsonpCallback,s=(e.isFunction(r)?r():r)||"jsonp"+ ++t,o=n.createElement("script"),l=window[s],u,c=function(t){e(o).triggerHandler("error",t||"abort")},d={abort:c},f;if(a)a.promise(d);e(o).on("load error",function(t,n){clearTimeout(f);e(o).off().remove();if(t.type=="error"||!u){v(null,n||"error",d,i,a)}else{g(u[0],d,i,a)}window[s]=l;if(u&&e.isFunction(l))l(u[0]);l=u=undefined});if(_(d,i)===false){c("abort");return d}window[s]=function(){u=arguments};o.src=i.url.replace(/\?(.+)=\?/,"?$1="+s);n.head.appendChild(o);if(i.timeout>0)f=setTimeout(function(){c("timeout")},i.timeout);return d};e.ajaxSettings={type:"GET",beforeSend:y,success:y,error:y,complete:y,context:null,global:true,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:l,xml:"application/xml, text/xml",html:u,text:"text/plain"},crossDomain:false,timeout:0,processData:true,cache:true};function x(e){if(e)e=e.split(";",2)[0];return e&&(e==u?"html":e==l?"json":s.test(e)?"script":o.test(e)&&"xml")||"text"}function S(e,t){if(t=="")return e;return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function w(t){if(t.processData&&t.data&&e.type(t.data)!="string")t.data=e.param(t.data,t.traditional);if(t.data&&(!t.type||t.type.toUpperCase()=="GET"))t.url=S(t.url,t.data),t.data=undefined}e.ajax=function(t){var r=e.extend({},t||{}),s=e.Deferred&&e.Deferred(),o;for(i in e.ajaxSettings)if(r[i]===undefined)r[i]=e.ajaxSettings[i];p(r);if(!r.crossDomain){o=n.createElement("a");o.href=r.url;o.href=o.href;r.crossDomain=d.protocol+"//"+d.host!==o.protocol+"//"+o.host}if(!r.url)r.url=window.location.toString();w(r);var l=r.dataType,u=/\?.+=\?/.test(r.url);if(u)l="jsonp";if(r.cache===false||(!t||t.cache!==true)&&("script"==l||"jsonp"==l))r.url=S(r.url,"_="+Date.now());if("jsonp"==l){if(!u)r.url=S(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===false?"":"callback=?");return e.ajaxJSONP(r,s)}var f=r.accepts[l],h={},m=function(e,t){h[e.toLowerCase()]=[e,t]},b=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,L=r.xhr(),E=L.setRequestHeader,M;if(s)s.promise(L);if(!r.crossDomain)m("X-Requested-With","XMLHttpRequest");m("Accept",f||"*/*");if(f=r.mimeType||f){if(f.indexOf(",")>-1)f=f.split(",",2)[0];L.overrideMimeType&&L.overrideMimeType(f)}if(r.contentType||r.contentType!==false&&r.data&&r.type.toUpperCase()!="GET")m("Content-Type",r.contentType||"application/x-www-form-urlencoded");if(r.headers)for(a in r.headers)m(a,r.headers[a]);L.setRequestHeader=m;L.onreadystatechange=function(){if(L.readyState==4){L.onreadystatechange=y;clearTimeout(M);var t,n=false;if(L.status>=200&&L.status<300||L.status==304||L.status==0&&b=="file:"){l=l||x(r.mimeType||L.getResponseHeader("content-type"));t=L.responseText;try{if(l=="script")(1,eval)(t);else if(l=="xml")t=L.responseXML;else if(l=="json")t=c.test(t)?null:e.parseJSON(t)}catch(e){n=e}if(n)v(n,"parsererror",L,r,s);else g(t,L,r,s)}else{v(L.statusText||null,L.status?"error":"abort",L,r,s)}}};if(_(L,r)===false){L.abort();v(null,"abort",L,r,s);return L}if(r.xhrFields)for(a in r.xhrFields)L[a]=r.xhrFields[a];var k="async"in r?r.async:true;L.open(r.type,r.url,k,r.username,r.password);for(a in h)E.apply(L,h[a]);if(r.timeout>0)M=setTimeout(function(){L.onreadystatechange=y;L.abort();v(null,"timeout",L,r,s)},r.timeout);L.send(r.data?r.data:null);return L};function L(t,n,i,a){if(e.isFunction(n))a=i,i=n,n=undefined;if(!e.isFunction(i))a=i,i=undefined;return{url:t,data:n,success:i,dataType:a}}e.get=function(){return e.ajax(L.apply(null,arguments))};e.post=function(){var t=L.apply(null,arguments);t.type="POST";return e.ajax(t)};e.getJSON=function(){var t=L.apply(null,arguments);t.dataType="json";return e.ajax(t)};e.fn.load=function(t,n,i){if(!this.length)return this;var a=this,s=t.split(/\s/),o,l=L(t,n,i),u=l.success;if(s.length>1)l.url=s[0],o=s[1];l.success=function(t){a.html(o?e("<div>").html(t.replace(r,"")).find(o):t);u&&u.apply(a,arguments)};e.ajax(l);return this};var E=encodeURIComponent;function M(t,n,i,a){var r,s=e.isArray(n),o=e.isPlainObject(n);e.each(n,function(n,l){r=e.type(l);if(a)n=i?a:a+"["+(o||r=="object"||r=="array"?n:"")+"]";if(!a&&s)t.add(l.name,l.value);else if(r=="array"||!i&&r=="object")M(t,l,i,n);else t.add(n,l)})}e.param=function(t,n){var i=[];i.add=function(t,n){if(e.isFunction(n))n=n();if(n==null)n="";this.push(E(t)+"="+E(n))};M(i,t,n);return i.join("&").replace(/%20/g,"+")}})(Zepto)},function(e,t){(function(e){function t(e,t){var n=this.os={},i=this.browser={},a=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!e.match(/\(Macintosh\; Intel /),o=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),c=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=/Win\d{2}|Windows/.test(t),f=e.match(/Windows Phone ([\d.]+)/),h=c&&e.match(/TouchPad/),p=e.match(/Kindle\/([\d.]+)/),m=e.match(/Silk\/([\d._]+)/),_=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),v=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=e.match(/PlayBook/),y=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),x=e.match(/Firefox\/([\d.]+)/),S=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),w=!y&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),L=w||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);if(i.webkit=!!a)i.version=a[1];if(r)n.android=true,n.version=r[2];if(u&&!l)n.ios=n.iphone=true,n.version=u[2].replace(/_/g,".");if(o)n.ios=n.ipad=true,n.version=o[2].replace(/_/g,".");if(l)n.ios=n.ipod=true,n.version=l[3]?l[3].replace(/_/g,"."):null;if(f)n.wp=true,n.version=f[1];if(c)n.webos=true,n.version=c[2];if(h)n.touchpad=true;if(_)n.blackberry=true,n.version=_[2];if(g)n.bb10=true,n.version=g[2];if(v)n.rimtabletos=true,n.version=v[2];if(b)i.playbook=true;if(p)n.kindle=true,n.version=p[1];if(m)i.silk=true,i.version=m[1];if(!m&&n.android&&e.match(/Kindle Fire/))i.silk=true;if(y)i.chrome=true,i.version=y[1];if(x)i.firefox=true,i.version=x[1];if(S)i.ie=true,i.version=S[1];if(L&&(s||n.ios||d)){i.safari=true;if(!n.ios)i.version=L[1]}if(w)i.webview=true;n.tablet=!!(o||b||r&&!e.match(/Mobile/)||x&&e.match(/Tablet/)||S&&!e.match(/Phone/)&&e.match(/Touch/));n.phone=!!(!n.tablet&&!n.ipod&&(r||u||c||_||g||y&&e.match(/Android/)||y&&e.match(/CriOS\/([\d.]+)/)||x&&e.match(/Mobile/)||S&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform);e.__detect=t})(Zepto)},function(e,t){(function(e){var t=1,n,i=Array.prototype.slice,a=e.isFunction,r=function(e){return typeof e=="string"},s={},o={},l="onfocusin"in window,u={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents";function d(e){return e._zid||(e._zid=t++)}function f(e,t,n,i){t=h(t);if(t.ns)var a=p(t.ns);return(s[d(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||a.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!i||e.sel==i)})}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function p(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function m(e,t){return e.del&&(!l&&e.e in u)||!!t}function _(e){return c[e]||l&&u[e]||e}function g(t,i,a,r,o,l,u){var f=d(t),p=s[f]||(s[f]=[]);i.split(/\s/).forEach(function(i){if(i=="ready")return e(document).ready(a);var s=h(i);s.fn=a;s.sel=o;if(s.e in c)a=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return s.fn.apply(this,arguments)};s.del=l;var d=l||a;s.proxy=function(e){e=w(e);if(e.isImmediatePropagationStopped())return;e.data=r;var i=d.apply(t,e._args==n?[e]:[e].concat(e._args));if(i===false)e.preventDefault(),e.stopPropagation();return i};s.i=p.length;p.push(s);if("addEventListener"in t)t.addEventListener(_(s.e),s.proxy,m(s,u))})}function v(e,t,n,i,a){var r=d(e);(t||"").split(/\s/).forEach(function(t){f(e,t,n,i).forEach(function(t){delete s[r][t.i];if("removeEventListener"in e)e.removeEventListener(_(t.e),t.proxy,m(t,a))})})}e.event={add:g,remove:v};e.proxy=function(t,n){var s=2 in arguments&&i.call(arguments,2);if(a(t)){var o=function(){return t.apply(n,s?s.concat(i.call(arguments)):arguments)};o._zid=d(t);return o}else if(r(n)){if(s){s.unshift(t[n],t);return e.proxy.apply(null,s)}else{return e.proxy(t[n],t)}}else{throw new TypeError("expected function")}};e.fn.bind=function(e,t,n){return this.on(e,t,n)};e.fn.unbind=function(e,t){return this.off(e,t)};e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var b=function(){return true},y=function(){return false},x=/^([A-Z]|returnValue$|layer[XY]$)/,S={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function w(t,i){if(i||!t.isDefaultPrevented){i||(i=t);e.each(S,function(e,n){var a=i[e];t[e]=function(){this[n]=b;return a&&a.apply(i,arguments)};t[n]=y});if(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===false:i.getPreventDefault&&i.getPreventDefault())t.isDefaultPrevented=b}return t}function L(e){var t,i={originalEvent:e};for(t in e)if(!x.test(t)&&e[t]!==n)i[t]=e[t];return w(i,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)};e.fn.undelegate=function(e,t,n){return this.off(t,e,n)};e.fn.live=function(t,n){e(document.body).delegate(this.selector,t,n);return this};e.fn.die=function(t,n){e(document.body).undelegate(this.selector,t,n);return this};e.fn.on=function(t,s,o,l,u){var c,d,f=this;if(t&&!r(t)){e.each(t,function(e,t){f.on(e,s,o,t,u)});return f}if(!r(s)&&!a(l)&&l!==false)l=o,o=s,s=n;if(a(o)||o===false)l=o,o=n;if(l===false)l=y;return f.each(function(n,a){if(u)c=function(e){v(a,e.type,l);return l.apply(this,arguments)};if(s)d=function(t){var n,r=e(t.target).closest(s,a).get(0);if(r&&r!==a){n=e.extend(L(t),{currentTarget:r,liveFired:a});return(c||l).apply(r,[n].concat(i.call(arguments,1)))}};g(a,t,l,o,s,d||c)})};e.fn.off=function(t,i,s){var o=this;if(t&&!r(t)){e.each(t,function(e,t){o.off(e,i,t)});return o}if(!r(i)&&!a(s)&&s!==false)s=i,i=n;if(s===false)s=y;return o.each(function(){v(this,t,s,i)})};e.fn.trigger=function(t,n){t=r(t)||e.isPlainObject(t)?e.Event(t):w(t);t._args=n;return this.each(function(){if(t.type in u&&typeof this[t.type]=="function")this[t.type]();else if("dispatchEvent"in this)this.dispatchEvent(t);else e(this).triggerHandler(t,n)})};e.fn.triggerHandler=function(t,n){var i,a;this.each(function(s,o){i=L(r(t)?e.Event(t):t);i._args=n;i.target=o;e.each(f(o,t.type||t),function(e,t){a=t.proxy(i);if(i.isImmediatePropagationStopped())return false})});return a};("focusin focusout focus blur load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select keydown keypress keyup error").split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}});e.Event=function(e,t){if(!r(e))t=e,e=t.type;var n=document.createEvent(o[e]||"Events"),i=true;if(t)for(var a in t)a=="bubbles"?i=!!t[a]:n[a]=t[a];n.initEvent(e,i,true);return w(n)}})(Zepto)},function(e,t){(function(e,t){var n="",i,a,r,s={Webkit:"webkit",Moz:"",O:"o"},o=window.document,l=o.createElement("div"),u=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,c,d,f,h,p,m,_,g,v,b={};function y(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function x(e){return i?i+e:e.toLowerCase()}e.each(s,function(e,a){if(l.style[e+"TransitionProperty"]!==t){n="-"+e.toLowerCase()+"-";i=a;return false}});c=n+"transform";b[d=n+"transition-property"]=b[f=n+"transition-duration"]=b[p=n+"transition-delay"]=b[h=n+"transition-timing-function"]=b[m=n+"animation-name"]=b[_=n+"animation-duration"]=b[v=n+"animation-delay"]=b[g=n+"animation-timing-function"]="";e.fx={off:i===t&&l.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:x("TransitionEnd"),animationEnd:x("AnimationEnd")};e.fn.animate=function(n,i,a,r,s){if(e.isFunction(i))r=i,a=t,i=t;if(e.isFunction(a))r=a,a=t;if(e.isPlainObject(i))a=i.easing,r=i.complete,s=i.delay,i=i.duration;if(i)i=(typeof i=="number"?i:e.fx.speeds[i]||e.fx.speeds._default)/1e3;if(s)s=parseFloat(s)/1e3;return this.anim(n,i,a,r,s)};e.fn.anim=function(n,i,a,r,s){var o,l={},x,S="",w=this,L,E=e.fx.transitionEnd,M=false;if(i===t)i=e.fx.speeds._default/1e3;if(s===t)s=0;if(e.fx.off)i=0;if(typeof n=="string"){l[m]=n;l[_]=i+"s";l[v]=s+"s";l[g]=a||"linear";E=e.fx.animationEnd}else{x=[];for(o in n)if(u.test(o))S+=o+"("+n[o]+") ";else l[o]=n[o],x.push(y(o));if(S)l[c]=S,x.push(c);if(i>0&&typeof n==="object"){l[d]=x.join(", ");l[f]=i+"s";l[p]=s+"s";l[h]=a||"linear"}}L=function(t){if(typeof t!=="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(E,L)}else e(this).unbind(E,L);M=true;e(this).css(b);r&&r.call(this)};if(i>0){this.bind(E,L);setTimeout(function(){if(M)return;L.call(w)},(i+s)*1e3+25)}this.size()&&this.get(0).clientLeft;this.css(l);if(i<=0)setTimeout(function(){w.each(function(){L.call(this)})},0);return this};l=null})(Zepto)},function(e,t){(function(e){var t=e.zepto,n=t.qsa,i=t.matches;function a(t){t=e(t);return!!(t.width()||t.height())&&t.css("display")!=="none"}var r=e.expr[":"]={visible:function(){if(a(this))return this},hidden:function(){if(!a(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(e){if(e===0)return this},last:function(e,t){if(e===t.length-1)return this},eq:function(e,t,n){if(e===n)return this},contains:function(t,n,i){if(e(this).text().indexOf(i)>-1)return this},has:function(e,n,i){if(t.qsa(this,i).length)return this}};var s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),o=/^\s*>/,l="Zepto"+ +new Date;function u(e,t){e=e.replace(/=#\]/g,'="#"]');var n,i,a=s.exec(e);if(a&&a[2]in r){n=r[a[2]],i=a[3];e=a[1];if(i){var o=Number(i);if(isNaN(o))i=i.replace(/^["']|["']$/g,"");else i=o}}return t(e,n,i)}t.qsa=function(i,a){return u(a,function(r,s,u){try{var c;if(!r&&s)r="*";else if(o.test(r))c=e(i).addClass(l),r="."+l+" "+r;var d=n(i,r)}catch(e){console.error("error performing selector: %o",a);throw e}finally{if(c)c.removeClass(l)}return!s?d:t.uniq(e.map(d,function(e,t){return s.call(e,t,d,u)}))})};t.matches=function(e,t){return u(t,function(t,n,a){return(!t||i(e,t))&&(!n||n.call(e,null,a)===e)})}})(Zepto)},function(e,t){e.exports=function e(t,n,i){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var a=0,r=0,s=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:-1,pl:-1},l=function(e){e=(""+e).replace(/[_\-+]/g,".");e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return!e.length?[-8]:e.split(".")},u=function(e){return!e?0:isNaN(e)?o[e]||-7:parseInt(e,10)};t=l(t);n=l(n);r=Math.max(t.length,n.length);for(a=0;a<r;a++){if(t[a]==n[a]){continue}t[a]=u(t[a]);n[a]=u(n[a]);if(t[a]<n[a]){s=-1;break}else if(t[a]>n[a]){s=1;break}}if(!i){return s}switch(i){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return s<=0;case"==":case"=":case"eq":return s===0;case"<>":case"!=":case"ne":return s!==0;case"":case"<":case"lt":return s<0;default:return null}}},function(e,t,n){const i=n(55);(function(e){e(window.jQuery||window.Zepto,i)})(function(e,t){var n=6e4,i=e([]),a;var r=function(){if(!i.length){return}a=setTimeout(r,n);s.update()};var s={update:function(n){n=n||i;n.each(function(n,a){var r=e(a),s=r.data("liveRelativeDate"),o;if(!s){i=i.not(a);return}o=s.date?r.data(s.date):r.attr("datetime");var l=r.html(),u=t(o).fromNow();if(l===u){return}var c=e.Event("change.liveRelativeDate");r.trigger(c,[l,u]);if(!c.isDefaultPrevented()){r.html(u)}})},pause:function(){clearTimeout(a);a=null},resume:function(){if(!a){r()}},interval:function(e){if(e===undefined){return n}n=e}};var o={add:function(e,t){if(!e||e.length===0){return e}t=t||{};e.data("liveRelativeDate",JSON.stringify(t));i=i.add(e);s.resume();return e},destroy:function(e){i=i.not(e);e.removeAttr("data-live-relative-date");return e},isLiveRelativeDate:function(t){var n=true;e.each(t,function(t){if(e(t).data("liveRelativeDate")===undefined){n=false;return true}});return n}};e.liverelativedate=s;e.fn.liverelativedate=function(e,t){if(!o[e]){t=e;e="add"}return o[e](this,t)}})},function(e,t){if(typeof SUGAR=="undefined")SUGAR={};if(typeof SUGAR.util=="undefined")SUGAR.util={};if(typeof SUGAR.expressions=="undefined")SUGAR.expressions={};(function(){SUGAR.util.extend=SUGAR.util.extend||(SUGAR.App?SUGAR.App.utils.extendFrom:null);var e=SUGAR.expressions.Expression=function(e){this.context=e};e.INFINITY=-1;e.STRING_TYPE="string";e.NUMERIC_TYPE="number";e.DATE_TYPE="date";e.TIME_TYPE="time";e.BOOLEAN_TYPE="boolean";e.ENUM_TYPE="enum";e.RELATE_TYPE="relate";e.GENERIC_TYPE="generic";e.TRUE="true";e.FALSE="false";e.isTruthy=function(t){return _.isString(t)?t=="1"||t==e.TRUE:!!t};SUGAR.expressions.NumericConstants={pi:3.14159265,e:2.718281828459045};e.prototype.init=function(e){if(e instanceof Array&&e.length==1){this.params=e[0]}else{this.params=e}this.validateParameters()};e.prototype.getParameters=function(){if(!this.params){return this.params}var n,i,a=[],r=this.getParameterTypes(),s=this.getParamCount()==1,o,l;if(s||!_.isArray(this.params)&&_.isObject(this.params)){n=[this.params]}else{n=this.params}if(!(r instanceof Array)){o=r;r=[];for(l=0;l<n.length;l++){r.push(o)}}var u=this.constructor.TYPE_CAST_MAP;for(l=0;l<n.length;l++){i=n[l];if(i instanceof e){o=t.prototype.getType(i);if(o!=r[l]&&r[l]in u){i=new SUGAR.expressions[u[r[l]]](i,this.context)}}a.push(i)}if(s){a=a.shift()}return a};e.prototype.validateParameters=function(){var t=this.params;var n=this.getParamCount();var i=this.getParameterTypes();if(typeof n!="number"){throw this.getClass()+": Number of paramters required must be a number"}if(typeof i!="string"&&!(i instanceof Array)){throw this.getClass()+": Parameter types must be valid and match the parameter count"}if(i instanceof Array&&n!=e.INFINITY&&n!=i.length){throw this.getClass()+": Parameter types must be valid and match the parameter count"}if(typeof i=="string"){if(e.TYPE_MAP[i]==null){throw this.getClass()+": Invalid type requirement '"+i+"'"}}else{for(var a=0;a<i.length;a++){if(typeof e.TYPE_MAP[i[a]]=="undefined"){throw this.getClass()+": Invalid type requirement '"+i[a]+"'"}}}if(n==0&&typeof t=="undefined"){return}if(n==1&&this.isProperType(t,i)){return}if(n>1&&!(t instanceof Array)){throw this.getClass()+": Requires exactly "+n+" parameter(s)"}if(n==1&&t instanceof Array){throw this.getClass()+": Requires exactly 1 parameter"}if(n!=e.INFINITY&&t instanceof Array&&t.length!=n){throw this.getClass()+": Requires exactly "+n+" parameter(s)"}if(typeof i=="string"){if(!(t instanceof Array)){if(this.isProperType(t,i)){return}throw this.getClass()+": Parameter must be of type '"+i+"'"}for(var a=0;a<t.length;a++){if(!this.isProperType(t[a],i)){throw this.getClass()+": All parameters must be of type '"+i+"'"}}}else{if(!(t instanceof Array)){if(this.isProperType(t,i[0])){return}throw this.getClass()+": Parameter must be of type '"+i[0]+"'"}for(var a=0;a<i.length;a++){if(!this.isProperType(t[a],i[a])){throw this.getClass()+": The parameter at index "+a+" must be of type "+i[a]}}}};e.prototype.getParamCount=function(){return e.INFINITY};e.prototype.isProperType=function(t,n){var i=e;if(n instanceof Array){return false}var a=i.TYPE_MAP[n];if(typeof a=="undefined"||a==null||a==""){return false}if(t instanceof a||t instanceof i.TYPE_MAP.generic||n==i.GENERIC_TYPE)return true;if(t instanceof i){t=t.evaluate()}switch(n){case i.STRING_TYPE:return typeof t=="string"||typeof t=="number"||t instanceof i.TYPE_MAP[i.NUMERIC_TYPE];break;case i.NUMERIC_TYPE:return typeof t=="number"||SUGAR.expressions.isNumeric(t);break;case i.BOOLEAN_TYPE:return t==i.TRUE||t==i.FALSE||t===1||t===0||t==="1"||t==="0"||t==="";break;case i.DATE_TYPE:case i.TIME_TYPE:if(t===null||t===""||typeof t=="string"&&SUGAR.util.DateUtils.guessFormat(t))return true;break;case i.RELATE_TYPE:return true;break}return false};e.prototype.evaluate=function(){};e.prototype.getClass=function(e){for(var t in SUGAR.FunctionMap){if(typeof SUGAR.FunctionMap[t]=="function"&&SUGAR.FunctionMap[t].prototype&&this instanceof SUGAR.FunctionMap[t])return t}return false};e.prototype.getParameterTypes=function(){};SUGAR.expressions.GenericExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.GenericExpression,e,{getParameterTypes:function(){return e.GENERIC_TYPE}});SUGAR.expressions.NumericExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.NumericExpression,e,{getParameterTypes:function(){return e.NUMERIC_TYPE}});SUGAR.expressions.StringExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.StringExpression,e,{getParameterTypes:function(){return e.STRING_TYPE}});SUGAR.expressions.BooleanExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.BooleanExpression,e,{getParameterTypes:function(){return e.BOOLEAN_TYPE}});SUGAR.expressions.EnumExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.EnumExpression,e,{getParameterTypes:function(){return e.ENUM_TYPE}});SUGAR.expressions.DateExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.DateExpression,e,{getParameterTypes:function(){return e.DATE_TYPE}});SUGAR.expressions.TimeExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.TimeExpression,e,{getParameterTypes:function(){return e.TIME_TYPE}});SUGAR.expressions.RelateExpression=function(e){};SUGAR.util.extend(SUGAR.expressions.RelateExpression,e,{getParameterTypes:function(){return e.GENERIC_TYPE}});e.TYPE_MAP={number:SUGAR.expressions.NumericExpression,string:SUGAR.expressions.StringExpression,date:SUGAR.expressions.DateExpression,time:SUGAR.expressions.TimeExpression,boolean:SUGAR.expressions.BooleanExpression,enum:SUGAR.expressions.EnumExpression,relate:SUGAR.expressions.RelateExpression,generic:SUGAR.expressions.GenericExpression};e.TYPE_CAST_MAP={number:"ValueOfExpression",string:"DefineStringExpression"};SUGAR.expressions.ConstantExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.ConstantExpression,SUGAR.expressions.NumericExpression,{evaluate:function(){return this.getParameters()},getParamCount:function(){return 1}});SUGAR.expressions.StringLiteralExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.StringLiteralExpression,SUGAR.expressions.StringExpression,{evaluate:function(){return this.getParameters()},getParamCount:function(){return 1}});SUGAR.expressions.FalseExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.FalseExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return e.FALSE},getParamCount:function(){return 0}});SUGAR.expressions.TrueExpression=function(e){this.init(e)};SUGAR.util.extend(SUGAR.expressions.TrueExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return e.TRUE},getParamCount:function(){return 0}});var t=SUGAR.expressions.ExpressionParser=function(){};t.prototype.getFieldsFromExpression=function(e){return _.map(e.match(/\$(\w+)/g),function(e){return e.replace(/\$/g,"")})};t.prototype._generateRange=function(e,t,n){var i="";var a=parseInt(t);if(typeof n=="undefined")while(this.getElement(e+""+a)!=null)i+="$"+e+""+a+++",";else for(;a<=n;a++){var r=e+""+a;if(this.getElement(r)!=null)i+="$"+r+","}return i.substring(0,i.length-1)};t.prototype._valueReplace=function(e){if(!/^\$.*$/.test(e)){return e}return this.getValue(e.substring(1))};t.prototype._performRangeReplace=function(e){var t=false;var n;var i;for(var a=0;;a++){if(a==e.length)break;var r=e.charAt(a);if(r=='"'&&n!="\\")t=!t;if(!t&&r=="%"){i=true;var s=e.indexOf("[",a+1);var o=e.indexOf(",",s);var l=e.indexOf("]",s);if(s<0||l<0)throw"Invalid range syntax";var u=e.substring(a+1,s);var c,d;if(o>-1&&o<l){c=e.substring(s+1,o);d=e.substring(o+1,l)}else{c=e.substring(s+1,l)}if(o>-1&&o<l)d=e.substring(o+1,l);var f=this._generateRange(u,this._valueReplace(c),this._valueReplace(d));if(typeof d=="undefined")e=e.replace("%"+u+"["+c+"]",f);else e=e.replace("%"+u+"["+c+","+d+"]",f);a=a+f.length-1}n=r}return e};t.prototype.validate=function(e){if(typeof e!="string")throw"ExpressionParser requires a string expression.";var t=this.toConstant(e);if(t!=null&&typeof t!="undefined")return true;if(/^[\w\-]+\(.*\)$/.exec(e)==null){throw"Syntax Error (Expression Format Incorrect '"+e+"' )"}if(e.indexOf("(")<0)throw"Syntax Error (No opening paranthesis found)";return true};t.prototype.tokenize=function(e){var t=this.toConstant(e);if(t!=null&&typeof t!="undefined"){return{type:"constant",returnType:this.getType(t),value:t.evaluate()}}if(/^[$]\w+$/.test(e)){return{type:"variable",name:$.trim(e).substr(1)}}if(/^[$]\w+\.\w+$/.test(e)){e=$.trim(e);return{type:"variable",name:e.substr(1,e.indexOf(".")-1),relate:e.substr(e.indexOf(".")+1)}}var n=e.indexOf("(");if(n<1)throw e+": Syntax Error, no open parentheses found";if(e.charAt(e.length-1)!=")")throw e+": Syntax Error, no close parentheses found";var i=e.substring(0,n);var a=e.substring(n+1,e.length-1);var r=0;var s=a.length;var o="";var l=new Array;var u=null;var c=null;var d=false;var f=false;var h=false;var p=false;for(var m=0;m<=s;m++){c=u;f=false;if(m==s){o=$.trim(o);if(o!="")l[l.length]=this.tokenize(o);break}p=c=="\\";u=a.charAt(m);if(h&&u!='"'&&!p){o+=u;continue}if(u=='"'&&!p&&r==0){if(h){var _=a.indexOf(",",m);if(_<0)_=a.length-1;var g=m<s-1?m+1:s-1;var v=a.substring(g,_);if(/^\s*$/.exec(v)==null)throw i+": Syntax Error (Improperly Terminated String '"+v+"')"+g+" "+_}h=!h}if(u=="("){r++}else if(u==")"){r--}else if(u==","&&r==0){o=$.trim(o);if(o=="")throw"Syntax Error: Unexpected ','";l[l.length]=this.tokenize(o);o="";f=true;continue}o+=u}if(h)throw"Syntax Error (Unterminated String Literal)";if(r!=0)throw"Syntax Error (Incorrectly Matched Parantheses)";if(f)throw"Syntax Error (No parameter after comma near <b>"+i+"</b>)";return{type:"function",name:$.trim(i),args:l}};t.prototype.getType=function(t){for(var n in e.TYPE_MAP){if(t instanceof e.TYPE_MAP[n]){return n}}return false};t.prototype.evaluate=function(e,t){if(typeof e!="string")throw"ExpressionParser requires a string expression.";e=e.replace(/^\s+|\s+$|\n/g,"");var n=this.toConstant(e);if(n!=null&&typeof n!="undefined")return n;if(e.match(/^\$\w+$/)){if(typeof t=="undefined")throw"Syntax Error: variable "+e+" without context";return t.getValue(e.substring(1))}if(e.match(/^\$\w+\.\w+$/)){return t.getRelatedValue(e.substr(1,e.indexOf(".")-1),e.substr(e.indexOf(".")+1))}if(/^[\w\-]+\(.*\)$/.exec(e)==null){throw"Syntax Error (Expression Format Incorrect '"+e+"' )"}var i=e.indexOf("(");if(i<0)throw"Syntax Error (No opening paranthesis found)";var a=e.substring(0,i);if(SUGAR.FunctionMap[a]==null)throw a+": No such function defined";var r=e.substring(i+1,e.length-1);var s=0;var o=r.length;var l="";var u=new Array;var c=null;var d=null;var f=false;var h=false;var p=false;var m=false;if(o>0){for(var _=0;_<=o;_++){d=c;if(_==o){u[u.length]=this.evaluate(l,t);break}p=d=="\\";c=r.charAt(_);if(h&&c!='"'&&!p){l+=c;continue}if(m&&(c==" "||c==","))m=false;if(c=='"'&&!p&&s==0){if(h){var g=r.indexOf(",",_);if(g<0)g=r.length-1;var v=_<o-1?_+1:o-1;var b=r.substring(v,g);if(/^\s*$/.exec(b)==null)throw a+": Syntax Error (Improperly Terminated String '"+b+"')"+v+" "+g}h=!h}if(c=="$"&&!p&&!h&&s==0){if(m)throw a+": Syntax Error (unexpeted '$' in  '"+l+"')";else{m=true}}if(c=="("){s++}else if(c==")"){s--}else if(c==","&&s==0){u[u.length]=this.evaluate(l,t);l="";continue}l+=c}}if(h)throw"Syntax Error (Unterminated String Literal)";if(s!=0)throw"Syntax Error (Incorrectly Matched Parantheses)";return new SUGAR.FunctionMap[a](u,t)};t.prototype.toConstant=function(e){if(isFinite(e)&&!isNaN(parseFloat(e))){return new SUGAR.expressions.ConstantExpression(parseFloat(e))}var t=SUGAR.expressions.NumericConstants[e];if(t!=null&&typeof t!="undefined")return new SUGAR.expressions.ConstantExpression(parseFloat(t));if(/^"[\s\S]*"$/.exec(e)!=null){e=e.substring(1,e.length-1);return new SUGAR.expressions.StringLiteralExpression(e)}if(e==""){return new SUGAR.expressions.StringLiteralExpression(e)}if(e=="true"){return new SUGAR.expressions.TrueExpression}else if(e=="false"){return new SUGAR.expressions.FalseExpression}if(/^(0[0-9]|1[0-2])\/([0-2][0-9]|3[0-1])\/[0-3][0-9]{3,3}$/.exec(e)!=null){var n=parseFloat(e.substring(0,2));var i=parseFloat(e.substring(3,2));var a=parseFloat(e.substring(6,4));return new SUGAR.expressions.DateExpression([n,i,a])}if(/^([0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9]$/.exec(e)!=null){var r=parseFloat(e.substring(0,2));var s=parseFloat(e.substring(3,2));var o=parseFloat(e.substring(6,2));return new SUGAR.expressions.TimeExpression([r,s,o])}return null};t.prototype.getRelatedFieldsFromFormula=function(e,t){var n=[],i=["related","count","rollupSum","rollupMax","rollupMin","rollupAve","rollupAvg","rollupCurrencySum","rollupConditionalSum","countConditional","maxRelatedDate"];var a=function(e,t){if(e.type=="variable"&&e.relate){n.push({type:"related",link:e.name,relate:e.relate})}else if(e.type=="function"&&i.indexOf(e.name)!=-1){switch(e.name){case"related":if(e.args[1].type=="constant")n.push({type:"related",link:e.args[0].name,relate:e.args[1].value});break;case"rollupConditionalSum":var r={type:"rollupConditionalSum",link:e.args[0].name,relate:e.args[1].value,condition_field:e.args[2].value};if(e.args[3].type=="function"){var s=[];for(var o=0;o<e.args[3].args.length;o++){s.push('"'+e.args[3].args[o].value+'"')}r.condition_expr=e.args[3].name+"("+s.join(",")+")"}else{r.condition_expr=e.args[3].value}n.push(r);break;case"countConditional":var r={target:t,type:"countConditional",link:e.args[0].name,condition_field:e.args[1].value};if(e.args[2].type=="function"){var s=[];for(var o=0;o<e.args[2].args.length;o++){s.push('"'+e.args[2].args[o].value+'"')}r.condition_expr=e.args[2].name+"("+s.join(",")+")"}else{r.condition_expr=e.args[2].value}n.push(r);break;case"count":n.push({type:"count",link:e.args[0].name});break;default:if(e.args[1].type=="constant"){n.push({type:e.name,link:e.args[0].name,relate:e.args[1].value})}}}else if(e.type=="function"){for(var o=0;o<e.args.length;o++){a(e.args[o],t)}}};try{var r=this.tokenize(e);a(r,t)}catch(e){}return n};var n=SUGAR.expressions.ExpressionContext=function(){};n.prototype.getValue=function(e){return""};n.prototype.setValue=function(e,t){return""};n.prototype.addListener=function(e,t,n){return""};n.prototype.getRelatedValue=function(e,t){return new SUGAR.RelatedFieldExpression([new SUGAR.expressions.StringLiteralExpression(e),new SUGAR.expressions.StringLiteralExpression(t)])};SUGAR.expressions.isNumeric=function(e){if(typeof e!="number"&&typeof e!="string"){return false}e=SUGAR.expressions.unFormatNumber(e);return isFinite(e)&&!isNaN(parseFloat(e))};SUGAR.expressions.unFormatNumber=function(e){if(typeof e=="string"){var t=SUGAR.expressions;var n=",",i=".";if(t.userPrefs){n=t.userPrefs.num_grp_sep;i=t.userPrefs.dec_sep}e=t.replaceAll(e,n,"");e=t.replaceAll(e,i,".")}return e};SUGAR.expressions.replaceAll=function(e,t,n){if(t==n||e==""||t=="")return e;var i=e;while(i.indexOf(t)>-1){i=i.replace(t,n)}return i};SUGAR.util.DateUtils={parse:function(e,t){if(e instanceof Date)return e;if(t=="user"){if(SUGAR.expressions.userPrefs&&SUGAR.expressions.userPrefs.datef){t=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef}else{t=SUGAR.util.DateUtils.guessFormat(e)}}if(t==null||t==""){t=SUGAR.util.DateUtils.guessFormat(e)}if(t==false){if(/^\d+$/.test(e))return new Date(e);return false}var n=new Date("Jan 1, 1970 00:00:00");var i="";var a=$.trim(e);t=$.trim(t)+" ";for(var r=0;r<t.length;r++){var s=t.charAt(r);if(s==":"||s=="/"||s=="-"||s=="."||s==" "||s=="a"||s=="A"||s=="T"){var o=a.indexOf(s);if(o==-1)o=a.length;var l=a.substring(0,o);a=a.substring(o+1);switch(i){case"m":if(!(l>0&&l<13))return false;n.setMonth(l-1);break;case"d":if(!(l>0&&l<32))return false;n.setDate(l);break;case"Y":if(!(l>0))return false;n.setYear(l);break;case"h":var u=t.substring(t.length-4);if(u.toLowerCase()=="i a "||u.toLowerCase()==s+"ia "){if(a.substring(a.length-2).toLowerCase()=="pm"){l=l*1;if(l<12){l+=12}}}case"H":n.setHours(l);break;case"i":l=l.substring(0,2);n.setMinutes(l);break}i=""}else{i=s}}return n},guessFormat:function(e){if(typeof e!="string")return false;var t="";var n;if(e.indexOf(" ")!=-1){n=" "}else if(e.indexOf("T")!=-1){n="T"}if(n){t=e.substring(e.indexOf(n)+1,e.length);e=e.substring(0,e.indexOf(n))}var i="/";if(e.indexOf("/")!=-1){}else if(e.indexOf("-")!=-1){i="-"}else if(e.indexOf(".")!=-1){i="."}else{return false}var a=e.split(i);var r="";var s=new Date("Jan 1, 1970 00:00:00");if(a[0].length==4){r="Y"+i+"m"+i+"d"}else if(a[2].length==4){r="m"+i+"d"+i+"Y"}else{return false}if(t!=""){var o="";var l=":";if(t.indexOf(".")==2){l="."}if(t.indexOf(" ")!=-1){var u=t.split(" ");if(u[1]=="am"||u[1]=="pm"){return r+n+"h"+l+"i a"}else if(u[1]=="AM"||u[1]=="PM"){return r+n+"h"+l+"i A"}}else{var c=t.substring(t.length-2,t.length);if(c=="AM"||c=="PM"){return r+n+"h"+l+"iA"}if(c=="am"||c=="pm"){return r+n+"h"+l+"iA"}return r+n+"H"+l+"i"}}return r},formatDate:function(e,t,n){if(!n&&SUGAR.expressions.userPrefs.datef&&SUGAR.expressions.userPrefs.timef){if(t)n=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;else n=SUGAR.expressions.userPrefs.datef}var i="";for(var a=0;a<n.length;a++){var r=n.charAt(a);switch(r){case"m":var s=e.getMonth()+1;i+=s<10?"0"+s:s;break;case"d":var o=e.getDate();i+=o<10?"0"+o:o;break;case"Y":i+=e.getFullYear();break;case"H":case"h":var l=e.getHours();if(r=="h")l=l>12?l-12:l;i+=l<10?"0"+l:l;break;case"i":var s=e.getMinutes();i+=s<10?"0"+s:s;break;case"a":if(e.getHours()<12)i+="am";else i+="pm";break;case"A":if(e.getHours()<12)i+="AM";else i+="PM";break;default:i+=r}}return i},roundTime:function(e){var t=e.getMinutes();if(t<1){t=0}else if(t<16){t=15}else if(t<31){t=30}else if(t<46){t=45}else{t=0;e.setHours(e.getHours()+1)}e.setMinutes(t);return e},getUserTime:function(){var e=new Date;if(SUGAR.expressions.userPrefs&&typeof SUGAR.expressions.userPrefs.gmt_offset!="undefined"){var t=SUGAR.expressions.userPrefs.gmt_offset;e.setMinutes(e.getMinutes()+(e.getTimezoneOffset()+t))}return e}}})()},function(e,t){(function(){SUGAR.forms=SUGAR.forms||{};SUGAR.forms.animation=SUGAR.forms.animation||{};var e=SUGAR.expressions;var t=SUGAR.App||t;var n=e.SidecarExpressionContext=function(e,n,i){this.view=e;if(i instanceof t.data.beanCollection){this.collection=i}else{this.collection=e.collection||e.context.get("collection")}this.model=n||e.model||e.context.get("model")};t.utils.extendFrom(n,e.ExpressionContext,{dispose:function(){if(!this.view.disposed){var e=this.view.context;_.each(this.dependencies,function(t){e.off("list:editrow:fire",null,t)})}},initialize:function(e,t){var n=[];var t=t||false;var i=this.view.context;this.dependencies=[];var a=_.bind(function(e,t){_.each(e,function(e){if(t.dependency.testOnLoad||e.isNew()){t.context.isOnLoad=true;t.context.inCollection=true;SUGAR.forms.Trigger.fire.apply(t,[e]);t.context.isOnLoad=null;t.context.inCollection=null}},this)},this);_.each(e,function(e){var r=SUGAR.forms.Dependency.fromMeta(e,this);if(r){n=_.union(n,r.getRelatedFields());if(i.isCreate()||r.fireLinkOnlyDependency()||t){SUGAR.forms.Trigger.fire.apply(r.trigger);this.view.trigger("sugarlogic:initialize")}if(r.testOnLoad){i.on("list:editrow:fire",function(){i.isOnLoad=true;SUGAR.forms.Trigger.fire.apply(this.trigger,arguments);i.isOnLoad=null},r)}if(this.collection instanceof SUGAR.App.data.beanCollection){this.collection.on("sync",function(e,t){var n;var i;if(e instanceof SUGAR.App.data.beanCollection){i=_.pluck(t,"id");n=e.filter(function(e){return _.contains(i,e.id)});_.defer(a,n,r.trigger)}else{a([e],r.trigger)}},this);this.collection.on("add",function(e){a([e],r.trigger)},this);a(this.collection.models,r.trigger)}this.dependencies.push(r)}},this);this._setupLinks(n);this._requestRollups(n);this.view.on("render",function(){_.each(this.dependencies,function(e){if(i.isCreate()||e.fireLinkOnlyDependency()){SUGAR.forms.Trigger.fire.apply(e.trigger);this.view.trigger("sugarlogic:initialize")}},this)},this)},getValue:function(i){var a=this.model.get(i),r=this.model.fields[i],s;if(!r){SUGAR.App.logger.warn("Attempted to get a value for field "+i+" which is not a field in "+this.model.module)}if(r&&r.type=="link"){a=i}if(typeof a=="string"){a=a.replace(/\n/g,"");if(/^(\s*)$/.exec(a)!=null||a===""){s=n.parser.toConstant('""')}else if(r.type!=="currency"&&r.type!=="enum"&&e.isNumeric(a)){s=n.parser.toConstant(e.unFormatNumber(a))}else if(r.type=="date"||r.type=="datetime"){a=t.date.stripIsoTimeDelimterAndTZ(a);a=t.date.parse(a);a.type=r.type;s=this.getDateExpression(a)}else{s=n.parser.toConstant('"'+a+'"')}}else if(typeof a=="object"&&a!=null&&a.getTime){s=this.getDateExpression(a)}else if(typeof a=="number"){s=n.parser.toConstant(""+a)}else if(_.isBoolean(a)){s=a?new SUGAR.expressions.TrueExpression:new SUGAR.expressions.FalseExpression}else{s=n.parser.toConstant('""')}return s},setValue:function(e,n){if(typeof this.model.fields[e]!="object"){return}var i=this.model.fields[e];this.lockedFields=this.lockedFields||[];if(typeof n=="object"&&n.length>0&&i.type!="multienum"){n=n.join(", ")}else if(n&&i.type==="date"){n=t.date(n).formatServer(true)}else if(n&&i.type==="datetimecombo"){n=t.date(n).format()}if(i.type=="bool"&&_.isString(n)){n=SUGAR.expressions.Expression.isTruthy(n)}if(n&&(i.type==="decimal"||i.type==="float")){n=t.utils.formatNumber(n,i.round||6,i.precision||6,null,null)}if(_.isString(n)&&i.len&&n.length>i.len){var a=this;n=n.substring(0,i.len);this.model.once("change:"+e,function(){var t=SUGAR.App.lang.getAppString("LBL_FIELD_TRIMMED");SUGAR.forms.markField(e,a.getElement(e),t)})}else if(SUGAR.forms.markedField[e]){SUGAR.forms.unmarkField(e,this.getElement(e))}if(!this.lockedFields[e]){this.lockedFields[e]=true;var r=this.getElement(e);if(r){SUGAR.forms.FlashField($(r).parents('[data-fieldname="'+e+'"]'),null,e)}var s=this.model.set(e,n);this.lockedFields=[];return s}},addListener:function(e,t,n){if(this.collection){this.collection.off("change:"+e,t,n);this.collection.on("change:"+e,t,n)}if(this.model){this.model.off("change:"+e,t,n);this.model.on("change:"+e,t,n)}},getElement:function(e){var t=this.getField(e);if(t&&t.el)return t.el},getField:function(e){return this.view.getField(e,this.model)},addClass:function(e,t,n){var i=this.view.getFieldMeta(e,true),a=n?["css_class","cell_css"]:["css_class"],r=this.getElement(e),s=$(r).closest("div.record-cell");_.each(a,function(e){if(!i[e]){i[e]=t}else if(i[e].indexOf(t)==-1){i[e]+=" "+t}});this.view.setFieldMeta(e,i);$(r).addClass(t);if(!i._isChild&&n&&s){s.addClass(t)}},removeClass:function(e,t,n){var i=this.view.getFieldMeta(e,true),a=this.view.getField(e),r=n?["css_class","cell_css"]:["css_class"],s=this.getElement(e),o=$(s).closest("div.record-cell");_.each([a.def,i],function(e){_.each(r,function(n){if(e[n]&&e[n].indexOf(t)!=-1){e[n]=$.trim((" "+e[n]+" ").replace(new RegExp(" "+t+" "),""))}})});this.view.setFieldMeta(e,i);$(s).removeClass(t);if(!i._isChild&&n&&o){o.removeClass(t);o.find("."+t).removeClass(t)}},getLink:function(e){var t=this.model;if(t&&t.fields&&t.fields[e])return t.fields[e]},showError:function(e,t){},clearError:function(e){},setStyle:function(e,t){},setRelatedFields:function(e,t,n){t=!!t;n=n||this.model;for(var i in e){var a=this._linkValueVarname(i),r=n.get(a),s=!!r,o=r||{};_.each(e[i],function(e,t){if(_.isObject(e)){e=_.mapObject(e,function(e){return _.isArray(e)?_.object(e):e});o[t]=_.extend(o[t]||{},e)}else{o[t]=e}});var l={};l[a]=o;n.set(l,{silent:t});if(!t&&s){n.trigger("change:"+i,n)}}},getRelatedFieldValues:function(e,n,i,a){var r=this,s=t.api,o=i instanceof t.data.beanModel?i:this.model;if(e.length>0){n=n||o.module||this.view.context.get("module");i=_.isString(i)?i:o.get("id");for(var l=0;l<e.length;l++){var u=e[l].link,c={};if(e[l].type=="related"){var d=o.fields[u];if(d&&d.id_name&&d.module){var f=o.get(d.id_name);if(f){e[l].relId=f;e[l].relModule=d.module}}}if(e[l].relate){c[u]={};c[u][e[l].type]={};c[u][e[l].type][e[l].relate]="";r.setRelatedFields(c,true,o)}}var h={id:i,action:"related"},p={module:n,fields:JSON.stringify(e)};s.call("read",s.buildURL("ExpressionEngine","related",h,p),h,p,{success:function(e){r.setRelatedFields(e,a,o);return e}})}return null},updateRelatedFieldValue:function(e,t,n,i,a){var r=this.model.get(this._linkValueVarname(e))||{},a=a||false,s={};if(!_.isUndefined(r[t])||a){if(!n){r[t]=i}else if(!a&&!_.isUndefined(r[t][n])){r[t][n]=i}else if(a){if(_.isUndefined(r[t])){r[t]={}}r[t][n]=i}}s[e]=r;this.setRelatedFields(s,true)},_linkValueVarname:function(e){return"_"+e+"-rel_exp_values"},getRelatedCollectionValues:function(e,t,n,i){e=e||this.model;var a=e.get(this._linkValueVarname(t))||{};var r=i+"_values";if(n){if(a[n]&&a[n][r]){return a[n][r]}return[]}return a},updateRelatedCollectionValues:function(e,n,i,a,r,s){e=e||this.model;var n=this._linkValueVarname(n);var o=e.get(n)||{};var l=[i];var u=[a];if(!i){l=_.keys(o)}_.each(l,function(e){if(e=="related"){return}if(!a){u=_.filter(_.keys(o[e]),function(e){return e.substr(-7)!="_values"})}_.each(u,function(n){var i=n+"_values";var a=r.fields[n]&&r.fields[n].type==="currency";var l=o[e]&&o[e][i]||{};if(!_.isEmpty(l)&&s=="remove"){if(l[r.id]){delete l[r.id]}if(l[r.cid]){delete l[r.cid]}}if(!s||s=="add"){if(l[r.cid]&&r.id){delete l[r.cid]}var u=r.id?r.id:r.cid;var c=r.get(n);if(a){c=t.currency.convertToBase(c,r.get("currency_id"))}l[u]=c}o[e]=o[e]||{};o[e][i]=l},this)},this);e.set(n,o)},getRelatedField:function(e,t,n){var i=this._linkValueVarname(e);var a=this.model.get(i)||{};if(t=="related"&&!this.inCollection){return this._handleRelateExpression(e,n)}if(typeof a[t]!="undefined"){if(!n){return a[t]}else if(typeof a[t][n]!="undefined"){return a[t][n]}}if(this.inCollection){a[t]=a[t]||{};a[t][n]=a[t][n]||"";this.model.set(i,a,{silent:true});return""}if(this.model.isNew()){return""}var r={link:e,type:t};if(n){r.relate=n}this.getRelatedFieldValues([r]);a=this.model.get(i)||{};if(!_.isUndefined(a[t])){if(!n){return a[t]}else if(!_.isUndefined(a[t][n])){return a[t][n]}}return""},_handleRelateExpression:function(e,n){this.view.context.set("model",this.model);var i=this.view.context.get("isSubpanel")===true;if(i){var a=this.view.context.parent}else{var a=this.view.context.getChildContext({link:e})}a.prepare();var r=a.get("collection"),s=a.get("fields")||[],o=this,l=_.find(this.model.fields,function(t){return t.type&&t.type=="relate"&&t.id_name&&t.link&&t.link==e})||{},u=a.get("model");if(a.isDataFetched()&&!a.get("modelId")){u=r.length>0?r.models[0]:null}var c=this.model.get(l.id_name);var d=u&&u.get("id")!==c;var f;if(!_.isEmpty(l)&&(!c||d)&&!i){a.set({model:null});a.resetLoadFlag();if(!c){return""}}if(_.isUndefined(this.view._loadedRelatedFields)){this.view._loadedRelatedFields={}}if(c){f=c}else{var h=this.model.fields[e].relationship;f=h?h:""}var p=e+"_"+n+"_"+f;if(n&&(!a.isDataFetched()||u&&_.isUndefined(u.get(n))&&!u.getFetchRequest())&&!this.view._loadedRelatedFields.hasOwnProperty(p)){_.each(s,_.bind(function(t){var n=e+"_"+t+"_"+f;this.view._loadedRelatedFields[n]=n},this));if(!_.contains(s,n)){s.push(n)}this._loadRelatedData(e,s,a,l);if(l.id_name){this.addListener(l.id_name,function(){this.view._loadedRelatedFields={}},this)}}else if(u){var m=u.get(n);if(m){var g=u.fields[n];if(g.type=="date"||g.type=="datetime"){m=t.date.stripIsoTimeDelimterAndTZ(m);m=t.date.parse(m);m.type=g.type}}return m}else if(!r.page){var v=this.model;SUGAR.App.utils.doWhen(function(){return r.page>0},function(){v.trigger("change:"+e,v)})}return""},getDateExpression:function(t){var n=new e.DateExpression("");n.evaluate=function(){return this.value};n.value=t;return n},_loadRelatedData:function(e,t,n,i){var a=this;if(i&&this.model.get(i.id_name)){var r=this.model.get(i.id_name),s=n.get("model")||SUGAR.App.data.createRelatedBean(this.model,this.model.get(i.id_name),e);n.set({modelId:r,model:s})}else{if(_.isEmpty(this.model.get("id")))return""}n.prepare();n.set({fields:_.union(n.get("fields")||[],t),skipFetch:false});if(n.isDataFetched()){n.resetLoadFlag()}var s=this.model;n.loadData({relate:!i,success:function(){s.trigger("change:"+e,s)}})},_setupLinks:function(e){_.each(e,function(e){if(e.link&&e.relate&&e.type=="related"){var t=this.view.context.getChildContext({link:e.link});if(t){t.set("fields",_.union(t.get("fields")||[],[e.relate]))}}},this)},_requestRollups:function(e,t){t=t||this.model;if(!t.isNew()){this.getRelatedFieldValues(e,t.module,t,true)}},fireOnLoad:function(e){},getAppListStrings:function(e){return SUGAR.App.lang.getAppListStrings(e)},parseDate:function(e,t){return SUGAR.App.date.parse(e)},setFieldDisabled:function(e,t){t=_.isUndefined(t)?true:t;var n=this.getField(e);if(n){n.setDisabled(t,{trigger:true});if(_.isEqual(t,false)&&!_.isEqual(n.currentState,"edit")&&_.isEqual(this.view.currentState,"edit")&&!_.isEqual(this.view.inlineEditMode,true)){n.setMode("edit");this.view.editableFields.push(n)}if(_.isFunction(this.view.setEditableFields)){this.view.setEditableFields()}}},setFieldRequired:function(e,t){t=SUGAR.expressions.Expression.isTruthy(t);var n=this.view.getField(e,this.model);if(n){n.def.required=t;n.render()}},setAssignedUserName:function(e,t){if(this.model.has("assigned_user_name")&&this.model.has("assigned_user_id")){var n=this,i={},a=SUGAR.App.data.createBeanCollection("Users");i.filter={filter:[{user_name:t}]};i.success=function(t){var i=t.first();if(i){n.model.set({assigned_user_name:i.get("full_name"),assigned_user_id:i.get("id")});var a=n.view.getField(e,n.model);if(a&&a.el){SUGAR.forms.FlashField(a.el,null,e)}}};i.error=function(){SUGAR.App.alert.show("server-error",{level:"error",title:SUGAR.App.lang.get("ERR_GENERIC_TITLE"),messages:SUGAR.App.lang.get("ERR_ASSIGNTO_ACTION")})};a.fetch({fields:["full_name"],limit:1,params:i.filter,success:i.success,error:i.error})}},setModel:function(e){this.model=e},setRelatedModel:function(e){this.relatedModel=e},add:function(e,t){return SUGAR.App.math.add(e,t,6,true)},subtract:function(e,t){return SUGAR.App.math.sub(e,t,6,true)},multiply:function(e,t){return SUGAR.App.math.mul(e,t,6,true)},divide:function(e,t){return SUGAR.App.math.div(e,t,6,true)},round:function(e,t){return SUGAR.App.math.round(e,t,true)},getNestedCollectionFromModel:function(e,t){var n;t=t||this.model;var i=_.pluck(t.fieldsOfType("collection"),"name");if(!_.isEmpty(i)){var a=_.chain(i).filter(function(n){return _.contains(t.fields[n].links,e)},this).value();if(_.size(a)===1){var r=_.first(a);if(t.has(r)){n=t.get(r);if(!(n instanceof SUGAR.App.data.beanCollection)){n=undefined}}else{n=r}}}return n},getLinkContext:function(e,t){var n=e.context.getChildContext({link:t});n.prepare();return n}});n.parser=new SUGAR.expressions.ExpressionParser;n.evalVariableExpression=function(e,t){return n.parser.evaluate(e,new n(t))};SUGAR.forms.Dependency=function(e,t,n,i,a){this.actions=t;this.falseActions=n;this.context=a;this.testOnLoad=i;this.trigger=e;e.setContext(this.context);e.setDependency(this);if(i){a.fireOnLoad(this)}};SUGAR.forms.Dependency.fromMeta=function(t,n){var i=t.trigger||"true",a=t.triggerFields||e.ExpressionParser.prototype.getFieldsFromExpression(i),r=t.relatedFields||[],s=t.actions||[],o=t.notActions||[],l=t.onload||false,u=n.model&&_.isEmpty(n.model.get("id")),c=[],d=[];if(_.isEmpty(a)&&!l&&!u)return null;if(_.isEmpty(s)&&_.isEmpty(o))return null;_.each(s,function(e){if(!e.action||!SUGAR.forms[e.action+"Action"])return;var t=true;if(e.action==="SetValue"&&e.params.target){t=SUGAR.App.acl.hasAccess("edit",this.model.module,undefined,e.params.target)}if(t){c.push(new SUGAR.forms[e.action+"Action"](e.params))}},n);_.each(o,function(e){if(!e.action||!SUGAR.forms[e.action+"Action"])return;var t=true;if(e.action==="SetValue"&&e.params.target){t=SUGAR.App.acl.hasAccess("edit",this.model.module,undefined,e.params.target)}if(t){d.push(new SUGAR.forms[e.action+"Action"](e.params))}},n);return new SUGAR.forms.Dependency(new SUGAR.forms.Trigger(a,i,n,r),c,d,l,n)};SUGAR.forms.Dependency.prototype.fireLinkOnlyDependency=function(){if(!this.testOnLoad){return false}var e=true;if(this.context.model.fields){_.each(this.trigger.variables,function(t){e=e&&this.context.model.fields[t]&&this.context.model.fields[t].type=="link"},this)}return e};SUGAR.forms.Dependency.prototype.fire=function(e){if(this.context.view.disposed||!this.context.view.context){return}try{var t=this.context.model;this.lastTriggeredActions=this.lastTriggeredActions||[];if(t.inSync&&!this.testOnLoad){return}var n=this.actions;if(e&&this.falseActions!=null)n=this.falseActions;_.each(this.lastTriggeredActions,function(e){this.context.view.off(null,null,e)},this);if(n instanceof SUGAR.forms.AbstractAction)n=[n];for(var i in n){var a=n[i];if(typeof a.exec=="function"){a.setContext(this.context);a.exec();if(this.testOnLoad&&a.afterRender){this.context.view.on("render",a.exec,a)}}}this.lastTriggeredActions=n}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log("ERROR: "+e)}return}};SUGAR.forms.Dependency.prototype.getRelatedFields=function(){var e=n.parser,t=e.getRelatedFieldsFromFormula(this.trigger.condition);var i=function(n){if(n instanceof SUGAR.forms.AbstractAction){n=[n]}for(var i in n){var a=n[i],r=a.target||undefined;if(typeof a.exec=="function"){for(var s in a){if(typeof a[s]=="string"&&a[s].indexOf("$")>-1){t=$.merge(t,e.getRelatedFieldsFromFormula(a[s],r))}}}}};i(this.actions);i(this.falseActions);return t};SUGAR.forms.AbstractAction=function(e){this.target=e};SUGAR.forms.AbstractAction.prototype.exec=function(){};SUGAR.forms.AbstractAction.prototype.setContext=function(e){this.context=e};SUGAR.forms.AbstractAction.prototype.evalExpression=function(e,t){t=t||this.context;return n.parser.evaluate(e,t).evaluate()};SUGAR.forms.AbstractAction.prototype.canSetValue=function(e){if(e.options&&e.options.revert){return false}if(e.isOnLoad&&!e.model.isNew()){return false}return true};SUGAR.forms.Trigger=function(e,t,n,i){this.variables=e;this.condition=t;this.context=n;this.relatedFields=i||[];this.dependency={}};SUGAR.forms.Trigger.prototype._findRelatedCollection=function(e,t){t=t||this.context.model;var n=this.context.getNestedCollectionFromModel(e,t);if(_.isUndefined(n)){var i=this.context.getLinkContext(this.context.view,e);if(i&&i.has("collection")){n=i.get("collection")}}return n};SUGAR.forms.Trigger.prototype._attachListeners=function(){if(!(this.variables instanceof Array)){this.variables=[this.variables]}for(var e=0;e<this.variables.length;e++){this.context.addListener(this.variables[e],SUGAR.forms.Trigger.fire,this,true)}var t=[this.context.model];if(this.context.useCollection){t=this.context.collection.models;this.context.collection.off("add",null,this);this.context.collection.off("remove",null,this);this.context.collection.on("add",function(e,t,n){this._attachCollectionListeners(e)},this);this.context.collection.on("remove",function(e,t,n){_.each(e._relatedCollections,function(e){e.off(null,null,this)});e.off(null,null,this)},this)}_.each(t,function(e){this._attachCollectionListeners(e)},this)};SUGAR.forms.Trigger.prototype._attachCollectionListeners=function(e,t,n){var i=this.relatedFields,a=[],r,s=false;t=t||false;_.each(this.dependency.getRelatedFields(),function(e){a[e.link]=_.union(a[e.link]||[],[e.relate])});var o=_.bind(function(t,n,a){if(n!==null&&!_.isUndefined(n)){_.find(t.changed,function(e,t){if(_.contains(i,t)&&e===n){r=t;return true}})}else if(a&&a.type=="remove"){this.context.isRemoveEvent=true}if(a&&a.link){this.context.updateRelatedCollectionValues(e,a.link,null,null,t,a.type)}var o=this.context.model;this.context.model=e;this.context.changingField=r;SUGAR.forms.Trigger.fire.call(this,t,null,{fromRelated:true,changingField:r,isRemoveEvent:s});this.context.model=o;delete this.context.isRemoveEvent;delete this.context.changingField},this);for(var l=0;l<this.variables.length;l++){var u=this.variables[l];var c=a[u]||[];var d=this._findRelatedCollection(u,e);if(d instanceof Backbone.Collection){d.off("add",null,this);d.on("add",function(e){o(e,null,{type:"add",link:u})},this);d.off("remove",null,this);d.on("remove",function(e){o(e,null,{type:"remove",link:u})},this);if(!_.isEmpty(c)){var f="change:"+_.unique(c).join(" change:");d.off(f,null,this);d.on(f,o,this)}}else if(_.isString(d)){e.once("change:"+d,function(t,n){this._attachListeners();if(_.isObject(n)&&_.intersection(_.keys(n.changed),i).length>0){SUGAR.forms.Trigger.fire.call(this,e)}},this);return d}}if(t&&_.contains(this.variables,t)){o(n,null,"add")}};SUGAR.forms.Trigger.prototype.setDependency=function(e){this.dependency=e;this._attachListeners()};SUGAR.forms.Trigger.prototype.setContext=function(e){this.context=e};SUGAR.forms.Trigger.fire=function(e,t,i){i=i||{};var a,r,s,o;if(e){var l=i.fromRelated||false;if(!l&&e){s=this.context.model;this.context.setModel(e)}else if(l){o=this.context.relatedModel;this.context.setRelatedModel(e)}}this.context.options=i;try{a=n.parser.evaluate(this.condition,this.context)}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log("ERROR:"+e+"; in Condition: "+this.condition)}}if(!_.isUndefined(a)){r=a.evaluate()}if(r==SUGAR.expressions.Expression.TRUE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(false)}}else if(r==SUGAR.expressions.Expression.FALSE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(true)}}if(!l&&e){this.context.setModel(s)}if(l){this.context.setRelatedModel(s)}};SUGAR.forms.flashInProgress={};SUGAR.forms.markedField={};SUGAR.forms.exclamationMarkTemplate=Handlebars.compile('<span class="warning-tooltip add-on" data-container="body" rel="tooltip" title="{{this}}"><i class="fa fa-warning"></i></span>');SUGAR.forms.FlashField=function(e,t,n){if(typeof e=="undefined"||!n&&!e.id)return;n=n||e.id;if(SUGAR.forms.flashInProgress[n])return;SUGAR.forms.flashInProgress[n]=true;t=t||"#FF8F8F";var i=e.style&&e.style.backgroundColor?e.style.backgroundColor:"#FFFFFF";$(e).css("backgroundColor",i);$(e).animate({backgroundColor:t},200,function(){$(e).animate({backgroundColor:i},200,function(){delete SUGAR.forms.flashInProgress[n]})})};SUGAR.forms.markField=function(e,t,n){if(SUGAR.forms.markedField[e])return;if(!t)return;var i=$(t).parents('[data-fieldname="'+e+'"]');var a=$(t).children();i.addClass("warning");var r=$(SUGAR.forms.exclamationMarkTemplate(n));var s=a.parent().hasClass("input-append");if(!s){a.wrap('<div class="input-append warning">')}a.parent().addClass("warning");a.after(r);SUGAR.forms.markedField[e]=r};SUGAR.forms.unmarkField=function(e,t){if(!SUGAR.forms.markedField[e])return;if(!t)return;var n=$(t).parents('[data-fieldname="'+e+'"]');n.removeClass("warning");SUGAR.forms.markedField[e].remove();SUGAR.forms.markedField[e]=null};e.plugin={onAttach:function(){this.on("init",function(){this._slCtx=this.initSugarLogic();Object.defineProperty(this,"slContext",{get:function(){SUGAR.App.logger.warn("`View.slContext` has been deprecated since 7.9.");return this._slCtx},configurable:true,enumerable:true});this.context.addFields(this._getDepFields())},this)},initSugarLogic:function(e,t,n){e=e||this.model;this._dependencies=t||this.getApplicableDeps();n=n||false;var i=new SUGAR.expressions.SidecarExpressionContext(this,e,this.collection);if(_.isEmpty(this._dependencies)){return i}i.initialize(this._dependencies,n);return i},_getDepFields:function(){var t;var n=e.ExpressionParser.prototype.getFieldsFromExpression;var i=this.getApplicableDeps();_.each(i,function(e){if(e.trigger){t=_.union(t,n(e.trigger))}_.each(e.actions,function(e){_.each(e.params,function(e){if(_.isString(e)){t=_.union(t,n(e))}})})});if(this.model){t=_.filter(t,function(e){return this.model.fields[e]&&this.model.fields[e].type!=="link"},this)}return t},getApplicableDeps:function(){var e=_.extend({},this.meta,this.options.meta),t=SUGAR.App.metadata.getModule(this.context.get("module"),"dependencies"),n=_.contains(this.plugins,"Editable")||this.name=="edit"||this.name=="create"?"edit":"view",i=e.dependencies;if(!_.isEmpty(t)){var a=_.filter(t,function(e){if(_.contains(e.hooks,"all")||_.contains(e.hooks,n)){return true}return false});i=!_.isEmpty(i)?_.union(i,a):a}return i},onDetach:function(){this.off(null,null,this._slCtx);this.model&&this.model.off(null,null,this._slCtx);this.collection&&this.collection.off(null,null,this._slCtx);_.each(this._slCtx.dependencies,function(e){this.context.off("list:editrow:fire",null,e);_.each(e.actions,function(e){this.off(null,null,e)},this)},this)}};if(SUGAR.App&&SUGAR.App.plugins){SUGAR.App.plugins.register("SugarLogic","view",e.plugin)}else if(console.error){console.error("unable to find the plugin manager")}})()},function(e,t,n){e.exports=n(286)}]);